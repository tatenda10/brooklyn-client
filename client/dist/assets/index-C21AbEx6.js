function qL(t,r){for(var a=0;a<r.length;a++){const s=r[a];if(typeof s!="string"&&!Array.isArray(s)){for(const n in s)if(n!=="default"&&!(n in t)){const i=Object.getOwnPropertyDescriptor(s,n);i&&Object.defineProperty(t,n,i.get?i:{enumerable:!0,get:()=>s[n]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function a(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(n){if(n.ep)return;n.ep=!0;const i=a(n);fetch(n.href,i)}})();var Rde=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Eo(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Qb={exports:{}},zh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b4;function HL(){if(b4)return zh;b4=1;var t=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function a(s,n,i){var o=null;if(i!==void 0&&(o=""+i),n.key!==void 0&&(o=""+n.key),"key"in n){i={};for(var d in n)d!=="key"&&(i[d]=n[d])}else i=n;return n=i.ref,{$$typeof:t,type:s,key:o,ref:n!==void 0?n:null,props:i}}return zh.Fragment=r,zh.jsx=a,zh.jsxs=a,zh}var v4;function GL(){return v4||(v4=1,Qb.exports=HL()),Qb.exports}var e=GL(),ev={exports:{}},rr={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j4;function YL(){if(j4)return rr;j4=1;var t=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),n=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),o=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),x=Symbol.iterator;function b(J){return J===null||typeof J!="object"?null:(J=x&&J[x]||J["@@iterator"],typeof J=="function"?J:null)}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,j={};function w(J,be,z){this.props=J,this.context=be,this.refs=j,this.updater=z||p}w.prototype.isReactComponent={},w.prototype.setState=function(J,be){if(typeof J!="object"&&typeof J!="function"&&J!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,J,be,"setState")},w.prototype.forceUpdate=function(J){this.updater.enqueueForceUpdate(this,J,"forceUpdate")};function N(){}N.prototype=w.prototype;function P(J,be,z){this.props=J,this.context=be,this.refs=j,this.updater=z||p}var A=P.prototype=new N;A.constructor=P,v(A,w.prototype),A.isPureReactComponent=!0;var D=Array.isArray,T={H:null,A:null,T:null,S:null,V:null},R=Object.prototype.hasOwnProperty;function E(J,be,z,re,G,Q){return z=Q.ref,{$$typeof:t,type:J,key:be,ref:z!==void 0?z:null,props:Q}}function O(J,be){return E(J.type,be,void 0,void 0,void 0,J.props)}function k(J){return typeof J=="object"&&J!==null&&J.$$typeof===t}function Y(J){var be={"=":"=0",":":"=2"};return"$"+J.replace(/[=:]/g,function(z){return be[z]})}var $=/\/+/g;function M(J,be){return typeof J=="object"&&J!==null&&J.key!=null?Y(""+J.key):be.toString(36)}function F(){}function K(J){switch(J.status){case"fulfilled":return J.value;case"rejected":throw J.reason;default:switch(typeof J.status=="string"?J.then(F,F):(J.status="pending",J.then(function(be){J.status==="pending"&&(J.status="fulfilled",J.value=be)},function(be){J.status==="pending"&&(J.status="rejected",J.reason=be)})),J.status){case"fulfilled":return J.value;case"rejected":throw J.reason}}throw J}function q(J,be,z,re,G){var Q=typeof J;(Q==="undefined"||Q==="boolean")&&(J=null);var ve=!1;if(J===null)ve=!0;else switch(Q){case"bigint":case"string":case"number":ve=!0;break;case"object":switch(J.$$typeof){case t:case r:ve=!0;break;case f:return ve=J._init,q(ve(J._payload),be,z,re,G)}}if(ve)return G=G(J),ve=re===""?"."+M(J,0):re,D(G)?(z="",ve!=null&&(z=ve.replace($,"$&/")+"/"),q(G,be,z,"",function(te){return te})):G!=null&&(k(G)&&(G=O(G,z+(G.key==null||J&&J.key===G.key?"":(""+G.key).replace($,"$&/")+"/")+ve)),be.push(G)),1;ve=0;var ye=re===""?".":re+":";if(D(J))for(var ne=0;ne<J.length;ne++)re=J[ne],Q=ye+M(re,ne),ve+=q(re,be,z,Q,G);else if(ne=b(J),typeof ne=="function")for(J=ne.call(J),ne=0;!(re=J.next()).done;)re=re.value,Q=ye+M(re,ne++),ve+=q(re,be,z,Q,G);else if(Q==="object"){if(typeof J.then=="function")return q(K(J),be,z,re,G);throw be=String(J),Error("Objects are not valid as a React child (found: "+(be==="[object Object]"?"object with keys {"+Object.keys(J).join(", ")+"}":be)+"). If you meant to render a collection of children, use an array instead.")}return ve}function U(J,be,z){if(J==null)return J;var re=[],G=0;return q(J,re,"","",function(Q){return be.call(z,Q,G++)}),re}function V(J){if(J._status===-1){var be=J._result;be=be(),be.then(function(z){(J._status===0||J._status===-1)&&(J._status=1,J._result=z)},function(z){(J._status===0||J._status===-1)&&(J._status=2,J._result=z)}),J._status===-1&&(J._status=0,J._result=be)}if(J._status===1)return J._result.default;throw J._result}var Z=typeof reportError=="function"?reportError:function(J){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var be=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof J=="object"&&J!==null&&typeof J.message=="string"?String(J.message):String(J),error:J});if(!window.dispatchEvent(be))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",J);return}console.error(J)};function X(){}return rr.Children={map:U,forEach:function(J,be,z){U(J,function(){be.apply(this,arguments)},z)},count:function(J){var be=0;return U(J,function(){be++}),be},toArray:function(J){return U(J,function(be){return be})||[]},only:function(J){if(!k(J))throw Error("React.Children.only expected to receive a single React element child.");return J}},rr.Component=w,rr.Fragment=a,rr.Profiler=n,rr.PureComponent=P,rr.StrictMode=s,rr.Suspense=u,rr.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=T,rr.__COMPILER_RUNTIME={__proto__:null,c:function(J){return T.H.useMemoCache(J)}},rr.cache=function(J){return function(){return J.apply(null,arguments)}},rr.cloneElement=function(J,be,z){if(J==null)throw Error("The argument must be a React element, but you passed "+J+".");var re=v({},J.props),G=J.key,Q=void 0;if(be!=null)for(ve in be.ref!==void 0&&(Q=void 0),be.key!==void 0&&(G=""+be.key),be)!R.call(be,ve)||ve==="key"||ve==="__self"||ve==="__source"||ve==="ref"&&be.ref===void 0||(re[ve]=be[ve]);var ve=arguments.length-2;if(ve===1)re.children=z;else if(1<ve){for(var ye=Array(ve),ne=0;ne<ve;ne++)ye[ne]=arguments[ne+2];re.children=ye}return E(J.type,G,void 0,void 0,Q,re)},rr.createContext=function(J){return J={$$typeof:o,_currentValue:J,_currentValue2:J,_threadCount:0,Provider:null,Consumer:null},J.Provider=J,J.Consumer={$$typeof:i,_context:J},J},rr.createElement=function(J,be,z){var re,G={},Q=null;if(be!=null)for(re in be.key!==void 0&&(Q=""+be.key),be)R.call(be,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(G[re]=be[re]);var ve=arguments.length-2;if(ve===1)G.children=z;else if(1<ve){for(var ye=Array(ve),ne=0;ne<ve;ne++)ye[ne]=arguments[ne+2];G.children=ye}if(J&&J.defaultProps)for(re in ve=J.defaultProps,ve)G[re]===void 0&&(G[re]=ve[re]);return E(J,Q,void 0,void 0,null,G)},rr.createRef=function(){return{current:null}},rr.forwardRef=function(J){return{$$typeof:d,render:J}},rr.isValidElement=k,rr.lazy=function(J){return{$$typeof:f,_payload:{_status:-1,_result:J},_init:V}},rr.memo=function(J,be){return{$$typeof:m,type:J,compare:be===void 0?null:be}},rr.startTransition=function(J){var be=T.T,z={};T.T=z;try{var re=J(),G=T.S;G!==null&&G(z,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(X,Z)}catch(Q){Z(Q)}finally{T.T=be}},rr.unstable_useCacheRefresh=function(){return T.H.useCacheRefresh()},rr.use=function(J){return T.H.use(J)},rr.useActionState=function(J,be,z){return T.H.useActionState(J,be,z)},rr.useCallback=function(J,be){return T.H.useCallback(J,be)},rr.useContext=function(J){return T.H.useContext(J)},rr.useDebugValue=function(){},rr.useDeferredValue=function(J,be){return T.H.useDeferredValue(J,be)},rr.useEffect=function(J,be,z){var re=T.H;if(typeof z=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return re.useEffect(J,be)},rr.useId=function(){return T.H.useId()},rr.useImperativeHandle=function(J,be,z){return T.H.useImperativeHandle(J,be,z)},rr.useInsertionEffect=function(J,be){return T.H.useInsertionEffect(J,be)},rr.useLayoutEffect=function(J,be){return T.H.useLayoutEffect(J,be)},rr.useMemo=function(J,be){return T.H.useMemo(J,be)},rr.useOptimistic=function(J,be){return T.H.useOptimistic(J,be)},rr.useReducer=function(J,be,z){return T.H.useReducer(J,be,z)},rr.useRef=function(J){return T.H.useRef(J)},rr.useState=function(J){return T.H.useState(J)},rr.useSyncExternalStore=function(J,be,z){return T.H.useSyncExternalStore(J,be,z)},rr.useTransition=function(){return T.H.useTransition()},rr.version="19.1.1",rr}var N4;function Tf(){return N4||(N4=1,ev.exports=YL()),ev.exports}var g=Tf();const cf=Eo(g),ak=qL({__proto__:null,default:cf},[g]);var tv={exports:{}},Uh={},rv={exports:{}},av={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w4;function VL(){return w4||(w4=1,function(t){function r(U,V){var Z=U.length;U.push(V);e:for(;0<Z;){var X=Z-1>>>1,J=U[X];if(0<n(J,V))U[X]=V,U[Z]=J,Z=X;else break e}}function a(U){return U.length===0?null:U[0]}function s(U){if(U.length===0)return null;var V=U[0],Z=U.pop();if(Z!==V){U[0]=Z;e:for(var X=0,J=U.length,be=J>>>1;X<be;){var z=2*(X+1)-1,re=U[z],G=z+1,Q=U[G];if(0>n(re,Z))G<J&&0>n(Q,re)?(U[X]=Q,U[G]=Z,X=G):(U[X]=re,U[z]=Z,X=z);else if(G<J&&0>n(Q,Z))U[X]=Q,U[G]=Z,X=G;else break e}}return V}function n(U,V){var Z=U.sortIndex-V.sortIndex;return Z!==0?Z:U.id-V.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,d=o.now();t.unstable_now=function(){return o.now()-d}}var u=[],m=[],f=1,x=null,b=3,p=!1,v=!1,j=!1,w=!1,N=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function D(U){for(var V=a(m);V!==null;){if(V.callback===null)s(m);else if(V.startTime<=U)s(m),V.sortIndex=V.expirationTime,r(u,V);else break;V=a(m)}}function T(U){if(j=!1,D(U),!v)if(a(u)!==null)v=!0,R||(R=!0,M());else{var V=a(m);V!==null&&q(T,V.startTime-U)}}var R=!1,E=-1,O=5,k=-1;function Y(){return w?!0:!(t.unstable_now()-k<O)}function $(){if(w=!1,R){var U=t.unstable_now();k=U;var V=!0;try{e:{v=!1,j&&(j=!1,P(E),E=-1),p=!0;var Z=b;try{t:{for(D(U),x=a(u);x!==null&&!(x.expirationTime>U&&Y());){var X=x.callback;if(typeof X=="function"){x.callback=null,b=x.priorityLevel;var J=X(x.expirationTime<=U);if(U=t.unstable_now(),typeof J=="function"){x.callback=J,D(U),V=!0;break t}x===a(u)&&s(u),D(U)}else s(u);x=a(u)}if(x!==null)V=!0;else{var be=a(m);be!==null&&q(T,be.startTime-U),V=!1}}break e}finally{x=null,b=Z,p=!1}V=void 0}}finally{V?M():R=!1}}}var M;if(typeof A=="function")M=function(){A($)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,K=F.port2;F.port1.onmessage=$,M=function(){K.postMessage(null)}}else M=function(){N($,0)};function q(U,V){E=N(function(){U(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function(U){switch(b){case 1:case 2:case 3:var V=3;break;default:V=b}var Z=b;b=V;try{return U()}finally{b=Z}},t.unstable_requestPaint=function(){w=!0},t.unstable_runWithPriority=function(U,V){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var Z=b;b=U;try{return V()}finally{b=Z}},t.unstable_scheduleCallback=function(U,V,Z){var X=t.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?X+Z:X):Z=X,U){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=Z+J,U={id:f++,callback:V,priorityLevel:U,startTime:Z,expirationTime:J,sortIndex:-1},Z>X?(U.sortIndex=Z,r(m,U),a(u)===null&&U===a(m)&&(j?(P(E),E=-1):j=!0,q(T,Z-X))):(U.sortIndex=J,r(u,U),v||p||(v=!0,R||(R=!0,M()))),U},t.unstable_shouldYield=Y,t.unstable_wrapCallback=function(U){var V=b;return function(){var Z=b;b=V;try{return U.apply(this,arguments)}finally{b=Z}}}}(av)),av}var S4;function KL(){return S4||(S4=1,rv.exports=VL()),rv.exports}var sv={exports:{}},on={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _4;function WL(){if(_4)return on;_4=1;var t=Tf();function r(u){var m="https://react.dev/errors/"+u;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)m+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+u+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var s={d:{f:a,r:function(){throw Error(r(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},n=Symbol.for("react.portal");function i(u,m,f){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:n,key:x==null?null:""+x,children:u,containerInfo:m,implementation:f}}var o=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(u,m){if(u==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return on.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,on.createPortal=function(u,m){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(r(299));return i(u,m,null,f)},on.flushSync=function(u){var m=o.T,f=s.p;try{if(o.T=null,s.p=2,u)return u()}finally{o.T=m,s.p=f,s.d.f()}},on.preconnect=function(u,m){typeof u=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,s.d.C(u,m))},on.prefetchDNS=function(u){typeof u=="string"&&s.d.D(u)},on.preinit=function(u,m){if(typeof u=="string"&&m&&typeof m.as=="string"){var f=m.as,x=d(f,m.crossOrigin),b=typeof m.integrity=="string"?m.integrity:void 0,p=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;f==="style"?s.d.S(u,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:x,integrity:b,fetchPriority:p}):f==="script"&&s.d.X(u,{crossOrigin:x,integrity:b,fetchPriority:p,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},on.preinitModule=function(u,m){if(typeof u=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var f=d(m.as,m.crossOrigin);s.d.M(u,{crossOrigin:f,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&s.d.M(u)},on.preload=function(u,m){if(typeof u=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var f=m.as,x=d(f,m.crossOrigin);s.d.L(u,f,{crossOrigin:x,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},on.preloadModule=function(u,m){if(typeof u=="string")if(m){var f=d(m.as,m.crossOrigin);s.d.m(u,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:f,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else s.d.m(u)},on.requestFormReset=function(u){s.d.r(u)},on.unstable_batchedUpdates=function(u,m){return u(m)},on.useFormState=function(u,m,f){return o.H.useFormState(u,m,f)},on.useFormStatus=function(){return o.H.useHostTransitionStatus()},on.version="19.1.1",on}var A4;function sk(){if(A4)return sv.exports;A4=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(r){console.error(r)}}return t(),sv.exports=WL(),sv.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k4;function XL(){if(k4)return Uh;k4=1;var t=KL(),r=Tf(),a=sk();function s(l){var c="https://react.dev/errors/"+l;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)c+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+l+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function i(l){var c=l,h=l;if(l.alternate)for(;c.return;)c=c.return;else{l=c;do c=l,(c.flags&4098)!==0&&(h=c.return),l=c.return;while(l)}return c.tag===3?h:null}function o(l){if(l.tag===13){var c=l.memoizedState;if(c===null&&(l=l.alternate,l!==null&&(c=l.memoizedState)),c!==null)return c.dehydrated}return null}function d(l){if(i(l)!==l)throw Error(s(188))}function u(l){var c=l.alternate;if(!c){if(c=i(l),c===null)throw Error(s(188));return c!==l?null:l}for(var h=l,y=c;;){var _=h.return;if(_===null)break;var L=_.alternate;if(L===null){if(y=_.return,y!==null){h=y;continue}break}if(_.child===L.child){for(L=_.child;L;){if(L===h)return d(_),l;if(L===y)return d(_),c;L=L.sibling}throw Error(s(188))}if(h.return!==y.return)h=_,y=L;else{for(var ee=!1,fe=_.child;fe;){if(fe===h){ee=!0,h=_,y=L;break}if(fe===y){ee=!0,y=_,h=L;break}fe=fe.sibling}if(!ee){for(fe=L.child;fe;){if(fe===h){ee=!0,h=L,y=_;break}if(fe===y){ee=!0,y=L,h=_;break}fe=fe.sibling}if(!ee)throw Error(s(189))}}if(h.alternate!==y)throw Error(s(190))}if(h.tag!==3)throw Error(s(188));return h.stateNode.current===h?l:c}function m(l){var c=l.tag;if(c===5||c===26||c===27||c===6)return l;for(l=l.child;l!==null;){if(c=m(l),c!==null)return c;l=l.sibling}return null}var f=Object.assign,x=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),p=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),P=Symbol.for("react.consumer"),A=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),E=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),Y=Symbol.for("react.memo_cache_sentinel"),$=Symbol.iterator;function M(l){return l===null||typeof l!="object"?null:(l=$&&l[$]||l["@@iterator"],typeof l=="function"?l:null)}var F=Symbol.for("react.client.reference");function K(l){if(l==null)return null;if(typeof l=="function")return l.$$typeof===F?null:l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case v:return"Fragment";case w:return"Profiler";case j:return"StrictMode";case T:return"Suspense";case R:return"SuspenseList";case k:return"Activity"}if(typeof l=="object")switch(l.$$typeof){case p:return"Portal";case A:return(l.displayName||"Context")+".Provider";case P:return(l._context.displayName||"Context")+".Consumer";case D:var c=l.render;return l=l.displayName,l||(l=c.displayName||c.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case E:return c=l.displayName||null,c!==null?c:K(l.type)||"Memo";case O:c=l._payload,l=l._init;try{return K(l(c))}catch{}}return null}var q=Array.isArray,U=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z={pending:!1,data:null,method:null,action:null},X=[],J=-1;function be(l){return{current:l}}function z(l){0>J||(l.current=X[J],X[J]=null,J--)}function re(l,c){J++,X[J]=l.current,l.current=c}var G=be(null),Q=be(null),ve=be(null),ye=be(null);function ne(l,c){switch(re(ve,c),re(Q,l),re(G,null),c.nodeType){case 9:case 11:l=(l=c.documentElement)&&(l=l.namespaceURI)?V3(l):0;break;default:if(l=c.tagName,c=c.namespaceURI)c=V3(c),l=K3(c,l);else switch(l){case"svg":l=1;break;case"math":l=2;break;default:l=0}}z(G),re(G,l)}function te(){z(G),z(Q),z(ve)}function Ae(l){l.memoizedState!==null&&re(ye,l);var c=G.current,h=K3(c,l.type);c!==h&&(re(Q,l),re(G,h))}function we(l){Q.current===l&&(z(G),z(Q)),ye.current===l&&(z(ye),Rh._currentValue=Z)}var le=Object.prototype.hasOwnProperty,xe=t.unstable_scheduleCallback,oe=t.unstable_cancelCallback,me=t.unstable_shouldYield,tt=t.unstable_requestPaint,rt=t.unstable_now,it=t.unstable_getCurrentPriorityLevel,pe=t.unstable_ImmediatePriority,Ie=t.unstable_UserBlockingPriority,Qe=t.unstable_NormalPriority,xt=t.unstable_LowPriority,dt=t.unstable_IdlePriority,xr=t.log,Xt=t.unstable_setDisableYieldValue,Rt=null,er=null;function Pt(l){if(typeof xr=="function"&&Xt(l),er&&typeof er.setStrictMode=="function")try{er.setStrictMode(Rt,l)}catch{}}var lt=Math.clz32?Math.clz32:Yr,$t=Math.log,wt=Math.LN2;function Yr(l){return l>>>=0,l===0?32:31-($t(l)/wt|0)|0}var mr=256,yt=4194304;function Tt(l){var c=l&42;if(c!==0)return c;switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return l&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return l}}function Er(l,c,h){var y=l.pendingLanes;if(y===0)return 0;var _=0,L=l.suspendedLanes,ee=l.pingedLanes;l=l.warmLanes;var fe=y&134217727;return fe!==0?(y=fe&~L,y!==0?_=Tt(y):(ee&=fe,ee!==0?_=Tt(ee):h||(h=fe&~l,h!==0&&(_=Tt(h))))):(fe=y&~L,fe!==0?_=Tt(fe):ee!==0?_=Tt(ee):h||(h=y&~l,h!==0&&(_=Tt(h)))),_===0?0:c!==0&&c!==_&&(c&L)===0&&(L=_&-_,h=c&-c,L>=h||L===32&&(h&4194048)!==0)?c:_}function At(l,c){return(l.pendingLanes&~(l.suspendedLanes&~l.pingedLanes)&c)===0}function or(l,c){switch(l){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Kt(){var l=mr;return mr<<=1,(mr&4194048)===0&&(mr=256),l}function pa(){var l=yt;return yt<<=1,(yt&62914560)===0&&(yt=4194304),l}function Ea(l){for(var c=[],h=0;31>h;h++)c.push(l);return c}function Sr(l,c){l.pendingLanes|=c,c!==268435456&&(l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0)}function Ut(l,c,h,y,_,L){var ee=l.pendingLanes;l.pendingLanes=h,l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0,l.expiredLanes&=h,l.entangledLanes&=h,l.errorRecoveryDisabledLanes&=h,l.shellSuspendCounter=0;var fe=l.entanglements,_e=l.expirationTimes,$e=l.hiddenUpdates;for(h=ee&~h;0<h;){var Ve=31-lt(h),Xe=1<<Ve;fe[Ve]=0,_e[Ve]=-1;var Fe=$e[Ve];if(Fe!==null)for($e[Ve]=null,Ve=0;Ve<Fe.length;Ve++){var Be=Fe[Ve];Be!==null&&(Be.lane&=-536870913)}h&=~Xe}y!==0&&_r(l,y,0),L!==0&&_===0&&l.tag!==0&&(l.suspendedLanes|=L&~(ee&~c))}function _r(l,c,h){l.pendingLanes|=c,l.suspendedLanes&=~c;var y=31-lt(c);l.entangledLanes|=c,l.entanglements[y]=l.entanglements[y]|1073741824|h&4194090}function Kl(l,c){var h=l.entangledLanes|=c;for(l=l.entanglements;h;){var y=31-lt(h),_=1<<y;_&c|l[y]&c&&(l[y]|=c),h&=~_}}function ss(l){switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=128;break;case 268435456:l=134217728;break;default:l=0}return l}function ri(l){return l&=-l,2<l?8<l?(l&134217727)!==0?32:268435456:8:2}function ai(){var l=V.p;return l!==0?l:(l=window.event,l===void 0?32:f4(l.type))}function Et(l,c){var h=V.p;try{return V.p=l,c()}finally{V.p=h}}var _s=Math.random().toString(36).slice(2),sa="__reactFiber$"+_s,Xr="__reactProps$"+_s,ms="__reactContainer$"+_s,na="__reactEvents$"+_s,ns="__reactListeners$"+_s,fs="__reactHandles$"+_s,Wl="__reactResources$"+_s,Ln="__reactMarker$"+_s;function bn(l){delete l[sa],delete l[Xr],delete l[na],delete l[ns],delete l[fs]}function Us(l){var c=l[sa];if(c)return c;for(var h=l.parentNode;h;){if(c=h[ms]||h[sa]){if(h=c.alternate,c.child!==null||h!==null&&h.child!==null)for(l=Z3(l);l!==null;){if(h=l[sa])return h;l=Z3(l)}return c}l=h,h=l.parentNode}return null}function As(l){if(l=l[sa]||l[ms]){var c=l.tag;if(c===5||c===6||c===13||c===26||c===27||c===3)return l}return null}function qs(l){var c=l.tag;if(c===5||c===26||c===27||c===6)return l.stateNode;throw Error(s(33))}function hs(l){var c=l[Wl];return c||(c=l[Wl]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function ia(l){l[Ln]=!0}var si=new Set,Xl={};function Mn(l,c){ni(l,c),ni(l+"Capture",c)}function ni(l,c){for(Xl[l]=c,l=0;l<c.length;l++)si.add(c[l])}var Oc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),mm={},Dc={};function fm(l){return le.call(Dc,l)?!0:le.call(mm,l)?!1:Oc.test(l)?Dc[l]=!0:(mm[l]=!0,!1)}function Do(l,c,h){if(fm(c))if(h===null)l.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":l.removeAttribute(c);return;case"boolean":var y=c.toLowerCase().slice(0,5);if(y!=="data-"&&y!=="aria-"){l.removeAttribute(c);return}}l.setAttribute(c,""+h)}}function Hs(l,c,h){if(h===null)l.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(c);return}l.setAttribute(c,""+h)}}function vn(l,c,h,y){if(y===null)l.removeAttribute(h);else{switch(typeof y){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(h);return}l.setAttributeNS(c,h,""+y)}}var Lc,Mc;function fl(l){if(Lc===void 0)try{throw Error()}catch(h){var c=h.stack.trim().match(/\n( *(at )?)/);Lc=c&&c[1]||"",Mc=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Lc+l+Mc}var Rc=!1;function $c(l,c){if(!l||Rc)return"";Rc=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var y={DetermineComponentFrameRoot:function(){try{if(c){var Xe=function(){throw Error()};if(Object.defineProperty(Xe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Xe,[])}catch(Be){var Fe=Be}Reflect.construct(l,[],Xe)}else{try{Xe.call()}catch(Be){Fe=Be}l.call(Xe.prototype)}}else{try{throw Error()}catch(Be){Fe=Be}(Xe=l())&&typeof Xe.catch=="function"&&Xe.catch(function(){})}}catch(Be){if(Be&&Fe&&typeof Be.stack=="string")return[Be.stack,Fe.stack]}return[null,null]}};y.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var _=Object.getOwnPropertyDescriptor(y.DetermineComponentFrameRoot,"name");_&&_.configurable&&Object.defineProperty(y.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var L=y.DetermineComponentFrameRoot(),ee=L[0],fe=L[1];if(ee&&fe){var _e=ee.split(`
`),$e=fe.split(`
`);for(_=y=0;y<_e.length&&!_e[y].includes("DetermineComponentFrameRoot");)y++;for(;_<$e.length&&!$e[_].includes("DetermineComponentFrameRoot");)_++;if(y===_e.length||_===$e.length)for(y=_e.length-1,_=$e.length-1;1<=y&&0<=_&&_e[y]!==$e[_];)_--;for(;1<=y&&0<=_;y--,_--)if(_e[y]!==$e[_]){if(y!==1||_!==1)do if(y--,_--,0>_||_e[y]!==$e[_]){var Ve=`
`+_e[y].replace(" at new "," at ");return l.displayName&&Ve.includes("<anonymous>")&&(Ve=Ve.replace("<anonymous>",l.displayName)),Ve}while(1<=y&&0<=_);break}}}finally{Rc=!1,Error.prepareStackTrace=h}return(h=l?l.displayName||l.name:"")?fl(h):""}function Ic(l){switch(l.tag){case 26:case 27:case 5:return fl(l.type);case 16:return fl("Lazy");case 13:return fl("Suspense");case 19:return fl("SuspenseList");case 0:case 15:return $c(l.type,!1);case 11:return $c(l.type.render,!1);case 1:return $c(l.type,!0);case 31:return fl("Activity");default:return""}}function hm(l){try{var c="";do c+=Ic(l),l=l.return;while(l);return c}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}function Ar(l){switch(typeof l){case"bigint":case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function Wd(l){var c=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function xm(l){var c=Wd(l)?"checked":"value",h=Object.getOwnPropertyDescriptor(l.constructor.prototype,c),y=""+l[c];if(!l.hasOwnProperty(c)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var _=h.get,L=h.set;return Object.defineProperty(l,c,{configurable:!0,get:function(){return _.call(this)},set:function(ee){y=""+ee,L.call(this,ee)}}),Object.defineProperty(l,c,{enumerable:h.enumerable}),{getValue:function(){return y},setValue:function(ee){y=""+ee},stopTracking:function(){l._valueTracker=null,delete l[c]}}}}function Rn(l){l._valueTracker||(l._valueTracker=xm(l))}function Jl(l){if(!l)return!1;var c=l._valueTracker;if(!c)return!0;var h=c.getValue(),y="";return l&&(y=Wd(l)?l.checked?"true":"false":l.value),l=y,l!==h?(c.setValue(l),!0):!1}function ln(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}var Lo=/[\n"\\]/g;function vr(l){return l.replace(Lo,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function Mo(l,c,h,y,_,L,ee,fe){l.name="",ee!=null&&typeof ee!="function"&&typeof ee!="symbol"&&typeof ee!="boolean"?l.type=ee:l.removeAttribute("type"),c!=null?ee==="number"?(c===0&&l.value===""||l.value!=c)&&(l.value=""+Ar(c)):l.value!==""+Ar(c)&&(l.value=""+Ar(c)):ee!=="submit"&&ee!=="reset"||l.removeAttribute("value"),c!=null?Xd(l,ee,Ar(c)):h!=null?Xd(l,ee,Ar(h)):y!=null&&l.removeAttribute("value"),_==null&&L!=null&&(l.defaultChecked=!!L),_!=null&&(l.checked=_&&typeof _!="function"&&typeof _!="symbol"),fe!=null&&typeof fe!="function"&&typeof fe!="symbol"&&typeof fe!="boolean"?l.name=""+Ar(fe):l.removeAttribute("name")}function pm(l,c,h,y,_,L,ee,fe){if(L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"&&(l.type=L),c!=null||h!=null){if(!(L!=="submit"&&L!=="reset"||c!=null))return;h=h!=null?""+Ar(h):"",c=c!=null?""+Ar(c):h,fe||c===l.value||(l.value=c),l.defaultValue=c}y=y??_,y=typeof y!="function"&&typeof y!="symbol"&&!!y,l.checked=fe?l.checked:!!y,l.defaultChecked=!!y,ee!=null&&typeof ee!="function"&&typeof ee!="symbol"&&typeof ee!="boolean"&&(l.name=ee)}function Xd(l,c,h){c==="number"&&ln(l.ownerDocument)===l||l.defaultValue===""+h||(l.defaultValue=""+h)}function Zl(l,c,h,y){if(l=l.options,c){c={};for(var _=0;_<h.length;_++)c["$"+h[_]]=!0;for(h=0;h<l.length;h++)_=c.hasOwnProperty("$"+l[h].value),l[h].selected!==_&&(l[h].selected=_),_&&y&&(l[h].defaultSelected=!0)}else{for(h=""+Ar(h),c=null,_=0;_<l.length;_++){if(l[_].value===h){l[_].selected=!0,y&&(l[_].defaultSelected=!0);return}c!==null||l[_].disabled||(c=l[_])}c!==null&&(c.selected=!0)}}function ii(l,c,h){if(c!=null&&(c=""+Ar(c),c!==l.value&&(l.value=c),h==null)){l.defaultValue!==c&&(l.defaultValue=c);return}l.defaultValue=h!=null?""+Ar(h):""}function Jd(l,c,h,y){if(c==null){if(y!=null){if(h!=null)throw Error(s(92));if(q(y)){if(1<y.length)throw Error(s(93));y=y[0]}h=y}h==null&&(h=""),c=h}h=Ar(c),l.defaultValue=h,y=l.textContent,y===h&&y!==""&&y!==null&&(l.value=y)}function hl(l,c){if(c){var h=l.firstChild;if(h&&h===l.lastChild&&h.nodeType===3){h.nodeValue=c;return}}l.textContent=c}var Ql=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fc(l,c,h){var y=c.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?y?l.setProperty(c,""):c==="float"?l.cssFloat="":l[c]="":y?l.setProperty(c,h):typeof h!="number"||h===0||Ql.has(c)?c==="float"?l.cssFloat=h:l[c]=(""+h).trim():l[c]=h+"px"}function gm(l,c,h){if(c!=null&&typeof c!="object")throw Error(s(62));if(l=l.style,h!=null){for(var y in h)!h.hasOwnProperty(y)||c!=null&&c.hasOwnProperty(y)||(y.indexOf("--")===0?l.setProperty(y,""):y==="float"?l.cssFloat="":l[y]="");for(var _ in c)y=c[_],c.hasOwnProperty(_)&&h[_]!==y&&Fc(l,_,y)}else for(var L in c)c.hasOwnProperty(L)&&Fc(l,L,c[L])}function Zd(l){if(l.indexOf("-")===-1)return!1;switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Qd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Oi(l){return Qd.test(""+l)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":l}var Di=null;function eu(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var $n=null,Li=null;function Ft(l){var c=As(l);if(c&&(l=c.stateNode)){var h=l[Xr]||null;e:switch(l=c.stateNode,c.type){case"input":if(Mo(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),c=h.name,h.type==="radio"&&c!=null){for(h=l;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+vr(""+c)+'"][type="radio"]'),c=0;c<h.length;c++){var y=h[c];if(y!==l&&y.form===l.form){var _=y[Xr]||null;if(!_)throw Error(s(90));Mo(y,_.value,_.defaultValue,_.defaultValue,_.checked,_.defaultChecked,_.type,_.name)}}for(c=0;c<h.length;c++)y=h[c],y.form===l.form&&Jl(y)}break e;case"textarea":ii(l,h.value,h.defaultValue);break e;case"select":c=h.value,c!=null&&Zl(l,!!h.multiple,c,!1)}}}var tu=!1;function ym(l,c,h){if(tu)return l(c,h);tu=!0;try{var y=l(c);return y}finally{if(tu=!1,($n!==null||Li!==null)&&(F0(),$n&&(c=$n,l=Li,Li=$n=null,Ft(c),l)))for(c=0;c<l.length;c++)Ft(l[c])}}function Ro(l,c){var h=l.stateNode;if(h===null)return null;var y=h[Xr]||null;if(y===null)return null;h=y[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(l=l.type,y=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!y;break e;default:l=!1}if(l)return null;if(h&&typeof h!="function")throw Error(s(231,c,typeof h));return h}var li=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),oi=!1;if(li)try{var jn={};Object.defineProperty(jn,"passive",{get:function(){oi=!0}}),window.addEventListener("test",jn,jn),window.removeEventListener("test",jn,jn)}catch{oi=!1}var Mi=null,ru=null,xl=null;function Bc(){if(xl)return xl;var l,c=ru,h=c.length,y,_="value"in Mi?Mi.value:Mi.textContent,L=_.length;for(l=0;l<h&&c[l]===_[l];l++);var ee=h-l;for(y=1;y<=ee&&c[h-y]===_[L-y];y++);return xl=_.slice(l,1<y?1-y:void 0)}function Ri(l){var c=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&c===13&&(l=13)):l=c,l===10&&(l=13),32<=l||l===13?l:0}function pl(){return!0}function $o(){return!1}function ks(l){function c(h,y,_,L,ee){this._reactName=h,this._targetInst=_,this.type=y,this.nativeEvent=L,this.target=ee,this.currentTarget=null;for(var fe in l)l.hasOwnProperty(fe)&&(h=l[fe],this[fe]=h?h(L):L[fe]);return this.isDefaultPrevented=(L.defaultPrevented!=null?L.defaultPrevented:L.returnValue===!1)?pl:$o,this.isPropagationStopped=$o,this}return f(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=pl)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=pl)},persist:function(){},isPersistent:pl}),c}var ci={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},eo=ks(ci),di=f({},ci,{view:0,detail:0}),Io=ks(di),Fo,to,gl,$i=f({},di,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pr,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==gl&&(gl&&l.type==="mousemove"?(Fo=l.screenX-gl.screenX,to=l.screenY-gl.screenY):to=Fo=0,gl=l),Fo)},movementY:function(l){return"movementY"in l?l.movementY:to}}),zc=ks($i),au=f({},$i,{dataTransfer:0}),Nn=ks(au),Ii=f({},di,{relatedTarget:0}),B=ks(Ii),se=f({},ci,{animationName:0,elapsedTime:0,pseudoElement:0}),Se=ks(se),ke=f({},ci,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),Oe=ks(ke),Ye=f({},ci,{data:0}),Je=ks(Ye),ft={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},It={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jt(l){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(l):(l=It[l])?!!c[l]:!1}function pr(){return Jt}var ca=f({},di,{key:function(l){if(l.key){var c=ft[l.key]||l.key;if(c!=="Unidentified")return c}return l.type==="keypress"?(l=Ri(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?vt[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pr,charCode:function(l){return l.type==="keypress"?Ri(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?Ri(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),Ra=ks(ca),Lr=f({},$i,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$a=ks(Lr),Ia=f({},di,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pr}),xs=ks(Ia),yl=f({},ci,{propertyName:0,elapsedTime:0,pseudoElement:0}),ro=ks(yl),Xf=f({},$i,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),bm=ks(Xf),Bo=f({},ci,{newState:0,oldState:0}),ui=ks(Bo),su=[9,13,27,32],ao=li&&"CompositionEvent"in window,In=null;li&&"documentMode"in document&&(In=document.documentMode);var is=li&&"TextEvent"in window&&!In,Fi=li&&(!ao||In&&8<In&&11>=In),Bi=" ",zo=!1;function Uc(l,c){switch(l){case"keyup":return su.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Cs(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var bl=!1;function qc(l,c){switch(l){case"compositionend":return Cs(c);case"keypress":return c.which!==32?null:(zo=!0,Bi);case"textInput":return l=c.data,l===Bi&&zo?null:l;default:return null}}function vm(l,c){if(bl)return l==="compositionend"||!ao&&Uc(l,c)?(l=Bc(),xl=ru=Mi=null,bl=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return Fi&&c.locale!=="ko"?null:c.data;default:return null}}var qa={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wn(l){var c=l&&l.nodeName&&l.nodeName.toLowerCase();return c==="input"?!!qa[l.type]:c==="textarea"}function Hc(l,c,h,y){$n?Li?Li.push(y):Li=[y]:$n=y,c=G0(c,"onChange"),0<c.length&&(h=new eo("onChange","change",null,h,y),l.push({event:h,listeners:c}))}var vl=null,Fn=null;function Gc(l){U3(l,0)}function ps(l){var c=qs(l);if(Jl(c))return l}function Gs(l,c){if(l==="change")return c}var so=!1;if(li){var Bn;if(li){var zi="oninput"in document;if(!zi){var Yc=document.createElement("div");Yc.setAttribute("oninput","return;"),zi=typeof Yc.oninput=="function"}Bn=zi}else Bn=!1;so=Bn&&(!document.documentMode||9<document.documentMode)}function jl(){vl&&(vl.detachEvent("onpropertychange",ga),Fn=vl=null)}function ga(l){if(l.propertyName==="value"&&ps(Fn)){var c=[];Hc(c,Fn,l,eu(l)),ym(Gc,c)}}function Jf(l,c,h){l==="focusin"?(jl(),vl=c,Fn=h,vl.attachEvent("onpropertychange",ga)):l==="focusout"&&jl()}function Ui(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return ps(Fn)}function qi(l,c){if(l==="click")return ps(c)}function Vc(l,c){if(l==="input"||l==="change")return ps(c)}function nu(l,c){return l===c&&(l!==0||1/l===1/c)||l!==l&&c!==c}var ls=typeof Object.is=="function"?Object.is:nu;function Hi(l,c){if(ls(l,c))return!0;if(typeof l!="object"||l===null||typeof c!="object"||c===null)return!1;var h=Object.keys(l),y=Object.keys(c);if(h.length!==y.length)return!1;for(y=0;y<h.length;y++){var _=h[y];if(!le.call(c,_)||!ls(l[_],c[_]))return!1}return!0}function no(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function io(l,c){var h=no(l);l=0;for(var y;h;){if(h.nodeType===3){if(y=l+h.textContent.length,l<=c&&y>=c)return{node:h,offset:c-l};l=y}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=no(h)}}function Gi(l,c){return l&&c?l===c?!0:l&&l.nodeType===3?!1:c&&c.nodeType===3?Gi(l,c.parentNode):"contains"in l?l.contains(c):l.compareDocumentPosition?!!(l.compareDocumentPosition(c)&16):!1:!1}function Kc(l){l=l!=null&&l.ownerDocument!=null&&l.ownerDocument.defaultView!=null?l.ownerDocument.defaultView:window;for(var c=ln(l.document);c instanceof l.HTMLIFrameElement;){try{var h=typeof c.contentWindow.location.href=="string"}catch{h=!1}if(h)l=c.contentWindow;else break;c=ln(l.document)}return c}function Ys(l){var c=l&&l.nodeName&&l.nodeName.toLowerCase();return c&&(c==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||c==="textarea"||l.contentEditable==="true")}var Yi=li&&"documentMode"in document&&11>=document.documentMode,kr=null,Mr=null,Jr=null,da=!1;function Vi(l,c,h){var y=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;da||kr==null||kr!==ln(y)||(y=kr,"selectionStart"in y&&Ys(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),Jr&&Hi(Jr,y)||(Jr=y,y=G0(Mr,"onSelect"),0<y.length&&(c=new eo("onSelect","select",null,c,h),l.push({event:c,listeners:y}),c.target=kr)))}function zn(l,c){var h={};return h[l.toLowerCase()]=c.toLowerCase(),h["Webkit"+l]="webkit"+c,h["Moz"+l]="moz"+c,h}var Vs={animationend:zn("Animation","AnimationEnd"),animationiteration:zn("Animation","AnimationIteration"),animationstart:zn("Animation","AnimationStart"),transitionrun:zn("Transition","TransitionRun"),transitionstart:zn("Transition","TransitionStart"),transitioncancel:zn("Transition","TransitionCancel"),transitionend:zn("Transition","TransitionEnd")},Uo={},Zf={};li&&(Zf=document.createElement("div").style,"AnimationEvent"in window||(delete Vs.animationend.animation,delete Vs.animationiteration.animation,delete Vs.animationstart.animation),"TransitionEvent"in window||delete Vs.transitionend.transition);function lo(l){if(Uo[l])return Uo[l];if(!Vs[l])return l;var c=Vs[l],h;for(h in c)if(c.hasOwnProperty(h)&&h in Zf)return Uo[l]=c[h];return l}var Qf=lo("animationend"),eh=lo("animationiteration"),th=lo("animationstart"),i0=lo("transitionrun"),l0=lo("transitionstart"),o0=lo("transitioncancel"),rh=lo("transitionend"),ah=new Map,jm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");jm.push("scrollEnd");function Un(l,c){ah.set(l,c),Mn(c,[l])}var Wc=new WeakMap;function Sn(l,c){if(typeof l=="object"&&l!==null){var h=Wc.get(l);return h!==void 0?h:(c={value:l,source:c,stack:hm(c)},Wc.set(l,c),c)}return{value:l,source:c,stack:hm(c)}}var _n=[],qo=0,Nm=0;function iu(){for(var l=qo,c=Nm=qo=0;c<l;){var h=_n[c];_n[c++]=null;var y=_n[c];_n[c++]=null;var _=_n[c];_n[c++]=null;var L=_n[c];if(_n[c++]=null,y!==null&&_!==null){var ee=y.pending;ee===null?_.next=_:(_.next=ee.next,ee.next=_),y.pending=_}L!==0&&Sm(h,_,L)}}function lu(l,c,h,y){_n[qo++]=l,_n[qo++]=c,_n[qo++]=h,_n[qo++]=y,Nm|=y,l.lanes|=y,l=l.alternate,l!==null&&(l.lanes|=y)}function wm(l,c,h,y){return lu(l,c,h,y),Go(l)}function Ho(l,c){return lu(l,null,null,c),Go(l)}function Sm(l,c,h){l.lanes|=h;var y=l.alternate;y!==null&&(y.lanes|=h);for(var _=!1,L=l.return;L!==null;)L.childLanes|=h,y=L.alternate,y!==null&&(y.childLanes|=h),L.tag===22&&(l=L.stateNode,l===null||l._visibility&1||(_=!0)),l=L,L=L.return;return l.tag===3?(L=l.stateNode,_&&c!==null&&(_=31-lt(h),l=L.hiddenUpdates,y=l[_],y===null?l[_]=[c]:y.push(c),c.lane=h|536870912),L):null}function Go(l){if(50<Ch)throw Ch=0,wb=null,Error(s(185));for(var c=l.return;c!==null;)l=c,c=l.return;return l.tag===3?l.stateNode:null}var os={};function qn(l,c,h,y){this.tag=l,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Es(l,c,h,y){return new qn(l,c,h,y)}function Xc(l){return l=l.prototype,!(!l||!l.isReactComponent)}function Ki(l,c){var h=l.alternate;return h===null?(h=Es(l.tag,c,l.key,l.mode),h.elementType=l.elementType,h.type=l.type,h.stateNode=l.stateNode,h.alternate=l,l.alternate=h):(h.pendingProps=c,h.type=l.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=l.flags&65011712,h.childLanes=l.childLanes,h.lanes=l.lanes,h.child=l.child,h.memoizedProps=l.memoizedProps,h.memoizedState=l.memoizedState,h.updateQueue=l.updateQueue,c=l.dependencies,h.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},h.sibling=l.sibling,h.index=l.index,h.ref=l.ref,h.refCleanup=l.refCleanup,h}function ou(l,c){l.flags&=65011714;var h=l.alternate;return h===null?(l.childLanes=0,l.lanes=c,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=h.childLanes,l.lanes=h.lanes,l.child=h.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=h.memoizedProps,l.memoizedState=h.memoizedState,l.updateQueue=h.updateQueue,l.type=h.type,c=h.dependencies,l.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),l}function Yo(l,c,h,y,_,L){var ee=0;if(y=l,typeof l=="function")Xc(l)&&(ee=1);else if(typeof l=="string")ee=PL(l,h,G.current)?26:l==="html"||l==="head"||l==="body"?27:5;else e:switch(l){case k:return l=Es(31,h,c,_),l.elementType=k,l.lanes=L,l;case v:return Nl(h.children,_,L,c);case j:ee=8,_|=24;break;case w:return l=Es(12,h,c,_|2),l.elementType=w,l.lanes=L,l;case T:return l=Es(13,h,c,_),l.elementType=T,l.lanes=L,l;case R:return l=Es(19,h,c,_),l.elementType=R,l.lanes=L,l;default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case N:case A:ee=10;break e;case P:ee=9;break e;case D:ee=11;break e;case E:ee=14;break e;case O:ee=16,y=null;break e}ee=29,h=Error(s(130,l===null?"null":typeof l,"")),y=null}return c=Es(ee,h,c,_),c.elementType=l,c.type=y,c.lanes=L,c}function Nl(l,c,h,y){return l=Es(7,l,y,c),l.lanes=h,l}function _m(l,c,h){return l=Es(6,l,null,c),l.lanes=h,l}function cu(l,c,h){return c=Es(4,l.children!==null?l.children:[],l.key,c),c.lanes=h,c.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},c}var oo=[],wl=0,Jc=null,Am=0,Hn=[],An=0,Vo=null,Sl=1,_l="";function Ko(l,c){oo[wl++]=Am,oo[wl++]=Jc,Jc=l,Am=c}function c0(l,c,h){Hn[An++]=Sl,Hn[An++]=_l,Hn[An++]=Vo,Vo=l;var y=Sl;l=_l;var _=32-lt(y)-1;y&=~(1<<_),h+=1;var L=32-lt(c)+_;if(30<L){var ee=_-_%5;L=(y&(1<<ee)-1).toString(32),y>>=ee,_-=ee,Sl=1<<32-lt(c)+_|h<<_|y,_l=L+l}else Sl=1<<L|h<<_|y,_l=l}function du(l){l.return!==null&&(Ko(l,1),c0(l,1,0))}function uu(l){for(;l===Jc;)Jc=oo[--wl],oo[wl]=null,Am=oo[--wl],oo[wl]=null;for(;l===Vo;)Vo=Hn[--An],Hn[An]=null,_l=Hn[--An],Hn[An]=null,Sl=Hn[--An],Hn[An]=null}var Ha=null,ya=null,Cr=!1,co=null,Wi=!1,sh=Error(s(519));function Wo(l){var c=Error(s(418,""));throw Zc(Sn(c,l)),sh}function d0(l){var c=l.stateNode,h=l.type,y=l.memoizedProps;switch(c[sa]=l,c[Xr]=y,h){case"dialog":dr("cancel",c),dr("close",c);break;case"iframe":case"object":case"embed":dr("load",c);break;case"video":case"audio":for(h=0;h<Ph.length;h++)dr(Ph[h],c);break;case"source":dr("error",c);break;case"img":case"image":case"link":dr("error",c),dr("load",c);break;case"details":dr("toggle",c);break;case"input":dr("invalid",c),pm(c,y.value,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name,!0),Rn(c);break;case"select":dr("invalid",c);break;case"textarea":dr("invalid",c),Jd(c,y.value,y.defaultValue,y.children),Rn(c)}h=y.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||c.textContent===""+h||y.suppressHydrationWarning===!0||Y3(c.textContent,h)?(y.popover!=null&&(dr("beforetoggle",c),dr("toggle",c)),y.onScroll!=null&&dr("scroll",c),y.onScrollEnd!=null&&dr("scrollend",c),y.onClick!=null&&(c.onclick=Y0),c=!0):c=!1,c||Wo(l)}function Al(l){for(Ha=l.return;Ha;)switch(Ha.tag){case 5:case 13:Wi=!1;return;case 27:case 3:Wi=!0;return;default:Ha=Ha.return}}function Ks(l){if(l!==Ha)return!1;if(!Cr)return Al(l),Cr=!0,!1;var c=l.tag,h;if((h=c!==3&&c!==27)&&((h=c===5)&&(h=l.type,h=!(h!=="form"&&h!=="button")||Fb(l.type,l.memoizedProps)),h=!h),h&&ya&&Wo(l),Al(l),c===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(s(317));e:{for(l=l.nextSibling,c=0;l;){if(l.nodeType===8)if(h=l.data,h==="/$"){if(c===0){ya=Ll(l.nextSibling);break e}c--}else h!=="$"&&h!=="$!"&&h!=="$?"||c++;l=l.nextSibling}ya=null}}else c===27?(c=ya,hd(l.type)?(l=qb,qb=null,ya=l):ya=c):ya=Ha?Ll(l.stateNode.nextSibling):null;return!0}function kn(){ya=Ha=null,Cr=!1}function u0(){var l=co;return l!==null&&(Yn===null?Yn=l:Yn.push.apply(Yn,l),co=null),l}function Zc(l){co===null?co=[l]:co.push(l)}var Xi=be(null),cs=null,kl=null;function uo(l,c,h){re(Xi,c._currentValue),c._currentValue=h}function Ji(l){l._currentValue=Xi.current,z(Xi)}function km(l,c,h){for(;l!==null;){var y=l.alternate;if((l.childLanes&c)!==c?(l.childLanes|=c,y!==null&&(y.childLanes|=c)):y!==null&&(y.childLanes&c)!==c&&(y.childLanes|=c),l===h)break;l=l.return}}function Cm(l,c,h,y){var _=l.child;for(_!==null&&(_.return=l);_!==null;){var L=_.dependencies;if(L!==null){var ee=_.child;L=L.firstContext;e:for(;L!==null;){var fe=L;L=_;for(var _e=0;_e<c.length;_e++)if(fe.context===c[_e]){L.lanes|=h,fe=L.alternate,fe!==null&&(fe.lanes|=h),km(L.return,h,l),y||(ee=null);break e}L=fe.next}}else if(_.tag===18){if(ee=_.return,ee===null)throw Error(s(341));ee.lanes|=h,L=ee.alternate,L!==null&&(L.lanes|=h),km(ee,h,l),ee=null}else ee=_.child;if(ee!==null)ee.return=_;else for(ee=_;ee!==null;){if(ee===l){ee=null;break}if(_=ee.sibling,_!==null){_.return=ee.return,ee=_;break}ee=ee.return}_=ee}}function Qc(l,c,h,y){l=null;for(var _=c,L=!1;_!==null;){if(!L){if((_.flags&524288)!==0)L=!0;else if((_.flags&262144)!==0)break}if(_.tag===10){var ee=_.alternate;if(ee===null)throw Error(s(387));if(ee=ee.memoizedProps,ee!==null){var fe=_.type;ls(_.pendingProps.value,ee.value)||(l!==null?l.push(fe):l=[fe])}}else if(_===ye.current){if(ee=_.alternate,ee===null)throw Error(s(387));ee.memoizedState.memoizedState!==_.memoizedState.memoizedState&&(l!==null?l.push(Rh):l=[Rh])}_=_.return}l!==null&&Cm(c,l,h,y),c.flags|=262144}function Em(l){for(l=l.firstContext;l!==null;){if(!ls(l.context._currentValue,l.memoizedValue))return!0;l=l.next}return!1}function Zi(l){cs=l,kl=null,l=l.dependencies,l!==null&&(l.firstContext=null)}function Ga(l){return Pm(cs,l)}function mo(l,c){return cs===null&&Zi(l),Pm(l,c)}function Pm(l,c){var h=c._currentValue;if(c={context:c,memoizedValue:h,next:null},kl===null){if(l===null)throw Error(s(308));kl=c,l.dependencies={lanes:0,firstContext:c},l.flags|=524288}else kl=kl.next=c;return h}var Ky=typeof AbortController<"u"?AbortController:function(){var l=[],c=this.signal={aborted:!1,addEventListener:function(h,y){l.push(y)}};this.abort=function(){c.aborted=!0,l.forEach(function(h){return h()})}},m0=t.unstable_scheduleCallback,Wy=t.unstable_NormalPriority,Ya={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function nh(){return{controller:new Ky,data:new Map,refCount:0}}function mu(l){l.refCount--,l.refCount===0&&m0(Wy,function(){l.controller.abort()})}var fu=null,ih=0,Xo=0,Cl=null;function Xy(l,c){if(fu===null){var h=fu=[];ih=0,Xo=Pb(),Cl={status:"pending",value:void 0,then:function(y){h.push(y)}}}return ih++,c.then(f0,f0),c}function f0(){if(--ih===0&&fu!==null){Cl!==null&&(Cl.status="fulfilled");var l=fu;fu=null,Xo=0,Cl=null;for(var c=0;c<l.length;c++)(0,l[c])()}}function h0(l,c){var h=[],y={status:"pending",value:null,reason:null,then:function(_){h.push(_)}};return l.then(function(){y.status="fulfilled",y.value=c;for(var _=0;_<h.length;_++)(0,h[_])(c)},function(_){for(y.status="rejected",y.reason=_,_=0;_<h.length;_++)(0,h[_])(void 0)}),y}var S=U.S;U.S=function(l,c){typeof c=="object"&&c!==null&&typeof c.then=="function"&&Xy(l,c),S!==null&&S(l,c)};var C=be(null);function H(){var l=C.current;return l!==null?l:la.pooledCache}function W(l,c){c===null?re(C,C.current):re(C,c.pool)}function ae(){var l=H();return l===null?null:{parent:Ya._currentValue,pool:l}}var ie=Error(s(460)),ue=Error(s(474)),he=Error(s(542)),ge={then:function(){}};function Ne(l){return l=l.status,l==="fulfilled"||l==="rejected"}function Ce(){}function Re(l,c,h){switch(h=l[h],h===void 0?l.push(c):h!==c&&(c.then(Ce,Ce),c=h),c.status){case"fulfilled":return c.value;case"rejected":throw l=c.reason,De(l),l;default:if(typeof c.status=="string")c.then(Ce,Ce);else{if(l=la,l!==null&&100<l.shellSuspendCounter)throw Error(s(482));l=c,l.status="pending",l.then(function(y){if(c.status==="pending"){var _=c;_.status="fulfilled",_.value=y}},function(y){if(c.status==="pending"){var _=c;_.status="rejected",_.reason=y}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw l=c.reason,De(l),l}throw je=c,ie}}var je=null;function Pe(){if(je===null)throw Error(s(459));var l=je;return je=null,l}function De(l){if(l===ie||l===he)throw Error(s(483))}var qe=!1;function Me(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ge(l,c){l=l.updateQueue,c.updateQueue===l&&(c.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,callbacks:null})}function He(l){return{lane:l,tag:0,payload:null,callback:null,next:null}}function Ze(l,c,h){var y=l.updateQueue;if(y===null)return null;if(y=y.shared,(Ur&2)!==0){var _=y.pending;return _===null?c.next=c:(c.next=_.next,_.next=c),y.pending=c,c=Go(l),Sm(l,null,h),c}return lu(l,y,c,h),Go(l)}function We(l,c,h){if(c=c.updateQueue,c!==null&&(c=c.shared,(h&4194048)!==0)){var y=c.lanes;y&=l.pendingLanes,h|=y,c.lanes=h,Kl(l,h)}}function bt(l,c){var h=l.updateQueue,y=l.alternate;if(y!==null&&(y=y.updateQueue,h===y)){var _=null,L=null;if(h=h.firstBaseUpdate,h!==null){do{var ee={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};L===null?_=L=ee:L=L.next=ee,h=h.next}while(h!==null);L===null?_=L=c:L=L.next=c}else _=L=c;h={baseState:y.baseState,firstBaseUpdate:_,lastBaseUpdate:L,shared:y.shared,callbacks:y.callbacks},l.updateQueue=h;return}l=h.lastBaseUpdate,l===null?h.firstBaseUpdate=c:l.next=c,h.lastBaseUpdate=c}var ot=!1;function qt(){if(ot){var l=Cl;if(l!==null)throw l}}function ct(l,c,h,y){ot=!1;var _=l.updateQueue;qe=!1;var L=_.firstBaseUpdate,ee=_.lastBaseUpdate,fe=_.shared.pending;if(fe!==null){_.shared.pending=null;var _e=fe,$e=_e.next;_e.next=null,ee===null?L=$e:ee.next=$e,ee=_e;var Ve=l.alternate;Ve!==null&&(Ve=Ve.updateQueue,fe=Ve.lastBaseUpdate,fe!==ee&&(fe===null?Ve.firstBaseUpdate=$e:fe.next=$e,Ve.lastBaseUpdate=_e))}if(L!==null){var Xe=_.baseState;ee=0,Ve=$e=_e=null,fe=L;do{var Fe=fe.lane&-536870913,Be=Fe!==fe.lane;if(Be?(Nr&Fe)===Fe:(y&Fe)===Fe){Fe!==0&&Fe===Xo&&(ot=!0),Ve!==null&&(Ve=Ve.next={lane:0,tag:fe.tag,payload:fe.payload,callback:null,next:null});e:{var zt=l,Dt=fe;Fe=c;var Wr=h;switch(Dt.tag){case 1:if(zt=Dt.payload,typeof zt=="function"){Xe=zt.call(Wr,Xe,Fe);break e}Xe=zt;break e;case 3:zt.flags=zt.flags&-65537|128;case 0:if(zt=Dt.payload,Fe=typeof zt=="function"?zt.call(Wr,Xe,Fe):zt,Fe==null)break e;Xe=f({},Xe,Fe);break e;case 2:qe=!0}}Fe=fe.callback,Fe!==null&&(l.flags|=64,Be&&(l.flags|=8192),Be=_.callbacks,Be===null?_.callbacks=[Fe]:Be.push(Fe))}else Be={lane:Fe,tag:fe.tag,payload:fe.payload,callback:fe.callback,next:null},Ve===null?($e=Ve=Be,_e=Xe):Ve=Ve.next=Be,ee|=Fe;if(fe=fe.next,fe===null){if(fe=_.shared.pending,fe===null)break;Be=fe,fe=Be.next,Be.next=null,_.lastBaseUpdate=Be,_.shared.pending=null}}while(!0);Ve===null&&(_e=Xe),_.baseState=_e,_.firstBaseUpdate=$e,_.lastBaseUpdate=Ve,L===null&&(_.shared.lanes=0),dd|=ee,l.lanes=ee,l.memoizedState=Xe}}function nr(l,c){if(typeof l!="function")throw Error(s(191,l));l.call(c)}function Fa(l,c){var h=l.callbacks;if(h!==null)for(l.callbacks=null,l=0;l<h.length;l++)nr(h[l],c)}var Bt=be(null),ut=be(0);function nt(l,c){l=sc,re(ut,l),re(Bt,c),sc=l|c.baseLanes}function ua(){re(ut,sc),re(Bt,Bt.current)}function Ht(){sc=ut.current,z(Bt),z(ut)}var Qt=0,ht=null,Wt=null,fr=null,Zr=!1,Pa=!1,Ta=!1,ba=0,ar=0,hr=null,va=0;function Ot(){throw Error(s(321))}function Va(l,c){if(c===null)return!1;for(var h=0;h<c.length&&h<l.length;h++)if(!ls(l[h],c[h]))return!1;return!0}function Cn(l,c,h,y,_,L){return Qt=L,ht=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,U.H=l===null||l.memoizedState===null?Aw:kw,Ta=!1,L=h(y,_),Ta=!1,Pa&&(L=Ws(c,h,y,_)),ja(l),L}function ja(l){U.H=A0;var c=Wt!==null&&Wt.next!==null;if(Qt=0,fr=Wt=ht=null,Zr=!1,ar=0,hr=null,c)throw Error(s(300));l===null||Ts||(l=l.dependencies,l!==null&&Em(l)&&(Ts=!0))}function Ws(l,c,h,y){ht=l;var _=0;do{if(Pa&&(hr=null),ar=0,Pa=!1,25<=_)throw Error(s(301));if(_+=1,fr=Wt=null,l.updateQueue!=null){var L=l.updateQueue;L.lastEffect=null,L.events=null,L.stores=null,L.memoCache!=null&&(L.memoCache.index=0)}U.H=zD,L=c(h,y)}while(Pa);return L}function zr(){var l=U.H,c=l.useState()[0];return c=typeof c.then=="function"?ys(c):c,l=l.useState()[0],(Wt!==null?Wt.memoizedState:null)!==l&&(ht.flags|=1024),c}function Oa(){var l=ba!==0;return ba=0,l}function Xs(l,c,h){c.updateQueue=l.updateQueue,c.flags&=-2053,l.lanes&=~h}function gs(l){if(Zr){for(l=l.memoizedState;l!==null;){var c=l.queue;c!==null&&(c.pending=null),l=l.next}Zr=!1}Qt=0,fr=Wt=ht=null,Pa=!1,ar=ba=0,hr=null}function Vr(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fr===null?ht.memoizedState=fr=l:fr=fr.next=l,fr}function jr(){if(Wt===null){var l=ht.alternate;l=l!==null?l.memoizedState:null}else l=Wt.next;var c=fr===null?ht.memoizedState:fr.next;if(c!==null)fr=c,Wt=l;else{if(l===null)throw ht.alternate===null?Error(s(467)):Error(s(310));Wt=l,l={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},fr===null?ht.memoizedState=fr=l:fr=fr.next=l}return fr}function Ps(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ys(l){var c=ar;return ar+=1,hr===null&&(hr=[]),l=Re(hr,l,c),c=ht,(fr===null?c.memoizedState:fr.next)===null&&(c=c.alternate,U.H=c===null||c.memoizedState===null?Aw:kw),l}function Or(l){if(l!==null&&typeof l=="object"){if(typeof l.then=="function")return ys(l);if(l.$$typeof===A)return Ga(l)}throw Error(s(438,String(l)))}function Js(l){var c=null,h=ht.updateQueue;if(h!==null&&(c=h.memoCache),c==null){var y=ht.alternate;y!==null&&(y=y.updateQueue,y!==null&&(y=y.memoCache,y!=null&&(c={data:y.data.map(function(_){return _.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),h===null&&(h=Ps(),ht.updateQueue=h),h.memoCache=c,h=c.data[c.index],h===void 0)for(h=c.data[c.index]=Array(l),y=0;y<l;y++)h[y]=Y;return c.index++,h}function Ka(l,c){return typeof c=="function"?c(l):c}function Qi(l){var c=jr();return mi(c,Wt,l)}function mi(l,c,h){var y=l.queue;if(y===null)throw Error(s(311));y.lastRenderedReducer=h;var _=l.baseQueue,L=y.pending;if(L!==null){if(_!==null){var ee=_.next;_.next=L.next,L.next=ee}c.baseQueue=_=L,y.pending=null}if(L=l.baseState,_===null)l.memoizedState=L;else{c=_.next;var fe=ee=null,_e=null,$e=c,Ve=!1;do{var Xe=$e.lane&-536870913;if(Xe!==$e.lane?(Nr&Xe)===Xe:(Qt&Xe)===Xe){var Fe=$e.revertLane;if(Fe===0)_e!==null&&(_e=_e.next={lane:0,revertLane:0,action:$e.action,hasEagerState:$e.hasEagerState,eagerState:$e.eagerState,next:null}),Xe===Xo&&(Ve=!0);else if((Qt&Fe)===Fe){$e=$e.next,Fe===Xo&&(Ve=!0);continue}else Xe={lane:0,revertLane:$e.revertLane,action:$e.action,hasEagerState:$e.hasEagerState,eagerState:$e.eagerState,next:null},_e===null?(fe=_e=Xe,ee=L):_e=_e.next=Xe,ht.lanes|=Fe,dd|=Fe;Xe=$e.action,Ta&&h(L,Xe),L=$e.hasEagerState?$e.eagerState:h(L,Xe)}else Fe={lane:Xe,revertLane:$e.revertLane,action:$e.action,hasEagerState:$e.hasEagerState,eagerState:$e.eagerState,next:null},_e===null?(fe=_e=Fe,ee=L):_e=_e.next=Fe,ht.lanes|=Xe,dd|=Xe;$e=$e.next}while($e!==null&&$e!==c);if(_e===null?ee=L:_e.next=fe,!ls(L,l.memoizedState)&&(Ts=!0,Ve&&(h=Cl,h!==null)))throw h;l.memoizedState=L,l.baseState=ee,l.baseQueue=_e,y.lastRenderedState=L}return _===null&&(y.lanes=0),[l.memoizedState,y.dispatch]}function Wa(l){var c=jr(),h=c.queue;if(h===null)throw Error(s(311));h.lastRenderedReducer=l;var y=h.dispatch,_=h.pending,L=c.memoizedState;if(_!==null){h.pending=null;var ee=_=_.next;do L=l(L,ee.action),ee=ee.next;while(ee!==_);ls(L,c.memoizedState)||(Ts=!0),c.memoizedState=L,c.baseQueue===null&&(c.baseState=L),h.lastRenderedState=L}return[L,y]}function hu(l,c,h){var y=ht,_=jr(),L=Cr;if(L){if(h===void 0)throw Error(s(407));h=h()}else h=c();var ee=!ls((Wt||_).memoizedState,h);ee&&(_.memoizedState=h,Ts=!0),_=_.queue;var fe=ed.bind(null,y,_,l);if(ad(2048,8,fe,[l]),_.getSnapshot!==c||ee||fr!==null&&fr.memoizedState.tag&1){if(y.flags|=2048,Pl(9,yu(),xu.bind(null,y,_,h,c),null),la===null)throw Error(s(349));L||(Qt&124)!==0||Tm(y,c,h)}return h}function Tm(l,c,h){l.flags|=16384,l={getSnapshot:c,value:h},c=ht.updateQueue,c===null?(c=Ps(),ht.updateQueue=c,c.stores=[l]):(h=c.stores,h===null?c.stores=[l]:h.push(l))}function xu(l,c,h,y){c.value=h,c.getSnapshot=y,x0(c)&&p0(l)}function ed(l,c,h){return h(function(){x0(c)&&p0(l)})}function x0(l){var c=l.getSnapshot;l=l.value;try{var h=c();return!ls(l,h)}catch{return!0}}function p0(l){var c=Ho(l,2);c!==null&&yi(c,l,2)}function pu(l){var c=Vr();if(typeof l=="function"){var h=l;if(l=h(),Ta){Pt(!0);try{h()}finally{Pt(!1)}}}return c.memoizedState=c.baseState=l,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ka,lastRenderedState:l},c}function El(l,c,h,y){return l.baseState=h,mi(l,Wt,typeof y=="function"?y:Ka)}function Jy(l,c,h,y,_){if(_0(l))throw Error(s(485));if(l=c.action,l!==null){var L={payload:_,action:l,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(ee){L.listeners.push(ee)}};U.T!==null?h(!0):L.isTransition=!1,y(L),h=c.pending,h===null?(L.next=c.pending=L,g0(c,L)):(L.next=h.next,c.pending=h.next=L)}}function g0(l,c){var h=c.action,y=c.payload,_=l.state;if(c.isTransition){var L=U.T,ee={};U.T=ee;try{var fe=h(_,y),_e=U.S;_e!==null&&_e(ee,fe),y0(l,c,fe)}catch($e){td(l,c,$e)}finally{U.T=L}}else try{L=h(_,y),y0(l,c,L)}catch($e){td(l,c,$e)}}function y0(l,c,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(y){lh(l,c,y)},function(y){return td(l,c,y)}):lh(l,c,h)}function lh(l,c,h){c.status="fulfilled",c.value=h,oh(c),l.state=h,c=l.pending,c!==null&&(h=c.next,h===c?l.pending=null:(h=h.next,c.next=h,g0(l,h)))}function td(l,c,h){var y=l.pending;if(l.pending=null,y!==null){y=y.next;do c.status="rejected",c.reason=h,oh(c),c=c.next;while(c!==y)}l.action=null}function oh(l){l=l.listeners;for(var c=0;c<l.length;c++)(0,l[c])()}function ch(l,c){return c}function gu(l,c){if(Cr){var h=la.formState;if(h!==null){e:{var y=ht;if(Cr){if(ya){t:{for(var _=ya,L=Wi;_.nodeType!==8;){if(!L){_=null;break t}if(_=Ll(_.nextSibling),_===null){_=null;break t}}L=_.data,_=L==="F!"||L==="F"?_:null}if(_){ya=Ll(_.nextSibling),y=_.data==="F!";break e}}Wo(y)}y=!1}y&&(c=h[0])}}return h=Vr(),h.memoizedState=h.baseState=c,y={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ch,lastRenderedState:c},h.queue=y,h=ww.bind(null,ht,y),y.dispatch=h,y=pu(!1),L=Zy.bind(null,ht,!1,y.queue),y=Vr(),_={state:c,dispatch:null,action:l,pending:null},y.queue=_,h=Jy.bind(null,ht,_,L,h),_.dispatch=h,y.memoizedState=l,[c,h,!1]}function Om(l){var c=jr();return rd(c,Wt,l)}function rd(l,c,h){if(c=mi(l,c,ch)[0],l=Qi(Ka)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var y=ys(c)}catch(ee){throw ee===ie?he:ee}else y=c;c=jr();var _=c.queue,L=_.dispatch;return h!==c.memoizedState&&(ht.flags|=2048,Pl(9,yu(),b0.bind(null,_,h),null)),[y,L,l]}function b0(l,c){l.action=c}function v0(l){var c=jr(),h=Wt;if(h!==null)return rd(c,h,l);jr(),c=c.memoizedState,h=jr();var y=h.queue.dispatch;return h.memoizedState=l,[c,y,!1]}function Pl(l,c,h,y){return l={tag:l,create:h,deps:y,inst:c,next:null},c=ht.updateQueue,c===null&&(c=Ps(),ht.updateQueue=c),h=c.lastEffect,h===null?c.lastEffect=l.next=l:(y=h.next,h.next=l,l.next=y,c.lastEffect=l),l}function yu(){return{destroy:void 0,resource:void 0}}function Dm(){return jr().memoizedState}function fi(l,c,h,y){var _=Vr();y=y===void 0?null:y,ht.flags|=l,_.memoizedState=Pl(1|c,yu(),h,y)}function ad(l,c,h,y){var _=jr();y=y===void 0?null:y;var L=_.memoizedState.inst;Wt!==null&&y!==null&&Va(y,Wt.memoizedState.deps)?_.memoizedState=Pl(c,L,h,y):(ht.flags|=l,_.memoizedState=Pl(1|c,L,h,y))}function dh(l,c){fi(8390656,8,l,c)}function j0(l,c){ad(2048,8,l,c)}function uh(l,c){return ad(4,2,l,c)}function Jo(l,c){return ad(4,4,l,c)}function N0(l,c){if(typeof c=="function"){l=l();var h=c(l);return function(){typeof h=="function"?h():c(null)}}if(c!=null)return l=l(),c.current=l,function(){c.current=null}}function mh(l,c,h){h=h!=null?h.concat([l]):null,ad(4,4,N0.bind(null,c,l),h)}function fh(){}function hh(l,c){var h=jr();c=c===void 0?null:c;var y=h.memoizedState;return c!==null&&Va(c,y[1])?y[0]:(h.memoizedState=[l,c],l)}function w0(l,c){var h=jr();c=c===void 0?null:c;var y=h.memoizedState;if(c!==null&&Va(c,y[1]))return y[0];if(y=l(),Ta){Pt(!0);try{l()}finally{Pt(!1)}}return h.memoizedState=[y,c],y}function Zo(l,c,h){return h===void 0||(Qt&1073741824)!==0?l.memoizedState=c:(l.memoizedState=h,l=b3(),ht.lanes|=l,dd|=l,h)}function Lm(l,c,h,y){return ls(h,c)?h:Bt.current!==null?(l=Zo(l,h,y),ls(l,c)||(Ts=!0),l):(Qt&42)===0?(Ts=!0,l.memoizedState=h):(l=b3(),ht.lanes|=l,dd|=l,c)}function bu(l,c,h,y,_){var L=V.p;V.p=L!==0&&8>L?L:8;var ee=U.T,fe={};U.T=fe,Zy(l,!1,c,h);try{var _e=_(),$e=U.S;if($e!==null&&$e(fe,_e),_e!==null&&typeof _e=="object"&&typeof _e.then=="function"){var Ve=h0(_e,y);yh(l,c,Ve,gi(l))}else yh(l,c,y,gi(l))}catch(Xe){yh(l,c,{then:function(){},status:"rejected",reason:Xe},gi())}finally{V.p=L,U.T=ee}}function Tl(){}function el(l,c,h,y){if(l.tag!==5)throw Error(s(476));var _=Ol(l).queue;bu(l,_,c,Z,h===null?Tl:function(){return vu(l),h(y)})}function Ol(l){var c=l.memoizedState;if(c!==null)return c;c={memoizedState:Z,baseState:Z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ka,lastRenderedState:Z},next:null};var h={};return c.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ka,lastRenderedState:h},next:null},l.memoizedState=c,l=l.alternate,l!==null&&(l.memoizedState=c),c}function vu(l){var c=Ol(l).next.queue;yh(l,c,{},gi())}function ju(){return Ga(Rh)}function xh(){return jr().memoizedState}function S0(){return jr().memoizedState}function ph(l){for(var c=l.return;c!==null;){switch(c.tag){case 24:case 3:var h=gi();l=He(h);var y=Ze(c,l,h);y!==null&&(yi(y,c,h),We(y,c,h)),c={cache:nh()},l.payload=c;return}c=c.return}}function gh(l,c,h){var y=gi();h={lane:y,revertLane:0,action:h,hasEagerState:!1,eagerState:null,next:null},_0(l)?Sw(c,h):(h=wm(l,c,h,y),h!==null&&(yi(h,l,y),_w(h,c,y)))}function ww(l,c,h){var y=gi();yh(l,c,h,y)}function yh(l,c,h,y){var _={lane:y,revertLane:0,action:h,hasEagerState:!1,eagerState:null,next:null};if(_0(l))Sw(c,_);else{var L=l.alternate;if(l.lanes===0&&(L===null||L.lanes===0)&&(L=c.lastRenderedReducer,L!==null))try{var ee=c.lastRenderedState,fe=L(ee,h);if(_.hasEagerState=!0,_.eagerState=fe,ls(fe,ee))return lu(l,c,_,0),la===null&&iu(),!1}catch{}finally{}if(h=wm(l,c,_,y),h!==null)return yi(h,l,y),_w(h,c,y),!0}return!1}function Zy(l,c,h,y){if(y={lane:2,revertLane:Pb(),action:y,hasEagerState:!1,eagerState:null,next:null},_0(l)){if(c)throw Error(s(479))}else c=wm(l,h,y,2),c!==null&&yi(c,l,2)}function _0(l){var c=l.alternate;return l===ht||c!==null&&c===ht}function Sw(l,c){Pa=Zr=!0;var h=l.pending;h===null?c.next=c:(c.next=h.next,h.next=c),l.pending=c}function _w(l,c,h){if((h&4194048)!==0){var y=c.lanes;y&=l.pendingLanes,h|=y,c.lanes=h,Kl(l,h)}}var A0={readContext:Ga,use:Or,useCallback:Ot,useContext:Ot,useEffect:Ot,useImperativeHandle:Ot,useLayoutEffect:Ot,useInsertionEffect:Ot,useMemo:Ot,useReducer:Ot,useRef:Ot,useState:Ot,useDebugValue:Ot,useDeferredValue:Ot,useTransition:Ot,useSyncExternalStore:Ot,useId:Ot,useHostTransitionStatus:Ot,useFormState:Ot,useActionState:Ot,useOptimistic:Ot,useMemoCache:Ot,useCacheRefresh:Ot},Aw={readContext:Ga,use:Or,useCallback:function(l,c){return Vr().memoizedState=[l,c===void 0?null:c],l},useContext:Ga,useEffect:dh,useImperativeHandle:function(l,c,h){h=h!=null?h.concat([l]):null,fi(4194308,4,N0.bind(null,c,l),h)},useLayoutEffect:function(l,c){return fi(4194308,4,l,c)},useInsertionEffect:function(l,c){fi(4,2,l,c)},useMemo:function(l,c){var h=Vr();c=c===void 0?null:c;var y=l();if(Ta){Pt(!0);try{l()}finally{Pt(!1)}}return h.memoizedState=[y,c],y},useReducer:function(l,c,h){var y=Vr();if(h!==void 0){var _=h(c);if(Ta){Pt(!0);try{h(c)}finally{Pt(!1)}}}else _=c;return y.memoizedState=y.baseState=_,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:_},y.queue=l,l=l.dispatch=gh.bind(null,ht,l),[y.memoizedState,l]},useRef:function(l){var c=Vr();return l={current:l},c.memoizedState=l},useState:function(l){l=pu(l);var c=l.queue,h=ww.bind(null,ht,c);return c.dispatch=h,[l.memoizedState,h]},useDebugValue:fh,useDeferredValue:function(l,c){var h=Vr();return Zo(h,l,c)},useTransition:function(){var l=pu(!1);return l=bu.bind(null,ht,l.queue,!0,!1),Vr().memoizedState=l,[!1,l]},useSyncExternalStore:function(l,c,h){var y=ht,_=Vr();if(Cr){if(h===void 0)throw Error(s(407));h=h()}else{if(h=c(),la===null)throw Error(s(349));(Nr&124)!==0||Tm(y,c,h)}_.memoizedState=h;var L={value:h,getSnapshot:c};return _.queue=L,dh(ed.bind(null,y,L,l),[l]),y.flags|=2048,Pl(9,yu(),xu.bind(null,y,L,h,c),null),h},useId:function(){var l=Vr(),c=la.identifierPrefix;if(Cr){var h=_l,y=Sl;h=(y&~(1<<32-lt(y)-1)).toString(32)+h,c="«"+c+"R"+h,h=ba++,0<h&&(c+="H"+h.toString(32)),c+="»"}else h=va++,c="«"+c+"r"+h.toString(32)+"»";return l.memoizedState=c},useHostTransitionStatus:ju,useFormState:gu,useActionState:gu,useOptimistic:function(l){var c=Vr();c.memoizedState=c.baseState=l;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=h,c=Zy.bind(null,ht,!0,h),h.dispatch=c,[l,c]},useMemoCache:Js,useCacheRefresh:function(){return Vr().memoizedState=ph.bind(null,ht)}},kw={readContext:Ga,use:Or,useCallback:hh,useContext:Ga,useEffect:j0,useImperativeHandle:mh,useInsertionEffect:uh,useLayoutEffect:Jo,useMemo:w0,useReducer:Qi,useRef:Dm,useState:function(){return Qi(Ka)},useDebugValue:fh,useDeferredValue:function(l,c){var h=jr();return Lm(h,Wt.memoizedState,l,c)},useTransition:function(){var l=Qi(Ka)[0],c=jr().memoizedState;return[typeof l=="boolean"?l:ys(l),c]},useSyncExternalStore:hu,useId:xh,useHostTransitionStatus:ju,useFormState:Om,useActionState:Om,useOptimistic:function(l,c){var h=jr();return El(h,Wt,l,c)},useMemoCache:Js,useCacheRefresh:S0},zD={readContext:Ga,use:Or,useCallback:hh,useContext:Ga,useEffect:j0,useImperativeHandle:mh,useInsertionEffect:uh,useLayoutEffect:Jo,useMemo:w0,useReducer:Wa,useRef:Dm,useState:function(){return Wa(Ka)},useDebugValue:fh,useDeferredValue:function(l,c){var h=jr();return Wt===null?Zo(h,l,c):Lm(h,Wt.memoizedState,l,c)},useTransition:function(){var l=Wa(Ka)[0],c=jr().memoizedState;return[typeof l=="boolean"?l:ys(l),c]},useSyncExternalStore:hu,useId:xh,useHostTransitionStatus:ju,useFormState:v0,useActionState:v0,useOptimistic:function(l,c){var h=jr();return Wt!==null?El(h,Wt,l,c):(h.baseState=l,[l,h.queue.dispatch])},useMemoCache:Js,useCacheRefresh:S0},Mm=null,bh=0;function k0(l){var c=bh;return bh+=1,Mm===null&&(Mm=[]),Re(Mm,l,c)}function vh(l,c){c=c.props.ref,l.ref=c!==void 0?c:null}function C0(l,c){throw c.$$typeof===x?Error(s(525)):(l=Object.prototype.toString.call(c),Error(s(31,l==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":l)))}function Cw(l){var c=l._init;return c(l._payload)}function Ew(l){function c(Te,Ee){if(l){var Le=Te.deletions;Le===null?(Te.deletions=[Ee],Te.flags|=16):Le.push(Ee)}}function h(Te,Ee){if(!l)return null;for(;Ee!==null;)c(Te,Ee),Ee=Ee.sibling;return null}function y(Te){for(var Ee=new Map;Te!==null;)Te.key!==null?Ee.set(Te.key,Te):Ee.set(Te.index,Te),Te=Te.sibling;return Ee}function _(Te,Ee){return Te=Ki(Te,Ee),Te.index=0,Te.sibling=null,Te}function L(Te,Ee,Le){return Te.index=Le,l?(Le=Te.alternate,Le!==null?(Le=Le.index,Le<Ee?(Te.flags|=67108866,Ee):Le):(Te.flags|=67108866,Ee)):(Te.flags|=1048576,Ee)}function ee(Te){return l&&Te.alternate===null&&(Te.flags|=67108866),Te}function fe(Te,Ee,Le,Ke){return Ee===null||Ee.tag!==6?(Ee=_m(Le,Te.mode,Ke),Ee.return=Te,Ee):(Ee=_(Ee,Le),Ee.return=Te,Ee)}function _e(Te,Ee,Le,Ke){var pt=Le.type;return pt===v?Ve(Te,Ee,Le.props.children,Ke,Le.key):Ee!==null&&(Ee.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===O&&Cw(pt)===Ee.type)?(Ee=_(Ee,Le.props),vh(Ee,Le),Ee.return=Te,Ee):(Ee=Yo(Le.type,Le.key,Le.props,null,Te.mode,Ke),vh(Ee,Le),Ee.return=Te,Ee)}function $e(Te,Ee,Le,Ke){return Ee===null||Ee.tag!==4||Ee.stateNode.containerInfo!==Le.containerInfo||Ee.stateNode.implementation!==Le.implementation?(Ee=cu(Le,Te.mode,Ke),Ee.return=Te,Ee):(Ee=_(Ee,Le.children||[]),Ee.return=Te,Ee)}function Ve(Te,Ee,Le,Ke,pt){return Ee===null||Ee.tag!==7?(Ee=Nl(Le,Te.mode,Ke,pt),Ee.return=Te,Ee):(Ee=_(Ee,Le),Ee.return=Te,Ee)}function Xe(Te,Ee,Le){if(typeof Ee=="string"&&Ee!==""||typeof Ee=="number"||typeof Ee=="bigint")return Ee=_m(""+Ee,Te.mode,Le),Ee.return=Te,Ee;if(typeof Ee=="object"&&Ee!==null){switch(Ee.$$typeof){case b:return Le=Yo(Ee.type,Ee.key,Ee.props,null,Te.mode,Le),vh(Le,Ee),Le.return=Te,Le;case p:return Ee=cu(Ee,Te.mode,Le),Ee.return=Te,Ee;case O:var Ke=Ee._init;return Ee=Ke(Ee._payload),Xe(Te,Ee,Le)}if(q(Ee)||M(Ee))return Ee=Nl(Ee,Te.mode,Le,null),Ee.return=Te,Ee;if(typeof Ee.then=="function")return Xe(Te,k0(Ee),Le);if(Ee.$$typeof===A)return Xe(Te,mo(Te,Ee),Le);C0(Te,Ee)}return null}function Fe(Te,Ee,Le,Ke){var pt=Ee!==null?Ee.key:null;if(typeof Le=="string"&&Le!==""||typeof Le=="number"||typeof Le=="bigint")return pt!==null?null:fe(Te,Ee,""+Le,Ke);if(typeof Le=="object"&&Le!==null){switch(Le.$$typeof){case b:return Le.key===pt?_e(Te,Ee,Le,Ke):null;case p:return Le.key===pt?$e(Te,Ee,Le,Ke):null;case O:return pt=Le._init,Le=pt(Le._payload),Fe(Te,Ee,Le,Ke)}if(q(Le)||M(Le))return pt!==null?null:Ve(Te,Ee,Le,Ke,null);if(typeof Le.then=="function")return Fe(Te,Ee,k0(Le),Ke);if(Le.$$typeof===A)return Fe(Te,Ee,mo(Te,Le),Ke);C0(Te,Le)}return null}function Be(Te,Ee,Le,Ke,pt){if(typeof Ke=="string"&&Ke!==""||typeof Ke=="number"||typeof Ke=="bigint")return Te=Te.get(Le)||null,fe(Ee,Te,""+Ke,pt);if(typeof Ke=="object"&&Ke!==null){switch(Ke.$$typeof){case b:return Te=Te.get(Ke.key===null?Le:Ke.key)||null,_e(Ee,Te,Ke,pt);case p:return Te=Te.get(Ke.key===null?Le:Ke.key)||null,$e(Ee,Te,Ke,pt);case O:var ir=Ke._init;return Ke=ir(Ke._payload),Be(Te,Ee,Le,Ke,pt)}if(q(Ke)||M(Ke))return Te=Te.get(Le)||null,Ve(Ee,Te,Ke,pt,null);if(typeof Ke.then=="function")return Be(Te,Ee,Le,k0(Ke),pt);if(Ke.$$typeof===A)return Be(Te,Ee,Le,mo(Ee,Ke),pt);C0(Ee,Ke)}return null}function zt(Te,Ee,Le,Ke){for(var pt=null,ir=null,St=Ee,Lt=Ee=0,Ds=null;St!==null&&Lt<Le.length;Lt++){St.index>Lt?(Ds=St,St=null):Ds=St.sibling;var Pr=Fe(Te,St,Le[Lt],Ke);if(Pr===null){St===null&&(St=Ds);break}l&&St&&Pr.alternate===null&&c(Te,St),Ee=L(Pr,Ee,Lt),ir===null?pt=Pr:ir.sibling=Pr,ir=Pr,St=Ds}if(Lt===Le.length)return h(Te,St),Cr&&Ko(Te,Lt),pt;if(St===null){for(;Lt<Le.length;Lt++)St=Xe(Te,Le[Lt],Ke),St!==null&&(Ee=L(St,Ee,Lt),ir===null?pt=St:ir.sibling=St,ir=St);return Cr&&Ko(Te,Lt),pt}for(St=y(St);Lt<Le.length;Lt++)Ds=Be(St,Te,Lt,Le[Lt],Ke),Ds!==null&&(l&&Ds.alternate!==null&&St.delete(Ds.key===null?Lt:Ds.key),Ee=L(Ds,Ee,Lt),ir===null?pt=Ds:ir.sibling=Ds,ir=Ds);return l&&St.forEach(function(bd){return c(Te,bd)}),Cr&&Ko(Te,Lt),pt}function Dt(Te,Ee,Le,Ke){if(Le==null)throw Error(s(151));for(var pt=null,ir=null,St=Ee,Lt=Ee=0,Ds=null,Pr=Le.next();St!==null&&!Pr.done;Lt++,Pr=Le.next()){St.index>Lt?(Ds=St,St=null):Ds=St.sibling;var bd=Fe(Te,St,Pr.value,Ke);if(bd===null){St===null&&(St=Ds);break}l&&St&&bd.alternate===null&&c(Te,St),Ee=L(bd,Ee,Lt),ir===null?pt=bd:ir.sibling=bd,ir=bd,St=Ds}if(Pr.done)return h(Te,St),Cr&&Ko(Te,Lt),pt;if(St===null){for(;!Pr.done;Lt++,Pr=Le.next())Pr=Xe(Te,Pr.value,Ke),Pr!==null&&(Ee=L(Pr,Ee,Lt),ir===null?pt=Pr:ir.sibling=Pr,ir=Pr);return Cr&&Ko(Te,Lt),pt}for(St=y(St);!Pr.done;Lt++,Pr=Le.next())Pr=Be(St,Te,Lt,Pr.value,Ke),Pr!==null&&(l&&Pr.alternate!==null&&St.delete(Pr.key===null?Lt:Pr.key),Ee=L(Pr,Ee,Lt),ir===null?pt=Pr:ir.sibling=Pr,ir=Pr);return l&&St.forEach(function(UL){return c(Te,UL)}),Cr&&Ko(Te,Lt),pt}function Wr(Te,Ee,Le,Ke){if(typeof Le=="object"&&Le!==null&&Le.type===v&&Le.key===null&&(Le=Le.props.children),typeof Le=="object"&&Le!==null){switch(Le.$$typeof){case b:e:{for(var pt=Le.key;Ee!==null;){if(Ee.key===pt){if(pt=Le.type,pt===v){if(Ee.tag===7){h(Te,Ee.sibling),Ke=_(Ee,Le.props.children),Ke.return=Te,Te=Ke;break e}}else if(Ee.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===O&&Cw(pt)===Ee.type){h(Te,Ee.sibling),Ke=_(Ee,Le.props),vh(Ke,Le),Ke.return=Te,Te=Ke;break e}h(Te,Ee);break}else c(Te,Ee);Ee=Ee.sibling}Le.type===v?(Ke=Nl(Le.props.children,Te.mode,Ke,Le.key),Ke.return=Te,Te=Ke):(Ke=Yo(Le.type,Le.key,Le.props,null,Te.mode,Ke),vh(Ke,Le),Ke.return=Te,Te=Ke)}return ee(Te);case p:e:{for(pt=Le.key;Ee!==null;){if(Ee.key===pt)if(Ee.tag===4&&Ee.stateNode.containerInfo===Le.containerInfo&&Ee.stateNode.implementation===Le.implementation){h(Te,Ee.sibling),Ke=_(Ee,Le.children||[]),Ke.return=Te,Te=Ke;break e}else{h(Te,Ee);break}else c(Te,Ee);Ee=Ee.sibling}Ke=cu(Le,Te.mode,Ke),Ke.return=Te,Te=Ke}return ee(Te);case O:return pt=Le._init,Le=pt(Le._payload),Wr(Te,Ee,Le,Ke)}if(q(Le))return zt(Te,Ee,Le,Ke);if(M(Le)){if(pt=M(Le),typeof pt!="function")throw Error(s(150));return Le=pt.call(Le),Dt(Te,Ee,Le,Ke)}if(typeof Le.then=="function")return Wr(Te,Ee,k0(Le),Ke);if(Le.$$typeof===A)return Wr(Te,Ee,mo(Te,Le),Ke);C0(Te,Le)}return typeof Le=="string"&&Le!==""||typeof Le=="number"||typeof Le=="bigint"?(Le=""+Le,Ee!==null&&Ee.tag===6?(h(Te,Ee.sibling),Ke=_(Ee,Le),Ke.return=Te,Te=Ke):(h(Te,Ee),Ke=_m(Le,Te.mode,Ke),Ke.return=Te,Te=Ke),ee(Te)):h(Te,Ee)}return function(Te,Ee,Le,Ke){try{bh=0;var pt=Wr(Te,Ee,Le,Ke);return Mm=null,pt}catch(St){if(St===ie||St===he)throw St;var ir=Es(29,St,null,Te.mode);return ir.lanes=Ke,ir.return=Te,ir}finally{}}}var Rm=Ew(!0),Pw=Ew(!1),tl=be(null),fo=null;function sd(l){var c=l.alternate;re(bs,bs.current&1),re(tl,l),fo===null&&(c===null||Bt.current!==null||c.memoizedState!==null)&&(fo=l)}function Tw(l){if(l.tag===22){if(re(bs,bs.current),re(tl,l),fo===null){var c=l.alternate;c!==null&&c.memoizedState!==null&&(fo=l)}}else nd()}function nd(){re(bs,bs.current),re(tl,tl.current)}function Qo(l){z(tl),fo===l&&(fo=null),z(bs)}var bs=be(0);function E0(l){for(var c=l;c!==null;){if(c.tag===13){var h=c.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||Ub(h)))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===l)break;for(;c.sibling===null;){if(c.return===null||c.return===l)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}function Qy(l,c,h,y){c=l.memoizedState,h=h(y,c),h=h==null?c:f({},c,h),l.memoizedState=h,l.lanes===0&&(l.updateQueue.baseState=h)}var eb={enqueueSetState:function(l,c,h){l=l._reactInternals;var y=gi(),_=He(y);_.payload=c,h!=null&&(_.callback=h),c=Ze(l,_,y),c!==null&&(yi(c,l,y),We(c,l,y))},enqueueReplaceState:function(l,c,h){l=l._reactInternals;var y=gi(),_=He(y);_.tag=1,_.payload=c,h!=null&&(_.callback=h),c=Ze(l,_,y),c!==null&&(yi(c,l,y),We(c,l,y))},enqueueForceUpdate:function(l,c){l=l._reactInternals;var h=gi(),y=He(h);y.tag=2,c!=null&&(y.callback=c),c=Ze(l,y,h),c!==null&&(yi(c,l,h),We(c,l,h))}};function Ow(l,c,h,y,_,L,ee){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(y,L,ee):c.prototype&&c.prototype.isPureReactComponent?!Hi(h,y)||!Hi(_,L):!0}function Dw(l,c,h,y){l=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(h,y),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(h,y),c.state!==l&&eb.enqueueReplaceState(c,c.state,null)}function Nu(l,c){var h=c;if("ref"in c){h={};for(var y in c)y!=="ref"&&(h[y]=c[y])}if(l=l.defaultProps){h===c&&(h=f({},h));for(var _ in l)h[_]===void 0&&(h[_]=l[_])}return h}var P0=typeof reportError=="function"?reportError:function(l){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof l=="object"&&l!==null&&typeof l.message=="string"?String(l.message):String(l),error:l});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",l);return}console.error(l)};function Lw(l){P0(l)}function Mw(l){console.error(l)}function Rw(l){P0(l)}function T0(l,c){try{var h=l.onUncaughtError;h(c.value,{componentStack:c.stack})}catch(y){setTimeout(function(){throw y})}}function $w(l,c,h){try{var y=l.onCaughtError;y(h.value,{componentStack:h.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(_){setTimeout(function(){throw _})}}function tb(l,c,h){return h=He(h),h.tag=3,h.payload={element:null},h.callback=function(){T0(l,c)},h}function Iw(l){return l=He(l),l.tag=3,l}function Fw(l,c,h,y){var _=h.type.getDerivedStateFromError;if(typeof _=="function"){var L=y.value;l.payload=function(){return _(L)},l.callback=function(){$w(c,h,y)}}var ee=h.stateNode;ee!==null&&typeof ee.componentDidCatch=="function"&&(l.callback=function(){$w(c,h,y),typeof _!="function"&&(ud===null?ud=new Set([this]):ud.add(this));var fe=y.stack;this.componentDidCatch(y.value,{componentStack:fe!==null?fe:""})})}function UD(l,c,h,y,_){if(h.flags|=32768,y!==null&&typeof y=="object"&&typeof y.then=="function"){if(c=h.alternate,c!==null&&Qc(c,h,_,!0),h=tl.current,h!==null){switch(h.tag){case 13:return fo===null?_b():h.alternate===null&&Ba===0&&(Ba=3),h.flags&=-257,h.flags|=65536,h.lanes=_,y===ge?h.flags|=16384:(c=h.updateQueue,c===null?h.updateQueue=new Set([y]):c.add(y),kb(l,y,_)),!1;case 22:return h.flags|=65536,y===ge?h.flags|=16384:(c=h.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([y])},h.updateQueue=c):(h=c.retryQueue,h===null?c.retryQueue=new Set([y]):h.add(y)),kb(l,y,_)),!1}throw Error(s(435,h.tag))}return kb(l,y,_),_b(),!1}if(Cr)return c=tl.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=_,y!==sh&&(l=Error(s(422),{cause:y}),Zc(Sn(l,h)))):(y!==sh&&(c=Error(s(423),{cause:y}),Zc(Sn(c,h))),l=l.current.alternate,l.flags|=65536,_&=-_,l.lanes|=_,y=Sn(y,h),_=tb(l.stateNode,y,_),bt(l,_),Ba!==4&&(Ba=2)),!1;var L=Error(s(520),{cause:y});if(L=Sn(L,h),kh===null?kh=[L]:kh.push(L),Ba!==4&&(Ba=2),c===null)return!0;y=Sn(y,h),h=c;do{switch(h.tag){case 3:return h.flags|=65536,l=_&-_,h.lanes|=l,l=tb(h.stateNode,y,l),bt(h,l),!1;case 1:if(c=h.type,L=h.stateNode,(h.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||L!==null&&typeof L.componentDidCatch=="function"&&(ud===null||!ud.has(L))))return h.flags|=65536,_&=-_,h.lanes|=_,_=Iw(_),Fw(_,l,h,y),bt(h,_),!1}h=h.return}while(h!==null);return!1}var Bw=Error(s(461)),Ts=!1;function Zs(l,c,h,y){c.child=l===null?Pw(c,null,h,y):Rm(c,l.child,h,y)}function zw(l,c,h,y,_){h=h.render;var L=c.ref;if("ref"in y){var ee={};for(var fe in y)fe!=="ref"&&(ee[fe]=y[fe])}else ee=y;return Zi(c),y=Cn(l,c,h,ee,L,_),fe=Oa(),l!==null&&!Ts?(Xs(l,c,_),ec(l,c,_)):(Cr&&fe&&du(c),c.flags|=1,Zs(l,c,y,_),c.child)}function Uw(l,c,h,y,_){if(l===null){var L=h.type;return typeof L=="function"&&!Xc(L)&&L.defaultProps===void 0&&h.compare===null?(c.tag=15,c.type=L,qw(l,c,L,y,_)):(l=Yo(h.type,null,y,c,c.mode,_),l.ref=c.ref,l.return=c,c.child=l)}if(L=l.child,!cb(l,_)){var ee=L.memoizedProps;if(h=h.compare,h=h!==null?h:Hi,h(ee,y)&&l.ref===c.ref)return ec(l,c,_)}return c.flags|=1,l=Ki(L,y),l.ref=c.ref,l.return=c,c.child=l}function qw(l,c,h,y,_){if(l!==null){var L=l.memoizedProps;if(Hi(L,y)&&l.ref===c.ref)if(Ts=!1,c.pendingProps=y=L,cb(l,_))(l.flags&131072)!==0&&(Ts=!0);else return c.lanes=l.lanes,ec(l,c,_)}return rb(l,c,h,y,_)}function Hw(l,c,h){var y=c.pendingProps,_=y.children,L=l!==null?l.memoizedState:null;if(y.mode==="hidden"){if((c.flags&128)!==0){if(y=L!==null?L.baseLanes|h:h,l!==null){for(_=c.child=l.child,L=0;_!==null;)L=L|_.lanes|_.childLanes,_=_.sibling;c.childLanes=L&~y}else c.childLanes=0,c.child=null;return Gw(l,c,y,h)}if((h&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},l!==null&&W(c,L!==null?L.cachePool:null),L!==null?nt(c,L):ua(),Tw(c);else return c.lanes=c.childLanes=536870912,Gw(l,c,L!==null?L.baseLanes|h:h,h)}else L!==null?(W(c,L.cachePool),nt(c,L),nd(),c.memoizedState=null):(l!==null&&W(c,null),ua(),nd());return Zs(l,c,_,h),c.child}function Gw(l,c,h,y){var _=H();return _=_===null?null:{parent:Ya._currentValue,pool:_},c.memoizedState={baseLanes:h,cachePool:_},l!==null&&W(c,null),ua(),Tw(c),l!==null&&Qc(l,c,y,!0),null}function O0(l,c){var h=c.ref;if(h===null)l!==null&&l.ref!==null&&(c.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(s(284));(l===null||l.ref!==h)&&(c.flags|=4194816)}}function rb(l,c,h,y,_){return Zi(c),h=Cn(l,c,h,y,void 0,_),y=Oa(),l!==null&&!Ts?(Xs(l,c,_),ec(l,c,_)):(Cr&&y&&du(c),c.flags|=1,Zs(l,c,h,_),c.child)}function Yw(l,c,h,y,_,L){return Zi(c),c.updateQueue=null,h=Ws(c,y,h,_),ja(l),y=Oa(),l!==null&&!Ts?(Xs(l,c,L),ec(l,c,L)):(Cr&&y&&du(c),c.flags|=1,Zs(l,c,h,L),c.child)}function Vw(l,c,h,y,_){if(Zi(c),c.stateNode===null){var L=os,ee=h.contextType;typeof ee=="object"&&ee!==null&&(L=Ga(ee)),L=new h(y,L),c.memoizedState=L.state!==null&&L.state!==void 0?L.state:null,L.updater=eb,c.stateNode=L,L._reactInternals=c,L=c.stateNode,L.props=y,L.state=c.memoizedState,L.refs={},Me(c),ee=h.contextType,L.context=typeof ee=="object"&&ee!==null?Ga(ee):os,L.state=c.memoizedState,ee=h.getDerivedStateFromProps,typeof ee=="function"&&(Qy(c,h,ee,y),L.state=c.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof L.getSnapshotBeforeUpdate=="function"||typeof L.UNSAFE_componentWillMount!="function"&&typeof L.componentWillMount!="function"||(ee=L.state,typeof L.componentWillMount=="function"&&L.componentWillMount(),typeof L.UNSAFE_componentWillMount=="function"&&L.UNSAFE_componentWillMount(),ee!==L.state&&eb.enqueueReplaceState(L,L.state,null),ct(c,y,L,_),qt(),L.state=c.memoizedState),typeof L.componentDidMount=="function"&&(c.flags|=4194308),y=!0}else if(l===null){L=c.stateNode;var fe=c.memoizedProps,_e=Nu(h,fe);L.props=_e;var $e=L.context,Ve=h.contextType;ee=os,typeof Ve=="object"&&Ve!==null&&(ee=Ga(Ve));var Xe=h.getDerivedStateFromProps;Ve=typeof Xe=="function"||typeof L.getSnapshotBeforeUpdate=="function",fe=c.pendingProps!==fe,Ve||typeof L.UNSAFE_componentWillReceiveProps!="function"&&typeof L.componentWillReceiveProps!="function"||(fe||$e!==ee)&&Dw(c,L,y,ee),qe=!1;var Fe=c.memoizedState;L.state=Fe,ct(c,y,L,_),qt(),$e=c.memoizedState,fe||Fe!==$e||qe?(typeof Xe=="function"&&(Qy(c,h,Xe,y),$e=c.memoizedState),(_e=qe||Ow(c,h,_e,y,Fe,$e,ee))?(Ve||typeof L.UNSAFE_componentWillMount!="function"&&typeof L.componentWillMount!="function"||(typeof L.componentWillMount=="function"&&L.componentWillMount(),typeof L.UNSAFE_componentWillMount=="function"&&L.UNSAFE_componentWillMount()),typeof L.componentDidMount=="function"&&(c.flags|=4194308)):(typeof L.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=y,c.memoizedState=$e),L.props=y,L.state=$e,L.context=ee,y=_e):(typeof L.componentDidMount=="function"&&(c.flags|=4194308),y=!1)}else{L=c.stateNode,Ge(l,c),ee=c.memoizedProps,Ve=Nu(h,ee),L.props=Ve,Xe=c.pendingProps,Fe=L.context,$e=h.contextType,_e=os,typeof $e=="object"&&$e!==null&&(_e=Ga($e)),fe=h.getDerivedStateFromProps,($e=typeof fe=="function"||typeof L.getSnapshotBeforeUpdate=="function")||typeof L.UNSAFE_componentWillReceiveProps!="function"&&typeof L.componentWillReceiveProps!="function"||(ee!==Xe||Fe!==_e)&&Dw(c,L,y,_e),qe=!1,Fe=c.memoizedState,L.state=Fe,ct(c,y,L,_),qt();var Be=c.memoizedState;ee!==Xe||Fe!==Be||qe||l!==null&&l.dependencies!==null&&Em(l.dependencies)?(typeof fe=="function"&&(Qy(c,h,fe,y),Be=c.memoizedState),(Ve=qe||Ow(c,h,Ve,y,Fe,Be,_e)||l!==null&&l.dependencies!==null&&Em(l.dependencies))?($e||typeof L.UNSAFE_componentWillUpdate!="function"&&typeof L.componentWillUpdate!="function"||(typeof L.componentWillUpdate=="function"&&L.componentWillUpdate(y,Be,_e),typeof L.UNSAFE_componentWillUpdate=="function"&&L.UNSAFE_componentWillUpdate(y,Be,_e)),typeof L.componentDidUpdate=="function"&&(c.flags|=4),typeof L.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof L.componentDidUpdate!="function"||ee===l.memoizedProps&&Fe===l.memoizedState||(c.flags|=4),typeof L.getSnapshotBeforeUpdate!="function"||ee===l.memoizedProps&&Fe===l.memoizedState||(c.flags|=1024),c.memoizedProps=y,c.memoizedState=Be),L.props=y,L.state=Be,L.context=_e,y=Ve):(typeof L.componentDidUpdate!="function"||ee===l.memoizedProps&&Fe===l.memoizedState||(c.flags|=4),typeof L.getSnapshotBeforeUpdate!="function"||ee===l.memoizedProps&&Fe===l.memoizedState||(c.flags|=1024),y=!1)}return L=y,O0(l,c),y=(c.flags&128)!==0,L||y?(L=c.stateNode,h=y&&typeof h.getDerivedStateFromError!="function"?null:L.render(),c.flags|=1,l!==null&&y?(c.child=Rm(c,l.child,null,_),c.child=Rm(c,null,h,_)):Zs(l,c,h,_),c.memoizedState=L.state,l=c.child):l=ec(l,c,_),l}function Kw(l,c,h,y){return kn(),c.flags|=256,Zs(l,c,h,y),c.child}var ab={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function sb(l){return{baseLanes:l,cachePool:ae()}}function nb(l,c,h){return l=l!==null?l.childLanes&~h:0,c&&(l|=rl),l}function Ww(l,c,h){var y=c.pendingProps,_=!1,L=(c.flags&128)!==0,ee;if((ee=L)||(ee=l!==null&&l.memoizedState===null?!1:(bs.current&2)!==0),ee&&(_=!0,c.flags&=-129),ee=(c.flags&32)!==0,c.flags&=-33,l===null){if(Cr){if(_?sd(c):nd(),Cr){var fe=ya,_e;if(_e=fe){e:{for(_e=fe,fe=Wi;_e.nodeType!==8;){if(!fe){fe=null;break e}if(_e=Ll(_e.nextSibling),_e===null){fe=null;break e}}fe=_e}fe!==null?(c.memoizedState={dehydrated:fe,treeContext:Vo!==null?{id:Sl,overflow:_l}:null,retryLane:536870912,hydrationErrors:null},_e=Es(18,null,null,0),_e.stateNode=fe,_e.return=c,c.child=_e,Ha=c,ya=null,_e=!0):_e=!1}_e||Wo(c)}if(fe=c.memoizedState,fe!==null&&(fe=fe.dehydrated,fe!==null))return Ub(fe)?c.lanes=32:c.lanes=536870912,null;Qo(c)}return fe=y.children,y=y.fallback,_?(nd(),_=c.mode,fe=D0({mode:"hidden",children:fe},_),y=Nl(y,_,h,null),fe.return=c,y.return=c,fe.sibling=y,c.child=fe,_=c.child,_.memoizedState=sb(h),_.childLanes=nb(l,ee,h),c.memoizedState=ab,y):(sd(c),ib(c,fe))}if(_e=l.memoizedState,_e!==null&&(fe=_e.dehydrated,fe!==null)){if(L)c.flags&256?(sd(c),c.flags&=-257,c=lb(l,c,h)):c.memoizedState!==null?(nd(),c.child=l.child,c.flags|=128,c=null):(nd(),_=y.fallback,fe=c.mode,y=D0({mode:"visible",children:y.children},fe),_=Nl(_,fe,h,null),_.flags|=2,y.return=c,_.return=c,y.sibling=_,c.child=y,Rm(c,l.child,null,h),y=c.child,y.memoizedState=sb(h),y.childLanes=nb(l,ee,h),c.memoizedState=ab,c=_);else if(sd(c),Ub(fe)){if(ee=fe.nextSibling&&fe.nextSibling.dataset,ee)var $e=ee.dgst;ee=$e,y=Error(s(419)),y.stack="",y.digest=ee,Zc({value:y,source:null,stack:null}),c=lb(l,c,h)}else if(Ts||Qc(l,c,h,!1),ee=(h&l.childLanes)!==0,Ts||ee){if(ee=la,ee!==null&&(y=h&-h,y=(y&42)!==0?1:ss(y),y=(y&(ee.suspendedLanes|h))!==0?0:y,y!==0&&y!==_e.retryLane))throw _e.retryLane=y,Ho(l,y),yi(ee,l,y),Bw;fe.data==="$?"||_b(),c=lb(l,c,h)}else fe.data==="$?"?(c.flags|=192,c.child=l.child,c=null):(l=_e.treeContext,ya=Ll(fe.nextSibling),Ha=c,Cr=!0,co=null,Wi=!1,l!==null&&(Hn[An++]=Sl,Hn[An++]=_l,Hn[An++]=Vo,Sl=l.id,_l=l.overflow,Vo=c),c=ib(c,y.children),c.flags|=4096);return c}return _?(nd(),_=y.fallback,fe=c.mode,_e=l.child,$e=_e.sibling,y=Ki(_e,{mode:"hidden",children:y.children}),y.subtreeFlags=_e.subtreeFlags&65011712,$e!==null?_=Ki($e,_):(_=Nl(_,fe,h,null),_.flags|=2),_.return=c,y.return=c,y.sibling=_,c.child=y,y=_,_=c.child,fe=l.child.memoizedState,fe===null?fe=sb(h):(_e=fe.cachePool,_e!==null?($e=Ya._currentValue,_e=_e.parent!==$e?{parent:$e,pool:$e}:_e):_e=ae(),fe={baseLanes:fe.baseLanes|h,cachePool:_e}),_.memoizedState=fe,_.childLanes=nb(l,ee,h),c.memoizedState=ab,y):(sd(c),h=l.child,l=h.sibling,h=Ki(h,{mode:"visible",children:y.children}),h.return=c,h.sibling=null,l!==null&&(ee=c.deletions,ee===null?(c.deletions=[l],c.flags|=16):ee.push(l)),c.child=h,c.memoizedState=null,h)}function ib(l,c){return c=D0({mode:"visible",children:c},l.mode),c.return=l,l.child=c}function D0(l,c){return l=Es(22,l,null,c),l.lanes=0,l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},l}function lb(l,c,h){return Rm(c,l.child,null,h),l=ib(c,c.pendingProps.children),l.flags|=2,c.memoizedState=null,l}function Xw(l,c,h){l.lanes|=c;var y=l.alternate;y!==null&&(y.lanes|=c),km(l.return,c,h)}function ob(l,c,h,y,_){var L=l.memoizedState;L===null?l.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:y,tail:h,tailMode:_}:(L.isBackwards=c,L.rendering=null,L.renderingStartTime=0,L.last=y,L.tail=h,L.tailMode=_)}function Jw(l,c,h){var y=c.pendingProps,_=y.revealOrder,L=y.tail;if(Zs(l,c,y.children,h),y=bs.current,(y&2)!==0)y=y&1|2,c.flags|=128;else{if(l!==null&&(l.flags&128)!==0)e:for(l=c.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&Xw(l,h,c);else if(l.tag===19)Xw(l,h,c);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===c)break e;for(;l.sibling===null;){if(l.return===null||l.return===c)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}y&=1}switch(re(bs,y),_){case"forwards":for(h=c.child,_=null;h!==null;)l=h.alternate,l!==null&&E0(l)===null&&(_=h),h=h.sibling;h=_,h===null?(_=c.child,c.child=null):(_=h.sibling,h.sibling=null),ob(c,!1,_,h,L);break;case"backwards":for(h=null,_=c.child,c.child=null;_!==null;){if(l=_.alternate,l!==null&&E0(l)===null){c.child=_;break}l=_.sibling,_.sibling=h,h=_,_=l}ob(c,!0,h,null,L);break;case"together":ob(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function ec(l,c,h){if(l!==null&&(c.dependencies=l.dependencies),dd|=c.lanes,(h&c.childLanes)===0)if(l!==null){if(Qc(l,c,h,!1),(h&c.childLanes)===0)return null}else return null;if(l!==null&&c.child!==l.child)throw Error(s(153));if(c.child!==null){for(l=c.child,h=Ki(l,l.pendingProps),c.child=h,h.return=c;l.sibling!==null;)l=l.sibling,h=h.sibling=Ki(l,l.pendingProps),h.return=c;h.sibling=null}return c.child}function cb(l,c){return(l.lanes&c)!==0?!0:(l=l.dependencies,!!(l!==null&&Em(l)))}function qD(l,c,h){switch(c.tag){case 3:ne(c,c.stateNode.containerInfo),uo(c,Ya,l.memoizedState.cache),kn();break;case 27:case 5:Ae(c);break;case 4:ne(c,c.stateNode.containerInfo);break;case 10:uo(c,c.type,c.memoizedProps.value);break;case 13:var y=c.memoizedState;if(y!==null)return y.dehydrated!==null?(sd(c),c.flags|=128,null):(h&c.child.childLanes)!==0?Ww(l,c,h):(sd(c),l=ec(l,c,h),l!==null?l.sibling:null);sd(c);break;case 19:var _=(l.flags&128)!==0;if(y=(h&c.childLanes)!==0,y||(Qc(l,c,h,!1),y=(h&c.childLanes)!==0),_){if(y)return Jw(l,c,h);c.flags|=128}if(_=c.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),re(bs,bs.current),y)break;return null;case 22:case 23:return c.lanes=0,Hw(l,c,h);case 24:uo(c,Ya,l.memoizedState.cache)}return ec(l,c,h)}function Zw(l,c,h){if(l!==null)if(l.memoizedProps!==c.pendingProps)Ts=!0;else{if(!cb(l,h)&&(c.flags&128)===0)return Ts=!1,qD(l,c,h);Ts=(l.flags&131072)!==0}else Ts=!1,Cr&&(c.flags&1048576)!==0&&c0(c,Am,c.index);switch(c.lanes=0,c.tag){case 16:e:{l=c.pendingProps;var y=c.elementType,_=y._init;if(y=_(y._payload),c.type=y,typeof y=="function")Xc(y)?(l=Nu(y,l),c.tag=1,c=Vw(null,c,y,l,h)):(c.tag=0,c=rb(null,c,y,l,h));else{if(y!=null){if(_=y.$$typeof,_===D){c.tag=11,c=zw(null,c,y,l,h);break e}else if(_===E){c.tag=14,c=Uw(null,c,y,l,h);break e}}throw c=K(y)||y,Error(s(306,c,""))}}return c;case 0:return rb(l,c,c.type,c.pendingProps,h);case 1:return y=c.type,_=Nu(y,c.pendingProps),Vw(l,c,y,_,h);case 3:e:{if(ne(c,c.stateNode.containerInfo),l===null)throw Error(s(387));y=c.pendingProps;var L=c.memoizedState;_=L.element,Ge(l,c),ct(c,y,null,h);var ee=c.memoizedState;if(y=ee.cache,uo(c,Ya,y),y!==L.cache&&Cm(c,[Ya],h,!0),qt(),y=ee.element,L.isDehydrated)if(L={element:y,isDehydrated:!1,cache:ee.cache},c.updateQueue.baseState=L,c.memoizedState=L,c.flags&256){c=Kw(l,c,y,h);break e}else if(y!==_){_=Sn(Error(s(424)),c),Zc(_),c=Kw(l,c,y,h);break e}else{switch(l=c.stateNode.containerInfo,l.nodeType){case 9:l=l.body;break;default:l=l.nodeName==="HTML"?l.ownerDocument.body:l}for(ya=Ll(l.firstChild),Ha=c,Cr=!0,co=null,Wi=!0,h=Pw(c,null,y,h),c.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling}else{if(kn(),y===_){c=ec(l,c,h);break e}Zs(l,c,y,h)}c=c.child}return c;case 26:return O0(l,c),l===null?(h=r4(c.type,null,c.pendingProps,null))?c.memoizedState=h:Cr||(h=c.type,l=c.pendingProps,y=V0(ve.current).createElement(h),y[sa]=c,y[Xr]=l,en(y,h,l),ia(y),c.stateNode=y):c.memoizedState=r4(c.type,l.memoizedProps,c.pendingProps,l.memoizedState),null;case 27:return Ae(c),l===null&&Cr&&(y=c.stateNode=Q3(c.type,c.pendingProps,ve.current),Ha=c,Wi=!0,_=ya,hd(c.type)?(qb=_,ya=Ll(y.firstChild)):ya=_),Zs(l,c,c.pendingProps.children,h),O0(l,c),l===null&&(c.flags|=4194304),c.child;case 5:return l===null&&Cr&&((_=y=ya)&&(y=gL(y,c.type,c.pendingProps,Wi),y!==null?(c.stateNode=y,Ha=c,ya=Ll(y.firstChild),Wi=!1,_=!0):_=!1),_||Wo(c)),Ae(c),_=c.type,L=c.pendingProps,ee=l!==null?l.memoizedProps:null,y=L.children,Fb(_,L)?y=null:ee!==null&&Fb(_,ee)&&(c.flags|=32),c.memoizedState!==null&&(_=Cn(l,c,zr,null,null,h),Rh._currentValue=_),O0(l,c),Zs(l,c,y,h),c.child;case 6:return l===null&&Cr&&((l=h=ya)&&(h=yL(h,c.pendingProps,Wi),h!==null?(c.stateNode=h,Ha=c,ya=null,l=!0):l=!1),l||Wo(c)),null;case 13:return Ww(l,c,h);case 4:return ne(c,c.stateNode.containerInfo),y=c.pendingProps,l===null?c.child=Rm(c,null,y,h):Zs(l,c,y,h),c.child;case 11:return zw(l,c,c.type,c.pendingProps,h);case 7:return Zs(l,c,c.pendingProps,h),c.child;case 8:return Zs(l,c,c.pendingProps.children,h),c.child;case 12:return Zs(l,c,c.pendingProps.children,h),c.child;case 10:return y=c.pendingProps,uo(c,c.type,y.value),Zs(l,c,y.children,h),c.child;case 9:return _=c.type._context,y=c.pendingProps.children,Zi(c),_=Ga(_),y=y(_),c.flags|=1,Zs(l,c,y,h),c.child;case 14:return Uw(l,c,c.type,c.pendingProps,h);case 15:return qw(l,c,c.type,c.pendingProps,h);case 19:return Jw(l,c,h);case 31:return y=c.pendingProps,h=c.mode,y={mode:y.mode,children:y.children},l===null?(h=D0(y,h),h.ref=c.ref,c.child=h,h.return=c,c=h):(h=Ki(l.child,y),h.ref=c.ref,c.child=h,h.return=c,c=h),c;case 22:return Hw(l,c,h);case 24:return Zi(c),y=Ga(Ya),l===null?(_=H(),_===null&&(_=la,L=nh(),_.pooledCache=L,L.refCount++,L!==null&&(_.pooledCacheLanes|=h),_=L),c.memoizedState={parent:y,cache:_},Me(c),uo(c,Ya,_)):((l.lanes&h)!==0&&(Ge(l,c),ct(c,null,null,h),qt()),_=l.memoizedState,L=c.memoizedState,_.parent!==y?(_={parent:y,cache:y},c.memoizedState=_,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=_),uo(c,Ya,y)):(y=L.cache,uo(c,Ya,y),y!==_.cache&&Cm(c,[Ya],h,!0))),Zs(l,c,c.pendingProps.children,h),c.child;case 29:throw c.pendingProps}throw Error(s(156,c.tag))}function tc(l){l.flags|=4}function Qw(l,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)l.flags&=-16777217;else if(l.flags|=16777216,!l4(c)){if(c=tl.current,c!==null&&((Nr&4194048)===Nr?fo!==null:(Nr&62914560)!==Nr&&(Nr&536870912)===0||c!==fo))throw je=ge,ue;l.flags|=8192}}function L0(l,c){c!==null&&(l.flags|=4),l.flags&16384&&(c=l.tag!==22?pa():536870912,l.lanes|=c,Bm|=c)}function jh(l,c){if(!Cr)switch(l.tailMode){case"hidden":c=l.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?l.tail=null:h.sibling=null;break;case"collapsed":h=l.tail;for(var y=null;h!==null;)h.alternate!==null&&(y=h),h=h.sibling;y===null?c||l.tail===null?l.tail=null:l.tail.sibling=null:y.sibling=null}}function Da(l){var c=l.alternate!==null&&l.alternate.child===l.child,h=0,y=0;if(c)for(var _=l.child;_!==null;)h|=_.lanes|_.childLanes,y|=_.subtreeFlags&65011712,y|=_.flags&65011712,_.return=l,_=_.sibling;else for(_=l.child;_!==null;)h|=_.lanes|_.childLanes,y|=_.subtreeFlags,y|=_.flags,_.return=l,_=_.sibling;return l.subtreeFlags|=y,l.childLanes=h,c}function HD(l,c,h){var y=c.pendingProps;switch(uu(c),c.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Da(c),null;case 1:return Da(c),null;case 3:return h=c.stateNode,y=null,l!==null&&(y=l.memoizedState.cache),c.memoizedState.cache!==y&&(c.flags|=2048),Ji(Ya),te(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(l===null||l.child===null)&&(Ks(c)?tc(c):l===null||l.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,u0())),Da(c),null;case 26:return h=c.memoizedState,l===null?(tc(c),h!==null?(Da(c),Qw(c,h)):(Da(c),c.flags&=-16777217)):h?h!==l.memoizedState?(tc(c),Da(c),Qw(c,h)):(Da(c),c.flags&=-16777217):(l.memoizedProps!==y&&tc(c),Da(c),c.flags&=-16777217),null;case 27:we(c),h=ve.current;var _=c.type;if(l!==null&&c.stateNode!=null)l.memoizedProps!==y&&tc(c);else{if(!y){if(c.stateNode===null)throw Error(s(166));return Da(c),null}l=G.current,Ks(c)?d0(c):(l=Q3(_,y,h),c.stateNode=l,tc(c))}return Da(c),null;case 5:if(we(c),h=c.type,l!==null&&c.stateNode!=null)l.memoizedProps!==y&&tc(c);else{if(!y){if(c.stateNode===null)throw Error(s(166));return Da(c),null}if(l=G.current,Ks(c))d0(c);else{switch(_=V0(ve.current),l){case 1:l=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:l=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":l=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":l=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":l=_.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild);break;case"select":l=typeof y.is=="string"?_.createElement("select",{is:y.is}):_.createElement("select"),y.multiple?l.multiple=!0:y.size&&(l.size=y.size);break;default:l=typeof y.is=="string"?_.createElement(h,{is:y.is}):_.createElement(h)}}l[sa]=c,l[Xr]=y;e:for(_=c.child;_!==null;){if(_.tag===5||_.tag===6)l.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===c)break e;for(;_.sibling===null;){if(_.return===null||_.return===c)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}c.stateNode=l;e:switch(en(l,h,y),h){case"button":case"input":case"select":case"textarea":l=!!y.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&tc(c)}}return Da(c),c.flags&=-16777217,null;case 6:if(l&&c.stateNode!=null)l.memoizedProps!==y&&tc(c);else{if(typeof y!="string"&&c.stateNode===null)throw Error(s(166));if(l=ve.current,Ks(c)){if(l=c.stateNode,h=c.memoizedProps,y=null,_=Ha,_!==null)switch(_.tag){case 27:case 5:y=_.memoizedProps}l[sa]=c,l=!!(l.nodeValue===h||y!==null&&y.suppressHydrationWarning===!0||Y3(l.nodeValue,h)),l||Wo(c)}else l=V0(l).createTextNode(y),l[sa]=c,c.stateNode=l}return Da(c),null;case 13:if(y=c.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(_=Ks(c),y!==null&&y.dehydrated!==null){if(l===null){if(!_)throw Error(s(318));if(_=c.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(s(317));_[sa]=c}else kn(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Da(c),_=!1}else _=u0(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=_),_=!0;if(!_)return c.flags&256?(Qo(c),c):(Qo(c),null)}if(Qo(c),(c.flags&128)!==0)return c.lanes=h,c;if(h=y!==null,l=l!==null&&l.memoizedState!==null,h){y=c.child,_=null,y.alternate!==null&&y.alternate.memoizedState!==null&&y.alternate.memoizedState.cachePool!==null&&(_=y.alternate.memoizedState.cachePool.pool);var L=null;y.memoizedState!==null&&y.memoizedState.cachePool!==null&&(L=y.memoizedState.cachePool.pool),L!==_&&(y.flags|=2048)}return h!==l&&h&&(c.child.flags|=8192),L0(c,c.updateQueue),Da(c),null;case 4:return te(),l===null&&Lb(c.stateNode.containerInfo),Da(c),null;case 10:return Ji(c.type),Da(c),null;case 19:if(z(bs),_=c.memoizedState,_===null)return Da(c),null;if(y=(c.flags&128)!==0,L=_.rendering,L===null)if(y)jh(_,!1);else{if(Ba!==0||l!==null&&(l.flags&128)!==0)for(l=c.child;l!==null;){if(L=E0(l),L!==null){for(c.flags|=128,jh(_,!1),l=L.updateQueue,c.updateQueue=l,L0(c,l),c.subtreeFlags=0,l=h,h=c.child;h!==null;)ou(h,l),h=h.sibling;return re(bs,bs.current&1|2),c.child}l=l.sibling}_.tail!==null&&rt()>$0&&(c.flags|=128,y=!0,jh(_,!1),c.lanes=4194304)}else{if(!y)if(l=E0(L),l!==null){if(c.flags|=128,y=!0,l=l.updateQueue,c.updateQueue=l,L0(c,l),jh(_,!0),_.tail===null&&_.tailMode==="hidden"&&!L.alternate&&!Cr)return Da(c),null}else 2*rt()-_.renderingStartTime>$0&&h!==536870912&&(c.flags|=128,y=!0,jh(_,!1),c.lanes=4194304);_.isBackwards?(L.sibling=c.child,c.child=L):(l=_.last,l!==null?l.sibling=L:c.child=L,_.last=L)}return _.tail!==null?(c=_.tail,_.rendering=c,_.tail=c.sibling,_.renderingStartTime=rt(),c.sibling=null,l=bs.current,re(bs,y?l&1|2:l&1),c):(Da(c),null);case 22:case 23:return Qo(c),Ht(),y=c.memoizedState!==null,l!==null?l.memoizedState!==null!==y&&(c.flags|=8192):y&&(c.flags|=8192),y?(h&536870912)!==0&&(c.flags&128)===0&&(Da(c),c.subtreeFlags&6&&(c.flags|=8192)):Da(c),h=c.updateQueue,h!==null&&L0(c,h.retryQueue),h=null,l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(h=l.memoizedState.cachePool.pool),y=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(y=c.memoizedState.cachePool.pool),y!==h&&(c.flags|=2048),l!==null&&z(C),null;case 24:return h=null,l!==null&&(h=l.memoizedState.cache),c.memoizedState.cache!==h&&(c.flags|=2048),Ji(Ya),Da(c),null;case 25:return null;case 30:return null}throw Error(s(156,c.tag))}function GD(l,c){switch(uu(c),c.tag){case 1:return l=c.flags,l&65536?(c.flags=l&-65537|128,c):null;case 3:return Ji(Ya),te(),l=c.flags,(l&65536)!==0&&(l&128)===0?(c.flags=l&-65537|128,c):null;case 26:case 27:case 5:return we(c),null;case 13:if(Qo(c),l=c.memoizedState,l!==null&&l.dehydrated!==null){if(c.alternate===null)throw Error(s(340));kn()}return l=c.flags,l&65536?(c.flags=l&-65537|128,c):null;case 19:return z(bs),null;case 4:return te(),null;case 10:return Ji(c.type),null;case 22:case 23:return Qo(c),Ht(),l!==null&&z(C),l=c.flags,l&65536?(c.flags=l&-65537|128,c):null;case 24:return Ji(Ya),null;case 25:return null;default:return null}}function e3(l,c){switch(uu(c),c.tag){case 3:Ji(Ya),te();break;case 26:case 27:case 5:we(c);break;case 4:te();break;case 13:Qo(c);break;case 19:z(bs);break;case 10:Ji(c.type);break;case 22:case 23:Qo(c),Ht(),l!==null&&z(C);break;case 24:Ji(Ya)}}function Nh(l,c){try{var h=c.updateQueue,y=h!==null?h.lastEffect:null;if(y!==null){var _=y.next;h=_;do{if((h.tag&l)===l){y=void 0;var L=h.create,ee=h.inst;y=L(),ee.destroy=y}h=h.next}while(h!==_)}}catch(fe){Qr(c,c.return,fe)}}function id(l,c,h){try{var y=c.updateQueue,_=y!==null?y.lastEffect:null;if(_!==null){var L=_.next;y=L;do{if((y.tag&l)===l){var ee=y.inst,fe=ee.destroy;if(fe!==void 0){ee.destroy=void 0,_=c;var _e=h,$e=fe;try{$e()}catch(Ve){Qr(_,_e,Ve)}}}y=y.next}while(y!==L)}}catch(Ve){Qr(c,c.return,Ve)}}function t3(l){var c=l.updateQueue;if(c!==null){var h=l.stateNode;try{Fa(c,h)}catch(y){Qr(l,l.return,y)}}}function r3(l,c,h){h.props=Nu(l.type,l.memoizedProps),h.state=l.memoizedState;try{h.componentWillUnmount()}catch(y){Qr(l,c,y)}}function wh(l,c){try{var h=l.ref;if(h!==null){switch(l.tag){case 26:case 27:case 5:var y=l.stateNode;break;case 30:y=l.stateNode;break;default:y=l.stateNode}typeof h=="function"?l.refCleanup=h(y):h.current=y}}catch(_){Qr(l,c,_)}}function ho(l,c){var h=l.ref,y=l.refCleanup;if(h!==null)if(typeof y=="function")try{y()}catch(_){Qr(l,c,_)}finally{l.refCleanup=null,l=l.alternate,l!=null&&(l.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(_){Qr(l,c,_)}else h.current=null}function a3(l){var c=l.type,h=l.memoizedProps,y=l.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":h.autoFocus&&y.focus();break e;case"img":h.src?y.src=h.src:h.srcSet&&(y.srcset=h.srcSet)}}catch(_){Qr(l,l.return,_)}}function db(l,c,h){try{var y=l.stateNode;mL(y,l.type,h,c),y[Xr]=c}catch(_){Qr(l,l.return,_)}}function s3(l){return l.tag===5||l.tag===3||l.tag===26||l.tag===27&&hd(l.type)||l.tag===4}function ub(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||s3(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.tag===27&&hd(l.type)||l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function mb(l,c,h){var y=l.tag;if(y===5||y===6)l=l.stateNode,c?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(l,c):(c=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,c.appendChild(l),h=h._reactRootContainer,h!=null||c.onclick!==null||(c.onclick=Y0));else if(y!==4&&(y===27&&hd(l.type)&&(h=l.stateNode,c=null),l=l.child,l!==null))for(mb(l,c,h),l=l.sibling;l!==null;)mb(l,c,h),l=l.sibling}function M0(l,c,h){var y=l.tag;if(y===5||y===6)l=l.stateNode,c?h.insertBefore(l,c):h.appendChild(l);else if(y!==4&&(y===27&&hd(l.type)&&(h=l.stateNode),l=l.child,l!==null))for(M0(l,c,h),l=l.sibling;l!==null;)M0(l,c,h),l=l.sibling}function n3(l){var c=l.stateNode,h=l.memoizedProps;try{for(var y=l.type,_=c.attributes;_.length;)c.removeAttributeNode(_[0]);en(c,y,h),c[sa]=l,c[Xr]=h}catch(L){Qr(l,l.return,L)}}var rc=!1,Xa=!1,fb=!1,i3=typeof WeakSet=="function"?WeakSet:Set,Os=null;function YD(l,c){if(l=l.containerInfo,$b=Q0,l=Kc(l),Ys(l)){if("selectionStart"in l)var h={start:l.selectionStart,end:l.selectionEnd};else e:{h=(h=l.ownerDocument)&&h.defaultView||window;var y=h.getSelection&&h.getSelection();if(y&&y.rangeCount!==0){h=y.anchorNode;var _=y.anchorOffset,L=y.focusNode;y=y.focusOffset;try{h.nodeType,L.nodeType}catch{h=null;break e}var ee=0,fe=-1,_e=-1,$e=0,Ve=0,Xe=l,Fe=null;t:for(;;){for(var Be;Xe!==h||_!==0&&Xe.nodeType!==3||(fe=ee+_),Xe!==L||y!==0&&Xe.nodeType!==3||(_e=ee+y),Xe.nodeType===3&&(ee+=Xe.nodeValue.length),(Be=Xe.firstChild)!==null;)Fe=Xe,Xe=Be;for(;;){if(Xe===l)break t;if(Fe===h&&++$e===_&&(fe=ee),Fe===L&&++Ve===y&&(_e=ee),(Be=Xe.nextSibling)!==null)break;Xe=Fe,Fe=Xe.parentNode}Xe=Be}h=fe===-1||_e===-1?null:{start:fe,end:_e}}else h=null}h=h||{start:0,end:0}}else h=null;for(Ib={focusedElem:l,selectionRange:h},Q0=!1,Os=c;Os!==null;)if(c=Os,l=c.child,(c.subtreeFlags&1024)!==0&&l!==null)l.return=c,Os=l;else for(;Os!==null;){switch(c=Os,L=c.alternate,l=c.flags,c.tag){case 0:break;case 11:case 15:break;case 1:if((l&1024)!==0&&L!==null){l=void 0,h=c,_=L.memoizedProps,L=L.memoizedState,y=h.stateNode;try{var zt=Nu(h.type,_,h.elementType===h.type);l=y.getSnapshotBeforeUpdate(zt,L),y.__reactInternalSnapshotBeforeUpdate=l}catch(Dt){Qr(h,h.return,Dt)}}break;case 3:if((l&1024)!==0){if(l=c.stateNode.containerInfo,h=l.nodeType,h===9)zb(l);else if(h===1)switch(l.nodeName){case"HEAD":case"HTML":case"BODY":zb(l);break;default:l.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((l&1024)!==0)throw Error(s(163))}if(l=c.sibling,l!==null){l.return=c.return,Os=l;break}Os=c.return}}function l3(l,c,h){var y=h.flags;switch(h.tag){case 0:case 11:case 15:ld(l,h),y&4&&Nh(5,h);break;case 1:if(ld(l,h),y&4)if(l=h.stateNode,c===null)try{l.componentDidMount()}catch(ee){Qr(h,h.return,ee)}else{var _=Nu(h.type,c.memoizedProps);c=c.memoizedState;try{l.componentDidUpdate(_,c,l.__reactInternalSnapshotBeforeUpdate)}catch(ee){Qr(h,h.return,ee)}}y&64&&t3(h),y&512&&wh(h,h.return);break;case 3:if(ld(l,h),y&64&&(l=h.updateQueue,l!==null)){if(c=null,h.child!==null)switch(h.child.tag){case 27:case 5:c=h.child.stateNode;break;case 1:c=h.child.stateNode}try{Fa(l,c)}catch(ee){Qr(h,h.return,ee)}}break;case 27:c===null&&y&4&&n3(h);case 26:case 5:ld(l,h),c===null&&y&4&&a3(h),y&512&&wh(h,h.return);break;case 12:ld(l,h);break;case 13:ld(l,h),y&4&&d3(l,h),y&64&&(l=h.memoizedState,l!==null&&(l=l.dehydrated,l!==null&&(h=tL.bind(null,h),bL(l,h))));break;case 22:if(y=h.memoizedState!==null||rc,!y){c=c!==null&&c.memoizedState!==null||Xa,_=rc;var L=Xa;rc=y,(Xa=c)&&!L?od(l,h,(h.subtreeFlags&8772)!==0):ld(l,h),rc=_,Xa=L}break;case 30:break;default:ld(l,h)}}function o3(l){var c=l.alternate;c!==null&&(l.alternate=null,o3(c)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(c=l.stateNode,c!==null&&bn(c)),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}var Na=null,Gn=!1;function ac(l,c,h){for(h=h.child;h!==null;)c3(l,c,h),h=h.sibling}function c3(l,c,h){if(er&&typeof er.onCommitFiberUnmount=="function")try{er.onCommitFiberUnmount(Rt,h)}catch{}switch(h.tag){case 26:Xa||ho(h,c),ac(l,c,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:Xa||ho(h,c);var y=Na,_=Gn;hd(h.type)&&(Na=h.stateNode,Gn=!1),ac(l,c,h),Oh(h.stateNode),Na=y,Gn=_;break;case 5:Xa||ho(h,c);case 6:if(y=Na,_=Gn,Na=null,ac(l,c,h),Na=y,Gn=_,Na!==null)if(Gn)try{(Na.nodeType===9?Na.body:Na.nodeName==="HTML"?Na.ownerDocument.body:Na).removeChild(h.stateNode)}catch(L){Qr(h,c,L)}else try{Na.removeChild(h.stateNode)}catch(L){Qr(h,c,L)}break;case 18:Na!==null&&(Gn?(l=Na,J3(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,h.stateNode),Bh(l)):J3(Na,h.stateNode));break;case 4:y=Na,_=Gn,Na=h.stateNode.containerInfo,Gn=!0,ac(l,c,h),Na=y,Gn=_;break;case 0:case 11:case 14:case 15:Xa||id(2,h,c),Xa||id(4,h,c),ac(l,c,h);break;case 1:Xa||(ho(h,c),y=h.stateNode,typeof y.componentWillUnmount=="function"&&r3(h,c,y)),ac(l,c,h);break;case 21:ac(l,c,h);break;case 22:Xa=(y=Xa)||h.memoizedState!==null,ac(l,c,h),Xa=y;break;default:ac(l,c,h)}}function d3(l,c){if(c.memoizedState===null&&(l=c.alternate,l!==null&&(l=l.memoizedState,l!==null&&(l=l.dehydrated,l!==null))))try{Bh(l)}catch(h){Qr(c,c.return,h)}}function VD(l){switch(l.tag){case 13:case 19:var c=l.stateNode;return c===null&&(c=l.stateNode=new i3),c;case 22:return l=l.stateNode,c=l._retryCache,c===null&&(c=l._retryCache=new i3),c;default:throw Error(s(435,l.tag))}}function hb(l,c){var h=VD(l);c.forEach(function(y){var _=rL.bind(null,l,y);h.has(y)||(h.add(y),y.then(_,_))})}function hi(l,c){var h=c.deletions;if(h!==null)for(var y=0;y<h.length;y++){var _=h[y],L=l,ee=c,fe=ee;e:for(;fe!==null;){switch(fe.tag){case 27:if(hd(fe.type)){Na=fe.stateNode,Gn=!1;break e}break;case 5:Na=fe.stateNode,Gn=!1;break e;case 3:case 4:Na=fe.stateNode.containerInfo,Gn=!0;break e}fe=fe.return}if(Na===null)throw Error(s(160));c3(L,ee,_),Na=null,Gn=!1,L=_.alternate,L!==null&&(L.return=null),_.return=null}if(c.subtreeFlags&13878)for(c=c.child;c!==null;)u3(c,l),c=c.sibling}var Dl=null;function u3(l,c){var h=l.alternate,y=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:hi(c,l),xi(l),y&4&&(id(3,l,l.return),Nh(3,l),id(5,l,l.return));break;case 1:hi(c,l),xi(l),y&512&&(Xa||h===null||ho(h,h.return)),y&64&&rc&&(l=l.updateQueue,l!==null&&(y=l.callbacks,y!==null&&(h=l.shared.hiddenCallbacks,l.shared.hiddenCallbacks=h===null?y:h.concat(y))));break;case 26:var _=Dl;if(hi(c,l),xi(l),y&512&&(Xa||h===null||ho(h,h.return)),y&4){var L=h!==null?h.memoizedState:null;if(y=l.memoizedState,h===null)if(y===null)if(l.stateNode===null){e:{y=l.type,h=l.memoizedProps,_=_.ownerDocument||_;t:switch(y){case"title":L=_.getElementsByTagName("title")[0],(!L||L[Ln]||L[sa]||L.namespaceURI==="http://www.w3.org/2000/svg"||L.hasAttribute("itemprop"))&&(L=_.createElement(y),_.head.insertBefore(L,_.querySelector("head > title"))),en(L,y,h),L[sa]=l,ia(L),y=L;break e;case"link":var ee=n4("link","href",_).get(y+(h.href||""));if(ee){for(var fe=0;fe<ee.length;fe++)if(L=ee[fe],L.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&L.getAttribute("rel")===(h.rel==null?null:h.rel)&&L.getAttribute("title")===(h.title==null?null:h.title)&&L.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){ee.splice(fe,1);break t}}L=_.createElement(y),en(L,y,h),_.head.appendChild(L);break;case"meta":if(ee=n4("meta","content",_).get(y+(h.content||""))){for(fe=0;fe<ee.length;fe++)if(L=ee[fe],L.getAttribute("content")===(h.content==null?null:""+h.content)&&L.getAttribute("name")===(h.name==null?null:h.name)&&L.getAttribute("property")===(h.property==null?null:h.property)&&L.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&L.getAttribute("charset")===(h.charSet==null?null:h.charSet)){ee.splice(fe,1);break t}}L=_.createElement(y),en(L,y,h),_.head.appendChild(L);break;default:throw Error(s(468,y))}L[sa]=l,ia(L),y=L}l.stateNode=y}else i4(_,l.type,l.stateNode);else l.stateNode=s4(_,y,l.memoizedProps);else L!==y?(L===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):L.count--,y===null?i4(_,l.type,l.stateNode):s4(_,y,l.memoizedProps)):y===null&&l.stateNode!==null&&db(l,l.memoizedProps,h.memoizedProps)}break;case 27:hi(c,l),xi(l),y&512&&(Xa||h===null||ho(h,h.return)),h!==null&&y&4&&db(l,l.memoizedProps,h.memoizedProps);break;case 5:if(hi(c,l),xi(l),y&512&&(Xa||h===null||ho(h,h.return)),l.flags&32){_=l.stateNode;try{hl(_,"")}catch(Be){Qr(l,l.return,Be)}}y&4&&l.stateNode!=null&&(_=l.memoizedProps,db(l,_,h!==null?h.memoizedProps:_)),y&1024&&(fb=!0);break;case 6:if(hi(c,l),xi(l),y&4){if(l.stateNode===null)throw Error(s(162));y=l.memoizedProps,h=l.stateNode;try{h.nodeValue=y}catch(Be){Qr(l,l.return,Be)}}break;case 3:if(X0=null,_=Dl,Dl=K0(c.containerInfo),hi(c,l),Dl=_,xi(l),y&4&&h!==null&&h.memoizedState.isDehydrated)try{Bh(c.containerInfo)}catch(Be){Qr(l,l.return,Be)}fb&&(fb=!1,m3(l));break;case 4:y=Dl,Dl=K0(l.stateNode.containerInfo),hi(c,l),xi(l),Dl=y;break;case 12:hi(c,l),xi(l);break;case 13:hi(c,l),xi(l),l.child.flags&8192&&l.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(vb=rt()),y&4&&(y=l.updateQueue,y!==null&&(l.updateQueue=null,hb(l,y)));break;case 22:_=l.memoizedState!==null;var _e=h!==null&&h.memoizedState!==null,$e=rc,Ve=Xa;if(rc=$e||_,Xa=Ve||_e,hi(c,l),Xa=Ve,rc=$e,xi(l),y&8192)e:for(c=l.stateNode,c._visibility=_?c._visibility&-2:c._visibility|1,_&&(h===null||_e||rc||Xa||wu(l)),h=null,c=l;;){if(c.tag===5||c.tag===26){if(h===null){_e=h=c;try{if(L=_e.stateNode,_)ee=L.style,typeof ee.setProperty=="function"?ee.setProperty("display","none","important"):ee.display="none";else{fe=_e.stateNode;var Xe=_e.memoizedProps.style,Fe=Xe!=null&&Xe.hasOwnProperty("display")?Xe.display:null;fe.style.display=Fe==null||typeof Fe=="boolean"?"":(""+Fe).trim()}}catch(Be){Qr(_e,_e.return,Be)}}}else if(c.tag===6){if(h===null){_e=c;try{_e.stateNode.nodeValue=_?"":_e.memoizedProps}catch(Be){Qr(_e,_e.return,Be)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===l)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===l)break e;for(;c.sibling===null;){if(c.return===null||c.return===l)break e;h===c&&(h=null),c=c.return}h===c&&(h=null),c.sibling.return=c.return,c=c.sibling}y&4&&(y=l.updateQueue,y!==null&&(h=y.retryQueue,h!==null&&(y.retryQueue=null,hb(l,h))));break;case 19:hi(c,l),xi(l),y&4&&(y=l.updateQueue,y!==null&&(l.updateQueue=null,hb(l,y)));break;case 30:break;case 21:break;default:hi(c,l),xi(l)}}function xi(l){var c=l.flags;if(c&2){try{for(var h,y=l.return;y!==null;){if(s3(y)){h=y;break}y=y.return}if(h==null)throw Error(s(160));switch(h.tag){case 27:var _=h.stateNode,L=ub(l);M0(l,L,_);break;case 5:var ee=h.stateNode;h.flags&32&&(hl(ee,""),h.flags&=-33);var fe=ub(l);M0(l,fe,ee);break;case 3:case 4:var _e=h.stateNode.containerInfo,$e=ub(l);mb(l,$e,_e);break;default:throw Error(s(161))}}catch(Ve){Qr(l,l.return,Ve)}l.flags&=-3}c&4096&&(l.flags&=-4097)}function m3(l){if(l.subtreeFlags&1024)for(l=l.child;l!==null;){var c=l;m3(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),l=l.sibling}}function ld(l,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)l3(l,c.alternate,c),c=c.sibling}function wu(l){for(l=l.child;l!==null;){var c=l;switch(c.tag){case 0:case 11:case 14:case 15:id(4,c,c.return),wu(c);break;case 1:ho(c,c.return);var h=c.stateNode;typeof h.componentWillUnmount=="function"&&r3(c,c.return,h),wu(c);break;case 27:Oh(c.stateNode);case 26:case 5:ho(c,c.return),wu(c);break;case 22:c.memoizedState===null&&wu(c);break;case 30:wu(c);break;default:wu(c)}l=l.sibling}}function od(l,c,h){for(h=h&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var y=c.alternate,_=l,L=c,ee=L.flags;switch(L.tag){case 0:case 11:case 15:od(_,L,h),Nh(4,L);break;case 1:if(od(_,L,h),y=L,_=y.stateNode,typeof _.componentDidMount=="function")try{_.componentDidMount()}catch($e){Qr(y,y.return,$e)}if(y=L,_=y.updateQueue,_!==null){var fe=y.stateNode;try{var _e=_.shared.hiddenCallbacks;if(_e!==null)for(_.shared.hiddenCallbacks=null,_=0;_<_e.length;_++)nr(_e[_],fe)}catch($e){Qr(y,y.return,$e)}}h&&ee&64&&t3(L),wh(L,L.return);break;case 27:n3(L);case 26:case 5:od(_,L,h),h&&y===null&&ee&4&&a3(L),wh(L,L.return);break;case 12:od(_,L,h);break;case 13:od(_,L,h),h&&ee&4&&d3(_,L);break;case 22:L.memoizedState===null&&od(_,L,h),wh(L,L.return);break;case 30:break;default:od(_,L,h)}c=c.sibling}}function xb(l,c){var h=null;l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(h=l.memoizedState.cachePool.pool),l=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(l=c.memoizedState.cachePool.pool),l!==h&&(l!=null&&l.refCount++,h!=null&&mu(h))}function pb(l,c){l=null,c.alternate!==null&&(l=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==l&&(c.refCount++,l!=null&&mu(l))}function xo(l,c,h,y){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)f3(l,c,h,y),c=c.sibling}function f3(l,c,h,y){var _=c.flags;switch(c.tag){case 0:case 11:case 15:xo(l,c,h,y),_&2048&&Nh(9,c);break;case 1:xo(l,c,h,y);break;case 3:xo(l,c,h,y),_&2048&&(l=null,c.alternate!==null&&(l=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==l&&(c.refCount++,l!=null&&mu(l)));break;case 12:if(_&2048){xo(l,c,h,y),l=c.stateNode;try{var L=c.memoizedProps,ee=L.id,fe=L.onPostCommit;typeof fe=="function"&&fe(ee,c.alternate===null?"mount":"update",l.passiveEffectDuration,-0)}catch(_e){Qr(c,c.return,_e)}}else xo(l,c,h,y);break;case 13:xo(l,c,h,y);break;case 23:break;case 22:L=c.stateNode,ee=c.alternate,c.memoizedState!==null?L._visibility&2?xo(l,c,h,y):Sh(l,c):L._visibility&2?xo(l,c,h,y):(L._visibility|=2,$m(l,c,h,y,(c.subtreeFlags&10256)!==0)),_&2048&&xb(ee,c);break;case 24:xo(l,c,h,y),_&2048&&pb(c.alternate,c);break;default:xo(l,c,h,y)}}function $m(l,c,h,y,_){for(_=_&&(c.subtreeFlags&10256)!==0,c=c.child;c!==null;){var L=l,ee=c,fe=h,_e=y,$e=ee.flags;switch(ee.tag){case 0:case 11:case 15:$m(L,ee,fe,_e,_),Nh(8,ee);break;case 23:break;case 22:var Ve=ee.stateNode;ee.memoizedState!==null?Ve._visibility&2?$m(L,ee,fe,_e,_):Sh(L,ee):(Ve._visibility|=2,$m(L,ee,fe,_e,_)),_&&$e&2048&&xb(ee.alternate,ee);break;case 24:$m(L,ee,fe,_e,_),_&&$e&2048&&pb(ee.alternate,ee);break;default:$m(L,ee,fe,_e,_)}c=c.sibling}}function Sh(l,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var h=l,y=c,_=y.flags;switch(y.tag){case 22:Sh(h,y),_&2048&&xb(y.alternate,y);break;case 24:Sh(h,y),_&2048&&pb(y.alternate,y);break;default:Sh(h,y)}c=c.sibling}}var _h=8192;function Im(l){if(l.subtreeFlags&_h)for(l=l.child;l!==null;)h3(l),l=l.sibling}function h3(l){switch(l.tag){case 26:Im(l),l.flags&_h&&l.memoizedState!==null&&OL(Dl,l.memoizedState,l.memoizedProps);break;case 5:Im(l);break;case 3:case 4:var c=Dl;Dl=K0(l.stateNode.containerInfo),Im(l),Dl=c;break;case 22:l.memoizedState===null&&(c=l.alternate,c!==null&&c.memoizedState!==null?(c=_h,_h=16777216,Im(l),_h=c):Im(l));break;default:Im(l)}}function x3(l){var c=l.alternate;if(c!==null&&(l=c.child,l!==null)){c.child=null;do c=l.sibling,l.sibling=null,l=c;while(l!==null)}}function Ah(l){var c=l.deletions;if((l.flags&16)!==0){if(c!==null)for(var h=0;h<c.length;h++){var y=c[h];Os=y,g3(y,l)}x3(l)}if(l.subtreeFlags&10256)for(l=l.child;l!==null;)p3(l),l=l.sibling}function p3(l){switch(l.tag){case 0:case 11:case 15:Ah(l),l.flags&2048&&id(9,l,l.return);break;case 3:Ah(l);break;case 12:Ah(l);break;case 22:var c=l.stateNode;l.memoizedState!==null&&c._visibility&2&&(l.return===null||l.return.tag!==13)?(c._visibility&=-3,R0(l)):Ah(l);break;default:Ah(l)}}function R0(l){var c=l.deletions;if((l.flags&16)!==0){if(c!==null)for(var h=0;h<c.length;h++){var y=c[h];Os=y,g3(y,l)}x3(l)}for(l=l.child;l!==null;){switch(c=l,c.tag){case 0:case 11:case 15:id(8,c,c.return),R0(c);break;case 22:h=c.stateNode,h._visibility&2&&(h._visibility&=-3,R0(c));break;default:R0(c)}l=l.sibling}}function g3(l,c){for(;Os!==null;){var h=Os;switch(h.tag){case 0:case 11:case 15:id(8,h,c);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var y=h.memoizedState.cachePool.pool;y!=null&&y.refCount++}break;case 24:mu(h.memoizedState.cache)}if(y=h.child,y!==null)y.return=h,Os=y;else e:for(h=l;Os!==null;){y=Os;var _=y.sibling,L=y.return;if(o3(y),y===h){Os=null;break e}if(_!==null){_.return=L,Os=_;break e}Os=L}}}var KD={getCacheForType:function(l){var c=Ga(Ya),h=c.data.get(l);return h===void 0&&(h=l(),c.data.set(l,h)),h}},WD=typeof WeakMap=="function"?WeakMap:Map,Ur=0,la=null,cr=null,Nr=0,qr=0,pi=null,cd=!1,Fm=!1,gb=!1,sc=0,Ba=0,dd=0,Su=0,yb=0,rl=0,Bm=0,kh=null,Yn=null,bb=!1,vb=0,$0=1/0,I0=null,ud=null,Qs=0,md=null,zm=null,Um=0,jb=0,Nb=null,y3=null,Ch=0,wb=null;function gi(){if((Ur&2)!==0&&Nr!==0)return Nr&-Nr;if(U.T!==null){var l=Xo;return l!==0?l:Pb()}return ai()}function b3(){rl===0&&(rl=(Nr&536870912)===0||Cr?Kt():536870912);var l=tl.current;return l!==null&&(l.flags|=32),rl}function yi(l,c,h){(l===la&&(qr===2||qr===9)||l.cancelPendingCommit!==null)&&(qm(l,0),fd(l,Nr,rl,!1)),Sr(l,h),((Ur&2)===0||l!==la)&&(l===la&&((Ur&2)===0&&(Su|=h),Ba===4&&fd(l,Nr,rl,!1)),po(l))}function v3(l,c,h){if((Ur&6)!==0)throw Error(s(327));var y=!h&&(c&124)===0&&(c&l.expiredLanes)===0||At(l,c),_=y?ZD(l,c):Ab(l,c,!0),L=y;do{if(_===0){Fm&&!y&&fd(l,c,0,!1);break}else{if(h=l.current.alternate,L&&!XD(h)){_=Ab(l,c,!1),L=!1;continue}if(_===2){if(L=c,l.errorRecoveryDisabledLanes&L)var ee=0;else ee=l.pendingLanes&-536870913,ee=ee!==0?ee:ee&536870912?536870912:0;if(ee!==0){c=ee;e:{var fe=l;_=kh;var _e=fe.current.memoizedState.isDehydrated;if(_e&&(qm(fe,ee).flags|=256),ee=Ab(fe,ee,!1),ee!==2){if(gb&&!_e){fe.errorRecoveryDisabledLanes|=L,Su|=L,_=4;break e}L=Yn,Yn=_,L!==null&&(Yn===null?Yn=L:Yn.push.apply(Yn,L))}_=ee}if(L=!1,_!==2)continue}}if(_===1){qm(l,0),fd(l,c,0,!0);break}e:{switch(y=l,L=_,L){case 0:case 1:throw Error(s(345));case 4:if((c&4194048)!==c)break;case 6:fd(y,c,rl,!cd);break e;case 2:Yn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((c&62914560)===c&&(_=vb+300-rt(),10<_)){if(fd(y,c,rl,!cd),Er(y,0,!0)!==0)break e;y.timeoutHandle=W3(j3.bind(null,y,h,Yn,I0,bb,c,rl,Su,Bm,cd,L,2,-0,0),_);break e}j3(y,h,Yn,I0,bb,c,rl,Su,Bm,cd,L,0,-0,0)}}break}while(!0);po(l)}function j3(l,c,h,y,_,L,ee,fe,_e,$e,Ve,Xe,Fe,Be){if(l.timeoutHandle=-1,Xe=c.subtreeFlags,(Xe&8192||(Xe&16785408)===16785408)&&(Mh={stylesheets:null,count:0,unsuspend:TL},h3(c),Xe=DL(),Xe!==null)){l.cancelPendingCommit=Xe(C3.bind(null,l,c,L,h,y,_,ee,fe,_e,Ve,1,Fe,Be)),fd(l,L,ee,!$e);return}C3(l,c,L,h,y,_,ee,fe,_e)}function XD(l){for(var c=l;;){var h=c.tag;if((h===0||h===11||h===15)&&c.flags&16384&&(h=c.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var y=0;y<h.length;y++){var _=h[y],L=_.getSnapshot;_=_.value;try{if(!ls(L(),_))return!1}catch{return!1}}if(h=c.child,c.subtreeFlags&16384&&h!==null)h.return=c,c=h;else{if(c===l)break;for(;c.sibling===null;){if(c.return===null||c.return===l)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function fd(l,c,h,y){c&=~yb,c&=~Su,l.suspendedLanes|=c,l.pingedLanes&=~c,y&&(l.warmLanes|=c),y=l.expirationTimes;for(var _=c;0<_;){var L=31-lt(_),ee=1<<L;y[L]=-1,_&=~ee}h!==0&&_r(l,h,c)}function F0(){return(Ur&6)===0?(Eh(0),!1):!0}function Sb(){if(cr!==null){if(qr===0)var l=cr.return;else l=cr,kl=cs=null,gs(l),Mm=null,bh=0,l=cr;for(;l!==null;)e3(l.alternate,l),l=l.return;cr=null}}function qm(l,c){var h=l.timeoutHandle;h!==-1&&(l.timeoutHandle=-1,hL(h)),h=l.cancelPendingCommit,h!==null&&(l.cancelPendingCommit=null,h()),Sb(),la=l,cr=h=Ki(l.current,null),Nr=c,qr=0,pi=null,cd=!1,Fm=At(l,c),gb=!1,Bm=rl=yb=Su=dd=Ba=0,Yn=kh=null,bb=!1,(c&8)!==0&&(c|=c&32);var y=l.entangledLanes;if(y!==0)for(l=l.entanglements,y&=c;0<y;){var _=31-lt(y),L=1<<_;c|=l[_],y&=~L}return sc=c,iu(),h}function N3(l,c){ht=null,U.H=A0,c===ie||c===he?(c=Pe(),qr=3):c===ue?(c=Pe(),qr=4):qr=c===Bw?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,pi=c,cr===null&&(Ba=1,T0(l,Sn(c,l.current)))}function w3(){var l=U.H;return U.H=A0,l===null?A0:l}function S3(){var l=U.A;return U.A=KD,l}function _b(){Ba=4,cd||(Nr&4194048)!==Nr&&tl.current!==null||(Fm=!0),(dd&134217727)===0&&(Su&134217727)===0||la===null||fd(la,Nr,rl,!1)}function Ab(l,c,h){var y=Ur;Ur|=2;var _=w3(),L=S3();(la!==l||Nr!==c)&&(I0=null,qm(l,c)),c=!1;var ee=Ba;e:do try{if(qr!==0&&cr!==null){var fe=cr,_e=pi;switch(qr){case 8:Sb(),ee=6;break e;case 3:case 2:case 9:case 6:tl.current===null&&(c=!0);var $e=qr;if(qr=0,pi=null,Hm(l,fe,_e,$e),h&&Fm){ee=0;break e}break;default:$e=qr,qr=0,pi=null,Hm(l,fe,_e,$e)}}JD(),ee=Ba;break}catch(Ve){N3(l,Ve)}while(!0);return c&&l.shellSuspendCounter++,kl=cs=null,Ur=y,U.H=_,U.A=L,cr===null&&(la=null,Nr=0,iu()),ee}function JD(){for(;cr!==null;)_3(cr)}function ZD(l,c){var h=Ur;Ur|=2;var y=w3(),_=S3();la!==l||Nr!==c?(I0=null,$0=rt()+500,qm(l,c)):Fm=At(l,c);e:do try{if(qr!==0&&cr!==null){c=cr;var L=pi;t:switch(qr){case 1:qr=0,pi=null,Hm(l,c,L,1);break;case 2:case 9:if(Ne(L)){qr=0,pi=null,A3(c);break}c=function(){qr!==2&&qr!==9||la!==l||(qr=7),po(l)},L.then(c,c);break e;case 3:qr=7;break e;case 4:qr=5;break e;case 7:Ne(L)?(qr=0,pi=null,A3(c)):(qr=0,pi=null,Hm(l,c,L,7));break;case 5:var ee=null;switch(cr.tag){case 26:ee=cr.memoizedState;case 5:case 27:var fe=cr;if(!ee||l4(ee)){qr=0,pi=null;var _e=fe.sibling;if(_e!==null)cr=_e;else{var $e=fe.return;$e!==null?(cr=$e,B0($e)):cr=null}break t}}qr=0,pi=null,Hm(l,c,L,5);break;case 6:qr=0,pi=null,Hm(l,c,L,6);break;case 8:Sb(),Ba=6;break e;default:throw Error(s(462))}}QD();break}catch(Ve){N3(l,Ve)}while(!0);return kl=cs=null,U.H=y,U.A=_,Ur=h,cr!==null?0:(la=null,Nr=0,iu(),Ba)}function QD(){for(;cr!==null&&!me();)_3(cr)}function _3(l){var c=Zw(l.alternate,l,sc);l.memoizedProps=l.pendingProps,c===null?B0(l):cr=c}function A3(l){var c=l,h=c.alternate;switch(c.tag){case 15:case 0:c=Yw(h,c,c.pendingProps,c.type,void 0,Nr);break;case 11:c=Yw(h,c,c.pendingProps,c.type.render,c.ref,Nr);break;case 5:gs(c);default:e3(h,c),c=cr=ou(c,sc),c=Zw(h,c,sc)}l.memoizedProps=l.pendingProps,c===null?B0(l):cr=c}function Hm(l,c,h,y){kl=cs=null,gs(c),Mm=null,bh=0;var _=c.return;try{if(UD(l,_,c,h,Nr)){Ba=1,T0(l,Sn(h,l.current)),cr=null;return}}catch(L){if(_!==null)throw cr=_,L;Ba=1,T0(l,Sn(h,l.current)),cr=null;return}c.flags&32768?(Cr||y===1?l=!0:Fm||(Nr&536870912)!==0?l=!1:(cd=l=!0,(y===2||y===9||y===3||y===6)&&(y=tl.current,y!==null&&y.tag===13&&(y.flags|=16384))),k3(c,l)):B0(c)}function B0(l){var c=l;do{if((c.flags&32768)!==0){k3(c,cd);return}l=c.return;var h=HD(c.alternate,c,sc);if(h!==null){cr=h;return}if(c=c.sibling,c!==null){cr=c;return}cr=c=l}while(c!==null);Ba===0&&(Ba=5)}function k3(l,c){do{var h=GD(l.alternate,l);if(h!==null){h.flags&=32767,cr=h;return}if(h=l.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!c&&(l=l.sibling,l!==null)){cr=l;return}cr=l=h}while(l!==null);Ba=6,cr=null}function C3(l,c,h,y,_,L,ee,fe,_e){l.cancelPendingCommit=null;do z0();while(Qs!==0);if((Ur&6)!==0)throw Error(s(327));if(c!==null){if(c===l.current)throw Error(s(177));if(L=c.lanes|c.childLanes,L|=Nm,Ut(l,h,L,ee,fe,_e),l===la&&(cr=la=null,Nr=0),zm=c,md=l,Um=h,jb=L,Nb=_,y3=y,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(l.callbackNode=null,l.callbackPriority=0,aL(Qe,function(){return D3(),null})):(l.callbackNode=null,l.callbackPriority=0),y=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||y){y=U.T,U.T=null,_=V.p,V.p=2,ee=Ur,Ur|=4;try{YD(l,c,h)}finally{Ur=ee,V.p=_,U.T=y}}Qs=1,E3(),P3(),T3()}}function E3(){if(Qs===1){Qs=0;var l=md,c=zm,h=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||h){h=U.T,U.T=null;var y=V.p;V.p=2;var _=Ur;Ur|=4;try{u3(c,l);var L=Ib,ee=Kc(l.containerInfo),fe=L.focusedElem,_e=L.selectionRange;if(ee!==fe&&fe&&fe.ownerDocument&&Gi(fe.ownerDocument.documentElement,fe)){if(_e!==null&&Ys(fe)){var $e=_e.start,Ve=_e.end;if(Ve===void 0&&(Ve=$e),"selectionStart"in fe)fe.selectionStart=$e,fe.selectionEnd=Math.min(Ve,fe.value.length);else{var Xe=fe.ownerDocument||document,Fe=Xe&&Xe.defaultView||window;if(Fe.getSelection){var Be=Fe.getSelection(),zt=fe.textContent.length,Dt=Math.min(_e.start,zt),Wr=_e.end===void 0?Dt:Math.min(_e.end,zt);!Be.extend&&Dt>Wr&&(ee=Wr,Wr=Dt,Dt=ee);var Te=io(fe,Dt),Ee=io(fe,Wr);if(Te&&Ee&&(Be.rangeCount!==1||Be.anchorNode!==Te.node||Be.anchorOffset!==Te.offset||Be.focusNode!==Ee.node||Be.focusOffset!==Ee.offset)){var Le=Xe.createRange();Le.setStart(Te.node,Te.offset),Be.removeAllRanges(),Dt>Wr?(Be.addRange(Le),Be.extend(Ee.node,Ee.offset)):(Le.setEnd(Ee.node,Ee.offset),Be.addRange(Le))}}}}for(Xe=[],Be=fe;Be=Be.parentNode;)Be.nodeType===1&&Xe.push({element:Be,left:Be.scrollLeft,top:Be.scrollTop});for(typeof fe.focus=="function"&&fe.focus(),fe=0;fe<Xe.length;fe++){var Ke=Xe[fe];Ke.element.scrollLeft=Ke.left,Ke.element.scrollTop=Ke.top}}Q0=!!$b,Ib=$b=null}finally{Ur=_,V.p=y,U.T=h}}l.current=c,Qs=2}}function P3(){if(Qs===2){Qs=0;var l=md,c=zm,h=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||h){h=U.T,U.T=null;var y=V.p;V.p=2;var _=Ur;Ur|=4;try{l3(l,c.alternate,c)}finally{Ur=_,V.p=y,U.T=h}}Qs=3}}function T3(){if(Qs===4||Qs===3){Qs=0,tt();var l=md,c=zm,h=Um,y=y3;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?Qs=5:(Qs=0,zm=md=null,O3(l,l.pendingLanes));var _=l.pendingLanes;if(_===0&&(ud=null),ri(h),c=c.stateNode,er&&typeof er.onCommitFiberRoot=="function")try{er.onCommitFiberRoot(Rt,c,void 0,(c.current.flags&128)===128)}catch{}if(y!==null){c=U.T,_=V.p,V.p=2,U.T=null;try{for(var L=l.onRecoverableError,ee=0;ee<y.length;ee++){var fe=y[ee];L(fe.value,{componentStack:fe.stack})}}finally{U.T=c,V.p=_}}(Um&3)!==0&&z0(),po(l),_=l.pendingLanes,(h&4194090)!==0&&(_&42)!==0?l===wb?Ch++:(Ch=0,wb=l):Ch=0,Eh(0)}}function O3(l,c){(l.pooledCacheLanes&=c)===0&&(c=l.pooledCache,c!=null&&(l.pooledCache=null,mu(c)))}function z0(l){return E3(),P3(),T3(),D3()}function D3(){if(Qs!==5)return!1;var l=md,c=jb;jb=0;var h=ri(Um),y=U.T,_=V.p;try{V.p=32>h?32:h,U.T=null,h=Nb,Nb=null;var L=md,ee=Um;if(Qs=0,zm=md=null,Um=0,(Ur&6)!==0)throw Error(s(331));var fe=Ur;if(Ur|=4,p3(L.current),f3(L,L.current,ee,h),Ur=fe,Eh(0,!1),er&&typeof er.onPostCommitFiberRoot=="function")try{er.onPostCommitFiberRoot(Rt,L)}catch{}return!0}finally{V.p=_,U.T=y,O3(l,c)}}function L3(l,c,h){c=Sn(h,c),c=tb(l.stateNode,c,2),l=Ze(l,c,2),l!==null&&(Sr(l,2),po(l))}function Qr(l,c,h){if(l.tag===3)L3(l,l,h);else for(;c!==null;){if(c.tag===3){L3(c,l,h);break}else if(c.tag===1){var y=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(ud===null||!ud.has(y))){l=Sn(h,l),h=Iw(2),y=Ze(c,h,2),y!==null&&(Fw(h,y,c,l),Sr(y,2),po(y));break}}c=c.return}}function kb(l,c,h){var y=l.pingCache;if(y===null){y=l.pingCache=new WD;var _=new Set;y.set(c,_)}else _=y.get(c),_===void 0&&(_=new Set,y.set(c,_));_.has(h)||(gb=!0,_.add(h),l=eL.bind(null,l,c,h),c.then(l,l))}function eL(l,c,h){var y=l.pingCache;y!==null&&y.delete(c),l.pingedLanes|=l.suspendedLanes&h,l.warmLanes&=~h,la===l&&(Nr&h)===h&&(Ba===4||Ba===3&&(Nr&62914560)===Nr&&300>rt()-vb?(Ur&2)===0&&qm(l,0):yb|=h,Bm===Nr&&(Bm=0)),po(l)}function M3(l,c){c===0&&(c=pa()),l=Ho(l,c),l!==null&&(Sr(l,c),po(l))}function tL(l){var c=l.memoizedState,h=0;c!==null&&(h=c.retryLane),M3(l,h)}function rL(l,c){var h=0;switch(l.tag){case 13:var y=l.stateNode,_=l.memoizedState;_!==null&&(h=_.retryLane);break;case 19:y=l.stateNode;break;case 22:y=l.stateNode._retryCache;break;default:throw Error(s(314))}y!==null&&y.delete(c),M3(l,h)}function aL(l,c){return xe(l,c)}var U0=null,Gm=null,Cb=!1,q0=!1,Eb=!1,_u=0;function po(l){l!==Gm&&l.next===null&&(Gm===null?U0=Gm=l:Gm=Gm.next=l),q0=!0,Cb||(Cb=!0,nL())}function Eh(l,c){if(!Eb&&q0){Eb=!0;do for(var h=!1,y=U0;y!==null;){if(l!==0){var _=y.pendingLanes;if(_===0)var L=0;else{var ee=y.suspendedLanes,fe=y.pingedLanes;L=(1<<31-lt(42|l)+1)-1,L&=_&~(ee&~fe),L=L&201326741?L&201326741|1:L?L|2:0}L!==0&&(h=!0,F3(y,L))}else L=Nr,L=Er(y,y===la?L:0,y.cancelPendingCommit!==null||y.timeoutHandle!==-1),(L&3)===0||At(y,L)||(h=!0,F3(y,L));y=y.next}while(h);Eb=!1}}function sL(){R3()}function R3(){q0=Cb=!1;var l=0;_u!==0&&(fL()&&(l=_u),_u=0);for(var c=rt(),h=null,y=U0;y!==null;){var _=y.next,L=$3(y,c);L===0?(y.next=null,h===null?U0=_:h.next=_,_===null&&(Gm=h)):(h=y,(l!==0||(L&3)!==0)&&(q0=!0)),y=_}Eh(l)}function $3(l,c){for(var h=l.suspendedLanes,y=l.pingedLanes,_=l.expirationTimes,L=l.pendingLanes&-62914561;0<L;){var ee=31-lt(L),fe=1<<ee,_e=_[ee];_e===-1?((fe&h)===0||(fe&y)!==0)&&(_[ee]=or(fe,c)):_e<=c&&(l.expiredLanes|=fe),L&=~fe}if(c=la,h=Nr,h=Er(l,l===c?h:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),y=l.callbackNode,h===0||l===c&&(qr===2||qr===9)||l.cancelPendingCommit!==null)return y!==null&&y!==null&&oe(y),l.callbackNode=null,l.callbackPriority=0;if((h&3)===0||At(l,h)){if(c=h&-h,c===l.callbackPriority)return c;switch(y!==null&&oe(y),ri(h)){case 2:case 8:h=Ie;break;case 32:h=Qe;break;case 268435456:h=dt;break;default:h=Qe}return y=I3.bind(null,l),h=xe(h,y),l.callbackPriority=c,l.callbackNode=h,c}return y!==null&&y!==null&&oe(y),l.callbackPriority=2,l.callbackNode=null,2}function I3(l,c){if(Qs!==0&&Qs!==5)return l.callbackNode=null,l.callbackPriority=0,null;var h=l.callbackNode;if(z0()&&l.callbackNode!==h)return null;var y=Nr;return y=Er(l,l===la?y:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),y===0?null:(v3(l,y,c),$3(l,rt()),l.callbackNode!=null&&l.callbackNode===h?I3.bind(null,l):null)}function F3(l,c){if(z0())return null;v3(l,c,!0)}function nL(){xL(function(){(Ur&6)!==0?xe(pe,sL):R3()})}function Pb(){return _u===0&&(_u=Kt()),_u}function B3(l){return l==null||typeof l=="symbol"||typeof l=="boolean"?null:typeof l=="function"?l:Oi(""+l)}function z3(l,c){var h=c.ownerDocument.createElement("input");return h.name=c.name,h.value=c.value,l.id&&h.setAttribute("form",l.id),c.parentNode.insertBefore(h,c),l=new FormData(l),h.parentNode.removeChild(h),l}function iL(l,c,h,y,_){if(c==="submit"&&h&&h.stateNode===_){var L=B3((_[Xr]||null).action),ee=y.submitter;ee&&(c=(c=ee[Xr]||null)?B3(c.formAction):ee.getAttribute("formAction"),c!==null&&(L=c,ee=null));var fe=new eo("action","action",null,y,_);l.push({event:fe,listeners:[{instance:null,listener:function(){if(y.defaultPrevented){if(_u!==0){var _e=ee?z3(_,ee):new FormData(_);el(h,{pending:!0,data:_e,method:_.method,action:L},null,_e)}}else typeof L=="function"&&(fe.preventDefault(),_e=ee?z3(_,ee):new FormData(_),el(h,{pending:!0,data:_e,method:_.method,action:L},L,_e))},currentTarget:_}]})}}for(var Tb=0;Tb<jm.length;Tb++){var Ob=jm[Tb],lL=Ob.toLowerCase(),oL=Ob[0].toUpperCase()+Ob.slice(1);Un(lL,"on"+oL)}Un(Qf,"onAnimationEnd"),Un(eh,"onAnimationIteration"),Un(th,"onAnimationStart"),Un("dblclick","onDoubleClick"),Un("focusin","onFocus"),Un("focusout","onBlur"),Un(i0,"onTransitionRun"),Un(l0,"onTransitionStart"),Un(o0,"onTransitionCancel"),Un(rh,"onTransitionEnd"),ni("onMouseEnter",["mouseout","mouseover"]),ni("onMouseLeave",["mouseout","mouseover"]),ni("onPointerEnter",["pointerout","pointerover"]),ni("onPointerLeave",["pointerout","pointerover"]),Mn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Mn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Mn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Mn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Mn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Mn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ph="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cL=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ph));function U3(l,c){c=(c&4)!==0;for(var h=0;h<l.length;h++){var y=l[h],_=y.event;y=y.listeners;e:{var L=void 0;if(c)for(var ee=y.length-1;0<=ee;ee--){var fe=y[ee],_e=fe.instance,$e=fe.currentTarget;if(fe=fe.listener,_e!==L&&_.isPropagationStopped())break e;L=fe,_.currentTarget=$e;try{L(_)}catch(Ve){P0(Ve)}_.currentTarget=null,L=_e}else for(ee=0;ee<y.length;ee++){if(fe=y[ee],_e=fe.instance,$e=fe.currentTarget,fe=fe.listener,_e!==L&&_.isPropagationStopped())break e;L=fe,_.currentTarget=$e;try{L(_)}catch(Ve){P0(Ve)}_.currentTarget=null,L=_e}}}}function dr(l,c){var h=c[na];h===void 0&&(h=c[na]=new Set);var y=l+"__bubble";h.has(y)||(q3(c,l,2,!1),h.add(y))}function Db(l,c,h){var y=0;c&&(y|=4),q3(h,l,y,c)}var H0="_reactListening"+Math.random().toString(36).slice(2);function Lb(l){if(!l[H0]){l[H0]=!0,si.forEach(function(h){h!=="selectionchange"&&(cL.has(h)||Db(h,!1,l),Db(h,!0,l))});var c=l.nodeType===9?l:l.ownerDocument;c===null||c[H0]||(c[H0]=!0,Db("selectionchange",!1,c))}}function q3(l,c,h,y){switch(f4(c)){case 2:var _=RL;break;case 8:_=$L;break;default:_=Kb}h=_.bind(null,c,h,l),_=void 0,!oi||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(_=!0),y?_!==void 0?l.addEventListener(c,h,{capture:!0,passive:_}):l.addEventListener(c,h,!0):_!==void 0?l.addEventListener(c,h,{passive:_}):l.addEventListener(c,h,!1)}function Mb(l,c,h,y,_){var L=y;if((c&1)===0&&(c&2)===0&&y!==null)e:for(;;){if(y===null)return;var ee=y.tag;if(ee===3||ee===4){var fe=y.stateNode.containerInfo;if(fe===_)break;if(ee===4)for(ee=y.return;ee!==null;){var _e=ee.tag;if((_e===3||_e===4)&&ee.stateNode.containerInfo===_)return;ee=ee.return}for(;fe!==null;){if(ee=Us(fe),ee===null)return;if(_e=ee.tag,_e===5||_e===6||_e===26||_e===27){y=L=ee;continue e}fe=fe.parentNode}}y=y.return}ym(function(){var $e=L,Ve=eu(h),Xe=[];e:{var Fe=ah.get(l);if(Fe!==void 0){var Be=eo,zt=l;switch(l){case"keypress":if(Ri(h)===0)break e;case"keydown":case"keyup":Be=Ra;break;case"focusin":zt="focus",Be=B;break;case"focusout":zt="blur",Be=B;break;case"beforeblur":case"afterblur":Be=B;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Be=zc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Be=Nn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Be=xs;break;case Qf:case eh:case th:Be=Se;break;case rh:Be=ro;break;case"scroll":case"scrollend":Be=Io;break;case"wheel":Be=bm;break;case"copy":case"cut":case"paste":Be=Oe;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Be=$a;break;case"toggle":case"beforetoggle":Be=ui}var Dt=(c&4)!==0,Wr=!Dt&&(l==="scroll"||l==="scrollend"),Te=Dt?Fe!==null?Fe+"Capture":null:Fe;Dt=[];for(var Ee=$e,Le;Ee!==null;){var Ke=Ee;if(Le=Ke.stateNode,Ke=Ke.tag,Ke!==5&&Ke!==26&&Ke!==27||Le===null||Te===null||(Ke=Ro(Ee,Te),Ke!=null&&Dt.push(Th(Ee,Ke,Le))),Wr)break;Ee=Ee.return}0<Dt.length&&(Fe=new Be(Fe,zt,null,h,Ve),Xe.push({event:Fe,listeners:Dt}))}}if((c&7)===0){e:{if(Fe=l==="mouseover"||l==="pointerover",Be=l==="mouseout"||l==="pointerout",Fe&&h!==Di&&(zt=h.relatedTarget||h.fromElement)&&(Us(zt)||zt[ms]))break e;if((Be||Fe)&&(Fe=Ve.window===Ve?Ve:(Fe=Ve.ownerDocument)?Fe.defaultView||Fe.parentWindow:window,Be?(zt=h.relatedTarget||h.toElement,Be=$e,zt=zt?Us(zt):null,zt!==null&&(Wr=i(zt),Dt=zt.tag,zt!==Wr||Dt!==5&&Dt!==27&&Dt!==6)&&(zt=null)):(Be=null,zt=$e),Be!==zt)){if(Dt=zc,Ke="onMouseLeave",Te="onMouseEnter",Ee="mouse",(l==="pointerout"||l==="pointerover")&&(Dt=$a,Ke="onPointerLeave",Te="onPointerEnter",Ee="pointer"),Wr=Be==null?Fe:qs(Be),Le=zt==null?Fe:qs(zt),Fe=new Dt(Ke,Ee+"leave",Be,h,Ve),Fe.target=Wr,Fe.relatedTarget=Le,Ke=null,Us(Ve)===$e&&(Dt=new Dt(Te,Ee+"enter",zt,h,Ve),Dt.target=Le,Dt.relatedTarget=Wr,Ke=Dt),Wr=Ke,Be&&zt)t:{for(Dt=Be,Te=zt,Ee=0,Le=Dt;Le;Le=Ym(Le))Ee++;for(Le=0,Ke=Te;Ke;Ke=Ym(Ke))Le++;for(;0<Ee-Le;)Dt=Ym(Dt),Ee--;for(;0<Le-Ee;)Te=Ym(Te),Le--;for(;Ee--;){if(Dt===Te||Te!==null&&Dt===Te.alternate)break t;Dt=Ym(Dt),Te=Ym(Te)}Dt=null}else Dt=null;Be!==null&&H3(Xe,Fe,Be,Dt,!1),zt!==null&&Wr!==null&&H3(Xe,Wr,zt,Dt,!0)}}e:{if(Fe=$e?qs($e):window,Be=Fe.nodeName&&Fe.nodeName.toLowerCase(),Be==="select"||Be==="input"&&Fe.type==="file")var pt=Gs;else if(wn(Fe))if(so)pt=Vc;else{pt=Ui;var ir=Jf}else Be=Fe.nodeName,!Be||Be.toLowerCase()!=="input"||Fe.type!=="checkbox"&&Fe.type!=="radio"?$e&&Zd($e.elementType)&&(pt=Gs):pt=qi;if(pt&&(pt=pt(l,$e))){Hc(Xe,pt,h,Ve);break e}ir&&ir(l,Fe,$e),l==="focusout"&&$e&&Fe.type==="number"&&$e.memoizedProps.value!=null&&Xd(Fe,"number",Fe.value)}switch(ir=$e?qs($e):window,l){case"focusin":(wn(ir)||ir.contentEditable==="true")&&(kr=ir,Mr=$e,Jr=null);break;case"focusout":Jr=Mr=kr=null;break;case"mousedown":da=!0;break;case"contextmenu":case"mouseup":case"dragend":da=!1,Vi(Xe,h,Ve);break;case"selectionchange":if(Yi)break;case"keydown":case"keyup":Vi(Xe,h,Ve)}var St;if(ao)e:{switch(l){case"compositionstart":var Lt="onCompositionStart";break e;case"compositionend":Lt="onCompositionEnd";break e;case"compositionupdate":Lt="onCompositionUpdate";break e}Lt=void 0}else bl?Uc(l,h)&&(Lt="onCompositionEnd"):l==="keydown"&&h.keyCode===229&&(Lt="onCompositionStart");Lt&&(Fi&&h.locale!=="ko"&&(bl||Lt!=="onCompositionStart"?Lt==="onCompositionEnd"&&bl&&(St=Bc()):(Mi=Ve,ru="value"in Mi?Mi.value:Mi.textContent,bl=!0)),ir=G0($e,Lt),0<ir.length&&(Lt=new Je(Lt,l,null,h,Ve),Xe.push({event:Lt,listeners:ir}),St?Lt.data=St:(St=Cs(h),St!==null&&(Lt.data=St)))),(St=is?qc(l,h):vm(l,h))&&(Lt=G0($e,"onBeforeInput"),0<Lt.length&&(ir=new Je("onBeforeInput","beforeinput",null,h,Ve),Xe.push({event:ir,listeners:Lt}),ir.data=St)),iL(Xe,l,$e,h,Ve)}U3(Xe,c)})}function Th(l,c,h){return{instance:l,listener:c,currentTarget:h}}function G0(l,c){for(var h=c+"Capture",y=[];l!==null;){var _=l,L=_.stateNode;if(_=_.tag,_!==5&&_!==26&&_!==27||L===null||(_=Ro(l,h),_!=null&&y.unshift(Th(l,_,L)),_=Ro(l,c),_!=null&&y.push(Th(l,_,L))),l.tag===3)return y;l=l.return}return[]}function Ym(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5&&l.tag!==27);return l||null}function H3(l,c,h,y,_){for(var L=c._reactName,ee=[];h!==null&&h!==y;){var fe=h,_e=fe.alternate,$e=fe.stateNode;if(fe=fe.tag,_e!==null&&_e===y)break;fe!==5&&fe!==26&&fe!==27||$e===null||(_e=$e,_?($e=Ro(h,L),$e!=null&&ee.unshift(Th(h,$e,_e))):_||($e=Ro(h,L),$e!=null&&ee.push(Th(h,$e,_e)))),h=h.return}ee.length!==0&&l.push({event:c,listeners:ee})}var dL=/\r\n?/g,uL=/\u0000|\uFFFD/g;function G3(l){return(typeof l=="string"?l:""+l).replace(dL,`
`).replace(uL,"")}function Y3(l,c){return c=G3(c),G3(l)===c}function Y0(){}function Kr(l,c,h,y,_,L){switch(h){case"children":typeof y=="string"?c==="body"||c==="textarea"&&y===""||hl(l,y):(typeof y=="number"||typeof y=="bigint")&&c!=="body"&&hl(l,""+y);break;case"className":Hs(l,"class",y);break;case"tabIndex":Hs(l,"tabindex",y);break;case"dir":case"role":case"viewBox":case"width":case"height":Hs(l,h,y);break;case"style":gm(l,y,L);break;case"data":if(c!=="object"){Hs(l,"data",y);break}case"src":case"href":if(y===""&&(c!=="a"||h!=="href")){l.removeAttribute(h);break}if(y==null||typeof y=="function"||typeof y=="symbol"||typeof y=="boolean"){l.removeAttribute(h);break}y=Oi(""+y),l.setAttribute(h,y);break;case"action":case"formAction":if(typeof y=="function"){l.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof L=="function"&&(h==="formAction"?(c!=="input"&&Kr(l,c,"name",_.name,_,null),Kr(l,c,"formEncType",_.formEncType,_,null),Kr(l,c,"formMethod",_.formMethod,_,null),Kr(l,c,"formTarget",_.formTarget,_,null)):(Kr(l,c,"encType",_.encType,_,null),Kr(l,c,"method",_.method,_,null),Kr(l,c,"target",_.target,_,null)));if(y==null||typeof y=="symbol"||typeof y=="boolean"){l.removeAttribute(h);break}y=Oi(""+y),l.setAttribute(h,y);break;case"onClick":y!=null&&(l.onclick=Y0);break;case"onScroll":y!=null&&dr("scroll",l);break;case"onScrollEnd":y!=null&&dr("scrollend",l);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(s(61));if(h=y.__html,h!=null){if(_.children!=null)throw Error(s(60));l.innerHTML=h}}break;case"multiple":l.multiple=y&&typeof y!="function"&&typeof y!="symbol";break;case"muted":l.muted=y&&typeof y!="function"&&typeof y!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(y==null||typeof y=="function"||typeof y=="boolean"||typeof y=="symbol"){l.removeAttribute("xlink:href");break}h=Oi(""+y),l.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":y!=null&&typeof y!="function"&&typeof y!="symbol"?l.setAttribute(h,""+y):l.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":y&&typeof y!="function"&&typeof y!="symbol"?l.setAttribute(h,""):l.removeAttribute(h);break;case"capture":case"download":y===!0?l.setAttribute(h,""):y!==!1&&y!=null&&typeof y!="function"&&typeof y!="symbol"?l.setAttribute(h,y):l.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":y!=null&&typeof y!="function"&&typeof y!="symbol"&&!isNaN(y)&&1<=y?l.setAttribute(h,y):l.removeAttribute(h);break;case"rowSpan":case"start":y==null||typeof y=="function"||typeof y=="symbol"||isNaN(y)?l.removeAttribute(h):l.setAttribute(h,y);break;case"popover":dr("beforetoggle",l),dr("toggle",l),Do(l,"popover",y);break;case"xlinkActuate":vn(l,"http://www.w3.org/1999/xlink","xlink:actuate",y);break;case"xlinkArcrole":vn(l,"http://www.w3.org/1999/xlink","xlink:arcrole",y);break;case"xlinkRole":vn(l,"http://www.w3.org/1999/xlink","xlink:role",y);break;case"xlinkShow":vn(l,"http://www.w3.org/1999/xlink","xlink:show",y);break;case"xlinkTitle":vn(l,"http://www.w3.org/1999/xlink","xlink:title",y);break;case"xlinkType":vn(l,"http://www.w3.org/1999/xlink","xlink:type",y);break;case"xmlBase":vn(l,"http://www.w3.org/XML/1998/namespace","xml:base",y);break;case"xmlLang":vn(l,"http://www.w3.org/XML/1998/namespace","xml:lang",y);break;case"xmlSpace":vn(l,"http://www.w3.org/XML/1998/namespace","xml:space",y);break;case"is":Do(l,"is",y);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=Wf.get(h)||h,Do(l,h,y))}}function Rb(l,c,h,y,_,L){switch(h){case"style":gm(l,y,L);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(s(61));if(h=y.__html,h!=null){if(_.children!=null)throw Error(s(60));l.innerHTML=h}}break;case"children":typeof y=="string"?hl(l,y):(typeof y=="number"||typeof y=="bigint")&&hl(l,""+y);break;case"onScroll":y!=null&&dr("scroll",l);break;case"onScrollEnd":y!=null&&dr("scrollend",l);break;case"onClick":y!=null&&(l.onclick=Y0);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Xl.hasOwnProperty(h))e:{if(h[0]==="o"&&h[1]==="n"&&(_=h.endsWith("Capture"),c=h.slice(2,_?h.length-7:void 0),L=l[Xr]||null,L=L!=null?L[h]:null,typeof L=="function"&&l.removeEventListener(c,L,_),typeof y=="function")){typeof L!="function"&&L!==null&&(h in l?l[h]=null:l.hasAttribute(h)&&l.removeAttribute(h)),l.addEventListener(c,y,_);break e}h in l?l[h]=y:y===!0?l.setAttribute(h,""):Do(l,h,y)}}}function en(l,c,h){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":dr("error",l),dr("load",l);var y=!1,_=!1,L;for(L in h)if(h.hasOwnProperty(L)){var ee=h[L];if(ee!=null)switch(L){case"src":y=!0;break;case"srcSet":_=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,c));default:Kr(l,c,L,ee,h,null)}}_&&Kr(l,c,"srcSet",h.srcSet,h,null),y&&Kr(l,c,"src",h.src,h,null);return;case"input":dr("invalid",l);var fe=L=ee=_=null,_e=null,$e=null;for(y in h)if(h.hasOwnProperty(y)){var Ve=h[y];if(Ve!=null)switch(y){case"name":_=Ve;break;case"type":ee=Ve;break;case"checked":_e=Ve;break;case"defaultChecked":$e=Ve;break;case"value":L=Ve;break;case"defaultValue":fe=Ve;break;case"children":case"dangerouslySetInnerHTML":if(Ve!=null)throw Error(s(137,c));break;default:Kr(l,c,y,Ve,h,null)}}pm(l,L,fe,_e,$e,ee,_,!1),Rn(l);return;case"select":dr("invalid",l),y=ee=L=null;for(_ in h)if(h.hasOwnProperty(_)&&(fe=h[_],fe!=null))switch(_){case"value":L=fe;break;case"defaultValue":ee=fe;break;case"multiple":y=fe;default:Kr(l,c,_,fe,h,null)}c=L,h=ee,l.multiple=!!y,c!=null?Zl(l,!!y,c,!1):h!=null&&Zl(l,!!y,h,!0);return;case"textarea":dr("invalid",l),L=_=y=null;for(ee in h)if(h.hasOwnProperty(ee)&&(fe=h[ee],fe!=null))switch(ee){case"value":y=fe;break;case"defaultValue":_=fe;break;case"children":L=fe;break;case"dangerouslySetInnerHTML":if(fe!=null)throw Error(s(91));break;default:Kr(l,c,ee,fe,h,null)}Jd(l,y,_,L),Rn(l);return;case"option":for(_e in h)if(h.hasOwnProperty(_e)&&(y=h[_e],y!=null))switch(_e){case"selected":l.selected=y&&typeof y!="function"&&typeof y!="symbol";break;default:Kr(l,c,_e,y,h,null)}return;case"dialog":dr("beforetoggle",l),dr("toggle",l),dr("cancel",l),dr("close",l);break;case"iframe":case"object":dr("load",l);break;case"video":case"audio":for(y=0;y<Ph.length;y++)dr(Ph[y],l);break;case"image":dr("error",l),dr("load",l);break;case"details":dr("toggle",l);break;case"embed":case"source":case"link":dr("error",l),dr("load",l);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for($e in h)if(h.hasOwnProperty($e)&&(y=h[$e],y!=null))switch($e){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,c));default:Kr(l,c,$e,y,h,null)}return;default:if(Zd(c)){for(Ve in h)h.hasOwnProperty(Ve)&&(y=h[Ve],y!==void 0&&Rb(l,c,Ve,y,h,void 0));return}}for(fe in h)h.hasOwnProperty(fe)&&(y=h[fe],y!=null&&Kr(l,c,fe,y,h,null))}function mL(l,c,h,y){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var _=null,L=null,ee=null,fe=null,_e=null,$e=null,Ve=null;for(Be in h){var Xe=h[Be];if(h.hasOwnProperty(Be)&&Xe!=null)switch(Be){case"checked":break;case"value":break;case"defaultValue":_e=Xe;default:y.hasOwnProperty(Be)||Kr(l,c,Be,null,y,Xe)}}for(var Fe in y){var Be=y[Fe];if(Xe=h[Fe],y.hasOwnProperty(Fe)&&(Be!=null||Xe!=null))switch(Fe){case"type":L=Be;break;case"name":_=Be;break;case"checked":$e=Be;break;case"defaultChecked":Ve=Be;break;case"value":ee=Be;break;case"defaultValue":fe=Be;break;case"children":case"dangerouslySetInnerHTML":if(Be!=null)throw Error(s(137,c));break;default:Be!==Xe&&Kr(l,c,Fe,Be,y,Xe)}}Mo(l,ee,fe,_e,$e,Ve,L,_);return;case"select":Be=ee=fe=Fe=null;for(L in h)if(_e=h[L],h.hasOwnProperty(L)&&_e!=null)switch(L){case"value":break;case"multiple":Be=_e;default:y.hasOwnProperty(L)||Kr(l,c,L,null,y,_e)}for(_ in y)if(L=y[_],_e=h[_],y.hasOwnProperty(_)&&(L!=null||_e!=null))switch(_){case"value":Fe=L;break;case"defaultValue":fe=L;break;case"multiple":ee=L;default:L!==_e&&Kr(l,c,_,L,y,_e)}c=fe,h=ee,y=Be,Fe!=null?Zl(l,!!h,Fe,!1):!!y!=!!h&&(c!=null?Zl(l,!!h,c,!0):Zl(l,!!h,h?[]:"",!1));return;case"textarea":Be=Fe=null;for(fe in h)if(_=h[fe],h.hasOwnProperty(fe)&&_!=null&&!y.hasOwnProperty(fe))switch(fe){case"value":break;case"children":break;default:Kr(l,c,fe,null,y,_)}for(ee in y)if(_=y[ee],L=h[ee],y.hasOwnProperty(ee)&&(_!=null||L!=null))switch(ee){case"value":Fe=_;break;case"defaultValue":Be=_;break;case"children":break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(s(91));break;default:_!==L&&Kr(l,c,ee,_,y,L)}ii(l,Fe,Be);return;case"option":for(var zt in h)if(Fe=h[zt],h.hasOwnProperty(zt)&&Fe!=null&&!y.hasOwnProperty(zt))switch(zt){case"selected":l.selected=!1;break;default:Kr(l,c,zt,null,y,Fe)}for(_e in y)if(Fe=y[_e],Be=h[_e],y.hasOwnProperty(_e)&&Fe!==Be&&(Fe!=null||Be!=null))switch(_e){case"selected":l.selected=Fe&&typeof Fe!="function"&&typeof Fe!="symbol";break;default:Kr(l,c,_e,Fe,y,Be)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Dt in h)Fe=h[Dt],h.hasOwnProperty(Dt)&&Fe!=null&&!y.hasOwnProperty(Dt)&&Kr(l,c,Dt,null,y,Fe);for($e in y)if(Fe=y[$e],Be=h[$e],y.hasOwnProperty($e)&&Fe!==Be&&(Fe!=null||Be!=null))switch($e){case"children":case"dangerouslySetInnerHTML":if(Fe!=null)throw Error(s(137,c));break;default:Kr(l,c,$e,Fe,y,Be)}return;default:if(Zd(c)){for(var Wr in h)Fe=h[Wr],h.hasOwnProperty(Wr)&&Fe!==void 0&&!y.hasOwnProperty(Wr)&&Rb(l,c,Wr,void 0,y,Fe);for(Ve in y)Fe=y[Ve],Be=h[Ve],!y.hasOwnProperty(Ve)||Fe===Be||Fe===void 0&&Be===void 0||Rb(l,c,Ve,Fe,y,Be);return}}for(var Te in h)Fe=h[Te],h.hasOwnProperty(Te)&&Fe!=null&&!y.hasOwnProperty(Te)&&Kr(l,c,Te,null,y,Fe);for(Xe in y)Fe=y[Xe],Be=h[Xe],!y.hasOwnProperty(Xe)||Fe===Be||Fe==null&&Be==null||Kr(l,c,Xe,Fe,y,Be)}var $b=null,Ib=null;function V0(l){return l.nodeType===9?l:l.ownerDocument}function V3(l){switch(l){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function K3(l,c){if(l===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return l===1&&c==="foreignObject"?0:l}function Fb(l,c){return l==="textarea"||l==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var Bb=null;function fL(){var l=window.event;return l&&l.type==="popstate"?l===Bb?!1:(Bb=l,!0):(Bb=null,!1)}var W3=typeof setTimeout=="function"?setTimeout:void 0,hL=typeof clearTimeout=="function"?clearTimeout:void 0,X3=typeof Promise=="function"?Promise:void 0,xL=typeof queueMicrotask=="function"?queueMicrotask:typeof X3<"u"?function(l){return X3.resolve(null).then(l).catch(pL)}:W3;function pL(l){setTimeout(function(){throw l})}function hd(l){return l==="head"}function J3(l,c){var h=c,y=0,_=0;do{var L=h.nextSibling;if(l.removeChild(h),L&&L.nodeType===8)if(h=L.data,h==="/$"){if(0<y&&8>y){h=y;var ee=l.ownerDocument;if(h&1&&Oh(ee.documentElement),h&2&&Oh(ee.body),h&4)for(h=ee.head,Oh(h),ee=h.firstChild;ee;){var fe=ee.nextSibling,_e=ee.nodeName;ee[Ln]||_e==="SCRIPT"||_e==="STYLE"||_e==="LINK"&&ee.rel.toLowerCase()==="stylesheet"||h.removeChild(ee),ee=fe}}if(_===0){l.removeChild(L),Bh(c);return}_--}else h==="$"||h==="$?"||h==="$!"?_++:y=h.charCodeAt(0)-48;else y=0;h=L}while(h);Bh(c)}function zb(l){var c=l.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var h=c;switch(c=c.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":zb(h),bn(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}l.removeChild(h)}}function gL(l,c,h,y){for(;l.nodeType===1;){var _=h;if(l.nodeName.toLowerCase()!==c.toLowerCase()){if(!y&&(l.nodeName!=="INPUT"||l.type!=="hidden"))break}else if(y){if(!l[Ln])switch(c){case"meta":if(!l.hasAttribute("itemprop"))break;return l;case"link":if(L=l.getAttribute("rel"),L==="stylesheet"&&l.hasAttribute("data-precedence"))break;if(L!==_.rel||l.getAttribute("href")!==(_.href==null||_.href===""?null:_.href)||l.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin)||l.getAttribute("title")!==(_.title==null?null:_.title))break;return l;case"style":if(l.hasAttribute("data-precedence"))break;return l;case"script":if(L=l.getAttribute("src"),(L!==(_.src==null?null:_.src)||l.getAttribute("type")!==(_.type==null?null:_.type)||l.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin))&&L&&l.hasAttribute("async")&&!l.hasAttribute("itemprop"))break;return l;default:return l}}else if(c==="input"&&l.type==="hidden"){var L=_.name==null?null:""+_.name;if(_.type==="hidden"&&l.getAttribute("name")===L)return l}else return l;if(l=Ll(l.nextSibling),l===null)break}return null}function yL(l,c,h){if(c==="")return null;for(;l.nodeType!==3;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!h||(l=Ll(l.nextSibling),l===null))return null;return l}function Ub(l){return l.data==="$!"||l.data==="$?"&&l.ownerDocument.readyState==="complete"}function bL(l,c){var h=l.ownerDocument;if(l.data!=="$?"||h.readyState==="complete")c();else{var y=function(){c(),h.removeEventListener("DOMContentLoaded",y)};h.addEventListener("DOMContentLoaded",y),l._reactRetry=y}}function Ll(l){for(;l!=null;l=l.nextSibling){var c=l.nodeType;if(c===1||c===3)break;if(c===8){if(c=l.data,c==="$"||c==="$!"||c==="$?"||c==="F!"||c==="F")break;if(c==="/$")return null}}return l}var qb=null;function Z3(l){l=l.previousSibling;for(var c=0;l;){if(l.nodeType===8){var h=l.data;if(h==="$"||h==="$!"||h==="$?"){if(c===0)return l;c--}else h==="/$"&&c++}l=l.previousSibling}return null}function Q3(l,c,h){switch(c=V0(h),l){case"html":if(l=c.documentElement,!l)throw Error(s(452));return l;case"head":if(l=c.head,!l)throw Error(s(453));return l;case"body":if(l=c.body,!l)throw Error(s(454));return l;default:throw Error(s(451))}}function Oh(l){for(var c=l.attributes;c.length;)l.removeAttributeNode(c[0]);bn(l)}var al=new Map,e4=new Set;function K0(l){return typeof l.getRootNode=="function"?l.getRootNode():l.nodeType===9?l:l.ownerDocument}var nc=V.d;V.d={f:vL,r:jL,D:NL,C:wL,L:SL,m:_L,X:kL,S:AL,M:CL};function vL(){var l=nc.f(),c=F0();return l||c}function jL(l){var c=As(l);c!==null&&c.tag===5&&c.type==="form"?vu(c):nc.r(l)}var Vm=typeof document>"u"?null:document;function t4(l,c,h){var y=Vm;if(y&&typeof c=="string"&&c){var _=vr(c);_='link[rel="'+l+'"][href="'+_+'"]',typeof h=="string"&&(_+='[crossorigin="'+h+'"]'),e4.has(_)||(e4.add(_),l={rel:l,crossOrigin:h,href:c},y.querySelector(_)===null&&(c=y.createElement("link"),en(c,"link",l),ia(c),y.head.appendChild(c)))}}function NL(l){nc.D(l),t4("dns-prefetch",l,null)}function wL(l,c){nc.C(l,c),t4("preconnect",l,c)}function SL(l,c,h){nc.L(l,c,h);var y=Vm;if(y&&l&&c){var _='link[rel="preload"][as="'+vr(c)+'"]';c==="image"&&h&&h.imageSrcSet?(_+='[imagesrcset="'+vr(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(_+='[imagesizes="'+vr(h.imageSizes)+'"]')):_+='[href="'+vr(l)+'"]';var L=_;switch(c){case"style":L=Km(l);break;case"script":L=Wm(l)}al.has(L)||(l=f({rel:"preload",href:c==="image"&&h&&h.imageSrcSet?void 0:l,as:c},h),al.set(L,l),y.querySelector(_)!==null||c==="style"&&y.querySelector(Dh(L))||c==="script"&&y.querySelector(Lh(L))||(c=y.createElement("link"),en(c,"link",l),ia(c),y.head.appendChild(c)))}}function _L(l,c){nc.m(l,c);var h=Vm;if(h&&l){var y=c&&typeof c.as=="string"?c.as:"script",_='link[rel="modulepreload"][as="'+vr(y)+'"][href="'+vr(l)+'"]',L=_;switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":L=Wm(l)}if(!al.has(L)&&(l=f({rel:"modulepreload",href:l},c),al.set(L,l),h.querySelector(_)===null)){switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(Lh(L)))return}y=h.createElement("link"),en(y,"link",l),ia(y),h.head.appendChild(y)}}}function AL(l,c,h){nc.S(l,c,h);var y=Vm;if(y&&l){var _=hs(y).hoistableStyles,L=Km(l);c=c||"default";var ee=_.get(L);if(!ee){var fe={loading:0,preload:null};if(ee=y.querySelector(Dh(L)))fe.loading=5;else{l=f({rel:"stylesheet",href:l,"data-precedence":c},h),(h=al.get(L))&&Hb(l,h);var _e=ee=y.createElement("link");ia(_e),en(_e,"link",l),_e._p=new Promise(function($e,Ve){_e.onload=$e,_e.onerror=Ve}),_e.addEventListener("load",function(){fe.loading|=1}),_e.addEventListener("error",function(){fe.loading|=2}),fe.loading|=4,W0(ee,c,y)}ee={type:"stylesheet",instance:ee,count:1,state:fe},_.set(L,ee)}}}function kL(l,c){nc.X(l,c);var h=Vm;if(h&&l){var y=hs(h).hoistableScripts,_=Wm(l),L=y.get(_);L||(L=h.querySelector(Lh(_)),L||(l=f({src:l,async:!0},c),(c=al.get(_))&&Gb(l,c),L=h.createElement("script"),ia(L),en(L,"link",l),h.head.appendChild(L)),L={type:"script",instance:L,count:1,state:null},y.set(_,L))}}function CL(l,c){nc.M(l,c);var h=Vm;if(h&&l){var y=hs(h).hoistableScripts,_=Wm(l),L=y.get(_);L||(L=h.querySelector(Lh(_)),L||(l=f({src:l,async:!0,type:"module"},c),(c=al.get(_))&&Gb(l,c),L=h.createElement("script"),ia(L),en(L,"link",l),h.head.appendChild(L)),L={type:"script",instance:L,count:1,state:null},y.set(_,L))}}function r4(l,c,h,y){var _=(_=ve.current)?K0(_):null;if(!_)throw Error(s(446));switch(l){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(c=Km(h.href),h=hs(_).hoistableStyles,y=h.get(c),y||(y={type:"style",instance:null,count:0,state:null},h.set(c,y)),y):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){l=Km(h.href);var L=hs(_).hoistableStyles,ee=L.get(l);if(ee||(_=_.ownerDocument||_,ee={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},L.set(l,ee),(L=_.querySelector(Dh(l)))&&!L._p&&(ee.instance=L,ee.state.loading=5),al.has(l)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},al.set(l,h),L||EL(_,l,h,ee.state))),c&&y===null)throw Error(s(528,""));return ee}if(c&&y!==null)throw Error(s(529,""));return null;case"script":return c=h.async,h=h.src,typeof h=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=Wm(h),h=hs(_).hoistableScripts,y=h.get(c),y||(y={type:"script",instance:null,count:0,state:null},h.set(c,y)),y):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,l))}}function Km(l){return'href="'+vr(l)+'"'}function Dh(l){return'link[rel="stylesheet"]['+l+"]"}function a4(l){return f({},l,{"data-precedence":l.precedence,precedence:null})}function EL(l,c,h,y){l.querySelector('link[rel="preload"][as="style"]['+c+"]")?y.loading=1:(c=l.createElement("link"),y.preload=c,c.addEventListener("load",function(){return y.loading|=1}),c.addEventListener("error",function(){return y.loading|=2}),en(c,"link",h),ia(c),l.head.appendChild(c))}function Wm(l){return'[src="'+vr(l)+'"]'}function Lh(l){return"script[async]"+l}function s4(l,c,h){if(c.count++,c.instance===null)switch(c.type){case"style":var y=l.querySelector('style[data-href~="'+vr(h.href)+'"]');if(y)return c.instance=y,ia(y),y;var _=f({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return y=(l.ownerDocument||l).createElement("style"),ia(y),en(y,"style",_),W0(y,h.precedence,l),c.instance=y;case"stylesheet":_=Km(h.href);var L=l.querySelector(Dh(_));if(L)return c.state.loading|=4,c.instance=L,ia(L),L;y=a4(h),(_=al.get(_))&&Hb(y,_),L=(l.ownerDocument||l).createElement("link"),ia(L);var ee=L;return ee._p=new Promise(function(fe,_e){ee.onload=fe,ee.onerror=_e}),en(L,"link",y),c.state.loading|=4,W0(L,h.precedence,l),c.instance=L;case"script":return L=Wm(h.src),(_=l.querySelector(Lh(L)))?(c.instance=_,ia(_),_):(y=h,(_=al.get(L))&&(y=f({},h),Gb(y,_)),l=l.ownerDocument||l,_=l.createElement("script"),ia(_),en(_,"link",y),l.head.appendChild(_),c.instance=_);case"void":return null;default:throw Error(s(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(y=c.instance,c.state.loading|=4,W0(y,h.precedence,l));return c.instance}function W0(l,c,h){for(var y=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),_=y.length?y[y.length-1]:null,L=_,ee=0;ee<y.length;ee++){var fe=y[ee];if(fe.dataset.precedence===c)L=fe;else if(L!==_)break}L?L.parentNode.insertBefore(l,L.nextSibling):(c=h.nodeType===9?h.head:h,c.insertBefore(l,c.firstChild))}function Hb(l,c){l.crossOrigin==null&&(l.crossOrigin=c.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=c.referrerPolicy),l.title==null&&(l.title=c.title)}function Gb(l,c){l.crossOrigin==null&&(l.crossOrigin=c.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=c.referrerPolicy),l.integrity==null&&(l.integrity=c.integrity)}var X0=null;function n4(l,c,h){if(X0===null){var y=new Map,_=X0=new Map;_.set(h,y)}else _=X0,y=_.get(h),y||(y=new Map,_.set(h,y));if(y.has(l))return y;for(y.set(l,null),h=h.getElementsByTagName(l),_=0;_<h.length;_++){var L=h[_];if(!(L[Ln]||L[sa]||l==="link"&&L.getAttribute("rel")==="stylesheet")&&L.namespaceURI!=="http://www.w3.org/2000/svg"){var ee=L.getAttribute(c)||"";ee=l+ee;var fe=y.get(ee);fe?fe.push(L):y.set(ee,[L])}}return y}function i4(l,c,h){l=l.ownerDocument||l,l.head.insertBefore(h,c==="title"?l.querySelector("head > title"):null)}function PL(l,c,h){if(h===1||c.itemProp!=null)return!1;switch(l){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return l=c.disabled,typeof c.precedence=="string"&&l==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function l4(l){return!(l.type==="stylesheet"&&(l.state.loading&3)===0)}var Mh=null;function TL(){}function OL(l,c,h){if(Mh===null)throw Error(s(475));var y=Mh;if(c.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var _=Km(h.href),L=l.querySelector(Dh(_));if(L){l=L._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(y.count++,y=J0.bind(y),l.then(y,y)),c.state.loading|=4,c.instance=L,ia(L);return}L=l.ownerDocument||l,h=a4(h),(_=al.get(_))&&Hb(h,_),L=L.createElement("link"),ia(L);var ee=L;ee._p=new Promise(function(fe,_e){ee.onload=fe,ee.onerror=_e}),en(L,"link",h),c.instance=L}y.stylesheets===null&&(y.stylesheets=new Map),y.stylesheets.set(c,l),(l=c.state.preload)&&(c.state.loading&3)===0&&(y.count++,c=J0.bind(y),l.addEventListener("load",c),l.addEventListener("error",c))}}function DL(){if(Mh===null)throw Error(s(475));var l=Mh;return l.stylesheets&&l.count===0&&Yb(l,l.stylesheets),0<l.count?function(c){var h=setTimeout(function(){if(l.stylesheets&&Yb(l,l.stylesheets),l.unsuspend){var y=l.unsuspend;l.unsuspend=null,y()}},6e4);return l.unsuspend=c,function(){l.unsuspend=null,clearTimeout(h)}}:null}function J0(){if(this.count--,this.count===0){if(this.stylesheets)Yb(this,this.stylesheets);else if(this.unsuspend){var l=this.unsuspend;this.unsuspend=null,l()}}}var Z0=null;function Yb(l,c){l.stylesheets=null,l.unsuspend!==null&&(l.count++,Z0=new Map,c.forEach(LL,l),Z0=null,J0.call(l))}function LL(l,c){if(!(c.state.loading&4)){var h=Z0.get(l);if(h)var y=h.get(null);else{h=new Map,Z0.set(l,h);for(var _=l.querySelectorAll("link[data-precedence],style[data-precedence]"),L=0;L<_.length;L++){var ee=_[L];(ee.nodeName==="LINK"||ee.getAttribute("media")!=="not all")&&(h.set(ee.dataset.precedence,ee),y=ee)}y&&h.set(null,y)}_=c.instance,ee=_.getAttribute("data-precedence"),L=h.get(ee)||y,L===y&&h.set(null,_),h.set(ee,_),this.count++,y=J0.bind(this),_.addEventListener("load",y),_.addEventListener("error",y),L?L.parentNode.insertBefore(_,L.nextSibling):(l=l.nodeType===9?l.head:l,l.insertBefore(_,l.firstChild)),c.state.loading|=4}}var Rh={$$typeof:A,Provider:null,Consumer:null,_currentValue:Z,_currentValue2:Z,_threadCount:0};function ML(l,c,h,y,_,L,ee,fe){this.tag=1,this.containerInfo=l,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ea(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ea(0),this.hiddenUpdates=Ea(null),this.identifierPrefix=y,this.onUncaughtError=_,this.onCaughtError=L,this.onRecoverableError=ee,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=fe,this.incompleteTransitions=new Map}function o4(l,c,h,y,_,L,ee,fe,_e,$e,Ve,Xe){return l=new ML(l,c,h,ee,fe,_e,$e,Xe),c=1,L===!0&&(c|=24),L=Es(3,null,null,c),l.current=L,L.stateNode=l,c=nh(),c.refCount++,l.pooledCache=c,c.refCount++,L.memoizedState={element:y,isDehydrated:h,cache:c},Me(L),l}function c4(l){return l?(l=os,l):os}function d4(l,c,h,y,_,L){_=c4(_),y.context===null?y.context=_:y.pendingContext=_,y=He(c),y.payload={element:h},L=L===void 0?null:L,L!==null&&(y.callback=L),h=Ze(l,y,c),h!==null&&(yi(h,l,c),We(h,l,c))}function u4(l,c){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var h=l.retryLane;l.retryLane=h!==0&&h<c?h:c}}function Vb(l,c){u4(l,c),(l=l.alternate)&&u4(l,c)}function m4(l){if(l.tag===13){var c=Ho(l,67108864);c!==null&&yi(c,l,67108864),Vb(l,67108864)}}var Q0=!0;function RL(l,c,h,y){var _=U.T;U.T=null;var L=V.p;try{V.p=2,Kb(l,c,h,y)}finally{V.p=L,U.T=_}}function $L(l,c,h,y){var _=U.T;U.T=null;var L=V.p;try{V.p=8,Kb(l,c,h,y)}finally{V.p=L,U.T=_}}function Kb(l,c,h,y){if(Q0){var _=Wb(y);if(_===null)Mb(l,c,y,ep,h),h4(l,y);else if(FL(_,l,c,h,y))y.stopPropagation();else if(h4(l,y),c&4&&-1<IL.indexOf(l)){for(;_!==null;){var L=As(_);if(L!==null)switch(L.tag){case 3:if(L=L.stateNode,L.current.memoizedState.isDehydrated){var ee=Tt(L.pendingLanes);if(ee!==0){var fe=L;for(fe.pendingLanes|=2,fe.entangledLanes|=2;ee;){var _e=1<<31-lt(ee);fe.entanglements[1]|=_e,ee&=~_e}po(L),(Ur&6)===0&&($0=rt()+500,Eh(0))}}break;case 13:fe=Ho(L,2),fe!==null&&yi(fe,L,2),F0(),Vb(L,2)}if(L=Wb(y),L===null&&Mb(l,c,y,ep,h),L===_)break;_=L}_!==null&&y.stopPropagation()}else Mb(l,c,y,null,h)}}function Wb(l){return l=eu(l),Xb(l)}var ep=null;function Xb(l){if(ep=null,l=Us(l),l!==null){var c=i(l);if(c===null)l=null;else{var h=c.tag;if(h===13){if(l=o(c),l!==null)return l;l=null}else if(h===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;l=null}else c!==l&&(l=null)}}return ep=l,null}function f4(l){switch(l){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(it()){case pe:return 2;case Ie:return 8;case Qe:case xt:return 32;case dt:return 268435456;default:return 32}default:return 32}}var Jb=!1,xd=null,pd=null,gd=null,$h=new Map,Ih=new Map,yd=[],IL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function h4(l,c){switch(l){case"focusin":case"focusout":xd=null;break;case"dragenter":case"dragleave":pd=null;break;case"mouseover":case"mouseout":gd=null;break;case"pointerover":case"pointerout":$h.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ih.delete(c.pointerId)}}function Fh(l,c,h,y,_,L){return l===null||l.nativeEvent!==L?(l={blockedOn:c,domEventName:h,eventSystemFlags:y,nativeEvent:L,targetContainers:[_]},c!==null&&(c=As(c),c!==null&&m4(c)),l):(l.eventSystemFlags|=y,c=l.targetContainers,_!==null&&c.indexOf(_)===-1&&c.push(_),l)}function FL(l,c,h,y,_){switch(c){case"focusin":return xd=Fh(xd,l,c,h,y,_),!0;case"dragenter":return pd=Fh(pd,l,c,h,y,_),!0;case"mouseover":return gd=Fh(gd,l,c,h,y,_),!0;case"pointerover":var L=_.pointerId;return $h.set(L,Fh($h.get(L)||null,l,c,h,y,_)),!0;case"gotpointercapture":return L=_.pointerId,Ih.set(L,Fh(Ih.get(L)||null,l,c,h,y,_)),!0}return!1}function x4(l){var c=Us(l.target);if(c!==null){var h=i(c);if(h!==null){if(c=h.tag,c===13){if(c=o(h),c!==null){l.blockedOn=c,Et(l.priority,function(){if(h.tag===13){var y=gi();y=ss(y);var _=Ho(h,y);_!==null&&yi(_,h,y),Vb(h,y)}});return}}else if(c===3&&h.stateNode.current.memoizedState.isDehydrated){l.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}l.blockedOn=null}function tp(l){if(l.blockedOn!==null)return!1;for(var c=l.targetContainers;0<c.length;){var h=Wb(l.nativeEvent);if(h===null){h=l.nativeEvent;var y=new h.constructor(h.type,h);Di=y,h.target.dispatchEvent(y),Di=null}else return c=As(h),c!==null&&m4(c),l.blockedOn=h,!1;c.shift()}return!0}function p4(l,c,h){tp(l)&&h.delete(c)}function BL(){Jb=!1,xd!==null&&tp(xd)&&(xd=null),pd!==null&&tp(pd)&&(pd=null),gd!==null&&tp(gd)&&(gd=null),$h.forEach(p4),Ih.forEach(p4)}function rp(l,c){l.blockedOn===c&&(l.blockedOn=null,Jb||(Jb=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,BL)))}var ap=null;function g4(l){ap!==l&&(ap=l,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){ap===l&&(ap=null);for(var c=0;c<l.length;c+=3){var h=l[c],y=l[c+1],_=l[c+2];if(typeof y!="function"){if(Xb(y||h)===null)continue;break}var L=As(h);L!==null&&(l.splice(c,3),c-=3,el(L,{pending:!0,data:_,method:h.method,action:y},y,_))}}))}function Bh(l){function c(_e){return rp(_e,l)}xd!==null&&rp(xd,l),pd!==null&&rp(pd,l),gd!==null&&rp(gd,l),$h.forEach(c),Ih.forEach(c);for(var h=0;h<yd.length;h++){var y=yd[h];y.blockedOn===l&&(y.blockedOn=null)}for(;0<yd.length&&(h=yd[0],h.blockedOn===null);)x4(h),h.blockedOn===null&&yd.shift();if(h=(l.ownerDocument||l).$$reactFormReplay,h!=null)for(y=0;y<h.length;y+=3){var _=h[y],L=h[y+1],ee=_[Xr]||null;if(typeof L=="function")ee||g4(h);else if(ee){var fe=null;if(L&&L.hasAttribute("formAction")){if(_=L,ee=L[Xr]||null)fe=ee.formAction;else if(Xb(_)!==null)continue}else fe=ee.action;typeof fe=="function"?h[y+1]=fe:(h.splice(y,3),y-=3),g4(h)}}}function Zb(l){this._internalRoot=l}sp.prototype.render=Zb.prototype.render=function(l){var c=this._internalRoot;if(c===null)throw Error(s(409));var h=c.current,y=gi();d4(h,y,l,c,null,null)},sp.prototype.unmount=Zb.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var c=l.containerInfo;d4(l.current,2,null,l,null,null),F0(),c[ms]=null}};function sp(l){this._internalRoot=l}sp.prototype.unstable_scheduleHydration=function(l){if(l){var c=ai();l={blockedOn:null,target:l,priority:c};for(var h=0;h<yd.length&&c!==0&&c<yd[h].priority;h++);yd.splice(h,0,l),h===0&&x4(l)}};var y4=r.version;if(y4!=="19.1.1")throw Error(s(527,y4,"19.1.1"));V.findDOMNode=function(l){var c=l._reactInternals;if(c===void 0)throw typeof l.render=="function"?Error(s(188)):(l=Object.keys(l).join(","),Error(s(268,l)));return l=u(c),l=l!==null?m(l):null,l=l===null?null:l.stateNode,l};var zL={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var np=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!np.isDisabled&&np.supportsFiber)try{Rt=np.inject(zL),er=np}catch{}}return Uh.createRoot=function(l,c){if(!n(l))throw Error(s(299));var h=!1,y="",_=Lw,L=Mw,ee=Rw,fe=null;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(y=c.identifierPrefix),c.onUncaughtError!==void 0&&(_=c.onUncaughtError),c.onCaughtError!==void 0&&(L=c.onCaughtError),c.onRecoverableError!==void 0&&(ee=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(fe=c.unstable_transitionCallbacks)),c=o4(l,1,!1,null,null,h,y,_,L,ee,fe,null),l[ms]=c.current,Lb(l),new Zb(c)},Uh.hydrateRoot=function(l,c,h){if(!n(l))throw Error(s(299));var y=!1,_="",L=Lw,ee=Mw,fe=Rw,_e=null,$e=null;return h!=null&&(h.unstable_strictMode===!0&&(y=!0),h.identifierPrefix!==void 0&&(_=h.identifierPrefix),h.onUncaughtError!==void 0&&(L=h.onUncaughtError),h.onCaughtError!==void 0&&(ee=h.onCaughtError),h.onRecoverableError!==void 0&&(fe=h.onRecoverableError),h.unstable_transitionCallbacks!==void 0&&(_e=h.unstable_transitionCallbacks),h.formState!==void 0&&($e=h.formState)),c=o4(l,1,!0,c,h??null,y,_,L,ee,fe,_e,$e),c.context=c4(null),h=c.current,y=gi(),y=ss(y),_=He(y),_.callback=null,Ze(h,_,y),h=y,c.current.lanes=h,Sr(c,h),po(c),l[ms]=c.current,Lb(l),new sp(c)},Uh.version="19.1.1",Uh}var C4;function JL(){if(C4)return tv.exports;C4=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(r){console.error(r)}}return t(),tv.exports=XL(),tv.exports}var ZL=JL(),QL=sk();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function mx(){return mx=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},mx.apply(this,arguments)}var Ad;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ad||(Ad={}));const E4="popstate";function eM(t){t===void 0&&(t={});function r(s,n){let{pathname:i,search:o,hash:d}=s.location;return S2("",{pathname:i,search:o,hash:d},n.state&&n.state.usr||null,n.state&&n.state.key||"default")}function a(s,n){return typeof n=="string"?n:Kp(n)}return rM(r,a,null,t)}function Ma(t,r){if(t===!1||t===null||typeof t>"u")throw new Error(r)}function nk(t,r){if(!t){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function tM(){return Math.random().toString(36).substr(2,8)}function P4(t,r){return{usr:t.state,key:t.key,idx:r}}function S2(t,r,a,s){return a===void 0&&(a=null),mx({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof r=="string"?Of(r):r,{state:a,key:r&&r.key||s||tM()})}function Kp(t){let{pathname:r="/",search:a="",hash:s=""}=t;return a&&a!=="?"&&(r+=a.charAt(0)==="?"?a:"?"+a),s&&s!=="#"&&(r+=s.charAt(0)==="#"?s:"#"+s),r}function Of(t){let r={};if(t){let a=t.indexOf("#");a>=0&&(r.hash=t.substr(a),t=t.substr(0,a));let s=t.indexOf("?");s>=0&&(r.search=t.substr(s),t=t.substr(0,s)),t&&(r.pathname=t)}return r}function rM(t,r,a,s){s===void 0&&(s={});let{window:n=document.defaultView,v5Compat:i=!1}=s,o=n.history,d=Ad.Pop,u=null,m=f();m==null&&(m=0,o.replaceState(mx({},o.state,{idx:m}),""));function f(){return(o.state||{idx:null}).idx}function x(){d=Ad.Pop;let w=f(),N=w==null?null:w-m;m=w,u&&u({action:d,location:j.location,delta:N})}function b(w,N){d=Ad.Push;let P=S2(j.location,w,N);m=f()+1;let A=P4(P,m),D=j.createHref(P);try{o.pushState(A,"",D)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;n.location.assign(D)}i&&u&&u({action:d,location:j.location,delta:1})}function p(w,N){d=Ad.Replace;let P=S2(j.location,w,N);m=f();let A=P4(P,m),D=j.createHref(P);o.replaceState(A,"",D),i&&u&&u({action:d,location:j.location,delta:0})}function v(w){let N=n.location.origin!=="null"?n.location.origin:n.location.href,P=typeof w=="string"?w:Kp(w);return P=P.replace(/ $/,"%20"),Ma(N,"No window.location.(origin|href) available to create URL for href: "+P),new URL(P,N)}let j={get action(){return d},get location(){return t(n,o)},listen(w){if(u)throw new Error("A history only accepts one active listener");return n.addEventListener(E4,x),u=w,()=>{n.removeEventListener(E4,x),u=null}},createHref(w){return r(n,w)},createURL:v,encodeLocation(w){let N=v(w);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:b,replace:p,go(w){return o.go(w)}};return j}var T4;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(T4||(T4={}));function aM(t,r,a){return a===void 0&&(a="/"),sM(t,r,a)}function sM(t,r,a,s){let n=typeof r=="string"?Of(r):r,i=yf(n.pathname||"/",a);if(i==null)return null;let o=ik(t);nM(o);let d=null;for(let u=0;d==null&&u<o.length;++u){let m=pM(i);d=hM(o[u],m)}return d}function ik(t,r,a,s){r===void 0&&(r=[]),a===void 0&&(a=[]),s===void 0&&(s="");let n=(i,o,d)=>{let u={relativePath:d===void 0?i.path||"":d,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};u.relativePath.startsWith("/")&&(Ma(u.relativePath.startsWith(s),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(s.length));let m=Cd([s,u.relativePath]),f=a.concat(u);i.children&&i.children.length>0&&(Ma(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+m+'".')),ik(i.children,r,f,m)),!(i.path==null&&!i.index)&&r.push({path:m,score:mM(m,i.index),routesMeta:f})};return t.forEach((i,o)=>{var d;if(i.path===""||!((d=i.path)!=null&&d.includes("?")))n(i,o);else for(let u of lk(i.path))n(i,o,u)}),r}function lk(t){let r=t.split("/");if(r.length===0)return[];let[a,...s]=r,n=a.endsWith("?"),i=a.replace(/\?$/,"");if(s.length===0)return n?[i,""]:[i];let o=lk(s.join("/")),d=[];return d.push(...o.map(u=>u===""?i:[i,u].join("/"))),n&&d.push(...o),d.map(u=>t.startsWith("/")&&u===""?"/":u)}function nM(t){t.sort((r,a)=>r.score!==a.score?a.score-r.score:fM(r.routesMeta.map(s=>s.childrenIndex),a.routesMeta.map(s=>s.childrenIndex)))}const iM=/^:[\w-]+$/,lM=3,oM=2,cM=1,dM=10,uM=-2,O4=t=>t==="*";function mM(t,r){let a=t.split("/"),s=a.length;return a.some(O4)&&(s+=uM),r&&(s+=oM),a.filter(n=>!O4(n)).reduce((n,i)=>n+(iM.test(i)?lM:i===""?cM:dM),s)}function fM(t,r){return t.length===r.length&&t.slice(0,-1).every((s,n)=>s===r[n])?t[t.length-1]-r[r.length-1]:0}function hM(t,r,a){let{routesMeta:s}=t,n={},i="/",o=[];for(let d=0;d<s.length;++d){let u=s[d],m=d===s.length-1,f=i==="/"?r:r.slice(i.length)||"/",x=_2({path:u.relativePath,caseSensitive:u.caseSensitive,end:m},f),b=u.route;if(!x)return null;Object.assign(n,x.params),o.push({params:n,pathname:Cd([i,x.pathname]),pathnameBase:vM(Cd([i,x.pathnameBase])),route:b}),x.pathnameBase!=="/"&&(i=Cd([i,x.pathnameBase]))}return o}function _2(t,r){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[a,s]=xM(t.path,t.caseSensitive,t.end),n=r.match(a);if(!n)return null;let i=n[0],o=i.replace(/(.)\/+$/,"$1"),d=n.slice(1);return{params:s.reduce((m,f,x)=>{let{paramName:b,isOptional:p}=f;if(b==="*"){let j=d[x]||"";o=i.slice(0,i.length-j.length).replace(/(.)\/+$/,"$1")}const v=d[x];return p&&!v?m[b]=void 0:m[b]=(v||"").replace(/%2F/g,"/"),m},{}),pathname:i,pathnameBase:o,pattern:t}}function xM(t,r,a){r===void 0&&(r=!1),a===void 0&&(a=!0),nk(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let s=[],n="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,d,u)=>(s.push({paramName:d,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(s.push({paramName:"*"}),n+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?n+="\\/*$":t!==""&&t!=="/"&&(n+="(?:(?=\\/|$))"),[new RegExp(n,r?void 0:"i"),s]}function pM(t){try{return t.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return nk(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+r+").")),t}}function yf(t,r){if(r==="/")return t;if(!t.toLowerCase().startsWith(r.toLowerCase()))return null;let a=r.endsWith("/")?r.length-1:r.length,s=t.charAt(a);return s&&s!=="/"?null:t.slice(a)||"/"}function gM(t,r){r===void 0&&(r="/");let{pathname:a,search:s="",hash:n=""}=typeof t=="string"?Of(t):t;return{pathname:a?a.startsWith("/")?a:yM(a,r):r,search:jM(s),hash:NM(n)}}function yM(t,r){let a=r.replace(/\/+$/,"").split("/");return t.split("/").forEach(n=>{n===".."?a.length>1&&a.pop():n!=="."&&a.push(n)}),a.length>1?a.join("/"):"/"}function nv(t,r,a,s){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+r+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+a+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function bM(t){return t.filter((r,a)=>a===0||r.route.path&&r.route.path.length>0)}function iN(t,r){let a=bM(t);return r?a.map((s,n)=>n===a.length-1?s.pathname:s.pathnameBase):a.map(s=>s.pathnameBase)}function lN(t,r,a,s){s===void 0&&(s=!1);let n;typeof t=="string"?n=Of(t):(n=mx({},t),Ma(!n.pathname||!n.pathname.includes("?"),nv("?","pathname","search",n)),Ma(!n.pathname||!n.pathname.includes("#"),nv("#","pathname","hash",n)),Ma(!n.search||!n.search.includes("#"),nv("#","search","hash",n)));let i=t===""||n.pathname==="",o=i?"/":n.pathname,d;if(o==null)d=a;else{let x=r.length-1;if(!s&&o.startsWith("..")){let b=o.split("/");for(;b[0]==="..";)b.shift(),x-=1;n.pathname=b.join("/")}d=x>=0?r[x]:"/"}let u=gM(n,d),m=o&&o!=="/"&&o.endsWith("/"),f=(i||o===".")&&a.endsWith("/");return!u.pathname.endsWith("/")&&(m||f)&&(u.pathname+="/"),u}const Cd=t=>t.join("/").replace(/\/\/+/g,"/"),vM=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),jM=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,NM=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function wM(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const ok=["post","put","patch","delete"];new Set(ok);const SM=["get",...ok];new Set(SM);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fx(){return fx=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},fx.apply(this,arguments)}const Wg=g.createContext(null),ck=g.createContext(null),_c=g.createContext(null),Xg=g.createContext(null),Po=g.createContext({outlet:null,matches:[],isDataRoute:!1}),dk=g.createContext(null);function _M(t,r){let{relative:a}=r===void 0?{}:r;Df()||Ma(!1);let{basename:s,navigator:n}=g.useContext(_c),{hash:i,pathname:o,search:d}=Jg(t,{relative:a}),u=o;return s!=="/"&&(u=o==="/"?s:Cd([s,o])),n.createHref({pathname:u,search:d,hash:i})}function Df(){return g.useContext(Xg)!=null}function To(){return Df()||Ma(!1),g.useContext(Xg).location}function uk(t){g.useContext(_c).static||g.useLayoutEffect(t)}function br(){let{isDataRoute:t}=g.useContext(Po);return t?BM():AM()}function AM(){Df()||Ma(!1);let t=g.useContext(Wg),{basename:r,future:a,navigator:s}=g.useContext(_c),{matches:n}=g.useContext(Po),{pathname:i}=To(),o=JSON.stringify(iN(n,a.v7_relativeSplatPath)),d=g.useRef(!1);return uk(()=>{d.current=!0}),g.useCallback(function(m,f){if(f===void 0&&(f={}),!d.current)return;if(typeof m=="number"){s.go(m);return}let x=lN(m,JSON.parse(o),i,f.relative==="path");t==null&&r!=="/"&&(x.pathname=x.pathname==="/"?r:Cd([r,x.pathname])),(f.replace?s.replace:s.push)(x,f.state,f)},[r,s,o,i,t])}const kM=g.createContext(null);function CM(t){let r=g.useContext(Po).outlet;return r&&g.createElement(kM.Provider,{value:t},r)}function On(){let{matches:t}=g.useContext(Po),r=t[t.length-1];return r?r.params:{}}function Jg(t,r){let{relative:a}=r===void 0?{}:r,{future:s}=g.useContext(_c),{matches:n}=g.useContext(Po),{pathname:i}=To(),o=JSON.stringify(iN(n,s.v7_relativeSplatPath));return g.useMemo(()=>lN(t,JSON.parse(o),i,a==="path"),[t,o,i,a])}function EM(t,r){return PM(t,r)}function PM(t,r,a,s){Df()||Ma(!1);let{navigator:n}=g.useContext(_c),{matches:i}=g.useContext(Po),o=i[i.length-1],d=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let m=To(),f;if(r){var x;let w=typeof r=="string"?Of(r):r;u==="/"||(x=w.pathname)!=null&&x.startsWith(u)||Ma(!1),f=w}else f=m;let b=f.pathname||"/",p=b;if(u!=="/"){let w=u.replace(/^\//,"").split("/");p="/"+b.replace(/^\//,"").split("/").slice(w.length).join("/")}let v=aM(t,{pathname:p}),j=MM(v&&v.map(w=>Object.assign({},w,{params:Object.assign({},d,w.params),pathname:Cd([u,n.encodeLocation?n.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?u:Cd([u,n.encodeLocation?n.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),i,a,s);return r&&j?g.createElement(Xg.Provider,{value:{location:fx({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Ad.Pop}},j):j}function TM(){let t=FM(),r=wM(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),a=t instanceof Error?t.stack:null,n={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},r),a?g.createElement("pre",{style:n},a):null,null)}const OM=g.createElement(TM,null);class DM extends g.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,a){return a.location!==r.location||a.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:a.error,location:a.location,revalidation:r.revalidation||a.revalidation}}componentDidCatch(r,a){console.error("React Router caught the following error during render",r,a)}render(){return this.state.error!==void 0?g.createElement(Po.Provider,{value:this.props.routeContext},g.createElement(dk.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function LM(t){let{routeContext:r,match:a,children:s}=t,n=g.useContext(Wg);return n&&n.static&&n.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=a.route.id),g.createElement(Po.Provider,{value:r},s)}function MM(t,r,a,s){var n;if(r===void 0&&(r=[]),a===void 0&&(a=null),s===void 0&&(s=null),t==null){var i;if(!a)return null;if(a.errors)t=a.matches;else if((i=s)!=null&&i.v7_partialHydration&&r.length===0&&!a.initialized&&a.matches.length>0)t=a.matches;else return null}let o=t,d=(n=a)==null?void 0:n.errors;if(d!=null){let f=o.findIndex(x=>x.route.id&&d?.[x.route.id]!==void 0);f>=0||Ma(!1),o=o.slice(0,Math.min(o.length,f+1))}let u=!1,m=-1;if(a&&s&&s.v7_partialHydration)for(let f=0;f<o.length;f++){let x=o[f];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(m=f),x.route.id){let{loaderData:b,errors:p}=a,v=x.route.loader&&b[x.route.id]===void 0&&(!p||p[x.route.id]===void 0);if(x.route.lazy||v){u=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((f,x,b)=>{let p,v=!1,j=null,w=null;a&&(p=d&&x.route.id?d[x.route.id]:void 0,j=x.route.errorElement||OM,u&&(m<0&&b===0?(zM("route-fallback"),v=!0,w=null):m===b&&(v=!0,w=x.route.hydrateFallbackElement||null)));let N=r.concat(o.slice(0,b+1)),P=()=>{let A;return p?A=j:v?A=w:x.route.Component?A=g.createElement(x.route.Component,null):x.route.element?A=x.route.element:A=f,g.createElement(LM,{match:x,routeContext:{outlet:f,matches:N,isDataRoute:a!=null},children:A})};return a&&(x.route.ErrorBoundary||x.route.errorElement||b===0)?g.createElement(DM,{location:a.location,revalidation:a.revalidation,component:j,error:p,children:P(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):P()},null)}var mk=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(mk||{}),fk=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(fk||{});function RM(t){let r=g.useContext(Wg);return r||Ma(!1),r}function $M(t){let r=g.useContext(ck);return r||Ma(!1),r}function IM(t){let r=g.useContext(Po);return r||Ma(!1),r}function hk(t){let r=IM(),a=r.matches[r.matches.length-1];return a.route.id||Ma(!1),a.route.id}function FM(){var t;let r=g.useContext(dk),a=$M(),s=hk();return r!==void 0?r:(t=a.errors)==null?void 0:t[s]}function BM(){let{router:t}=RM(mk.UseNavigateStable),r=hk(fk.UseNavigateStable),a=g.useRef(!1);return uk(()=>{a.current=!0}),g.useCallback(function(n,i){i===void 0&&(i={}),a.current&&(typeof n=="number"?t.navigate(n):t.navigate(n,fx({fromRouteId:r},i)))},[t,r])}const D4={};function zM(t,r,a){D4[t]||(D4[t]=!0)}function UM(t,r){t?.v7_startTransition,t?.v7_relativeSplatPath}function iv(t){let{to:r,replace:a,state:s,relative:n}=t;Df()||Ma(!1);let{future:i,static:o}=g.useContext(_c),{matches:d}=g.useContext(Po),{pathname:u}=To(),m=br(),f=lN(r,iN(d,i.v7_relativeSplatPath),u,n==="path"),x=JSON.stringify(f);return g.useEffect(()=>m(JSON.parse(x),{replace:a,state:s,relative:n}),[m,x,n,a,s]),null}function qM(t){return CM(t.context)}function st(t){Ma(!1)}function HM(t){let{basename:r="/",children:a=null,location:s,navigationType:n=Ad.Pop,navigator:i,static:o=!1,future:d}=t;Df()&&Ma(!1);let u=r.replace(/^\/*/,"/"),m=g.useMemo(()=>({basename:u,navigator:i,static:o,future:fx({v7_relativeSplatPath:!1},d)}),[u,d,i,o]);typeof s=="string"&&(s=Of(s));let{pathname:f="/",search:x="",hash:b="",state:p=null,key:v="default"}=s,j=g.useMemo(()=>{let w=yf(f,u);return w==null?null:{location:{pathname:w,search:x,hash:b,state:p,key:v},navigationType:n}},[u,f,x,b,p,v,n]);return j==null?null:g.createElement(_c.Provider,{value:m},g.createElement(Xg.Provider,{children:a,value:j}))}function GM(t){let{children:r,location:a}=t;return EM(A2(r),a)}new Promise(()=>{});function A2(t,r){r===void 0&&(r=[]);let a=[];return g.Children.forEach(t,(s,n)=>{if(!g.isValidElement(s))return;let i=[...r,n];if(s.type===g.Fragment){a.push.apply(a,A2(s.props.children,i));return}s.type!==st&&Ma(!1),!s.props.index||!s.props.children||Ma(!1);let o={id:s.props.id||i.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(o.children=A2(s.props.children,i)),a.push(o)}),a}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wp(){return Wp=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},Wp.apply(this,arguments)}function xk(t,r){if(t==null)return{};var a={},s=Object.keys(t),n,i;for(i=0;i<s.length;i++)n=s[i],!(r.indexOf(n)>=0)&&(a[n]=t[n]);return a}function YM(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function VM(t,r){return t.button===0&&(!r||r==="_self")&&!YM(t)}function k2(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((r,a)=>{let s=t[a];return r.concat(Array.isArray(s)?s.map(n=>[a,n]):[[a,s]])},[]))}function KM(t,r){let a=k2(t);return r&&r.forEach((s,n)=>{a.has(n)||r.getAll(n).forEach(i=>{a.append(n,i)})}),a}const WM=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],XM=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],JM="6";try{window.__reactRouterVersion=JM}catch{}const ZM=g.createContext({isTransitioning:!1}),QM="startTransition",L4=ak[QM];function eR(t){let{basename:r,children:a,future:s,window:n}=t,i=g.useRef();i.current==null&&(i.current=eM({window:n,v5Compat:!0}));let o=i.current,[d,u]=g.useState({action:o.action,location:o.location}),{v7_startTransition:m}=s||{},f=g.useCallback(x=>{m&&L4?L4(()=>u(x)):u(x)},[u,m]);return g.useLayoutEffect(()=>o.listen(f),[o,f]),g.useEffect(()=>UM(s),[s]),g.createElement(HM,{basename:r,children:a,location:d.location,navigationType:d.action,navigator:o,future:s})}const tR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",rR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Yt=g.forwardRef(function(r,a){let{onClick:s,relative:n,reloadDocument:i,replace:o,state:d,target:u,to:m,preventScrollReset:f,viewTransition:x}=r,b=xk(r,WM),{basename:p}=g.useContext(_c),v,j=!1;if(typeof m=="string"&&rR.test(m)&&(v=m,tR))try{let A=new URL(window.location.href),D=m.startsWith("//")?new URL(A.protocol+m):new URL(m),T=yf(D.pathname,p);D.origin===A.origin&&T!=null?m=T+D.search+D.hash:j=!0}catch{}let w=_M(m,{relative:n}),N=nR(m,{replace:o,state:d,target:u,preventScrollReset:f,relative:n,viewTransition:x});function P(A){s&&s(A),A.defaultPrevented||N(A)}return g.createElement("a",Wp({},b,{href:v||w,onClick:j||i?s:P,ref:a,target:u}))}),aR=g.forwardRef(function(r,a){let{"aria-current":s="page",caseSensitive:n=!1,className:i="",end:o=!1,style:d,to:u,viewTransition:m,children:f}=r,x=xk(r,XM),b=Jg(u,{relative:x.relative}),p=To(),v=g.useContext(ck),{navigator:j,basename:w}=g.useContext(_c),N=v!=null&&iR(b)&&m===!0,P=j.encodeLocation?j.encodeLocation(b).pathname:b.pathname,A=p.pathname,D=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;n||(A=A.toLowerCase(),D=D?D.toLowerCase():null,P=P.toLowerCase()),D&&w&&(D=yf(D,w)||D);const T=P!=="/"&&P.endsWith("/")?P.length-1:P.length;let R=A===P||!o&&A.startsWith(P)&&A.charAt(T)==="/",E=D!=null&&(D===P||!o&&D.startsWith(P)&&D.charAt(P.length)==="/"),O={isActive:R,isPending:E,isTransitioning:N},k=R?s:void 0,Y;typeof i=="function"?Y=i(O):Y=[i,R?"active":null,E?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let $=typeof d=="function"?d(O):d;return g.createElement(Yt,Wp({},x,{"aria-current":k,className:Y,ref:a,style:$,to:u,viewTransition:m}),typeof f=="function"?f(O):f)});var C2;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(C2||(C2={}));var M4;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(M4||(M4={}));function sR(t){let r=g.useContext(Wg);return r||Ma(!1),r}function nR(t,r){let{target:a,replace:s,state:n,preventScrollReset:i,relative:o,viewTransition:d}=r===void 0?{}:r,u=br(),m=To(),f=Jg(t,{relative:o});return g.useCallback(x=>{if(VM(x,a)){x.preventDefault();let b=s!==void 0?s:Kp(m)===Kp(f);u(t,{replace:b,state:n,preventScrollReset:i,relative:o,viewTransition:d})}},[m,u,f,s,n,a,t,i,o,d])}function pk(t){let r=g.useRef(k2(t)),a=g.useRef(!1),s=To(),n=g.useMemo(()=>KM(s.search,a.current?null:r.current),[s.search]),i=br(),o=g.useCallback((d,u)=>{const m=k2(typeof d=="function"?d(n):d);a.current=!0,i("?"+m,u)},[i,n]);return[n,o]}function iR(t,r){r===void 0&&(r={});let a=g.useContext(ZM);a==null&&Ma(!1);let{basename:s}=sR(C2.useViewTransitionState),n=Jg(t,{relative:r.relative});if(!a.isTransitioning)return!1;let i=yf(a.currentLocation.pathname,s)||a.currentLocation.pathname,o=yf(a.nextLocation.pathname,s)||a.nextLocation.pathname;return _2(n.pathname,o)!=null||_2(n.pathname,i)!=null}const ce="http://localhost:5000/api",gk=g.createContext(),et=()=>{const t=g.useContext(gk);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},lR=({children:t})=>{const[r,a]=g.useState(null),[s,n]=g.useState(localStorage.getItem("token")),[i,o]=g.useState(!0),[d,u]=g.useState(!1);g.useEffect(()=>{(async()=>{const p=localStorage.getItem("token"),v=localStorage.getItem("user");if(p&&v)try{if((await fetch(`${ce}/auth/profile`,{method:"GET",headers:{Authorization:`Bearer ${p}`,"Content-Type":"application/json"}})).ok){const w=JSON.parse(v);a(w),n(p),u(!0)}else localStorage.removeItem("token"),localStorage.removeItem("user"),n(null),a(null),u(!1)}catch(j){console.error("Token validation error:",j),localStorage.removeItem("token"),localStorage.removeItem("user"),n(null),a(null),u(!1)}o(!1)})()},[]);const x={user:r,token:s,isLoading:i,isAuthenticated:d,login:async(b,p)=>{o(!0);try{const v=await fetch(`${ce}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:b,password:p})}),j=v.headers.get("content-type");let w;if(j&&j.includes("application/json"))w=await v.json(),console.log("🔍 Backend response:",w);else{const N=await v.text();throw console.log("🔍 Non-JSON response:",N),v.status===429?new Error("Too many login attempts. Please wait a moment and try again."):new Error(`Server error: ${N}`)}if(v.ok){const{token:N,user:P}=w;return console.log("✅ Login successful, user:",P),a(P),n(N),u(!0),localStorage.setItem("token",N),localStorage.setItem("user",JSON.stringify(P)),{success:!0,user:P}}else throw new Error(w.error||"Username or password is wrong")}catch(v){throw console.error("❌ Login error:",v),v}finally{o(!1)}},logout:()=>{a(null),n(null),u(!1),localStorage.removeItem("token"),localStorage.removeItem("user")}};return e.jsx(gk.Provider,{value:x,children:t})};/*!
 * Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2025 Fonticons, Inc.
 */function E2(t,r){(r==null||r>t.length)&&(r=t.length);for(var a=0,s=Array(r);a<r;a++)s[a]=t[a];return s}function oR(t){if(Array.isArray(t))return t}function cR(t){if(Array.isArray(t))return E2(t)}function dR(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function uR(t,r){for(var a=0;a<r.length;a++){var s=r[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,yk(s.key),s)}}function mR(t,r,a){return r&&uR(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Dp(t,r){var a=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!a){if(Array.isArray(t)||(a=oN(t))||r){a&&(t=a);var s=0,n=function(){};return{s:n,n:function(){return s>=t.length?{done:!0}:{done:!1,value:t[s++]}},e:function(u){throw u},f:n}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,o=!0,d=!1;return{s:function(){a=a.call(t)},n:function(){var u=a.next();return o=u.done,u},e:function(u){d=!0,i=u},f:function(){try{o||a.return==null||a.return()}finally{if(d)throw i}}}}function gr(t,r,a){return(r=yk(r))in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function fR(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function hR(t,r){var a=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(a!=null){var s,n,i,o,d=[],u=!0,m=!1;try{if(i=(a=a.call(t)).next,r===0){if(Object(a)!==a)return;u=!1}else for(;!(u=(s=i.call(a)).done)&&(d.push(s.value),d.length!==r);u=!0);}catch(f){m=!0,n=f}finally{try{if(!u&&a.return!=null&&(o=a.return(),Object(o)!==o))return}finally{if(m)throw n}}return d}}function xR(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pR(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function R4(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,s)}return a}function at(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?R4(Object(a),!0).forEach(function(s){gr(t,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):R4(Object(a)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(a,s))})}return t}function Zg(t,r){return oR(t)||hR(t,r)||oN(t,r)||xR()}function Ul(t){return cR(t)||fR(t)||oN(t)||pR()}function gR(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function yk(t){var r=gR(t,"string");return typeof r=="symbol"?r:r+""}function Xp(t){"@babel/helpers - typeof";return Xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Xp(t)}function oN(t,r){if(t){if(typeof t=="string")return E2(t,r);var a={}.toString.call(t).slice(8,-1);return a==="Object"&&t.constructor&&(a=t.constructor.name),a==="Map"||a==="Set"?Array.from(t):a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?E2(t,r):void 0}}var $4=function(){},cN={},bk={},vk=null,jk={mark:$4,measure:$4};try{typeof window<"u"&&(cN=window),typeof document<"u"&&(bk=document),typeof MutationObserver<"u"&&(vk=MutationObserver),typeof performance<"u"&&(jk=performance)}catch{}var yR=cN.navigator||{},I4=yR.userAgent,F4=I4===void 0?"":I4,Td=cN,ha=bk,B4=vk,ip=jk;Td.document;var Ac=!!ha.documentElement&&!!ha.head&&typeof ha.addEventListener=="function"&&typeof ha.createElement=="function",Nk=~F4.indexOf("MSIE")||~F4.indexOf("Trident/"),lv,bR=/fa(k|kd|s|r|l|t|d|dr|dl|dt|b|slr|slpr|wsb|tl|ns|nds|es|jr|jfr|jdr|cr|ss|sr|sl|st|sds|sdr|sdl|sdt)?[\-\ ]/,vR=/Font ?Awesome ?([567 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit|Notdog Duo|Notdog|Chisel|Etch|Thumbprint|Jelly Fill|Jelly Duo|Jelly|Slab Press|Slab|Whiteboard)?.*/i,wk={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fab:"brands","fa-brands":"brands"},duotone:{fa:"solid",fad:"solid","fa-solid":"solid","fa-duotone":"solid",fadr:"regular","fa-regular":"regular",fadl:"light","fa-light":"light",fadt:"thin","fa-thin":"thin"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid",fasdr:"regular","fa-regular":"regular",fasdl:"light","fa-light":"light",fasdt:"thin","fa-thin":"thin"},slab:{"fa-regular":"regular",faslr:"regular"},"slab-press":{"fa-regular":"regular",faslpr:"regular"},thumbprint:{"fa-light":"light",fatl:"light"},whiteboard:{"fa-semibold":"semibold",fawsb:"semibold"},notdog:{"fa-solid":"solid",fans:"solid"},"notdog-duo":{"fa-solid":"solid",fands:"solid"},etch:{"fa-solid":"solid",faes:"solid"},jelly:{"fa-regular":"regular",fajr:"regular"},"jelly-fill":{"fa-regular":"regular",fajfr:"regular"},"jelly-duo":{"fa-regular":"regular",fajdr:"regular"},chisel:{"fa-regular":"regular",facr:"regular"}},jR={GROUP:"duotone-group",PRIMARY:"primary",SECONDARY:"secondary"},Sk=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone","fa-thumbprint","fa-whiteboard","fa-notdog","fa-notdog-duo","fa-chisel","fa-etch","fa-jelly","fa-jelly-fill","fa-jelly-duo","fa-slab","fa-slab-press"],gn="classic",Dx="duotone",_k="sharp",Ak="sharp-duotone",kk="chisel",Ck="etch",Ek="jelly",Pk="jelly-duo",Tk="jelly-fill",Ok="notdog",Dk="notdog-duo",Lk="slab",Mk="slab-press",Rk="thumbprint",$k="whiteboard",NR="Classic",wR="Duotone",SR="Sharp",_R="Sharp Duotone",AR="Chisel",kR="Etch",CR="Jelly",ER="Jelly Duo",PR="Jelly Fill",TR="Notdog",OR="Notdog Duo",DR="Slab",LR="Slab Press",MR="Thumbprint",RR="Whiteboard",Ik=[gn,Dx,_k,Ak,kk,Ck,Ek,Pk,Tk,Ok,Dk,Lk,Mk,Rk,$k];lv={},gr(gr(gr(gr(gr(gr(gr(gr(gr(gr(lv,gn,NR),Dx,wR),_k,SR),Ak,_R),kk,AR),Ck,kR),Ek,CR),Pk,ER),Tk,PR),Ok,TR),gr(gr(gr(gr(gr(lv,Dk,OR),Lk,DR),Mk,LR),Rk,MR),$k,RR);var $R={classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},duotone:{900:"fad",400:"fadr",300:"fadl",100:"fadt"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds",400:"fasdr",300:"fasdl",100:"fasdt"},slab:{400:"faslr"},"slab-press":{400:"faslpr"},whiteboard:{600:"fawsb"},thumbprint:{300:"fatl"},notdog:{900:"fans"},"notdog-duo":{900:"fands"},etch:{900:"faes"},chisel:{400:"facr"},jelly:{400:"fajr"},"jelly-fill":{400:"fajfr"},"jelly-duo":{400:"fajdr"}},IR={"Font Awesome 7 Free":{900:"fas",400:"far"},"Font Awesome 7 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 7 Brands":{400:"fab",normal:"fab"},"Font Awesome 7 Duotone":{900:"fad",400:"fadr",normal:"fadr",300:"fadl",100:"fadt"},"Font Awesome 7 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 7 Sharp Duotone":{900:"fasds",400:"fasdr",normal:"fasdr",300:"fasdl",100:"fasdt"},"Font Awesome 7 Jelly":{400:"fajr",normal:"fajr"},"Font Awesome 7 Jelly Fill":{400:"fajfr",normal:"fajfr"},"Font Awesome 7 Jelly Duo":{400:"fajdr",normal:"fajdr"},"Font Awesome 7 Slab":{400:"faslr",normal:"faslr"},"Font Awesome 7 Slab Press":{400:"faslpr",normal:"faslpr"},"Font Awesome 7 Thumbprint":{300:"fatl",normal:"fatl"},"Font Awesome 7 Notdog":{900:"fans",normal:"fans"},"Font Awesome 7 Notdog Duo":{900:"fands",normal:"fands"},"Font Awesome 7 Etch":{900:"faes",normal:"faes"},"Font Awesome 7 Chisel":{400:"facr",normal:"facr"},"Font Awesome 7 Whiteboard":{600:"fawsb",normal:"fawsb"}},FR=new Map([["classic",{defaultShortPrefixId:"fas",defaultStyleId:"solid",styleIds:["solid","regular","light","thin","brands"],futureStyleIds:[],defaultFontWeight:900}],["duotone",{defaultShortPrefixId:"fad",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp",{defaultShortPrefixId:"fass",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp-duotone",{defaultShortPrefixId:"fasds",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["chisel",{defaultShortPrefixId:"facr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["etch",{defaultShortPrefixId:"faes",defaultStyleId:"solid",styleIds:["solid"],futureStyleIds:[],defaultFontWeight:900}],["jelly",{defaultShortPrefixId:"fajr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["jelly-duo",{defaultShortPrefixId:"fajdr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["jelly-fill",{defaultShortPrefixId:"fajfr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["notdog",{defaultShortPrefixId:"fans",defaultStyleId:"solid",styleIds:["solid"],futureStyleIds:[],defaultFontWeight:900}],["notdog-duo",{defaultShortPrefixId:"fands",defaultStyleId:"solid",styleIds:["solid"],futureStyleIds:[],defaultFontWeight:900}],["slab",{defaultShortPrefixId:"faslr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["slab-press",{defaultShortPrefixId:"faslpr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["thumbprint",{defaultShortPrefixId:"fatl",defaultStyleId:"light",styleIds:["light"],futureStyleIds:[],defaultFontWeight:300}],["whiteboard",{defaultShortPrefixId:"fawsb",defaultStyleId:"semibold",styleIds:["semibold"],futureStyleIds:[],defaultFontWeight:600}]]),BR={chisel:{regular:"facr"},classic:{brands:"fab",light:"fal",regular:"far",solid:"fas",thin:"fat"},duotone:{light:"fadl",regular:"fadr",solid:"fad",thin:"fadt"},etch:{solid:"faes"},jelly:{regular:"fajr"},"jelly-duo":{regular:"fajdr"},"jelly-fill":{regular:"fajfr"},notdog:{solid:"fans"},"notdog-duo":{solid:"fands"},sharp:{light:"fasl",regular:"fasr",solid:"fass",thin:"fast"},"sharp-duotone":{light:"fasdl",regular:"fasdr",solid:"fasds",thin:"fasdt"},slab:{regular:"faslr"},"slab-press":{regular:"faslpr"},thumbprint:{light:"fatl"},whiteboard:{semibold:"fawsb"}},Fk=["fak","fa-kit","fakd","fa-kit-duotone"],z4={kit:{fak:"kit","fa-kit":"kit"},"kit-duotone":{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"}},zR=["kit"],UR="kit",qR="kit-duotone",HR="Kit",GR="Kit Duotone";gr(gr({},UR,HR),qR,GR);var YR={kit:{"fa-kit":"fak"}},VR={"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},KR={kit:{fak:"fa-kit"}},U4={kit:{kit:"fak"},"kit-duotone":{"kit-duotone":"fakd"}},ov,lp={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},WR=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone","fa-thumbprint","fa-whiteboard","fa-notdog","fa-notdog-duo","fa-chisel","fa-etch","fa-jelly","fa-jelly-fill","fa-jelly-duo","fa-slab","fa-slab-press"],XR="classic",JR="duotone",ZR="sharp",QR="sharp-duotone",e$="chisel",t$="etch",r$="jelly",a$="jelly-duo",s$="jelly-fill",n$="notdog",i$="notdog-duo",l$="slab",o$="slab-press",c$="thumbprint",d$="whiteboard",u$="Classic",m$="Duotone",f$="Sharp",h$="Sharp Duotone",x$="Chisel",p$="Etch",g$="Jelly",y$="Jelly Duo",b$="Jelly Fill",v$="Notdog",j$="Notdog Duo",N$="Slab",w$="Slab Press",S$="Thumbprint",_$="Whiteboard";ov={},gr(gr(gr(gr(gr(gr(gr(gr(gr(gr(ov,XR,u$),JR,m$),ZR,f$),QR,h$),e$,x$),t$,p$),r$,g$),a$,y$),s$,b$),n$,v$),gr(gr(gr(gr(gr(ov,i$,j$),l$,N$),o$,w$),c$,S$),d$,_$);var A$="kit",k$="kit-duotone",C$="Kit",E$="Kit Duotone";gr(gr({},A$,C$),k$,E$);var P$={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},duotone:{"fa-regular":"fadr","fa-light":"fadl","fa-thin":"fadt"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds","fa-regular":"fasdr","fa-light":"fasdl","fa-thin":"fasdt"},slab:{"fa-regular":"faslr"},"slab-press":{"fa-regular":"faslpr"},whiteboard:{"fa-semibold":"fawsb"},thumbprint:{"fa-light":"fatl"},notdog:{"fa-solid":"fans"},"notdog-duo":{"fa-solid":"fands"},etch:{"fa-solid":"faes"},jelly:{"fa-regular":"fajr"},"jelly-fill":{"fa-regular":"fajfr"},"jelly-duo":{"fa-regular":"fajdr"},chisel:{"fa-regular":"facr"}},T$={classic:["fas","far","fal","fat","fad"],duotone:["fadr","fadl","fadt"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds","fasdr","fasdl","fasdt"],slab:["faslr"],"slab-press":["faslpr"],whiteboard:["fawsb"],thumbprint:["fatl"],notdog:["fans"],"notdog-duo":["fands"],etch:["faes"],jelly:["fajr"],"jelly-fill":["fajfr"],"jelly-duo":["fajdr"],chisel:["facr"]},P2={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},duotone:{fadr:"fa-regular",fadl:"fa-light",fadt:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid",fasdr:"fa-regular",fasdl:"fa-light",fasdt:"fa-thin"},slab:{faslr:"fa-regular"},"slab-press":{faslpr:"fa-regular"},whiteboard:{fawsb:"fa-semibold"},thumbprint:{fatl:"fa-light"},notdog:{fans:"fa-solid"},"notdog-duo":{fands:"fa-solid"},etch:{faes:"fa-solid"},jelly:{fajr:"fa-regular"},"jelly-fill":{fajfr:"fa-regular"},"jelly-duo":{fajdr:"fa-regular"},chisel:{facr:"fa-regular"}},O$=["fa-solid","fa-regular","fa-light","fa-thin","fa-duotone","fa-brands","fa-semibold"],Bk=["fa","fas","far","fal","fat","fad","fadr","fadl","fadt","fab","fass","fasr","fasl","fast","fasds","fasdr","fasdl","fasdt","faslr","faslpr","fawsb","fatl","fans","fands","faes","fajr","fajfr","fajdr","facr"].concat(WR,O$),D$=["solid","regular","light","thin","duotone","brands","semibold"],zk=[1,2,3,4,5,6,7,8,9,10],L$=zk.concat([11,12,13,14,15,16,17,18,19,20]),M$=["aw","fw","pull-left","pull-right"],R$=[].concat(Ul(Object.keys(T$)),D$,M$,["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","inverse","layers","layers-bottom-left","layers-bottom-right","layers-counter","layers-text","layers-top-left","layers-top-right","li","pull-end","pull-start","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul","width-auto","width-fixed",lp.GROUP,lp.SWAP_OPACITY,lp.PRIMARY,lp.SECONDARY]).concat(zk.map(function(t){return"".concat(t,"x")})).concat(L$.map(function(t){return"w-".concat(t)})),$$={"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}},gc="___FONT_AWESOME___",T2=16,Uk="fa",qk="svg-inline--fa",Vu="data-fa-i2svg",O2="data-fa-pseudo-element",I$="data-fa-pseudo-element-pending",dN="data-prefix",uN="data-icon",q4="fontawesome-i2svg",F$="async",B$=["HTML","HEAD","STYLE","SCRIPT"],Hk=["::before","::after",":before",":after"],Gk=function(){try{return!0}catch{return!1}}();function Lx(t){return new Proxy(t,{get:function(a,s){return s in a?a[s]:a[gn]}})}var Yk=at({},wk);Yk[gn]=at(at(at(at({},{"fa-duotone":"duotone"}),wk[gn]),z4.kit),z4["kit-duotone"]);var z$=Lx(Yk),D2=at({},BR);D2[gn]=at(at(at(at({},{duotone:"fad"}),D2[gn]),U4.kit),U4["kit-duotone"]);var H4=Lx(D2),L2=at({},P2);L2[gn]=at(at({},L2[gn]),KR.kit);var Vk=Lx(L2),M2=at({},P$);M2[gn]=at(at({},M2[gn]),YR.kit);Lx(M2);var U$=bR,Kk="fa-layers-text",q$=vR,H$=at({},$R);Lx(H$);var G$=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],cv=jR,Y$=[].concat(Ul(zR),Ul(R$)),sx=Td.FontAwesomeConfig||{};function V$(t){var r=ha.querySelector("script["+t+"]");if(r)return r.getAttribute(t)}function K$(t){return t===""?!0:t==="false"?!1:t==="true"?!0:t}if(ha&&typeof ha.querySelector=="function"){var W$=[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-search-pseudo-elements","searchPseudoElements"],["data-search-pseudo-elements-warnings","searchPseudoElementsWarnings"],["data-search-pseudo-elements-full-scan","searchPseudoElementsFullScan"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]];W$.forEach(function(t){var r=Zg(t,2),a=r[0],s=r[1],n=K$(V$(a));n!=null&&(sx[s]=n)})}var Wk={styleDefault:"solid",familyDefault:gn,cssPrefix:Uk,replacementClass:qk,autoReplaceSvg:!0,autoAddCss:!0,searchPseudoElements:!1,searchPseudoElementsWarnings:!0,searchPseudoElementsFullScan:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};sx.familyPrefix&&(sx.cssPrefix=sx.familyPrefix);var bf=at(at({},Wk),sx);bf.autoReplaceSvg||(bf.observeMutations=!1);var Ct={};Object.keys(Wk).forEach(function(t){Object.defineProperty(Ct,t,{enumerable:!0,set:function(a){bf[t]=a,nx.forEach(function(s){return s(Ct)})},get:function(){return bf[t]}})});Object.defineProperty(Ct,"familyPrefix",{enumerable:!0,set:function(r){bf.cssPrefix=r,nx.forEach(function(a){return a(Ct)})},get:function(){return bf.cssPrefix}});Td.FontAwesomeConfig=Ct;var nx=[];function X$(t){return nx.push(t),function(){nx.splice(nx.indexOf(t),1)}}var Xm=T2,jo={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function J$(t){if(!(!t||!Ac)){var r=ha.createElement("style");r.setAttribute("type","text/css"),r.innerHTML=t;for(var a=ha.head.childNodes,s=null,n=a.length-1;n>-1;n--){var i=a[n],o=(i.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(s=i)}return ha.head.insertBefore(r,s),t}}var Z$="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function G4(){for(var t=12,r="";t-- >0;)r+=Z$[Math.random()*62|0];return r}function Lf(t){for(var r=[],a=(t||[]).length>>>0;a--;)r[a]=t[a];return r}function mN(t){return t.classList?Lf(t.classList):(t.getAttribute("class")||"").split(" ").filter(function(r){return r})}function Xk(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Q$(t){return Object.keys(t||{}).reduce(function(r,a){return r+"".concat(a,'="').concat(Xk(t[a]),'" ')},"").trim()}function Qg(t){return Object.keys(t||{}).reduce(function(r,a){return r+"".concat(a,": ").concat(t[a].trim(),";")},"")}function fN(t){return t.size!==jo.size||t.x!==jo.x||t.y!==jo.y||t.rotate!==jo.rotate||t.flipX||t.flipY}function eI(t){var r=t.transform,a=t.containerWidth,s=t.iconWidth,n={transform:"translate(".concat(a/2," 256)")},i="translate(".concat(r.x*32,", ").concat(r.y*32,") "),o="scale(".concat(r.size/16*(r.flipX?-1:1),", ").concat(r.size/16*(r.flipY?-1:1),") "),d="rotate(".concat(r.rotate," 0 0)"),u={transform:"".concat(i," ").concat(o," ").concat(d)},m={transform:"translate(".concat(s/2*-1," -256)")};return{outer:n,inner:u,path:m}}function tI(t){var r=t.transform,a=t.width,s=a===void 0?T2:a,n=t.height,i=n===void 0?T2:n,o="";return Nk?o+="translate(".concat(r.x/Xm-s/2,"em, ").concat(r.y/Xm-i/2,"em) "):o+="translate(calc(-50% + ".concat(r.x/Xm,"em), calc(-50% + ").concat(r.y/Xm,"em)) "),o+="scale(".concat(r.size/Xm*(r.flipX?-1:1),", ").concat(r.size/Xm*(r.flipY?-1:1),") "),o+="rotate(".concat(r.rotate,"deg) "),o}var rI=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 7 Free";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 7 Free";
  --fa-font-light: normal 300 1em/1 "Font Awesome 7 Pro";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 7 Pro";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 7 Duotone";
  --fa-font-duotone-regular: normal 400 1em/1 "Font Awesome 7 Duotone";
  --fa-font-duotone-light: normal 300 1em/1 "Font Awesome 7 Duotone";
  --fa-font-duotone-thin: normal 100 1em/1 "Font Awesome 7 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 7 Brands";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 7 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 7 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 7 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 7 Sharp";
  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 7 Sharp Duotone";
  --fa-font-sharp-duotone-regular: normal 400 1em/1 "Font Awesome 7 Sharp Duotone";
  --fa-font-sharp-duotone-light: normal 300 1em/1 "Font Awesome 7 Sharp Duotone";
  --fa-font-sharp-duotone-thin: normal 100 1em/1 "Font Awesome 7 Sharp Duotone";
  --fa-font-slab-regular: normal 400 1em/1 "Font Awesome 7 Slab";
  --fa-font-slab-press-regular: normal 400 1em/1 "Font Awesome 7 Slab Press";
  --fa-font-whiteboard-semibold: normal 600 1em/1 "Font Awesome 7 Whiteboard";
  --fa-font-thumbprint-light: normal 300 1em/1 "Font Awesome 7 Thumbprint";
  --fa-font-notdog-solid: normal 900 1em/1 "Font Awesome 7 Notdog";
  --fa-font-notdog-duo-solid: normal 900 1em/1 "Font Awesome 7 Notdog Duo";
  --fa-font-etch-solid: normal 900 1em/1 "Font Awesome 7 Etch";
  --fa-font-jelly-regular: normal 400 1em/1 "Font Awesome 7 Jelly";
  --fa-font-jelly-fill-regular: normal 400 1em/1 "Font Awesome 7 Jelly Fill";
  --fa-font-jelly-duo-regular: normal 400 1em/1 "Font Awesome 7 Jelly Duo";
  --fa-font-chisel-regular: normal 400 1em/1 "Font Awesome 7 Chisel";
}

.svg-inline--fa {
  box-sizing: content-box;
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
  width: var(--fa-width, 1.25em);
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285714em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left,
.svg-inline--fa .fa-pull-start {
  float: inline-start;
  margin-inline-end: var(--fa-pull-margin, 0.3em);
}
.svg-inline--fa.fa-pull-right,
.svg-inline--fa .fa-pull-end {
  float: inline-end;
  margin-inline-start: var(--fa-pull-margin, 0.3em);
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  inset-inline-start: calc(-1 * var(--fa-li-width, 2em));
  inset-block-start: 0.25em; /* syncing vertical alignment with Web Font rendering */
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: var(--fa-width, 1.25em);
}
.fa-layers .svg-inline--fa {
  inset: 0;
  margin: auto;
  position: absolute;
  transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-counter-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: calc(10 / 16 * 1em); /* converts a 10px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 10 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 10 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-xs {
  font-size: calc(12 / 16 * 1em); /* converts a 12px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 12 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 12 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-sm {
  font-size: calc(14 / 16 * 1em); /* converts a 14px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 14 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 14 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-lg {
  font-size: calc(20 / 16 * 1em); /* converts a 20px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 20 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 20 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-xl {
  font-size: calc(24 / 16 * 1em); /* converts a 24px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 24 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 24 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-2xl {
  font-size: calc(32 / 16 * 1em); /* converts a 32px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 32 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 32 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-width-auto {
  --fa-width: auto;
}

.fa-fw,
.fa-width-fixed {
  --fa-width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-inline-start: var(--fa-li-margin, 2.5em);
  padding-inline-start: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  inset-inline-start: calc(-1 * var(--fa-li-width, 2em));
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

/* Heads Up: Bordered Icons will not be supported in the future!
  - This feature will be deprecated in the next major release of Font Awesome (v8)!
  - You may continue to use it in this version *v7), but it will not be supported in Font Awesome v8.
*/
/* Notes:
* --@{v.$css-prefix}-border-width = 1/16 by default (to render as ~1px based on a 16px default font-size)
* --@{v.$css-prefix}-border-padding =
  ** 3/16 for vertical padding (to give ~2px of vertical whitespace around an icon considering it's vertical alignment)
  ** 4/16 for horizontal padding (to give ~4px of horizontal whitespace around an icon)
*/
.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.0625em);
  box-sizing: var(--fa-border-box-sizing, content-box);
  padding: var(--fa-border-padding, 0.1875em 0.25em);
}

.fa-pull-left,
.fa-pull-start {
  float: inline-start;
  margin-inline-end: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right,
.fa-pull-end {
  float: inline-end;
  margin-inline-start: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  animation-name: fa-beat;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  animation-name: fa-bounce;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  animation-name: fa-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  animation-name: fa-beat-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  animation-name: fa-flip;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  animation-name: fa-shake;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  animation-name: fa-spin;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 2s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  animation-name: fa-spin;
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
  .fa-bounce,
  .fa-fade,
  .fa-beat-fade,
  .fa-flip,
  .fa-pulse,
  .fa-shake,
  .fa-spin,
  .fa-spin-pulse {
    animation: none !important;
    transition: none !important;
  }
}
@keyframes fa-beat {
  0%, 90% {
    transform: scale(1);
  }
  45% {
    transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-bounce {
  0% {
    transform: scale(1, 1) translateY(0);
  }
  10% {
    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    transform: scale(1, 1) translateY(0);
  }
  100% {
    transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-flip {
  50% {
    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-shake {
  0% {
    transform: rotate(-15deg);
  }
  4% {
    transform: rotate(15deg);
  }
  8%, 24% {
    transform: rotate(-18deg);
  }
  12%, 28% {
    transform: rotate(18deg);
  }
  16% {
    transform: rotate(-22deg);
  }
  20% {
    transform: rotate(22deg);
  }
  32% {
    transform: rotate(-12deg);
  }
  36% {
    transform: rotate(12deg);
  }
  40%, 100% {
    transform: rotate(0deg);
  }
}
@keyframes fa-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  transform: rotate(90deg);
}

.fa-rotate-180 {
  transform: rotate(180deg);
}

.fa-rotate-270 {
  transform: rotate(270deg);
}

.fa-flip-horizontal {
  transform: scale(-1, 1);
}

.fa-flip-vertical {
  transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  transform: scale(-1, -1);
}

.fa-rotate-by {
  transform: rotate(var(--fa-rotate-angle, 0));
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}

.svg-inline--fa.fa-inverse {
  fill: var(--fa-inverse, #fff);
}

.fa-stack {
  display: inline-block;
  height: 2em;
  line-height: 2em;
  position: relative;
  vertical-align: middle;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}`;function Jk(){var t=Uk,r=qk,a=Ct.cssPrefix,s=Ct.replacementClass,n=rI;if(a!==t||s!==r){var i=new RegExp("\\.".concat(t,"\\-"),"g"),o=new RegExp("\\--".concat(t,"\\-"),"g"),d=new RegExp("\\.".concat(r),"g");n=n.replace(i,".".concat(a,"-")).replace(o,"--".concat(a,"-")).replace(d,".".concat(s))}return n}var Y4=!1;function dv(){Ct.autoAddCss&&!Y4&&(J$(Jk()),Y4=!0)}var aI={mixout:function(){return{dom:{css:Jk,insertCss:dv}}},hooks:function(){return{beforeDOMElementCreation:function(){dv()},beforeI2svg:function(){dv()}}}},yc=Td||{};yc[gc]||(yc[gc]={});yc[gc].styles||(yc[gc].styles={});yc[gc].hooks||(yc[gc].hooks={});yc[gc].shims||(yc[gc].shims=[]);var Il=yc[gc],Zk=[],Qk=function(){ha.removeEventListener("DOMContentLoaded",Qk),Jp=1,Zk.map(function(r){return r()})},Jp=!1;Ac&&(Jp=(ha.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(ha.readyState),Jp||ha.addEventListener("DOMContentLoaded",Qk));function sI(t){Ac&&(Jp?setTimeout(t,0):Zk.push(t))}function Mx(t){var r=t.tag,a=t.attributes,s=a===void 0?{}:a,n=t.children,i=n===void 0?[]:n;return typeof t=="string"?Xk(t):"<".concat(r," ").concat(Q$(s),">").concat(i.map(Mx).join(""),"</").concat(r,">")}function V4(t,r,a){if(t&&t[r]&&t[r][a])return{prefix:r,iconName:a,icon:t[r][a]}}var uv=function(r,a,s,n){var i=Object.keys(r),o=i.length,d=a,u,m,f;for(s===void 0?(u=1,f=r[i[0]]):(u=0,f=s);u<o;u++)m=i[u],f=d(f,r[m],m,r);return f};function eC(t){return Ul(t).length!==1?null:t.codePointAt(0).toString(16)}function K4(t){return Object.keys(t).reduce(function(r,a){var s=t[a],n=!!s.icon;return n?r[s.iconName]=s.icon:r[a]=s,r},{})}function tC(t,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=a.skipHooks,n=s===void 0?!1:s,i=K4(r);typeof Il.hooks.addPack=="function"&&!n?Il.hooks.addPack(t,K4(r)):Il.styles[t]=at(at({},Il.styles[t]||{}),i),t==="fas"&&tC("fa",r)}var hx=Il.styles,nI=Il.shims,rC=Object.keys(Vk),iI=rC.reduce(function(t,r){return t[r]=Object.keys(Vk[r]),t},{}),hN=null,aC={},sC={},nC={},iC={},lC={};function lI(t){return~Y$.indexOf(t)}function oI(t,r){var a=r.split("-"),s=a[0],n=a.slice(1).join("-");return s===t&&n!==""&&!lI(n)?n:null}var oC=function(){var r=function(i){return uv(hx,function(o,d,u){return o[u]=uv(d,i,{}),o},{})};aC=r(function(n,i,o){if(i[3]&&(n[i[3]]=o),i[2]){var d=i[2].filter(function(u){return typeof u=="number"});d.forEach(function(u){n[u.toString(16)]=o})}return n}),sC=r(function(n,i,o){if(n[o]=o,i[2]){var d=i[2].filter(function(u){return typeof u=="string"});d.forEach(function(u){n[u]=o})}return n}),lC=r(function(n,i,o){var d=i[2];return n[o]=o,d.forEach(function(u){n[u]=o}),n});var a="far"in hx||Ct.autoFetchSvg,s=uv(nI,function(n,i){var o=i[0],d=i[1],u=i[2];return d==="far"&&!a&&(d="fas"),typeof o=="string"&&(n.names[o]={prefix:d,iconName:u}),typeof o=="number"&&(n.unicodes[o.toString(16)]={prefix:d,iconName:u}),n},{names:{},unicodes:{}});nC=s.names,iC=s.unicodes,hN=ey(Ct.styleDefault,{family:Ct.familyDefault})};X$(function(t){hN=ey(t.styleDefault,{family:Ct.familyDefault})});oC();function xN(t,r){return(aC[t]||{})[r]}function cI(t,r){return(sC[t]||{})[r]}function Ou(t,r){return(lC[t]||{})[r]}function cC(t){return nC[t]||{prefix:null,iconName:null}}function dI(t){var r=iC[t],a=xN("fas",t);return r||(a?{prefix:"fas",iconName:a}:null)||{prefix:null,iconName:null}}function Od(){return hN}var dC=function(){return{prefix:null,iconName:null,rest:[]}};function uI(t){var r=gn,a=rC.reduce(function(s,n){return s[n]="".concat(Ct.cssPrefix,"-").concat(n),s},{});return Ik.forEach(function(s){(t.includes(a[s])||t.some(function(n){return iI[s].includes(n)}))&&(r=s)}),r}function ey(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=r.family,s=a===void 0?gn:a,n=z$[s][t];if(s===Dx&&!t)return"fad";var i=H4[s][t]||H4[s][n],o=t in Il.styles?t:null,d=i||o||null;return d}function mI(t){var r=[],a=null;return t.forEach(function(s){var n=oI(Ct.cssPrefix,s);n?a=n:s&&r.push(s)}),{iconName:a,rest:r}}function W4(t){return t.sort().filter(function(r,a,s){return s.indexOf(r)===a})}var X4=Bk.concat(Fk);function ty(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=r.skipLookups,s=a===void 0?!1:a,n=null,i=W4(t.filter(function(p){return X4.includes(p)})),o=W4(t.filter(function(p){return!X4.includes(p)})),d=i.filter(function(p){return n=p,!Sk.includes(p)}),u=Zg(d,1),m=u[0],f=m===void 0?null:m,x=uI(i),b=at(at({},mI(o)),{},{prefix:ey(f,{family:x})});return at(at(at({},b),pI({values:t,family:x,styles:hx,config:Ct,canonical:b,givenPrefix:n})),fI(s,n,b))}function fI(t,r,a){var s=a.prefix,n=a.iconName;if(t||!s||!n)return{prefix:s,iconName:n};var i=r==="fa"?cC(n):{},o=Ou(s,n);return n=i.iconName||o||n,s=i.prefix||s,s==="far"&&!hx.far&&hx.fas&&!Ct.autoFetchSvg&&(s="fas"),{prefix:s,iconName:n}}var hI=Ik.filter(function(t){return t!==gn||t!==Dx}),xI=Object.keys(P2).filter(function(t){return t!==gn}).map(function(t){return Object.keys(P2[t])}).flat();function pI(t){var r=t.values,a=t.family,s=t.canonical,n=t.givenPrefix,i=n===void 0?"":n,o=t.styles,d=o===void 0?{}:o,u=t.config,m=u===void 0?{}:u,f=a===Dx,x=r.includes("fa-duotone")||r.includes("fad"),b=m.familyDefault==="duotone",p=s.prefix==="fad"||s.prefix==="fa-duotone";if(!f&&(x||b||p)&&(s.prefix="fad"),(r.includes("fa-brands")||r.includes("fab"))&&(s.prefix="fab"),!s.prefix&&hI.includes(a)){var v=Object.keys(d).find(function(w){return xI.includes(w)});if(v||m.autoFetchSvg){var j=FR.get(a).defaultShortPrefixId;s.prefix=j,s.iconName=Ou(s.prefix,s.iconName)||s.iconName}}return(s.prefix==="fa"||i==="fa")&&(s.prefix=Od()||"fas"),s}var gI=function(){function t(){dR(this,t),this.definitions={}}return mR(t,[{key:"add",value:function(){for(var a=this,s=arguments.length,n=new Array(s),i=0;i<s;i++)n[i]=arguments[i];var o=n.reduce(this._pullDefinitions,{});Object.keys(o).forEach(function(d){a.definitions[d]=at(at({},a.definitions[d]||{}),o[d]),tC(d,o[d]),oC()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(a,s){var n=s.prefix&&s.iconName&&s.icon?{0:s}:s;return Object.keys(n).map(function(i){var o=n[i],d=o.prefix,u=o.iconName,m=o.icon,f=m[2];a[d]||(a[d]={}),f.length>0&&f.forEach(function(x){typeof x=="string"&&(a[d][x]=m)}),a[d][u]=m}),a}}])}(),J4=[],af={},df={},yI=Object.keys(df);function bI(t,r){var a=r.mixoutsTo;return J4=t,af={},Object.keys(df).forEach(function(s){yI.indexOf(s)===-1&&delete df[s]}),J4.forEach(function(s){var n=s.mixout?s.mixout():{};if(Object.keys(n).forEach(function(o){typeof n[o]=="function"&&(a[o]=n[o]),Xp(n[o])==="object"&&Object.keys(n[o]).forEach(function(d){a[o]||(a[o]={}),a[o][d]=n[o][d]})}),s.hooks){var i=s.hooks();Object.keys(i).forEach(function(o){af[o]||(af[o]=[]),af[o].push(i[o])})}s.provides&&s.provides(df)}),a}function R2(t,r){for(var a=arguments.length,s=new Array(a>2?a-2:0),n=2;n<a;n++)s[n-2]=arguments[n];var i=af[t]||[];return i.forEach(function(o){r=o.apply(null,[r].concat(s))}),r}function Ku(t){for(var r=arguments.length,a=new Array(r>1?r-1:0),s=1;s<r;s++)a[s-1]=arguments[s];var n=af[t]||[];n.forEach(function(i){i.apply(null,a)})}function Dd(){var t=arguments[0],r=Array.prototype.slice.call(arguments,1);return df[t]?df[t].apply(null,r):void 0}function $2(t){t.prefix==="fa"&&(t.prefix="fas");var r=t.iconName,a=t.prefix||Od();if(r)return r=Ou(a,r)||r,V4(uC.definitions,a,r)||V4(Il.styles,a,r)}var uC=new gI,vI=function(){Ct.autoReplaceSvg=!1,Ct.observeMutations=!1,Ku("noAuto")},jI={i2svg:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Ac?(Ku("beforeI2svg",r),Dd("pseudoElements2svg",r),Dd("i2svg",r)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=r.autoReplaceSvgRoot;Ct.autoReplaceSvg===!1&&(Ct.autoReplaceSvg=!0),Ct.observeMutations=!0,sI(function(){wI({autoReplaceSvgRoot:a}),Ku("watch",r)})}},NI={icon:function(r){if(r===null)return null;if(Xp(r)==="object"&&r.prefix&&r.iconName)return{prefix:r.prefix,iconName:Ou(r.prefix,r.iconName)||r.iconName};if(Array.isArray(r)&&r.length===2){var a=r[1].indexOf("fa-")===0?r[1].slice(3):r[1],s=ey(r[0]);return{prefix:s,iconName:Ou(s,a)||a}}if(typeof r=="string"&&(r.indexOf("".concat(Ct.cssPrefix,"-"))>-1||r.match(U$))){var n=ty(r.split(" "),{skipLookups:!0});return{prefix:n.prefix||Od(),iconName:Ou(n.prefix,n.iconName)||n.iconName}}if(typeof r=="string"){var i=Od();return{prefix:i,iconName:Ou(i,r)||r}}}},Pi={noAuto:vI,config:Ct,dom:jI,parse:NI,library:uC,findIconDefinition:$2,toHtml:Mx},wI=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=r.autoReplaceSvgRoot,s=a===void 0?ha:a;(Object.keys(Il.styles).length>0||Ct.autoFetchSvg)&&Ac&&Ct.autoReplaceSvg&&Pi.dom.i2svg({node:s})};function ry(t,r){return Object.defineProperty(t,"abstract",{get:r}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(function(s){return Mx(s)})}}),Object.defineProperty(t,"node",{get:function(){if(Ac){var s=ha.createElement("div");return s.innerHTML=t.html,s.children}}}),t}function SI(t){var r=t.children,a=t.main,s=t.mask,n=t.attributes,i=t.styles,o=t.transform;if(fN(o)&&a.found&&!s.found){var d=a.width,u=a.height,m={x:d/u/2,y:.5};n.style=Qg(at(at({},i),{},{"transform-origin":"".concat(m.x+o.x/16,"em ").concat(m.y+o.y/16,"em")}))}return[{tag:"svg",attributes:n,children:r}]}function _I(t){var r=t.prefix,a=t.iconName,s=t.children,n=t.attributes,i=t.symbol,o=i===!0?"".concat(r,"-").concat(Ct.cssPrefix,"-").concat(a):i;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:at(at({},n),{},{id:o}),children:s}]}]}function AI(t){var r=["aria-label","aria-labelledby","title","role"];return r.some(function(a){return a in t})}function pN(t){var r=t.icons,a=r.main,s=r.mask,n=t.prefix,i=t.iconName,o=t.transform,d=t.symbol,u=t.maskId,m=t.extra,f=t.watchable,x=f===void 0?!1:f,b=s.found?s:a,p=b.width,v=b.height,j=[Ct.replacementClass,i?"".concat(Ct.cssPrefix,"-").concat(i):""].filter(function(T){return m.classes.indexOf(T)===-1}).filter(function(T){return T!==""||!!T}).concat(m.classes).join(" "),w={children:[],attributes:at(at({},m.attributes),{},{"data-prefix":n,"data-icon":i,class:j,role:m.attributes.role||"img",viewBox:"0 0 ".concat(p," ").concat(v)})};!AI(m.attributes)&&!m.attributes["aria-hidden"]&&(w.attributes["aria-hidden"]="true"),x&&(w.attributes[Vu]="");var N=at(at({},w),{},{prefix:n,iconName:i,main:a,mask:s,maskId:u,transform:o,symbol:d,styles:at({},m.styles)}),P=s.found&&a.found?Dd("generateAbstractMask",N)||{children:[],attributes:{}}:Dd("generateAbstractIcon",N)||{children:[],attributes:{}},A=P.children,D=P.attributes;return N.children=A,N.attributes=D,d?_I(N):SI(N)}function Z4(t){var r=t.content,a=t.width,s=t.height,n=t.transform,i=t.extra,o=t.watchable,d=o===void 0?!1:o,u=at(at({},i.attributes),{},{class:i.classes.join(" ")});d&&(u[Vu]="");var m=at({},i.styles);fN(n)&&(m.transform=tI({transform:n,width:a,height:s}),m["-webkit-transform"]=m.transform);var f=Qg(m);f.length>0&&(u.style=f);var x=[];return x.push({tag:"span",attributes:u,children:[r]}),x}function kI(t){var r=t.content,a=t.extra,s=at(at({},a.attributes),{},{class:a.classes.join(" ")}),n=Qg(a.styles);n.length>0&&(s.style=n);var i=[];return i.push({tag:"span",attributes:s,children:[r]}),i}var mv=Il.styles;function I2(t){var r=t[0],a=t[1],s=t.slice(4),n=Zg(s,1),i=n[0],o=null;return Array.isArray(i)?o={tag:"g",attributes:{class:"".concat(Ct.cssPrefix,"-").concat(cv.GROUP)},children:[{tag:"path",attributes:{class:"".concat(Ct.cssPrefix,"-").concat(cv.SECONDARY),fill:"currentColor",d:i[0]}},{tag:"path",attributes:{class:"".concat(Ct.cssPrefix,"-").concat(cv.PRIMARY),fill:"currentColor",d:i[1]}}]}:o={tag:"path",attributes:{fill:"currentColor",d:i}},{found:!0,width:r,height:a,icon:o}}var CI={found:!1,width:512,height:512};function EI(t,r){!Gk&&!Ct.showMissingIcons&&t&&console.error('Icon with name "'.concat(t,'" and prefix "').concat(r,'" is missing.'))}function F2(t,r){var a=r;return r==="fa"&&Ct.styleDefault!==null&&(r=Od()),new Promise(function(s,n){if(a==="fa"){var i=cC(t)||{};t=i.iconName||t,r=i.prefix||r}if(t&&r&&mv[r]&&mv[r][t]){var o=mv[r][t];return s(I2(o))}EI(t,r),s(at(at({},CI),{},{icon:Ct.showMissingIcons&&t?Dd("missingIconAbstract")||{}:{}}))})}var Q4=function(){},B2=Ct.measurePerformance&&ip&&ip.mark&&ip.measure?ip:{mark:Q4,measure:Q4},ex='FA "7.0.0"',PI=function(r){return B2.mark("".concat(ex," ").concat(r," begins")),function(){return mC(r)}},mC=function(r){B2.mark("".concat(ex," ").concat(r," ends")),B2.measure("".concat(ex," ").concat(r),"".concat(ex," ").concat(r," begins"),"".concat(ex," ").concat(r," ends"))},gN={begin:PI,end:mC},Lp=function(){};function e6(t){var r=t.getAttribute?t.getAttribute(Vu):null;return typeof r=="string"}function TI(t){var r=t.getAttribute?t.getAttribute(dN):null,a=t.getAttribute?t.getAttribute(uN):null;return r&&a}function OI(t){return t&&t.classList&&t.classList.contains&&t.classList.contains(Ct.replacementClass)}function DI(){if(Ct.autoReplaceSvg===!0)return Mp.replace;var t=Mp[Ct.autoReplaceSvg];return t||Mp.replace}function LI(t){return ha.createElementNS("http://www.w3.org/2000/svg",t)}function MI(t){return ha.createElement(t)}function fC(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=r.ceFn,s=a===void 0?t.tag==="svg"?LI:MI:a;if(typeof t=="string")return ha.createTextNode(t);var n=s(t.tag);Object.keys(t.attributes||[]).forEach(function(o){n.setAttribute(o,t.attributes[o])});var i=t.children||[];return i.forEach(function(o){n.appendChild(fC(o,{ceFn:s}))}),n}function RI(t){var r=" ".concat(t.outerHTML," ");return r="".concat(r,"Font Awesome fontawesome.com "),r}var Mp={replace:function(r){var a=r[0];if(a.parentNode)if(r[1].forEach(function(n){a.parentNode.insertBefore(fC(n),a)}),a.getAttribute(Vu)===null&&Ct.keepOriginalSource){var s=ha.createComment(RI(a));a.parentNode.replaceChild(s,a)}else a.remove()},nest:function(r){var a=r[0],s=r[1];if(~mN(a).indexOf(Ct.replacementClass))return Mp.replace(r);var n=new RegExp("".concat(Ct.cssPrefix,"-.*"));if(delete s[0].attributes.id,s[0].attributes.class){var i=s[0].attributes.class.split(" ").reduce(function(d,u){return u===Ct.replacementClass||u.match(n)?d.toSvg.push(u):d.toNode.push(u),d},{toNode:[],toSvg:[]});s[0].attributes.class=i.toSvg.join(" "),i.toNode.length===0?a.removeAttribute("class"):a.setAttribute("class",i.toNode.join(" "))}var o=s.map(function(d){return Mx(d)}).join(`
`);a.setAttribute(Vu,""),a.innerHTML=o}};function t6(t){t()}function hC(t,r){var a=typeof r=="function"?r:Lp;if(t.length===0)a();else{var s=t6;Ct.mutateApproach===F$&&(s=Td.requestAnimationFrame||t6),s(function(){var n=DI(),i=gN.begin("mutate");t.map(n),i(),a()})}}var yN=!1;function xC(){yN=!0}function z2(){yN=!1}var Zp=null;function r6(t){if(B4&&Ct.observeMutations){var r=t.treeCallback,a=r===void 0?Lp:r,s=t.nodeCallback,n=s===void 0?Lp:s,i=t.pseudoElementsCallback,o=i===void 0?Lp:i,d=t.observeMutationsRoot,u=d===void 0?ha:d;Zp=new B4(function(m){if(!yN){var f=Od();Lf(m).forEach(function(x){if(x.type==="childList"&&x.addedNodes.length>0&&!e6(x.addedNodes[0])&&(Ct.searchPseudoElements&&o(x.target),a(x.target)),x.type==="attributes"&&x.target.parentNode&&Ct.searchPseudoElements&&o([x.target],!0),x.type==="attributes"&&e6(x.target)&&~G$.indexOf(x.attributeName))if(x.attributeName==="class"&&TI(x.target)){var b=ty(mN(x.target)),p=b.prefix,v=b.iconName;x.target.setAttribute(dN,p||f),v&&x.target.setAttribute(uN,v)}else OI(x.target)&&n(x.target)})}}),Ac&&Zp.observe(u,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function $I(){Zp&&Zp.disconnect()}function II(t){var r=t.getAttribute("style"),a=[];return r&&(a=r.split(";").reduce(function(s,n){var i=n.split(":"),o=i[0],d=i.slice(1);return o&&d.length>0&&(s[o]=d.join(":").trim()),s},{})),a}function FI(t){var r=t.getAttribute("data-prefix"),a=t.getAttribute("data-icon"),s=t.innerText!==void 0?t.innerText.trim():"",n=ty(mN(t));return n.prefix||(n.prefix=Od()),r&&a&&(n.prefix=r,n.iconName=a),n.iconName&&n.prefix||(n.prefix&&s.length>0&&(n.iconName=cI(n.prefix,t.innerText)||xN(n.prefix,eC(t.innerText))),!n.iconName&&Ct.autoFetchSvg&&t.firstChild&&t.firstChild.nodeType===Node.TEXT_NODE&&(n.iconName=t.firstChild.data)),n}function BI(t){var r=Lf(t.attributes).reduce(function(a,s){return a.name!=="class"&&a.name!=="style"&&(a[s.name]=s.value),a},{});return r}function zI(){return{iconName:null,prefix:null,transform:jo,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function a6(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0},a=FI(t),s=a.iconName,n=a.prefix,i=a.rest,o=BI(t),d=R2("parseNodeAttributes",{},t),u=r.styleParser?II(t):[];return at({iconName:s,prefix:n,transform:jo,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:i,styles:u,attributes:o}},d)}var UI=Il.styles;function pC(t){var r=Ct.autoReplaceSvg==="nest"?a6(t,{styleParser:!1}):a6(t);return~r.extra.classes.indexOf(Kk)?Dd("generateLayersText",t,r):Dd("generateSvgReplacementMutation",t,r)}function qI(){return[].concat(Ul(Fk),Ul(Bk))}function s6(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!Ac)return Promise.resolve();var a=ha.documentElement.classList,s=function(x){return a.add("".concat(q4,"-").concat(x))},n=function(x){return a.remove("".concat(q4,"-").concat(x))},i=Ct.autoFetchSvg?qI():Sk.concat(Object.keys(UI));i.includes("fa")||i.push("fa");var o=[".".concat(Kk,":not([").concat(Vu,"])")].concat(i.map(function(f){return".".concat(f,":not([").concat(Vu,"])")})).join(", ");if(o.length===0)return Promise.resolve();var d=[];try{d=Lf(t.querySelectorAll(o))}catch{}if(d.length>0)s("pending"),n("complete");else return Promise.resolve();var u=gN.begin("onTree"),m=d.reduce(function(f,x){try{var b=pC(x);b&&f.push(b)}catch(p){Gk||p.name==="MissingIcon"&&console.error(p)}return f},[]);return new Promise(function(f,x){Promise.all(m).then(function(b){hC(b,function(){s("active"),s("complete"),n("pending"),typeof r=="function"&&r(),u(),f()})}).catch(function(b){u(),x(b)})})}function HI(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;pC(t).then(function(a){a&&hC([a],r)})}function GI(t){return function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=(r||{}).icon?r:$2(r||{}),n=a.mask;return n&&(n=(n||{}).icon?n:$2(n||{})),t(s,at(at({},a),{},{mask:n}))}}var YI=function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.transform,n=s===void 0?jo:s,i=a.symbol,o=i===void 0?!1:i,d=a.mask,u=d===void 0?null:d,m=a.maskId,f=m===void 0?null:m,x=a.classes,b=x===void 0?[]:x,p=a.attributes,v=p===void 0?{}:p,j=a.styles,w=j===void 0?{}:j;if(r){var N=r.prefix,P=r.iconName,A=r.icon;return ry(at({type:"icon"},r),function(){return Ku("beforeDOMElementCreation",{iconDefinition:r,params:a}),pN({icons:{main:I2(A),mask:u?I2(u.icon):{found:!1,width:null,height:null,icon:{}}},prefix:N,iconName:P,transform:at(at({},jo),n),symbol:o,maskId:f,extra:{attributes:v,styles:w,classes:b}})})}},VI={mixout:function(){return{icon:GI(YI)}},hooks:function(){return{mutationObserverCallbacks:function(a){return a.treeCallback=s6,a.nodeCallback=HI,a}}},provides:function(r){r.i2svg=function(a){var s=a.node,n=s===void 0?ha:s,i=a.callback,o=i===void 0?function(){}:i;return s6(n,o)},r.generateSvgReplacementMutation=function(a,s){var n=s.iconName,i=s.prefix,o=s.transform,d=s.symbol,u=s.mask,m=s.maskId,f=s.extra;return new Promise(function(x,b){Promise.all([F2(n,i),u.iconName?F2(u.iconName,u.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(p){var v=Zg(p,2),j=v[0],w=v[1];x([a,pN({icons:{main:j,mask:w},prefix:i,iconName:n,transform:o,symbol:d,maskId:m,extra:f,watchable:!0})])}).catch(b)})},r.generateAbstractIcon=function(a){var s=a.children,n=a.attributes,i=a.main,o=a.transform,d=a.styles,u=Qg(d);u.length>0&&(n.style=u);var m;return fN(o)&&(m=Dd("generateAbstractTransformGrouping",{main:i,transform:o,containerWidth:i.width,iconWidth:i.width})),s.push(m||i.icon),{children:s,attributes:n}}}},KI={mixout:function(){return{layer:function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=s.classes,i=n===void 0?[]:n;return ry({type:"layer"},function(){Ku("beforeDOMElementCreation",{assembler:a,params:s});var o=[];return a(function(d){Array.isArray(d)?d.map(function(u){o=o.concat(u.abstract)}):o=o.concat(d.abstract)}),[{tag:"span",attributes:{class:["".concat(Ct.cssPrefix,"-layers")].concat(Ul(i)).join(" ")},children:o}]})}}}},WI={mixout:function(){return{counter:function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};s.title;var n=s.classes,i=n===void 0?[]:n,o=s.attributes,d=o===void 0?{}:o,u=s.styles,m=u===void 0?{}:u;return ry({type:"counter",content:a},function(){return Ku("beforeDOMElementCreation",{content:a,params:s}),kI({content:a.toString(),extra:{attributes:d,styles:m,classes:["".concat(Ct.cssPrefix,"-layers-counter")].concat(Ul(i))}})})}}}},XI={mixout:function(){return{text:function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=s.transform,i=n===void 0?jo:n,o=s.classes,d=o===void 0?[]:o,u=s.attributes,m=u===void 0?{}:u,f=s.styles,x=f===void 0?{}:f;return ry({type:"text",content:a},function(){return Ku("beforeDOMElementCreation",{content:a,params:s}),Z4({content:a,transform:at(at({},jo),i),extra:{attributes:m,styles:x,classes:["".concat(Ct.cssPrefix,"-layers-text")].concat(Ul(d))}})})}}},provides:function(r){r.generateLayersText=function(a,s){var n=s.transform,i=s.extra,o=null,d=null;if(Nk){var u=parseInt(getComputedStyle(a).fontSize,10),m=a.getBoundingClientRect();o=m.width/u,d=m.height/u}return Promise.resolve([a,Z4({content:a.innerHTML,width:o,height:d,transform:n,extra:i,watchable:!0})])}}},gC=new RegExp('"',"ug"),n6=[1105920,1112319],i6=at(at(at(at({},{FontAwesome:{normal:"fas",400:"fas"}}),IR),$$),VR),U2=Object.keys(i6).reduce(function(t,r){return t[r.toLowerCase()]=i6[r],t},{}),JI=Object.keys(U2).reduce(function(t,r){var a=U2[r];return t[r]=a[900]||Ul(Object.entries(a))[0][1],t},{});function ZI(t){var r=t.replace(gC,"");return eC(Ul(r)[0]||"")}function QI(t){var r=t.getPropertyValue("font-feature-settings").includes("ss01"),a=t.getPropertyValue("content"),s=a.replace(gC,""),n=s.codePointAt(0),i=n>=n6[0]&&n<=n6[1],o=s.length===2?s[0]===s[1]:!1;return i||o||r}function eF(t,r){var a=t.replace(/^['"]|['"]$/g,"").toLowerCase(),s=parseInt(r),n=isNaN(s)?"normal":s;return(U2[a]||{})[n]||JI[a]}function l6(t,r){var a="".concat(I$).concat(r.replace(":","-"));return new Promise(function(s,n){if(t.getAttribute(a)!==null)return s();var i=Lf(t.children),o=i.filter(function(R){return R.getAttribute(O2)===r})[0],d=Td.getComputedStyle(t,r),u=d.getPropertyValue("font-family"),m=u.match(q$),f=d.getPropertyValue("font-weight"),x=d.getPropertyValue("content");if(o&&!m)return t.removeChild(o),s();if(m&&x!=="none"&&x!==""){var b=d.getPropertyValue("content"),p=eF(u,f),v=ZI(b),j=m[0].startsWith("FontAwesome"),w=QI(d),N=xN(p,v),P=N;if(j){var A=dI(v);A.iconName&&A.prefix&&(N=A.iconName,p=A.prefix)}if(N&&!w&&(!o||o.getAttribute(dN)!==p||o.getAttribute(uN)!==P)){t.setAttribute(a,P),o&&t.removeChild(o);var D=zI(),T=D.extra;T.attributes[O2]=r,F2(N,p).then(function(R){var E=pN(at(at({},D),{},{icons:{main:R,mask:dC()},prefix:p,iconName:P,extra:T,watchable:!0})),O=ha.createElementNS("http://www.w3.org/2000/svg","svg");r==="::before"?t.insertBefore(O,t.firstChild):t.appendChild(O),O.outerHTML=E.map(function(k){return Mx(k)}).join(`
`),t.removeAttribute(a),s()}).catch(n)}else s()}else s()})}function tF(t){return Promise.all([l6(t,"::before"),l6(t,"::after")])}function rF(t){return t.parentNode!==document.head&&!~B$.indexOf(t.tagName.toUpperCase())&&!t.getAttribute(O2)&&(!t.parentNode||t.parentNode.tagName!=="svg")}var aF=function(r){return!!r&&Hk.some(function(a){return r.includes(a)})},sF=function(r){if(!r)return[];for(var a=new Set,s=[r],n=[/(?=\s:)/,new RegExp("(?<=\\)\\)?[^,]*,)")],i=function(){var p=d[o];s=s.flatMap(function(v){return v.split(p).map(function(j){return j.replace(/,\s*$/,"").trim()})})},o=0,d=n;o<d.length;o++)i();s=s.flatMap(function(b){return b.includes("(")?b:b.split(",").map(function(p){return p.trim()})});var u=Dp(s),m;try{for(u.s();!(m=u.n()).done;){var f=m.value;if(aF(f)){var x=Hk.reduce(function(b,p){return b.replace(p,"")},f);x!==""&&x!=="*"&&a.add(x)}}}catch(b){u.e(b)}finally{u.f()}return a};function o6(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(Ac){var a;if(r)a=t;else if(Ct.searchPseudoElementsFullScan)a=t.querySelectorAll("*");else{var s=new Set,n=Dp(document.styleSheets),i;try{for(n.s();!(i=n.n()).done;){var o=i.value;try{var d=Dp(o.cssRules),u;try{for(d.s();!(u=d.n()).done;){var m=u.value,f=sF(m.selectorText),x=Dp(f),b;try{for(x.s();!(b=x.n()).done;){var p=b.value;s.add(p)}}catch(j){x.e(j)}finally{x.f()}}}catch(j){d.e(j)}finally{d.f()}}catch(j){Ct.searchPseudoElementsWarnings&&console.warn("Font Awesome: cannot parse stylesheet: ".concat(o.href," (").concat(j.message,`)
If it declares any Font Awesome CSS pseudo-elements, they will not be rendered as SVG icons. Add crossorigin="anonymous" to the <link>, enable searchPseudoElementsFullScan for slower but more thorough DOM parsing, or suppress this warning by setting searchPseudoElementsWarnings to false.`))}}}catch(j){n.e(j)}finally{n.f()}if(!s.size)return;var v=Array.from(s).join(", ");try{a=t.querySelectorAll(v)}catch{}}return new Promise(function(j,w){var N=Lf(a).filter(rF).map(tF),P=gN.begin("searchPseudoElements");xC(),Promise.all(N).then(function(){P(),z2(),j()}).catch(function(){P(),z2(),w()})})}}var nF={hooks:function(){return{mutationObserverCallbacks:function(a){return a.pseudoElementsCallback=o6,a}}},provides:function(r){r.pseudoElements2svg=function(a){var s=a.node,n=s===void 0?ha:s;Ct.searchPseudoElements&&o6(n)}}},c6=!1,iF={mixout:function(){return{dom:{unwatch:function(){xC(),c6=!0}}}},hooks:function(){return{bootstrap:function(){r6(R2("mutationObserverCallbacks",{}))},noAuto:function(){$I()},watch:function(a){var s=a.observeMutationsRoot;c6?z2():r6(R2("mutationObserverCallbacks",{observeMutationsRoot:s}))}}}},d6=function(r){var a={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return r.toLowerCase().split(" ").reduce(function(s,n){var i=n.toLowerCase().split("-"),o=i[0],d=i.slice(1).join("-");if(o&&d==="h")return s.flipX=!0,s;if(o&&d==="v")return s.flipY=!0,s;if(d=parseFloat(d),isNaN(d))return s;switch(o){case"grow":s.size=s.size+d;break;case"shrink":s.size=s.size-d;break;case"left":s.x=s.x-d;break;case"right":s.x=s.x+d;break;case"up":s.y=s.y-d;break;case"down":s.y=s.y+d;break;case"rotate":s.rotate=s.rotate+d;break}return s},a)},lF={mixout:function(){return{parse:{transform:function(a){return d6(a)}}}},hooks:function(){return{parseNodeAttributes:function(a,s){var n=s.getAttribute("data-fa-transform");return n&&(a.transform=d6(n)),a}}},provides:function(r){r.generateAbstractTransformGrouping=function(a){var s=a.main,n=a.transform,i=a.containerWidth,o=a.iconWidth,d={transform:"translate(".concat(i/2," 256)")},u="translate(".concat(n.x*32,", ").concat(n.y*32,") "),m="scale(".concat(n.size/16*(n.flipX?-1:1),", ").concat(n.size/16*(n.flipY?-1:1),") "),f="rotate(".concat(n.rotate," 0 0)"),x={transform:"".concat(u," ").concat(m," ").concat(f)},b={transform:"translate(".concat(o/2*-1," -256)")},p={outer:d,inner:x,path:b};return{tag:"g",attributes:at({},p.outer),children:[{tag:"g",attributes:at({},p.inner),children:[{tag:s.icon.tag,children:s.icon.children,attributes:at(at({},s.icon.attributes),p.path)}]}]}}}},fv={x:0,y:0,width:"100%",height:"100%"};function u6(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return t.attributes&&(t.attributes.fill||r)&&(t.attributes.fill="black"),t}function oF(t){return t.tag==="g"?t.children:[t]}var cF={hooks:function(){return{parseNodeAttributes:function(a,s){var n=s.getAttribute("data-fa-mask"),i=n?ty(n.split(" ").map(function(o){return o.trim()})):dC();return i.prefix||(i.prefix=Od()),a.mask=i,a.maskId=s.getAttribute("data-fa-mask-id"),a}}},provides:function(r){r.generateAbstractMask=function(a){var s=a.children,n=a.attributes,i=a.main,o=a.mask,d=a.maskId,u=a.transform,m=i.width,f=i.icon,x=o.width,b=o.icon,p=eI({transform:u,containerWidth:x,iconWidth:m}),v={tag:"rect",attributes:at(at({},fv),{},{fill:"white"})},j=f.children?{children:f.children.map(u6)}:{},w={tag:"g",attributes:at({},p.inner),children:[u6(at({tag:f.tag,attributes:at(at({},f.attributes),p.path)},j))]},N={tag:"g",attributes:at({},p.outer),children:[w]},P="mask-".concat(d||G4()),A="clip-".concat(d||G4()),D={tag:"mask",attributes:at(at({},fv),{},{id:P,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[v,N]},T={tag:"defs",children:[{tag:"clipPath",attributes:{id:A},children:oF(b)},D]};return s.push(T,{tag:"rect",attributes:at({fill:"currentColor","clip-path":"url(#".concat(A,")"),mask:"url(#".concat(P,")")},fv)}),{children:s,attributes:n}}}},dF={provides:function(r){var a=!1;Td.matchMedia&&(a=Td.matchMedia("(prefers-reduced-motion: reduce)").matches),r.missingIconAbstract=function(){var s=[],n={fill:"currentColor"},i={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};s.push({tag:"path",attributes:at(at({},n),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var o=at(at({},i),{},{attributeName:"opacity"}),d={tag:"circle",attributes:at(at({},n),{},{cx:"256",cy:"364",r:"28"}),children:[]};return a||d.children.push({tag:"animate",attributes:at(at({},i),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:at(at({},o),{},{values:"1;0;1;1;0;1;"})}),s.push(d),s.push({tag:"path",attributes:at(at({},n),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:a?[]:[{tag:"animate",attributes:at(at({},o),{},{values:"1;0;0;0;0;1;"})}]}),a||s.push({tag:"path",attributes:at(at({},n),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:at(at({},o),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:s}}}},uF={hooks:function(){return{parseNodeAttributes:function(a,s){var n=s.getAttribute("data-fa-symbol"),i=n===null?!1:n===""?!0:n;return a.symbol=i,a}}}},mF=[aI,VI,KI,WI,XI,nF,iF,lF,cF,dF,uF];bI(mF,{mixoutsTo:Pi});Pi.noAuto;Pi.config;Pi.library;Pi.dom;var q2=Pi.parse;Pi.findIconDefinition;Pi.toHtml;var fF=Pi.icon;Pi.layer;Pi.text;Pi.counter;var hv={exports:{}},xv,m6;function hF(){if(m6)return xv;m6=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return xv=t,xv}var pv,f6;function xF(){if(f6)return pv;f6=1;var t=hF();function r(){}function a(){}return a.resetWarningCache=r,pv=function(){function s(o,d,u,m,f,x){if(x!==t){var b=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw b.name="Invariant Violation",b}}s.isRequired=s;function n(){return s}var i={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:n,element:s,elementType:s,instanceOf:n,node:s,objectOf:n,oneOf:n,oneOfType:n,shape:n,exact:n,checkPropTypes:a,resetWarningCache:r};return i.PropTypes=i,i},pv}var h6;function pF(){return h6||(h6=1,hv.exports=xF()()),hv.exports}var gF=pF();const sr=Eo(gF);var yF={};function H2(t,r){(r==null||r>t.length)&&(r=t.length);for(var a=0,s=Array(r);a<r;a++)s[a]=t[a];return s}function bF(t){if(Array.isArray(t))return t}function vF(t){if(Array.isArray(t))return H2(t)}function Nd(t,r,a){return(r=CF(r))in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function jF(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function NF(t,r){var a=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(a!=null){var s,n,i,o,d=[],u=!0,m=!1;try{if(i=(a=a.call(t)).next,r!==0)for(;!(u=(s=i.call(a)).done)&&(d.push(s.value),d.length!==r);u=!0);}catch(f){m=!0,n=f}finally{try{if(!u&&a.return!=null&&(o=a.return(),Object(o)!==o))return}finally{if(m)throw n}}return d}}function wF(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SF(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x6(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,s)}return a}function vo(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?x6(Object(a),!0).forEach(function(s){Nd(t,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):x6(Object(a)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(a,s))})}return t}function _F(t,r){if(t==null)return{};var a,s,n=AF(t,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)a=i[s],r.indexOf(a)===-1&&{}.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}function AF(t,r){if(t==null)return{};var a={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(r.indexOf(s)!==-1)continue;a[s]=t[s]}return a}function p6(t,r){return bF(t)||NF(t,r)||yC(t,r)||wF()}function G2(t){return vF(t)||jF(t)||yC(t)||SF()}function kF(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function CF(t){var r=kF(t,"string");return typeof r=="symbol"?r:r+""}function Qp(t){"@babel/helpers - typeof";return Qp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Qp(t)}function yC(t,r){if(t){if(typeof t=="string")return H2(t,r);var a={}.toString.call(t).slice(8,-1);return a==="Object"&&t.constructor&&(a=t.constructor.name),a==="Map"||a==="Set"?Array.from(t):a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?H2(t,r):void 0}}var EF="7.0.0-alpha1",Y2;try{var PF=require("@fortawesome/fontawesome-svg-core/package.json");Y2=PF.version}catch{Y2=yF.FA_VERSION||"7.0.0-alpha8"}function TF(t){var r=t.beat,a=t.fade,s=t.beatFade,n=t.bounce,i=t.shake,o=t.flash,d=t.spin,u=t.spinPulse,m=t.spinReverse,f=t.pulse,x=t.fixedWidth,b=t.inverse,p=t.border,v=t.listItem,j=t.flip,w=t.size,N=t.rotation,P=t.pull,A=t.swapOpacity,D=t.rotateBy,T=t.widthAuto,R=OF(Y2,EF),E=Nd(Nd(Nd(Nd(Nd(Nd({"fa-beat":r,"fa-fade":a,"fa-beat-fade":s,"fa-bounce":n,"fa-shake":i,"fa-flash":o,"fa-spin":d,"fa-spin-reverse":m,"fa-spin-pulse":u,"fa-pulse":f,"fa-fw":x,"fa-inverse":b,"fa-border":p,"fa-li":v,"fa-flip":j===!0,"fa-flip-horizontal":j==="horizontal"||j==="both","fa-flip-vertical":j==="vertical"||j==="both"},"fa-".concat(w),typeof w<"u"&&w!==null),"fa-rotate-".concat(N),typeof N<"u"&&N!==null&&N!==0),"fa-pull-".concat(P),typeof P<"u"&&P!==null),"fa-swap-opacity",A),"fa-rotate-by",R&&D),"fa-width-auto",R&&T);return Object.keys(E).map(function(O){return E[O]?O:null}).filter(function(O){return O})}function OF(t,r){for(var a=t.split("-"),s=p6(a,2),n=s[0],i=s[1],o=r.split("-"),d=p6(o,2),u=d[0],m=d[1],f=n.split("."),x=u.split("."),b=0;b<Math.max(f.length,x.length);b++){var p=f[b]||"0",v=x[b]||"0",j=parseInt(p,10),w=parseInt(v,10);if(j!==w)return j>w}for(var N=0;N<Math.max(f.length,x.length);N++){var P=f[N]||"0",A=x[N]||"0";if(P!==A&&P.length!==A.length)return P.length<A.length}return!(i&&!m)}function DF(t){return t=t-0,t===t}function bC(t){return DF(t)?t:(t=t.replace(/[\-_\s]+(.)?/g,function(r,a){return a?a.toUpperCase():""}),t.substr(0,1).toLowerCase()+t.substr(1))}var LF=["style"];function MF(t){return t.charAt(0).toUpperCase()+t.slice(1)}function RF(t){return t.split(";").map(function(r){return r.trim()}).filter(function(r){return r}).reduce(function(r,a){var s=a.indexOf(":"),n=bC(a.slice(0,s)),i=a.slice(s+1).trim();return n.startsWith("webkit")?r[MF(n)]=i:r[n]=i,r},{})}function vC(t,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof r=="string")return r;var s=(r.children||[]).map(function(u){return vC(t,u)}),n=Object.keys(r.attributes||{}).reduce(function(u,m){var f=r.attributes[m];switch(m){case"class":u.attrs.className=f,delete r.attributes.class;break;case"style":u.attrs.style=RF(f);break;default:m.indexOf("aria-")===0||m.indexOf("data-")===0?u.attrs[m.toLowerCase()]=f:u.attrs[bC(m)]=f}return u},{attrs:{}}),i=a.style,o=i===void 0?{}:i,d=_F(a,LF);return n.attrs.style=vo(vo({},n.attrs.style),o),t.apply(void 0,[r.tag,vo(vo({},n.attrs),d)].concat(G2(s)))}var jC=!1;try{jC=!0}catch{}function $F(){if(!jC&&console&&typeof console.error=="function"){var t;(t=console).error.apply(t,arguments)}}function g6(t){if(t&&Qp(t)==="object"&&t.prefix&&t.iconName&&t.icon)return t;if(q2.icon)return q2.icon(t);if(t===null)return null;if(t&&Qp(t)==="object"&&t.prefix&&t.iconName)return t;if(Array.isArray(t)&&t.length===2)return{prefix:t[0],iconName:t[1]};if(typeof t=="string")return{prefix:"fas",iconName:t}}function gv(t,r){return Array.isArray(r)&&r.length>0||!Array.isArray(r)&&r?Nd({},t,r):{}}var y6={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,rotateBy:!1,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1,widthAuto:!1},I=cf.forwardRef(function(t,r){var a=vo(vo({},y6),t),s=a.icon,n=a.mask,i=a.symbol,o=a.className,d=a.title,u=a.titleId,m=a.maskId,f=g6(s),x=gv("classes",[].concat(G2(TF(a)),G2((o||"").split(" ")))),b=gv("transform",typeof a.transform=="string"?q2.transform(a.transform):a.transform),p=gv("mask",g6(n)),v=fF(f,vo(vo(vo(vo({},x),b),p),{},{symbol:i,title:d,titleId:u,maskId:m}));if(!v)return $F("Could not find icon",f),null;var j=v.abstract,w={ref:r};return Object.keys(a).forEach(function(N){y6.hasOwnProperty(N)||(w[N]=a[N])}),IF(j[0],w)});I.displayName="FontAwesomeIcon";I.propTypes={beat:sr.bool,border:sr.bool,beatFade:sr.bool,bounce:sr.bool,className:sr.string,fade:sr.bool,flash:sr.bool,mask:sr.oneOfType([sr.object,sr.array,sr.string]),maskId:sr.string,fixedWidth:sr.bool,inverse:sr.bool,flip:sr.oneOf([!0,!1,"horizontal","vertical","both"]),icon:sr.oneOfType([sr.object,sr.array,sr.string]),listItem:sr.bool,pull:sr.oneOf(["right","left"]),pulse:sr.bool,rotation:sr.oneOf([0,90,180,270]),rotateBy:sr.bool,shake:sr.bool,size:sr.oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:sr.bool,spinPulse:sr.bool,spinReverse:sr.bool,symbol:sr.oneOfType([sr.bool,sr.string]),title:sr.string,titleId:sr.string,transform:sr.oneOfType([sr.string,sr.object]),swapOpacity:sr.bool,widthAuto:sr.bool};var IF=vC.bind(null,cf.createElement);/*!
 * Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2025 Fonticons, Inc.
 */var $r={prefix:"fas",iconName:"dollar-sign",icon:[320,512,[128178,61781,"dollar","usd"],"24","M136 24c0-13.3 10.7-24 24-24s24 10.7 24 24l0 40 56 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-114.9 0c-24.9 0-45.1 20.2-45.1 45.1 0 22.5 16.5 41.5 38.7 44.7l91.6 13.1c53.8 7.7 93.7 53.7 93.7 108 0 60.3-48.9 109.1-109.1 109.1l-10.9 0 0 40c0 13.3-10.7 24-24 24s-24-10.7-24-24l0-40-72 0c-17.7 0-32-14.3-32-32s14.3-32 32-32l130.9 0c24.9 0 45.1-20.2 45.1-45.1 0-22.5-16.5-41.5-38.7-44.7l-91.6-13.1C55.9 273.5 16 227.4 16 173.1 16 112.9 64.9 64 125.1 64l10.9 0 0-40z"]},b6={prefix:"fas",iconName:"calendar-check",icon:[448,512,[],"f274","M128 0c17.7 0 32 14.3 32 32l0 32 128 0 0-32c0-17.7 14.3-32 32-32s32 14.3 32 32l0 32 32 0c35.3 0 64 28.7 64 64l0 288c0 35.3-28.7 64-64 64L64 480c-35.3 0-64-28.7-64-64L0 128C0 92.7 28.7 64 64 64l32 0 0-32c0-17.7 14.3-32 32-32zM308.4 228.7c7-11.2 3.6-26-7.6-33.1s-26-3.6-33.1 7.6l-61.4 98.3-27-36c-8-10.6-23-12.8-33.6-4.8s-12.8 23-4.8 33.6l48 64c4.7 6.3 12.3 9.9 20.2 9.6s15.1-4.5 19.3-11.3l80-128z"]},V2={prefix:"fas",iconName:"calculator",icon:[384,512,[128425],"f1ec","M64 0C28.7 0 0 28.7 0 64L0 448c0 35.3 28.7 64 64 64l256 0c35.3 0 64-28.7 64-64l0-384c0-35.3-28.7-64-64-64L64 0zM96 64l192 0c17.7 0 32 14.3 32 32l0 32c0 17.7-14.3 32-32 32L96 160c-17.7 0-32-14.3-32-32l0-32c0-17.7 14.3-32 32-32zm16 168a24 24 0 1 1 -48 0 24 24 0 1 1 48 0zm80 24a24 24 0 1 1 0-48 24 24 0 1 1 0 48zm128-24a24 24 0 1 1 -48 0 24 24 0 1 1 48 0zM88 352a24 24 0 1 1 0-48 24 24 0 1 1 0 48zm128-24a24 24 0 1 1 -48 0 24 24 0 1 1 48 0zm80 24a24 24 0 1 1 0-48 24 24 0 1 1 0 48zM64 424c0-13.3 10.7-24 24-24l112 0c13.3 0 24 10.7 24 24s-10.7 24-24 24L88 448c-13.3 0-24-10.7-24-24zm232-24c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24z"]},Rp={prefix:"fas",iconName:"minus",icon:[448,512,[8211,8722,10134,"subtract"],"f068","M0 256c0-17.7 14.3-32 32-32l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 288c-17.7 0-32-14.3-32-32z"]},FF={prefix:"fas",iconName:"scale-balanced",icon:[640,512,[9878,"balance-scale"],"f24e","M384 32l128 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L398.4 96c-5.2 25.8-22.9 47.1-46.4 57.3l0 294.7 160 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-384 0c-17.7 0-32-14.3-32-32s14.3-32 32-32l160 0 0-294.7c-23.5-10.3-41.2-31.6-46.4-57.3L128 96c-17.7 0-32-14.3-32-32s14.3-32 32-32l128 0c14.6-19.4 37.8-32 64-32s49.4 12.6 64 32zm55.6 288L584.4 320 512 195.8 439.6 320zM512 416c-62.9 0-115.2-34-126-78.9-2.6-11 1-22.3 6.7-32.1l95.2-163.2c5-8.6 14.2-13.8 24.1-13.8s19.1 5.3 24.1 13.8l95.2 163.2c5.7 9.8 9.3 21.1 6.7 32.1-10.8 44.8-63.1 78.9-126 78.9zM126.8 195.8L54.4 320 199.3 320 126.8 195.8zM.9 337.1c-2.6-11 1-22.3 6.7-32.1l95.2-163.2c5-8.6 14.2-13.8 24.1-13.8s19.1 5.3 24.1 13.8l95.2 163.2c5.7 9.8 9.3 21.1 6.7 32.1-10.8 44.8-63.1 78.9-126 78.9S11.7 382 .9 337.1z"]},bN=FF,NC={prefix:"fas",iconName:"medal",icon:[448,512,[127941],"f5a2","M224.3 128L139.7-12.9c-6.5-10.8-20.1-14.7-31.3-9.1L21.8 21.3C9.9 27.2 5.1 41.6 11 53.5L80.6 192.6c-30.1 33.9-48.3 78.5-48.3 127.4 0 106 86 192 192 192s192-86 192-192c0-48.9-18.3-93.5-48.3-127.4L437.6 53.5c5.9-11.9 1.1-26.3-10.7-32.2L340.2-22.1c-11.2-5.6-24.9-1.6-31.3 9.1L224.3 128zm30.8 142.5c1.4 2.8 4 4.7 7 5.1l50.1 7.3c7.7 1.1 10.7 10.5 5.2 16l-36.3 35.4c-2.2 2.2-3.2 5.2-2.7 8.3l8.6 49.9c1.3 7.6-6.7 13.5-13.6 9.9l-44.8-23.6c-2.7-1.4-6-1.4-8.7 0l-44.8 23.6c-6.9 3.6-14.9-2.2-13.6-9.9l8.6-49.9c.5-3-.5-6.1-2.7-8.3l-36.3-35.4c-5.6-5.4-2.5-14.8 5.2-16l50.1-7.3c3-.4 5.7-2.4 7-5.1l22.4-45.4c3.4-7 13.3-7 16.8 0l22.4 45.4z"]},ts={prefix:"fas",iconName:"filter",icon:[512,512,[],"f0b0","M32 64C19.1 64 7.4 71.8 2.4 83.8S.2 109.5 9.4 118.6L192 301.3 192 416c0 8.5 3.4 16.6 9.4 22.6l64 64c9.2 9.2 22.9 11.9 34.9 6.9S320 492.9 320 480l0-178.7 182.6-182.6c9.2-9.2 11.9-22.9 6.9-34.9S492.9 64 480 64L32 64z"]},wC={prefix:"fas",iconName:"envelope",icon:[512,512,[128386,9993,61443],"f0e0","M48 64c-26.5 0-48 21.5-48 48 0 15.1 7.1 29.3 19.2 38.4l208 156c17.1 12.8 40.5 12.8 57.6 0l208-156c12.1-9.1 19.2-23.3 19.2-38.4 0-26.5-21.5-48-48-48L48 64zM0 196L0 384c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-188-198.4 148.8c-34.1 25.6-81.1 25.6-115.2 0L0 196z"]},vf={prefix:"fas",iconName:"truck",icon:[576,512,[128666,9951],"f0d1","M0 96C0 60.7 28.7 32 64 32l288 0c35.3 0 64 28.7 64 64l0 32 50.7 0c17 0 33.3 6.7 45.3 18.7L557.3 192c12 12 18.7 28.3 18.7 45.3L576 384c0 35.3-28.7 64-64 64l-3.3 0c-10.4 36.9-44.4 64-84.7 64s-74.2-27.1-84.7-64l-102.6 0c-10.4 36.9-44.4 64-84.7 64s-74.2-27.1-84.7-64L64 448c-35.3 0-64-28.7-64-64L0 96zM512 288l0-50.7-45.3-45.3-50.7 0 0 96 96 0zM192 424a40 40 0 1 0 -80 0 40 40 0 1 0 80 0zm232 40a40 40 0 1 0 0-80 40 40 0 1 0 0 80z"]},BF={prefix:"fas",iconName:"chalkboard-user",icon:[640,512,["chalkboard-teacher"],"f51c","M128 96c0-35.3 28.7-64 64-64l352 0c35.3 0 64 28.7 64 64l0 240-96 0 0-16c0-17.7-14.3-32-32-32l-64 0c-17.7 0-32 14.3-32 32l0 16-129.1 0c10.9-18.8 17.1-40.7 17.1-64 0-70.7-57.3-128-128-128-5.4 0-10.8 .3-16 1l0-49zM333 448c-5.1-24.2-16.3-46.1-32.1-64L608 384c0 35.3-28.7 64-64 64l-211 0zM64 272a80 80 0 1 1 160 0 80 80 0 1 1 -160 0zM0 480c0-53 43-96 96-96l96 0c53 0 96 43 96 96 0 17.7-14.3 32-32 32L32 512c-17.7 0-32-14.3-32-32z"]},zF=BF,Ld={prefix:"fas",iconName:"trophy",icon:[512,512,[127942],"f091","M144.3 0l224 0c26.5 0 48.1 21.8 47.1 48.2-.2 5.3-.4 10.6-.7 15.8l49.6 0c26.1 0 49.1 21.6 47.1 49.8-7.5 103.7-60.5 160.7-118 190.5-15.8 8.2-31.9 14.3-47.2 18.8-20.2 28.6-41.2 43.7-57.9 51.8l0 73.1 64 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-192 0c-17.7 0-32-14.3-32-32s14.3-32 32-32l64 0 0-73.1c-16-7.7-35.9-22-55.3-48.3-18.4-4.8-38.4-12.1-57.9-23.1-54.1-30.3-102.9-87.4-109.9-189.9-1.9-28.1 21-49.7 47.1-49.7l49.6 0c-.3-5.2-.5-10.4-.7-15.8-1-26.5 20.6-48.2 47.1-48.2zM101.5 112l-52.4 0c6.2 84.7 45.1 127.1 85.2 149.6-14.4-37.3-26.3-86-32.8-149.6zM380 256.8c40.5-23.8 77.1-66.1 83.3-144.8L411 112c-6.2 60.9-17.4 108.2-31 144.8z"]},UF={prefix:"fas",iconName:"calendar-days",icon:[448,512,["calendar-alt"],"f073","M128 0c17.7 0 32 14.3 32 32l0 32 128 0 0-32c0-17.7 14.3-32 32-32s32 14.3 32 32l0 32 32 0c35.3 0 64 28.7 64 64l0 288c0 35.3-28.7 64-64 64L64 480c-35.3 0-64-28.7-64-64L0 128C0 92.7 28.7 64 64 64l32 0 0-32c0-17.7 14.3-32 32-32zM64 240l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16zm128 0l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16zm144-16c-8.8 0-16 7.2-16 16l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0zM64 368l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16zm144-16c-8.8 0-16 7.2-16 16l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0zm112 16l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16z"]},yr=UF,ay={prefix:"fas",iconName:"user-tie",icon:[448,512,[],"f508","M224 248a120 120 0 1 1 0-240 120 120 0 1 1 0 240zm-30.5 56l61 0c9.7 0 17.5 7.8 17.5 17.5 0 4.2-1.5 8.2-4.2 11.4l-27.4 32 31 115.1 .6 0 34.6-138.5c2.2-8.7 11.1-14 19.5-10.8 61.9 23.6 105.9 83.6 105.9 153.8 0 15.1-12.3 27.4-27.4 27.4L43.4 512c-15.1 0-27.4-12.3-27.4-27.4 0-70.2 44-130.2 105.9-153.8 8.4-3.2 17.3 2.1 19.5 10.8l34.6 138.5 .6 0 31-115.1-27.4-32c-2.7-3.2-4.2-7.2-4.2-11.4 0-9.7 7.8-17.5 17.5-17.5z"]},qF={prefix:"fas",iconName:"ellipsis",icon:[448,512,["ellipsis-h"],"f141","M0 256a56 56 0 1 1 112 0 56 56 0 1 1 -112 0zm168 0a56 56 0 1 1 112 0 56 56 0 1 1 -112 0zm224-56a56 56 0 1 1 0 112 56 56 0 1 1 0-112z"]},HF=qF,GF={prefix:"fas",iconName:"percent",icon:[448,512,[62101,62785,"percentage"],"25","M192 128a96 96 0 1 0 -192 0 96 96 0 1 0 192 0zM448 384a96 96 0 1 0 -192 0 96 96 0 1 0 192 0zM438.6 86.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-384 384c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l384-384z"]},yv=GF,YF={prefix:"fas",iconName:"magnifying-glass",icon:[512,512,[128269,"search"],"f002","M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376C296.3 401.1 253.9 416 208 416 93.1 416 0 322.9 0 208S93.1 0 208 0 416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"]},Vt=YF,VF={prefix:"fas",iconName:"boxes-stacked",icon:[512,512,[62625,"boxes","boxes-alt"],"f468","M224 0l0 64c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-64 32 0c35.3 0 64 28.7 64 64l0 128c0 5.5-.7 10.9-2 16l-252 0c-1.3-5.1-2-10.5-2-16l0-128c0-35.3 28.7-64 64-64l32 0zm96 512c-11.2 0-21.8-2.9-31-8 9.5-16.5 15-35.6 15-56l0-128c0-20.4-5.5-39.5-15-56 9.2-5.1 19.7-8 31-8l32 0 0 64c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-64 32 0c35.3 0 64 28.7 64 64l0 128c0 35.3-28.7 64-64 64l-128 0zM0 320c0-35.3 28.7-64 64-64l32 0 0 64c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-64 32 0c35.3 0 64 28.7 64 64l0 128c0 35.3-28.7 64-64 64L64 512c-35.3 0-64-28.7-64-64L0 320z"]},Iu=VF,v6={prefix:"fas",iconName:"ban",icon:[512,512,[128683,"cancel"],"f05e","M367.2 412.5L99.5 144.8c-22.4 31.4-35.5 69.8-35.5 111.2 0 106 86 192 192 192 41.5 0 79.9-13.1 111.2-35.5zm45.3-45.3c22.4-31.4 35.5-69.8 35.5-111.2 0-106-86-192-192-192-41.5 0-79.9 13.1-111.2 35.5L412.5 367.2zM0 256a256 256 0 1 1 512 0 256 256 0 1 1 -512 0z"]},KF={prefix:"fas",iconName:"floppy-disk",icon:[448,512,[128190,128426,"save"],"f0c7","M64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l320 0c35.3 0 64-28.7 64-64l0-242.7c0-17-6.7-33.3-18.7-45.3L352 50.7C340 38.7 323.7 32 306.7 32L64 32zm32 96c0-17.7 14.3-32 32-32l160 0c17.7 0 32 14.3 32 32l0 64c0 17.7-14.3 32-32 32l-160 0c-17.7 0-32-14.3-32-32l0-64zM224 288a64 64 0 1 1 0 128 64 64 0 1 1 0-128z"]},Dn=KF,j6={prefix:"fas",iconName:"palette",icon:[512,512,[127912],"f53f","M512 256c0 .9 0 1.8 0 2.7-.4 36.5-33.6 61.3-70.1 61.3L344 320c-26.5 0-48 21.5-48 48 0 3.4 .4 6.7 1 9.9 2.1 10.2 6.5 20 10.8 29.9 6.1 13.8 12.1 27.5 12.1 42 0 31.8-21.6 60.7-53.4 62-3.5 .1-7 .2-10.6 .2-141.4 0-256-114.6-256-256S114.6 0 256 0 512 114.6 512 256zM128 288a32 32 0 1 0 -64 0 32 32 0 1 0 64 0zm0-96a32 32 0 1 0 0-64 32 32 0 1 0 0 64zM288 96a32 32 0 1 0 -64 0 32 32 0 1 0 64 0zm96 96a32 32 0 1 0 0-64 32 32 0 1 0 0 64z"]},WF={prefix:"fas",iconName:"unlock",icon:[384,512,[128275],"f09c","M128 96c0-35.3 28.7-64 64-64 31.7 0 58 23 63.1 53.3 2.9 17.4 19.4 29.2 36.9 26.3s29.2-19.4 26.3-36.9C308.1 14.1 255.5-32 192-32 121.3-32 64 25.3 64 96l0 64c-35.3 0-64 28.7-64 64L0 448c0 35.3 28.7 64 64 64l256 0c35.3 0 64-28.7 64-64l0-224c0-35.3-28.7-64-64-64l-192 0 0-64z"]},XF={prefix:"fas",iconName:"key",icon:[512,512,[128273],"f084","M336 352c97.2 0 176-78.8 176-176S433.2 0 336 0 160 78.8 160 176c0 18.7 2.9 36.8 8.3 53.7L7 391c-4.5 4.5-7 10.6-7 17l0 80c0 13.3 10.7 24 24 24l80 0c13.3 0 24-10.7 24-24l0-40 40 0c13.3 0 24-10.7 24-24l0-40 40 0c6.4 0 12.5-2.5 17-7l33.3-33.3c16.9 5.4 35 8.3 53.7 8.3zM376 96a40 40 0 1 1 0 80 40 40 0 1 1 0-80z"]},Fr={prefix:"fas",iconName:"eye",icon:[576,512,[128065],"f06e","M288 32c-80.8 0-145.5 36.8-192.6 80.6-46.8 43.5-78.1 95.4-93 131.1-3.3 7.9-3.3 16.7 0 24.6 14.9 35.7 46.2 87.7 93 131.1 47.1 43.7 111.8 80.6 192.6 80.6s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1 3.3-7.9 3.3-16.7 0-24.6-14.9-35.7-46.2-87.7-93-131.1-47.1-43.7-111.8-80.6-192.6-80.6zM144 256a144 144 0 1 1 288 0 144 144 0 1 1 -288 0zm144-64c0 35.3-28.7 64-64 64-11.5 0-22.3-3-31.7-8.4-1 10.9-.1 22.1 2.9 33.2 13.7 51.2 66.4 81.6 117.6 67.9s81.6-66.4 67.9-117.6c-12.2-45.7-55.5-74.8-101.1-70.8 5.3 9.3 8.4 20.1 8.4 31.7z"]},Mt={prefix:"fas",iconName:"trash",icon:[448,512,[],"f1f8","M136.7 5.9L128 32 32 32C14.3 32 0 46.3 0 64S14.3 96 32 96l384 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-96 0-8.7-26.1C306.9-7.2 294.7-16 280.9-16L167.1-16c-13.8 0-26 8.8-30.4 21.9zM416 144L32 144 53.1 467.1C54.7 492.4 75.7 512 101 512L347 512c25.3 0 46.3-19.6 47.9-44.9L416 144z"]},ix={prefix:"fas",iconName:"receipt",icon:[384,512,[129534],"f543","M14 2.2C22.5-1.7 32.5-.3 39.6 5.8L80 40.4 120.4 5.8c9-7.7 22.3-7.7 31.2 0L192 40.4 232.4 5.8c9-7.7 22.2-7.7 31.2 0L304 40.4 344.4 5.8c7.1-6.1 17.1-7.5 25.6-3.6S384 14.6 384 24l0 464c0 9.4-5.5 17.9-14 21.8s-18.5 2.5-25.6-3.6l-40.4-34.6-40.4 34.6c-9 7.7-22.2 7.7-31.2 0l-40.4-34.6-40.4 34.6c-9 7.7-22.3 7.7-31.2 0L80 471.6 39.6 506.2c-7.1 6.1-17.1 7.5-25.6 3.6S0 497.4 0 488L0 24C0 14.6 5.5 6.1 14 2.2zM104 136c-13.3 0-24 10.7-24 24s10.7 24 24 24l176 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-176 0zM80 352c0 13.3 10.7 24 24 24l176 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-176 0c-13.3 0-24 10.7-24 24zm24-120c-13.3 0-24 10.7-24 24s10.7 24 24 24l176 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-176 0z"]},JF={prefix:"fas",iconName:"right-to-bracket",icon:[512,512,["sign-in-alt"],"f2f6","M345 273c9.4-9.4 9.4-24.6 0-33.9L201 95c-6.9-6.9-17.2-8.9-26.2-5.2S160 102.3 160 112l0 80-112 0c-26.5 0-48 21.5-48 48l0 32c0 26.5 21.5 48 48 48l112 0 0 80c0 9.7 5.8 18.5 14.8 22.2s19.3 1.7 26.2-5.2L345 273zm7 143c-17.7 0-32 14.3-32 32s14.3 32 32 32l64 0c53 0 96-43 96-96l0-256c0-53-43-96-96-96l-64 0c-17.7 0-32 14.3-32 32s14.3 32 32 32l64 0c17.7 0 32 14.3 32 32l0 256c0 17.7-14.3 32-32 32l-64 0z"]},ZF=JF,QF={prefix:"fas",iconName:"pen-to-square",icon:[512,512,["edit"],"f044","M471.6 21.7c-21.9-21.9-57.3-21.9-79.2 0L368 46.1 465.9 144 490.3 119.6c21.9-21.9 21.9-57.3 0-79.2L471.6 21.7zm-299.2 220c-6.1 6.1-10.8 13.6-13.5 21.9l-29.6 88.8c-2.9 8.6-.6 18.1 5.8 24.6s15.9 8.7 24.6 5.8l88.8-29.6c8.2-2.7 15.7-7.4 21.9-13.5L432 177.9 334.1 80 172.4 241.7zM96 64C43 64 0 107 0 160L0 416c0 53 43 96 96 96l256 0c53 0 96-43 96-96l0-96c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 96c0 17.7-14.3 32-32 32L96 448c-17.7 0-32-14.3-32-32l0-256c0-17.7 14.3-32 32-32l96 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L96 64z"]},lr=QF,sn={prefix:"fas",iconName:"clock",icon:[512,512,[128339,"clock-four"],"f017","M256 0a256 256 0 1 1 0 512 256 256 0 1 1 0-512zM232 120l0 136c0 8 4 15.5 10.7 20l96 64c11 7.4 25.9 4.4 33.3-6.7s4.4-25.9-6.7-33.3L280 243.2 280 120c0-13.3-10.7-24-24-24s-24 10.7-24 24z"]},bc={prefix:"fas",iconName:"book",icon:[448,512,[128212],"f02d","M384 512L96 512c-53 0-96-43-96-96L0 96C0 43 43 0 96 0L400 0c26.5 0 48 21.5 48 48l0 288c0 20.9-13.4 38.7-32 45.3l0 66.7c17.7 0 32 14.3 32 32s-14.3 32-32 32l-32 0zM96 384c-17.7 0-32 14.3-32 32s14.3 32 32 32l256 0 0-64-256 0zm32-232c0 13.3 10.7 24 24 24l176 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-176 0c-13.3 0-24 10.7-24 24zm24 72c-13.3 0-24 10.7-24 24s10.7 24 24 24l176 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-176 0z"]},sy={prefix:"fas",iconName:"chevron-right",icon:[320,512,[9002],"f054","M311.1 233.4c12.5 12.5 12.5 32.8 0 45.3l-192 192c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L243.2 256 73.9 86.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l192 192z"]},N6={prefix:"fas",iconName:"flask",icon:[448,512,[],"f0c3","M288 0L128 0C110.3 0 96 14.3 96 32s14.3 32 32 32L128 215.5 7.5 426.3C2.6 435 0 444.7 0 454.7 0 486.4 25.6 512 57.3 512l333.4 0c31.6 0 57.3-25.6 57.3-57.3 0-10-2.6-19.8-7.5-28.4L320 215.5 320 64c17.7 0 32-14.3 32-32S337.7 0 320 0L288 0zM192 215.5l0-151.5 64 0 0 151.5c0 11.1 2.9 22.1 8.4 31.8l41.6 72.7-164 0 41.6-72.7c5.5-9.7 8.4-20.6 8.4-31.8z"]},Is={prefix:"fas",iconName:"print",icon:[512,512,[128424,128438,9113],"f02f","M64 64C64 28.7 92.7 0 128 0L341.5 0c17 0 33.3 6.7 45.3 18.7l42.5 42.5c12 12 18.7 28.3 18.7 45.3l0 37.5-384 0 0-80zM0 256c0-35.3 28.7-64 64-64l384 0c35.3 0 64 28.7 64 64l0 96c0 17.7-14.3 32-32 32l-32 0 0 64c0 35.3-28.7 64-64 64l-256 0c-35.3 0-64-28.7-64-64l0-64-32 0c-17.7 0-32-14.3-32-32l0-96zM128 416l0 32 256 0 0-96-256 0 0 64zM456 272a24 24 0 1 0 -48 0 24 24 0 1 0 48 0z"]},eB={prefix:"fas",iconName:"volleyball",icon:[512,512,[127952,"volleyball-ball"],"f45f","M512 258.9c-23.4 8-47.8 13.1-72.6 15.1 5.9-98.6-30.7-191.1-94.9-258.3 97.8 36 167.5 130 167.5 240.3 0 1 0 1.9 0 2.9zm-5.9 52c-5.2 23.7-13.6 46.2-24.9 66.9-94.7 52.2-214 50-308.4-13.6 21.7-31.3 49.8-58.9 83.8-80.5 79.5 41.6 168.5 49.1 249.5 27.1zM279.7 241.6c-3.7-89.7-41.7-170.5-101.3-229.7 22.3-7.1 46-11.2 70.5-11.9 92.5 55.9 150.3 160.3 142.4 273.8-38-3.2-75.9-13.7-111.6-32.3zM130.5 32.8C149.1 49.1 165.8 67.7 179.9 88.2 91.5 132.3 29.7 210.3 3.7 299.5 1.3 285.3 0 270.8 0 256 0 160.2 52.6 76.7 130.5 32.8zm73.4 97c16.3 34.5 26.1 72.6 27.9 112.8-75.8 48-126.8 121.3-148.3 202.5-17.6-16.1-33-34.6-45.5-55 2.1-108.1 63.7-210.4 165.9-260.3zM256 512c-47.7 0-92.3-13-130.5-35.7 4.8-24.3 12.6-48 23.2-70.4 82.4 54.4 180.8 68.9 271 47-44.4 37-101.5 59.2-163.7 59.2z"]},SC=eB,Ir={prefix:"fas",iconName:"users",icon:[640,512,[],"f0c0","M320 16a104 104 0 1 1 0 208 104 104 0 1 1 0-208zM96 88a72 72 0 1 1 0 144 72 72 0 1 1 0-144zM0 416c0-70.7 57.3-128 128-128 12.8 0 25.2 1.9 36.9 5.4-32.9 36.8-52.9 85.4-52.9 138.6l0 16c0 11.4 2.4 22.2 6.7 32L32 480c-17.7 0-32-14.3-32-32l0-32zm521.3 64c4.3-9.8 6.7-20.6 6.7-32l0-16c0-53.2-20-101.8-52.9-138.6 11.7-3.5 24.1-5.4 36.9-5.4 70.7 0 128 57.3 128 128l0 32c0 17.7-14.3 32-32 32l-86.7 0zM472 160a72 72 0 1 1 144 0 72 72 0 1 1 -144 0zM160 432c0-88.4 71.6-160 160-160s160 71.6 160 160l0 16c0 17.7-14.3 32-32 32l-256 0c-17.7 0-32-14.3-32-32l0-16z"]},tB={prefix:"fas",iconName:"venus-mars",icon:[640,512,[9892],"f228","M480-64c-17.7 0-32 14.3-32 32S462.3 0 480 0L530.7 0 474 56.7c-26.3-15.7-57.1-24.7-90-24.7-35.4 0-68.4 10.5-96 28.5-27.6-18-60.6-28.5-96-28.5-97.2 0-176 78.8-176 176 0 86.3 62.1 158.1 144 173.1l0 34.9-32 0c-17.7 0-32 14.3-32 32s14.3 32 32 32l32 0 0 32c0 17.7 14.3 32 32 32s32-14.3 32-32l0-32 32 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-32 0 0-34.9c23.3-4.3 44.9-13.1 64-25.6 27.6 18 60.6 28.5 96 28.5 97.2 0 176-78.8 176-176 0-41.1-14.1-79-37.8-109L576 45.3 576 96c0 17.7 14.3 32 32 32s32-14.3 32-32l0-128c0-17.7-14.3-32-32-32L480-64zM336 309.2c20.2-28.6 32-63.5 32-101.2s-11.8-72.6-32-101.2c14.6-6.9 30.8-10.8 48-10.8 61.9 0 112 50.1 112 112S445.9 320 384 320c-17.2 0-33.5-3.9-48-10.8zM288 150.3c10.2 16.9 16 36.6 16 57.7s-5.8 40.9-16 57.7c-10.2-16.9-16-36.6-16-57.7s5.8-40.9 16-57.7zm-48-43.5c-20.2 28.6-32 63.5-32 101.2s11.8 72.6 32 101.2c-14.5 6.9-30.8 10.8-48 10.8-61.9 0-112-50.1-112-112S130.1 96 192 96c17.2 0 33.5 3.9 48 10.8z"]},jf={prefix:"fas",iconName:"user-shield",icon:[576,512,[],"f505","M224 248a120 120 0 1 0 0-240 120 120 0 1 0 0 240zm-29.7 56C95.8 304 16 383.8 16 482.3 16 498.7 29.3 512 45.7 512l251.5 0C261 469.4 240 414.5 240 356.4l0-31.1c0-7.3 1-14.5 2.9-21.3l-48.6 0zm251 184.5l-13.3 6.3 0-188.1 96 32 0 19.6c0 55.8-32.2 106.5-82.7 130.3zM421.9 259.5l-112 37.3c-13.1 4.4-21.9 16.6-21.9 30.4l0 31.1c0 74.4 43 142.1 110.2 173.7l18.5 8.7c4.8 2.2 10 3.4 15.2 3.4s10.5-1.2 15.2-3.4l18.5-8.7C533 500.3 576 432.6 576 358.2l0-31.1c0-13.8-8.8-26-21.9-30.4l-112-37.3c-6.6-2.2-13.7-2.2-20.2 0z"]},w6={prefix:"fas",iconName:"laptop",icon:[640,512,[128187],"f109","M128 32C92.7 32 64 60.7 64 96l0 240 64 0 0-240 384 0 0 240 64 0 0-240c0-35.3-28.7-64-64-64L128 32zM19.2 384C8.6 384 0 392.6 0 403.2 0 445.6 34.4 480 76.8 480l486.4 0c42.4 0 76.8-34.4 76.8-76.8 0-10.6-8.6-19.2-19.2-19.2L19.2 384z"]},bv={prefix:"fas",iconName:"school",icon:[576,512,[127979],"f549","M0 192c0-35.3 28.7-64 64-64l64 0 127.9-115.1c18.3-16.4 46-16.4 64.2 0L448 128 512 128c35.3 0 64 28.7 64 64l0 256c0 35.3-28.7 64-64 64L64 512c-35.3 0-64-28.7-64-64L0 192zM224 376l0 88 128 0 0-88c0-22.1-17.9-40-40-40l-48 0c-22.1 0-40 17.9-40 40zm-112 8c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16l0 32c0 8.8 7.2 16 16 16l32 0zm16-144l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16zM496 384c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16l0 32c0 8.8 7.2 16 16 16l32 0zm16-144l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16zM288 256a64 64 0 1 0 0-128 64 64 0 1 0 0 128z"]},S6={prefix:"fas",iconName:"broom",icon:[576,512,[129529],"f51a","M566.6 54.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-192 192-34.7-34.7c-4.2-4.2-10-6.6-16-6.6-12.5 0-22.6 10.1-22.6 22.6l0 29.1 108.3 108.3 29.1 0c12.5 0 22.6-10.1 22.6-22.6 0-6-2.4-11.8-6.6-16l-34.7-34.7 192-192zM341.1 353.4L222.6 234.9c-42.7-3.7-85.2 11.7-115.8 42.3l-8 8c-22.3 22.3-34.8 52.5-34.8 84 0 6.8 7.1 11.2 13.2 8.2l51.1-25.5c5-2.5 9.5 4.1 5.4 7.9L7.3 473.4C2.7 477.6 0 483.6 0 489.9 0 502.1 9.9 512 22.1 512l173.3 0c38.8 0 75.9-15.4 103.4-42.8 30.6-30.6 45.9-73.1 42.3-115.8z"]},_6={prefix:"fas",iconName:"utensils",icon:[512,512,[127860,61685,"cutlery"],"f2e7","M63.9 14.4C63.1 6.2 56.2 0 48 0s-15.1 6.2-16 14.3L17.9 149.7c-1.3 6-1.9 12.1-1.9 18.2 0 45.9 35.1 83.6 80 87.7L96 480c0 17.7 14.3 32 32 32s32-14.3 32-32l0-224.4c44.9-4.1 80-41.8 80-87.7 0-6.1-.6-12.2-1.9-18.2L223.9 14.3C223.1 6.2 216.2 0 208 0s-15.1 6.2-15.9 14.4L178.5 149.9c-.6 5.7-5.4 10.1-11.1 10.1-5.8 0-10.6-4.4-11.2-10.2L143.9 14.6C143.2 6.3 136.3 0 128 0s-15.2 6.3-15.9 14.6L99.8 149.8c-.5 5.8-5.4 10.2-11.2 10.2-5.8 0-10.6-4.4-11.1-10.1L63.9 14.4zM448 0C432 0 320 32 320 176l0 112c0 35.3 28.7 64 64 64l32 0 0 128c0 17.7 14.3 32 32 32s32-14.3 32-32l0-448c0-17.7-14.3-32-32-32z"]},rB={prefix:"fas",iconName:"circle-xmark",icon:[512,512,[61532,"times-circle","xmark-circle"],"f057","M256 512a256 256 0 1 0 0-512 256 256 0 1 0 0 512zM167 167c9.4-9.4 24.6-9.4 33.9 0l55 55 55-55c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-55 55 55 55c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-55-55-55 55c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l55-55-55-55c-9.4-9.4-9.4-24.6 0-33.9z"]},Wu=rB,eg={prefix:"fas",iconName:"clipboard-list",icon:[384,512,[],"f46d","M311.4 32l8.6 0c35.3 0 64 28.7 64 64l0 352c0 35.3-28.7 64-64 64L64 512c-35.3 0-64-28.7-64-64L0 96C0 60.7 28.7 32 64 32l8.6 0C83.6 12.9 104.3 0 128 0L256 0c23.7 0 44.4 12.9 55.4 32zM248 112c13.3 0 24-10.7 24-24s-10.7-24-24-24L136 64c-13.3 0-24 10.7-24 24s10.7 24 24 24l112 0zM128 256a32 32 0 1 0 -64 0 32 32 0 1 0 64 0zm32 0c0 13.3 10.7 24 24 24l112 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-112 0c-13.3 0-24 10.7-24 24zm0 128c0 13.3 10.7 24 24 24l112 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-112 0c-13.3 0-24 10.7-24 24zM96 416a32 32 0 1 0 0-64 32 32 0 1 0 0 64z"]},_C={prefix:"fas",iconName:"baseball",icon:[512,512,[129358,9918,"baseball-ball"],"f433","M232.4 1.1c-122.2 11.4-219.5 108.7-230.9 230.9 16.2-.1 32-1.8 47.2-5 13-2.7 25.7 5.5 28.4 18.5s-5.5 25.7-18.5 28.4c-18.4 3.9-37.6 6-57.1 6.1 11.4 122.2 108.7 219.5 230.9 230.9 .1-19.5 2.2-38.7 6.1-57.1 2.7-13 15.5-21.3 28.4-18.5s21.3 15.5 18.5 28.4c-3.2 15.2-4.9 31-5 47.2 122.2-11.4 219.5-108.7 230.9-230.9-16.2 .1-32 1.8-47.2 5-13 2.7-25.7-5.5-28.4-18.5s5.5-25.7 18.5-28.4c18.4-3.9 37.6-6 57.1-6.1-11.4-122.2-108.7-219.5-230.9-230.9-.1 19.5-2.2 38.7-6.1 57.1-2.7 13-15.5 21.3-28.4 18.5s-21.3-15.5-18.5-28.4c3.2-15.2 4.9-31 5-47.2zm2.8 151.4c-21.4 32.9-49.5 60.9-82.3 82.3-11.1 7.2-26 4.1-33.2-7s-4.1-26 7-33.2c27.2-17.7 50.5-41 68.3-68.3 7.2-11.1 22.1-14.3 33.2-7s14.3 22.1 7 33.2zM393.1 284.2c7.2 11.1 4.1 26-7 33.2-27.2 17.7-50.5 41-68.3 68.3-7.2 11.1-22.1 14.3-33.2 7s-14.3-22.1-7-33.2c21.4-32.9 49.5-60.9 82.3-82.3 11.1-7.2 26-4.1 33.2 7z"]},aB={prefix:"fas",iconName:"basketball",icon:[512,512,[127936,"basketball-ball"],"f434","M92.7 58.8l78.4 78.4c18.2-25 28.9-55.9 28.9-89.2 0-14.1-1.9-27.7-5.5-40.6-38 9.4-72.6 27.2-101.8 51.4zM58.8 92.7c-24.2 29.2-42 63.8-51.4 101.8 12.9 3.6 26.5 5.5 40.6 5.5 33.3 0 64.1-10.7 89.2-28.9L58.8 92.7zM256 0c-4.6 0-9.2 .1-13.7 .4 3.7 15.3 5.7 31.2 5.7 47.6 0 46.6-15.9 89.4-42.6 123.4L256 222.1 419.3 58.8C374.9 22.1 318.1 0 256 0zM48 248c-16.4 0-32.4-2-47.6-5.7-.2 4.5-.4 9.1-.4 13.7 0 62.1 22.1 118.9 58.8 163.3L222.1 256 171.4 205.4C137.4 232.1 94.6 248 48 248zm463.6 21.7c.2-4.5 .4-9.1 .4-13.7 0-62.1-22.1-118.9-58.8-163.3L289.9 256 340.6 306.6c34-26.7 76.9-42.6 123.4-42.6 16.4 0 32.4 2 47.6 5.7zm-7.1 47.8c-12.9-3.6-26.5-5.5-40.6-5.5-33.3 0-64.1 10.7-89.2 28.9l78.4 78.4c24.2-29.2 42-63.8 51.4-101.8zM340.9 374.8c-18.2 25-28.9 55.9-28.9 89.2 0 14.1 1.9 27.7 5.5 40.6 38-9.4 72.6-27.2 101.8-51.4l-78.4-78.4zm-34.3-34.3L256 289.9 92.7 453.2c44.3 36.7 101.2 58.8 163.3 58.8 4.6 0 9.2-.1 13.7-.4-3.7-15.3-5.7-31.2-5.7-47.6 0-46.6 15.9-89.4 42.6-123.4z"]},AC=aB,kC={prefix:"fas",iconName:"hockey-puck",icon:[512,512,[],"f453","M256 256C114.6 256 0 213 0 160s114.6-96 256-96 256 43 256 96-114.6 96-256 96zM0 352L0 242.7c16.9 12.3 37 22.2 58.1 30.1 53 19.9 123 31.2 197.9 31.2s144.9-11.3 197.9-31.2c21.2-7.9 41.2-17.8 58.1-30.1L512 352c0 53-114.6 96-256 96S0 405 0 352z"]},Fl={prefix:"fas",iconName:"money-bill-wave",icon:[512,512,[],"f53a","M0 419.6L0 109.5c0-23.2 24.1-38.6 46.3-32 87.7 26.2 149.7 5.5 212.1-15.3 64.5-21.5 129.4-43.1 223.3-13.1 18.5 5.9 30.3 23.8 30.3 43.3l0 310.1c0 23.2-24.1 38.6-46.2 32-87.7-26.2-149.8-5.5-212.1 15.3-64.5 21.5-129.4 43.1-223.3 13.1-18.5-5.9-30.3-23.8-30.3-43.3zM336 256c0-53-35.8-96-80-96s-80 43-80 96 35.8 96 80 96 80-43 80-96zM120 413.6c4.4 0 7.9-3.8 7.2-8.1-4.6-27.8-27-49.5-55.2-53-4.4-.5-8 3.1-8 7.5l0 39.9c0 3.6 2.4 6.8 6 7.7 17.9 4.2 34.3 6.1 50 6.1zm318.5-51.1c5 .8 9.5-3 9.5-8l0-42.6c0-4.4-3.6-8.1-8-7.5-25.2 3.1-45.9 20.9-53.2 44.6-1.4 4.7 2.3 9.1 7.2 9.2 14.2 .4 29 1.7 44.4 4.3zM448 152l0-39.9c0-3.6-2.5-6.8-6-7.7-17.9-4.2-34.3-6.1-50-6.1-4.4 0-7.9 3.8-7.2 8.1 4.6 27.8 27 49.5 55.2 53 4.4 .5 8-3.1 8-7.5zM125.2 162.9c1.4-4.7-2.3-9.1-7.2-9.2-14.2-.4-29-1.7-44.4-4.3-5-.8-9.5 3-9.5 8L64 200c0 4.4 3.6 8.1 8 7.5 25.2-3.1 45.9-20.9 53.2-44.6z"]},Nf={prefix:"fas",iconName:"futbol",icon:[512,512,[9917,"futbol-ball","soccer-ball"],"f1e3","M417.3 360.1l-71.6-4.8c-5.2-.3-10.3 1.1-14.5 4.2s-7.2 7.4-8.4 12.5l-17.6 69.6C289.5 445.8 273 448 256 448s-33.5-2.2-49.2-6.4L189.2 372c-1.3-5-4.3-9.4-8.4-12.5s-9.3-4.5-14.5-4.2l-71.6 4.8c-17.6-27.2-28.5-59.2-30.4-93.6L125 228.3c4.4-2.8 7.6-7 9.2-11.9s1.4-10.2-.5-15l-26.7-66.6C128 109.2 155.3 89 186.7 76.9l55.2 46c4 3.3 9 5.1 14.1 5.1s10.2-1.8 14.1-5.1l55.2-46c31.3 12.1 58.7 32.3 79.6 57.9l-26.7 66.6c-1.9 4.8-2.1 10.1-.5 15s4.9 9.1 9.2 11.9l60.7 38.2c-1.9 34.4-12.8 66.4-30.4 93.6zM256 512a256 256 0 1 0 0-512 256 256 0 1 0 0 512zm14.1-325.7c-8.4-6.1-19.8-6.1-28.2 0L194 221c-8.4 6.1-11.9 16.9-8.7 26.8l18.3 56.3c3.2 9.9 12.4 16.6 22.8 16.6l59.2 0c10.4 0 19.6-6.7 22.8-16.6l18.3-56.3c3.2-9.9-.3-20.7-8.7-26.8l-47.9-34.8z"]},sB={prefix:"fas",iconName:"circle-exclamation",icon:[512,512,["exclamation-circle"],"f06a","M256 512a256 256 0 1 0 0-512 256 256 0 1 0 0 512zm0-376c13.3 0 24 10.7 24 24l0 112c0 13.3-10.7 24-24 24s-24-10.7-24-24l0-112c0-13.3 10.7-24 24-24zM229.3 352a26.7 26.7 0 1 1 53.3 0 26.7 26.7 0 1 1 -53.3 0z"]},vv=sB,So={prefix:"fas",iconName:"chart-line",icon:[512,512,["line-chart"],"f201","M64 64c0-17.7-14.3-32-32-32S0 46.3 0 64L0 400c0 44.2 35.8 80 80 80l400 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L80 416c-8.8 0-16-7.2-16-16L64 64zm406.6 86.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L320 210.7 262.6 153.4c-12.5-12.5-32.8-12.5-45.3 0l-96 96c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l73.4-73.4 57.4 57.4c12.5 12.5 32.8 12.5 45.3 0l128-128z"]},yn={prefix:"fas",iconName:"building",icon:[384,512,[127970,61687],"f1ad","M64 0C28.7 0 0 28.7 0 64L0 448c0 35.3 28.7 64 64 64l256 0c35.3 0 64-28.7 64-64l0-384c0-35.3-28.7-64-64-64L64 0zM176 352l32 0c17.7 0 32 14.3 32 32l0 80-96 0 0-80c0-17.7 14.3-32 32-32zM96 112c0-8.8 7.2-16 16-16l32 0c8.8 0 16 7.2 16 16l0 32c0 8.8-7.2 16-16 16l-32 0c-8.8 0-16-7.2-16-16l0-32zM240 96l32 0c8.8 0 16 7.2 16 16l0 32c0 8.8-7.2 16-16 16l-32 0c-8.8 0-16-7.2-16-16l0-32c0-8.8 7.2-16 16-16zM96 240c0-8.8 7.2-16 16-16l32 0c8.8 0 16 7.2 16 16l0 32c0 8.8-7.2 16-16 16l-32 0c-8.8 0-16-7.2-16-16l0-32zm144-16l32 0c8.8 0 16 7.2 16 16l0 32c0 8.8-7.2 16-16 16l-32 0c-8.8 0-16-7.2-16-16l0-32c0-8.8 7.2-16 16-16z"]},nB={prefix:"fas",iconName:"gear",icon:[512,512,[9881,"cog"],"f013","M195.1 9.5C198.1-5.3 211.2-16 226.4-16l59.8 0c15.2 0 28.3 10.7 31.3 25.5L332 79.5c14.1 6 27.3 13.7 39.3 22.8l67.8-22.5c14.4-4.8 30.2 1.2 37.8 14.4l29.9 51.8c7.6 13.2 4.9 29.8-6.5 39.9L447 233.3c.9 7.4 1.3 15 1.3 22.7s-.5 15.3-1.3 22.7l53.4 47.5c11.4 10.1 14 26.8 6.5 39.9l-29.9 51.8c-7.6 13.1-23.4 19.2-37.8 14.4l-67.8-22.5c-12.1 9.1-25.3 16.7-39.3 22.8l-14.4 69.9c-3.1 14.9-16.2 25.5-31.3 25.5l-59.8 0c-15.2 0-28.3-10.7-31.3-25.5l-14.4-69.9c-14.1-6-27.2-13.7-39.3-22.8L73.5 432.3c-14.4 4.8-30.2-1.2-37.8-14.4L5.8 366.1c-7.6-13.2-4.9-29.8 6.5-39.9l53.4-47.5c-.9-7.4-1.3-15-1.3-22.7s.5-15.3 1.3-22.7L12.3 185.8c-11.4-10.1-14-26.8-6.5-39.9L35.7 94.1c7.6-13.2 23.4-19.2 37.8-14.4l67.8 22.5c12.1-9.1 25.3-16.7 39.3-22.8L195.1 9.5zM256.3 336a80 80 0 1 0 -.6-160 80 80 0 1 0 .6 160z"]},tx=nB,iB={prefix:"fas",iconName:"right-from-bracket",icon:[512,512,["sign-out-alt"],"f2f5","M505 273c9.4-9.4 9.4-24.6 0-33.9L361 95c-6.9-6.9-17.2-8.9-26.2-5.2S320 102.3 320 112l0 80-112 0c-26.5 0-48 21.5-48 48l0 32c0 26.5 21.5 48 48 48l112 0 0 80c0 9.7 5.8 18.5 14.8 22.2s19.3 1.7 26.2-5.2L505 273zM160 96c17.7 0 32-14.3 32-32s-14.3-32-32-32L96 32C43 32 0 75 0 128L0 384c0 53 43 96 96 96l64 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-64 0c-17.7 0-32-14.3-32-32l0-256c0-17.7 14.3-32 32-32l64 0z"]},K2=iB,tg={prefix:"fas",iconName:"arrow-up",icon:[384,512,[8593],"f062","M214.6 17.4c-12.5-12.5-32.8-12.5-45.3 0l-160 160c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L160 117.3 160 488c0 17.7 14.3 32 32 32s32-14.3 32-32l0-370.7 105.4 105.4c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3l-160-160z"]},lB={prefix:"fas",iconName:"shirt",icon:[640,512,[128085,"t-shirt","tshirt"],"f553","M320.2 112c44.2 0 80-35.8 80-80l53.5 0c17 0 33.3 6.7 45.3 18.7L617.6 169.4c12.5 12.5 12.5 32.8 0 45.3l-50.7 50.7c-12.5 12.5-32.8 12.5-45.3 0l-41.4-41.4 0 224c0 35.3-28.7 64-64 64l-192 0c-35.3 0-64-28.7-64-64l0-224-41.4 41.4c-12.5 12.5-32.8 12.5-45.3 0L22.9 214.6c-12.5-12.5-12.5-32.8 0-45.3L141.5 50.7c12-12 28.3-18.7 45.3-18.7l53.5 0c0 44.2 35.8 80 80 80z"]},xx=lB,wf={prefix:"fas",iconName:"play",icon:[448,512,[9654],"f04b","M91.2 36.9c-12.4-6.8-27.4-6.5-39.6 .7S32 57.9 32 72l0 368c0 14.1 7.5 27.2 19.6 34.4s27.2 7.5 39.6 .7l336-184c12.8-7 20.8-20.5 20.8-35.1s-8-28.1-20.8-35.1l-336-184z"]},Xu={prefix:"fas",iconName:"calendar",icon:[448,512,[128197,128198],"f133","M128 0C110.3 0 96 14.3 96 32l0 32-32 0C28.7 64 0 92.7 0 128l0 48 448 0 0-48c0-35.3-28.7-64-64-64l-32 0 0-32c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 32-128 0 0-32c0-17.7-14.3-32-32-32zM0 224L0 416c0 35.3 28.7 64 64 64l320 0c35.3 0 64-28.7 64-64l0-192-448 0z"]},Xn={prefix:"fas",iconName:"check",icon:[448,512,[10003,10004],"f00c","M434.8 70.1c14.3 10.4 17.5 30.4 7.1 44.7l-256 352c-5.5 7.6-14 12.3-23.4 13.1s-18.5-2.7-25.1-9.3l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l101.5 101.5 234-321.7c10.4-14.3 30.4-17.5 44.7-7.1z"]},Ao={prefix:"fas",iconName:"chart-bar",icon:[512,512,["bar-chart"],"f080","M32 32c17.7 0 32 14.3 32 32l0 336c0 8.8 7.2 16 16 16l400 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L80 480c-44.2 0-80-35.8-80-80L0 64C0 46.3 14.3 32 32 32zm96 64c0-17.7 14.3-32 32-32l192 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-192 0c-17.7 0-32-14.3-32-32zm32 80l128 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-128 0c-17.7 0-32-14.3-32-32s14.3-32 32-32zm0 112l256 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-256 0c-17.7 0-32-14.3-32-32s14.3-32 32-32z"]},oB={prefix:"fas",iconName:"house",icon:[512,512,[127968,63498,63500,"home","home-alt","home-lg-alt"],"f015","M277.8 8.6c-12.3-11.4-31.3-11.4-43.5 0l-224 208c-9.6 9-12.8 22.9-8 35.1S18.8 272 32 272l16 0 0 176c0 35.3 28.7 64 64 64l288 0c35.3 0 64-28.7 64-64l0-176 16 0c13.2 0 25-8.1 29.8-20.3s1.6-26.2-8-35.1l-224-208zM240 320l32 0c26.5 0 48 21.5 48 48l0 96-128 0 0-96c0-26.5 21.5-48 48-48z"]},Ls=oB,an={prefix:"fas",iconName:"spinner",icon:[512,512,[],"f110","M208 48a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zm0 416a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zM48 208a48 48 0 1 1 0 96 48 48 0 1 1 0-96zm368 48a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zM75 369.1A48 48 0 1 1 142.9 437 48 48 0 1 1 75 369.1zM75 75A48 48 0 1 1 142.9 142.9 48 48 0 1 1 75 75zM437 369.1A48 48 0 1 1 369.1 437 48 48 0 1 1 437 369.1z"]},Fs={prefix:"fas",iconName:"user",icon:[448,512,[128100,62144,62470,"user-alt","user-large"],"f007","M224 248a120 120 0 1 0 0-240 120 120 0 1 0 0 240zm-29.7 56C95.8 304 16 383.8 16 482.3 16 498.7 29.3 512 45.7 512l356.6 0c16.4 0 29.7-13.3 29.7-29.7 0-98.5-79.8-178.3-178.3-178.3l-59.4 0z"]},cB={prefix:"fas",iconName:"arrow-right",icon:[512,512,[8594],"f061","M502.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L402.7 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l370.7 0-105.4 105.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160z"]},dB={prefix:"fas",iconName:"xmark",icon:[384,512,[128473,10005,10006,10060,215,"close","multiply","remove","times"],"f00d","M55.1 73.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L147.2 256 9.9 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192.5 301.3 329.9 438.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.8 256 375.1 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192.5 210.7 55.1 73.4z"]},Br=dB,uB={prefix:"fas",iconName:"file-lines",icon:[384,512,[128441,128462,61686,"file-alt","file-text"],"f15c","M0 64C0 28.7 28.7 0 64 0L213.5 0c17 0 33.3 6.7 45.3 18.7L365.3 125.3c12 12 18.7 28.3 18.7 45.3L384 448c0 35.3-28.7 64-64 64L64 512c-35.3 0-64-28.7-64-64L0 64zm208-5.5l0 93.5c0 13.3 10.7 24 24 24L325.5 176 208 58.5zM120 256c-13.3 0-24 10.7-24 24s10.7 24 24 24l144 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-144 0zm0 96c-13.3 0-24 10.7-24 24s10.7 24 24 24l144 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-144 0z"]},Kn=uB,mB={prefix:"fas",iconName:"file-invoice",icon:[384,512,[],"f570","M64 0C28.7 0 0 28.7 0 64L0 448c0 35.3 28.7 64 64 64l256 0c35.3 0 64-28.7 64-64l0-277.5c0-17-6.7-33.3-18.7-45.3L258.7 18.7C246.7 6.7 230.5 0 213.5 0L64 0zM325.5 176L232 176c-13.3 0-24-10.7-24-24L208 58.5 325.5 176zM64 384l0-64c0-17.7 14.3-32 32-32l192 0c17.7 0 32 14.3 32 32l0 64c0 17.7-14.3 32-32 32L96 416c-17.7 0-32-14.3-32-32zM88 64l48 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-48 0c-13.3 0-24-10.7-24-24S74.7 64 88 64zm0 96l48 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-48 0c-13.3 0-24-10.7-24-24s10.7-24 24-24z"]},fB={prefix:"fas",iconName:"circle-check",icon:[512,512,[61533,"check-circle"],"f058","M256 512a256 256 0 1 0 0-512 256 256 0 1 0 0 512zm84.4-299.3l-80 128c-4.2 6.7-11.4 10.9-19.3 11.3s-15.5-3.2-20.2-9.6l-48-64c-8-10.6-5.8-25.6 4.8-33.6s25.6-5.8 33.6 4.8l27 36 61.4-98.3c7-11.2 21.8-14.7 33.1-7.6s14.7 21.8 7.6 33.1z"]},aa=fB,vN={prefix:"fas",iconName:"phone",icon:[512,512,[128222,128379],"f095","M160.2 25C152.3 6.1 131.7-3.9 112.1 1.4l-5.5 1.5c-64.6 17.6-119.8 80.2-103.7 156.4 37.1 175 174.8 312.7 349.8 349.8 76.3 16.2 138.8-39.1 156.4-103.7l1.5-5.5c5.4-19.7-4.7-40.3-23.5-48.1l-97.3-40.5c-16.5-6.9-35.6-2.1-47 11.8l-38.6 47.2C233.9 335.4 177.3 277 144.8 205.3L189 169.3c13.9-11.3 18.6-30.4 11.8-47L160.2 25z"]},W2={prefix:"fas",iconName:"id-card",icon:[576,512,[62147,"drivers-license"],"f2c2","M0 96C0 60.7 28.7 32 64 32l448 0c35.3 0 64 28.7 64 64L0 96zm0 48l576 0 0 272c0 35.3-28.7 64-64 64L64 480c-35.3 0-64-28.7-64-64L0 144zM247.3 416c20.2 0 35.3-19.4 22.4-35-14.7-17.7-36.9-29-61.7-29l-64 0c-24.8 0-47 11.3-61.7 29-12.9 15.6 2.2 35 22.4 35l142.5 0zM176 312a56 56 0 1 0 0-112 56 56 0 1 0 0 112zM360 208c-13.3 0-24 10.7-24 24s10.7 24 24 24l112 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-112 0zm0 96c-13.3 0-24 10.7-24 24s10.7 24 24 24l112 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-112 0z"]},jv={prefix:"fas",iconName:"list",icon:[512,512,["list-squares"],"f03a","M40 48C26.7 48 16 58.7 16 72l0 48c0 13.3 10.7 24 24 24l48 0c13.3 0 24-10.7 24-24l0-48c0-13.3-10.7-24-24-24L40 48zM192 64c-17.7 0-32 14.3-32 32s14.3 32 32 32l288 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L192 64zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32l288 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-288 0zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32l288 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-288 0zM16 232l0 48c0 13.3 10.7 24 24 24l48 0c13.3 0 24-10.7 24-24l0-48c0-13.3-10.7-24-24-24l-48 0c-13.3 0-24 10.7-24 24zM40 368c-13.3 0-24 10.7-24 24l0 48c0 13.3 10.7 24 24 24l48 0c13.3 0 24-10.7 24-24l0-48c0-13.3-10.7-24-24-24l-48 0z"]},hB={prefix:"fas",iconName:"person-swimming",icon:[640,512,[127946,"swimmer"],"f5c4","M552 152a56 56 0 1 0 -112 0 56 56 0 1 0 112 0zM293.4 198.2l-88.6 73.9c1.1 0 2.2-.1 3.3-.1 33.1-.2 66.3 10.2 94.4 31.4 22.1 16.6 29.1 16.6 51.2 0 27.5-20.7 59.9-31.2 92.4-31.4 4.8 0 9.7 .2 14.5 .6-8.3-30-24.3-57.7-46.8-80.2-18.4-18.4-40.6-32.7-65-41.8l-68.6-25.7c-27.4-10.3-58-7.5-83.1 7.6l-53.5 32.1c-15.2 9.1-20.1 28.7-11 43.9s28.7 20.1 43.9 11L230 187.3c8.4-5 18.6-5.9 27.7-2.5l35.7 13.4zm110 181.9c21.3-16.1 49.9-16.1 71.2 0 19 14.4 41.9 28.2 67.2 33.3 26.5 5.4 54.3 .8 80.7-19.1 10.6-8 12.7-23 4.7-33.6s-23-12.7-33.6-4.7c-14.9 11.2-28.6 13.1-42.3 10.3-14.9-3-30.9-11.9-47.8-24.6-38.4-29-90.5-29-129 0-24 18.1-40.7 26.3-54.5 26.3s-30.5-8.2-54.5-26.3c-38.4-29-90.5-29-129 0-21.6 16.3-41.3 25.8-58.9 25.7-9.6-.1-19.9-3-31.2-11.5-10.6-8-25.6-5.9-33.6 4.7S7 386.3 17.6 394.3c19.1 14.4 39.4 21 59.8 21.1 33.9 .2 64.3-17.4 88.1-35.3 21.3-16.1 49.9-16.1 71.2 0 24.2 18.3 52.3 35.9 83.4 35.9s59.1-17.7 83.4-35.9z"]},CC=hB,Ju={prefix:"fas",iconName:"chart-pie",icon:[576,512,["pie-chart"],"f200","M512.4 240l-176 0c-17.7 0-32-14.3-32-32l0-176c0-17.7 14.4-32.2 31.9-29.9 107 14.2 191.8 99 206 206 2.3 17.5-12.2 31.9-29.9 31.9zM222.6 37.2c18.1-3.8 33.8 11 33.8 29.5l0 197.3c0 5.6 2 11 5.5 15.3L394 438.7c11.7 14.1 9.2 35.4-6.9 44.1-34.1 18.6-73.2 29.2-114.7 29.2-132.5 0-240-107.5-240-240 0-115.5 81.5-211.9 190.2-234.8zM477.8 288l64 0c18.5 0 33.3 15.7 29.5 33.8-10.2 48.4-35 91.4-69.6 124.2-12.3 11.7-31.6 9.2-42.4-3.9L374.9 340.4c-17.3-20.9-2.4-52.4 24.6-52.4l78.2 0z"]},xB=Ju,Pn={prefix:"fas",iconName:"credit-card",icon:[512,512,[128179,62083,"credit-card-alt"],"f09d","M0 128l0 32 512 0 0-32c0-35.3-28.7-64-64-64L64 64C28.7 64 0 92.7 0 128zm0 80L0 384c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-176-512 0zM64 360c0-13.3 10.7-24 24-24l48 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-48 0c-13.3 0-24-10.7-24-24zm144 0c0-13.3 10.7-24 24-24l64 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-64 0c-13.3 0-24-10.7-24-24z"]},Fu={prefix:"fas",iconName:"file-invoice-dollar",icon:[384,512,[],"f571","M0 64C0 28.7 28.7 0 64 0L213.5 0c17 0 33.3 6.7 45.3 18.7L365.3 125.3c12 12 18.7 28.3 18.7 45.3L384 448c0 35.3-28.7 64-64 64L64 512c-35.3 0-64-28.7-64-64L0 64zm208-5.5l0 93.5c0 13.3 10.7 24 24 24L325.5 176 208 58.5zM64 88c0 13.3 10.7 24 24 24l48 0c13.3 0 24-10.7 24-24s-10.7-24-24-24L88 64C74.7 64 64 74.7 64 88zm0 96c0 13.3 10.7 24 24 24l48 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-48 0c-13.3 0-24 10.7-24 24zm112 76l0 4c-28.8 .3-52 23.7-52 52.5 0 25.7 18.5 47.6 43.9 51.8l41.7 7c6 1 10.4 6.2 10.4 12.3 0 6.9-5.6 12.5-12.5 12.5L152 400c-11 0-20 9-20 20s9 20 20 20l24 0 0 4c0 11 9 20 20 20s20-9 20-20l0-4.7c25-4.1 44-25.7 44-51.8 0-25.7-18.5-47.6-43.9-51.8l-41.7-7c-6-1-10.4-6.2-10.4-12.3 0-6.9 5.6-12.5 12.5-12.5l47.5 0c11 0 20-9 20-20s-9-20-20-20l-8 0 0-4c0-11-9-20-20-20s-20 9-20 20z"]},rg={prefix:"fas",iconName:"bullhorn",icon:[512,512,[128226,128363],"f0a1","M461.2 18.9C472.7 24 480 35.4 480 48l0 416c0 12.6-7.3 24-18.8 29.1s-24.8 3.2-34.3-5.1l-46.6-40.7c-43.6-38.1-98.7-60.3-156.4-63l0 95.7c0 17.7-14.3 32-32 32l-32 0c-17.7 0-32-14.3-32-32l0-96C57.3 384 0 326.7 0 256S57.3 128 128 128l84.5 0c61.8-.2 121.4-22.7 167.9-63.3l46.6-40.7c9.4-8.3 22.9-10.2 34.3-5.1zM224 320l0 .2c70.3 2.7 137.8 28.5 192 73.4l0-275.3c-54.2 44.9-121.7 70.7-192 73.4L224 320z"]},ny={prefix:"fas",iconName:"chevron-left",icon:[320,512,[9001],"f053","M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l192 192c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256 246.6 86.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-192 192z"]},uf={prefix:"fas",iconName:"star",icon:[576,512,[11088,61446],"f005","M309.5-18.9c-4.1-8-12.4-13.1-21.4-13.1s-17.3 5.1-21.4 13.1L193.1 125.3 33.2 150.7c-8.9 1.4-16.3 7.7-19.1 16.3s-.5 18 5.8 24.4l114.4 114.5-25.2 159.9c-1.4 8.9 2.3 17.9 9.6 23.2s16.9 6.1 25 2L288.1 417.6 432.4 491c8 4.1 17.7 3.3 25-2s11-14.2 9.6-23.2L441.7 305.9 556.1 191.4c6.4-6.4 8.6-15.8 5.8-24.4s-10.1-14.9-19.1-16.3L383 125.3 309.5-18.9z"]},pB={prefix:"fas",iconName:"triangle-exclamation",icon:[512,512,[9888,"exclamation-triangle","warning"],"f071","M256 0c14.7 0 28.2 8.1 35.2 21l216 400c6.7 12.4 6.4 27.4-.8 39.5S486.1 480 472 480L40 480c-14.1 0-27.1-7.4-34.4-19.5s-7.5-27.1-.8-39.5l216-400c7-12.9 20.5-21 35.2-21zm0 168c-13.3 0-24 10.7-24 24l0 112c0 13.3 10.7 24 24 24s24-10.7 24-24l0-112c0-13.3-10.7-24-24-24zm26.7 216a26.7 26.7 0 1 0 -53.3 0 26.7 26.7 0 1 0 53.3 0z"]},ur=pB,px={prefix:"fas",iconName:"graduation-cap",icon:[576,512,[127891,"mortar-board"],"f19d","M48 195.8l209.2 86.1c9.8 4 20.2 6.1 30.8 6.1s21-2.1 30.8-6.1l242.4-99.8c9-3.7 14.8-12.4 14.8-22.1s-5.8-18.4-14.8-22.1L318.8 38.1C309 34.1 298.6 32 288 32s-21 2.1-30.8 6.1L14.8 137.9C5.8 141.6 0 150.3 0 160L0 456c0 13.3 10.7 24 24 24s24-10.7 24-24l0-260.2zm48 71.7L96 384c0 53 86 96 192 96s192-43 192-96l0-116.6-142.9 58.9c-15.6 6.4-32.2 9.7-49.1 9.7s-33.5-3.3-49.1-9.7L96 267.4z"]},gB={prefix:"fas",iconName:"lock",icon:[384,512,[128274],"f023","M128 96l0 64 128 0 0-64c0-35.3-28.7-64-64-64s-64 28.7-64 64zM64 160l0-64C64 25.3 121.3-32 192-32S320 25.3 320 96l0 64c35.3 0 64 28.7 64 64l0 224c0 35.3-28.7 64-64 64L64 512c-35.3 0-64-28.7-64-64L0 224c0-35.3 28.7-64 64-64z"]},js={prefix:"fas",iconName:"download",icon:[448,512,[],"f019","M256 32c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 210.7-41.4-41.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l96 96c12.5 12.5 32.8 12.5 45.3 0l96-96c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L256 242.7 256 32zM64 320c-35.3 0-64 28.7-64 64l0 32c0 35.3 28.7 64 64 64l320 0c35.3 0 64-28.7 64-64l0-32c0-35.3-28.7-64-64-64l-46.9 0-56.6 56.6c-31.2 31.2-81.9 31.2-113.1 0L110.9 320 64 320zm304 56a24 24 0 1 1 0 48 24 24 0 1 1 0-48z"]},EC={prefix:"fas",iconName:"award",icon:[448,512,[],"f559","M245.9-25.9c-13.4-8.2-30.3-8.2-43.7 0-24.4 14.9-39.5 18.9-68.1 18.3-15.7-.4-30.3 8.1-37.9 21.9-13.7 25.1-24.8 36.2-49.9 49.9-13.8 7.5-22.2 22.2-21.9 37.9 .7 28.6-3.4 43.7-18.3 68.1-8.2 13.4-8.2 30.3 0 43.7 14.9 24.4 18.9 39.5 18.3 68.1-.4 15.7 8.1 30.3 21.9 37.9 22.1 12.1 33.3 22.1 45.1 41.5L42.7 458.5c-5.9 11.9-1.1 26.3 10.7 32.2l86 43c11.5 5.7 25.5 1.4 31.7-9.8l52.8-95.1 52.8 95.1c6.2 11.2 20.2 15.6 31.7 9.8l86-43c11.9-5.9 16.7-20.3 10.7-32.2l-48.6-97.2c11.7-19.4 23-29.4 45.1-41.5 13.8-7.5 22.2-22.2 21.9-37.9-.7-28.6 3.4-43.7 18.3-68.1 8.2-13.4 8.2-30.3 0-43.7-14.9-24.4-18.9-39.5-18.3-68.1 .4-15.7-8.1-30.3-21.9-37.9-25.1-13.7-36.2-24.8-49.9-49.9-7.5-13.8-22.2-22.2-37.9-21.9-28.6 .7-43.7-3.4-68.1-18.3zM224 96a96 96 0 1 1 0 192 96 96 0 1 1 0-192z"]},yB={prefix:"fas",iconName:"table-tennis-paddle-ball",icon:[512,512,[127955,"ping-pong-paddle-ball","table-tennis"],"f45d","M97 127l67.4-67.4c38.2-38.2 90-59.6 144-59.6 112.5 0 203.7 91.2 203.7 203.6 0 46.4-15.8 91.1-44.5 127-23.6-16.8-52.4-26.7-83.5-26.7-31.1 0-59.9 9.9-83.4 26.6L97 127zM240 448c0 9.7 1 19.1 2.8 28.2-19.8-5.2-38-15.5-52.7-30.2-12.2-12.2-31.9-12.2-44.1 0L96.6 495.4c-10.6 10.6-25 16.6-40 16.6-31.2 0-56.6-25.3-56.6-56.6 0-15 6-29.4 16.6-40l49.4-49.4c12.2-12.2 12.2-31.9 0-44.1-21.7-21.7-33.9-51.2-33.9-81.9 0-29.4 11.1-57.6 31.1-79L266.6 364.6C249.9 388.1 240 416.9 240 448zm144-96a96 96 0 1 1 0 192 96 96 0 1 1 0-192z"]},PC=yB,bB={prefix:"fas",iconName:"football",icon:[512,512,[127944,"football-ball"],"f44e","M261.1 22.6c-89 18-150.5 63.4-190 123.9-23.3 35.6-38.1 75.3-46.7 115.5L251.9 489.4c89-18 150.5-63.4 190.1-123.9 23.3-35.6 38.1-75.3 46.7-115.5L261.1 22.6zm236 168.1c3.2-42.3 .7-83.3-4.8-118.7-4.4-27.8-26.8-48-53.1-51.6-43-5.9-82.2-7.5-117.8-5.4L497.1 190.6zM191.7 497.1L15.9 321.4c-3.2 42.3-.7 83.3 4.8 118.7 4.4 27.8 26.8 48 53.1 51.6 43 5.9 82.2 7.5 117.8 5.4zM271.5 143c9.4-9.4 24.6-9.4 33.9 0l64 64c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-64-64c-9.4-9.4-9.4-24.6 0-33.9zm-64 64c9.4-9.4 24.6-9.4 33.9 0l64 64c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-64-64c-9.4-9.4-9.4-24.6 0-33.9zm-64 64c9.4-9.4 24.6-9.4 33.9 0l64 64c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-64-64c-9.4-9.4-9.4-24.6 0-33.9z"]},TC=bB,vB={prefix:"fas",iconName:"globe",icon:[512,512,[127760],"f0ac","M351.9 280l-190.9 0c2.9 64.5 17.2 123.9 37.5 167.4 11.4 24.5 23.7 41.8 35.1 52.4 11.2 10.5 18.9 12.2 22.9 12.2s11.7-1.7 22.9-12.2c11.4-10.6 23.7-28 35.1-52.4 20.3-43.5 34.6-102.9 37.5-167.4zM160.9 232l190.9 0C349 167.5 334.7 108.1 314.4 64.6 303 40.2 290.7 22.8 279.3 12.2 268.1 1.7 260.4 0 256.4 0s-11.7 1.7-22.9 12.2c-11.4 10.6-23.7 28-35.1 52.4-20.3 43.5-34.6 102.9-37.5 167.4zm-48 0C116.4 146.4 138.5 66.9 170.8 14.7 78.7 47.3 10.9 131.2 1.5 232l111.4 0zM1.5 280c9.4 100.8 77.2 184.7 169.3 217.3-32.3-52.2-54.4-131.7-57.9-217.3L1.5 280zm398.4 0c-3.5 85.6-25.6 165.1-57.9 217.3 92.1-32.7 159.9-116.5 169.3-217.3l-111.4 0zm111.4-48C501.9 131.2 434.1 47.3 342 14.7 374.3 66.9 396.4 146.4 399.9 232l111.4 0z"]},gx={prefix:"fas",iconName:"arrow-left",icon:[512,512,[8592],"f060","M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 288 480 288c17.7 0 32-14.3 32-32s-14.3-32-32-32l-370.7 0 105.4-105.4c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"]},ag={prefix:"fas",iconName:"bed",icon:[576,512,[128716],"f236","M32 32c17.7 0 32 14.3 32 32l0 224 224 0 0-128c0-17.7 14.3-32 32-32l160 0c53 0 96 43 96 96l0 224c0 17.7-14.3 32-32 32s-32-14.3-32-32l0-64-448 0 0 64c0 17.7-14.3 32-32 32S0 465.7 0 448L0 64C0 46.3 14.3 32 32 32zm80 160a64 64 0 1 1 128 0 64 64 0 1 1 -128 0z"]},jB={prefix:"fas",iconName:"person-running",icon:[448,512,[127939,"running"],"f70c","M256.5-32a56 56 0 1 1 0 112 56 56 0 1 1 0-112zM123.6 176c-3.3 0-6.2 2-7.4 5L94.2 235.9c-6.6 16.4-25.2 24.4-41.6 17.8s-24.4-25.2-17.8-41.6l21.9-54.9C67.7 129.9 94.1 112 123.6 112l97.3 0c28.5 0 54.8 15.1 69.1 39.7l32.8 56.3 61.6 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-61.6 0c-22.8 0-43.8-12.1-55.3-31.8l-10-17.1-20.7 70.4 75.4 22.6c27.7 8.3 41.8 39 30.1 65.5L285.7 509c-7.2 16.2-26.1 23.4-42.2 16.2s-23.4-26.1-16.2-42.2l49.2-110.8-95.9-28.8c-32.7-9.8-52-43.7-43.7-76.8l22.7-90.6-35.9 0zm-8 181c13.3 14.9 30.7 26.3 51.2 32.4l4.7 1.4-6.9 19.3c-5.8 16.3-16 30.8-29.3 41.8L52.9 519.8c-13.6 11.2-33.8 9.3-45-4.3s-9.3-33.8 4.3-45l82.4-67.9c4.5-3.7 7.8-8.5 9.8-13.9L115.6 357z"]},OC=jB,_t={prefix:"fas",iconName:"plus",icon:[448,512,[10133,61543,"add"],"2b","M256 64c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 160-160 0c-17.7 0-32 14.3-32 32s14.3 32 32 32l160 0 0 160c0 17.7 14.3 32 32 32s32-14.3 32-32l0-160 160 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-160 0 0-160z"]},La={prefix:"fas",iconName:"user-graduate",icon:[448,512,[],"f501","M241.3-13c-11.4-2.3-23.1-2.3-34.5 0L19.3 24.5C8.1 26.7 0 36.6 0 48 0 58.3 6.5 67.3 16 70.6L16 144 .3 222.6c-.2 .9-.3 1.9-.3 2.9 0 8 6.5 14.6 14.6 14.6l34.9 0c8 0 14.6-6.5 14.6-14.6 0-1-.1-1.9-.3-2.9L48 144 48 77.3 96 86.9 96 144c0 70.7 57.3 128 128 128s128-57.3 128-128l0-57.1 76.7-15.3C439.9 69.3 448 59.4 448 48s-8.1-21.3-19.3-23.5L241.3-13zM224 224c-44.2 0-80-35.8-80-80l160 0c0 44.2-35.8 80-80 80zM120.1 320.1C58.7 348.3 16 410.3 16 482.3 16 498.7 29.3 512 45.7 512l154.3 0 0-146-57.4-43c-6.5-4.9-15.2-6.2-22.6-2.8zM248 512l154.3 0c16.4 0 29.7-13.3 29.7-29.7 0-72-42.7-134-104.1-162.1-7.4-3.4-16.1-2.1-22.6 2.8l-57.4 43 0 146z"]},lx={prefix:"fas",iconName:"eye-slash",icon:[576,512,[],"f070","M41-24.9c-9.4-9.4-24.6-9.4-33.9 0S-2.3-.3 7 9.1l528 528c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-96.4-96.4c2.7-2.4 5.4-4.8 8-7.2 46.8-43.5 78.1-95.4 93-131.1 3.3-7.9 3.3-16.7 0-24.6-14.9-35.7-46.2-87.7-93-131.1-47.1-43.7-111.8-80.6-192.6-80.6-56.8 0-105.6 18.2-146 44.2L41-24.9zM204.5 138.7c23.5-16.8 52.4-26.7 83.5-26.7 79.5 0 144 64.5 144 144 0 31.1-9.9 59.9-26.7 83.5l-34.7-34.7c12.7-21.4 17-47.7 10.1-73.7-13.7-51.2-66.4-81.6-117.6-67.9-8.6 2.3-16.7 5.7-24 10l-34.7-34.7zM325.3 395.1c-11.9 3.2-24.4 4.9-37.3 4.9-79.5 0-144-64.5-144-144 0-12.9 1.7-25.4 4.9-37.3L69.4 139.2c-32.6 36.8-55 75.8-66.9 104.5-3.3 7.9-3.3 16.7 0 24.6 14.9 35.7 46.2 87.7 93 131.1 47.1 43.7 111.8 80.6 192.6 80.6 37.3 0 71.2-7.9 101.5-20.6l-64.2-64.2z"]},NB={prefix:"fas",iconName:"building-columns",icon:[512,512,["bank","institution","museum","university"],"f19c","M271.9 20.2c-9.8-5.6-21.9-5.6-31.8 0l-224 128c-12.6 7.2-18.8 22-15.1 36S17.5 208 32 208l32 0 0 208 0 0-51.2 38.4C4.7 460.4 0 469.9 0 480 0 497.7 14.3 512 32 512l448 0c17.7 0 32-14.3 32-32 0-10.1-4.7-19.6-12.8-25.6l-51.2-38.4 0-208 32 0c14.5 0 27.2-9.8 30.9-23.8s-2.5-28.8-15.1-36l-224-128zM400 208l0 208-64 0 0-208 64 0zm-112 0l0 208-64 0 0-208 64 0zm-112 0l0 208-64 0 0-208 64 0zM256 96a32 32 0 1 1 0 64 32 32 0 1 1 0-64z"]},sf=NB,X2={prefix:"fas",iconName:"arrow-down",icon:[384,512,[8595],"f063","M169.4 502.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 402.7 224 32c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 370.7-105.4-105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z"]},wB={prefix:"fas",iconName:"location-dot",icon:[384,512,["map-marker-alt"],"f3c5","M0 188.6C0 84.4 86 0 192 0S384 84.4 384 188.6c0 119.3-120.2 262.3-170.4 316.8-11.8 12.8-31.5 12.8-43.3 0-50.2-54.5-170.4-197.5-170.4-316.8zM192 256a64 64 0 1 0 0-128 64 64 0 1 0 0 128z"]},vc=wB,sg={prefix:"fas",iconName:"route",icon:[512,512,[],"f4d7","M512 96c0 50.2-59.1 125.1-84.6 155-3.8 4.4-9.4 6.1-14.5 5L320 256c-17.7 0-32 14.3-32 32s14.3 32 32 32l96 0c53 0 96 43 96 96s-43 96-96 96l-276.4 0c8.7-9.9 19.3-22.6 30-36.8 6.3-8.4 12.8-17.6 19-27.2L416 448c17.7 0 32-14.3 32-32s-14.3-32-32-32l-96 0c-53 0-96-43-96-96s43-96 96-96l39.8 0c-21-31.5-39.8-67.7-39.8-96 0-53 43-96 96-96s96 43 96 96zM117.1 489.1c-3.8 4.3-7.2 8.1-10.1 11.3l-1.8 2-.2-.2c-6 4.6-14.6 4-20-1.8-25.2-27.4-85-97.9-85-148.4 0-53 43-96 96-96s96 43 96 96c0 30-21.1 67-43.5 97.9-10.7 14.7-21.7 28-30.8 38.5l-.6 .7zM128 352a32 32 0 1 0 -64 0 32 32 0 1 0 64 0zM416 128a32 32 0 1 0 0-64 32 32 0 1 0 0 64z"]},DC={prefix:"fas",iconName:"arrows-rotate",icon:[512,512,[128472,"refresh","sync"],"f021","M65.9 228.5c13.3-93 93.4-164.5 190.1-164.5 53 0 101 21.5 135.8 56.2 .2 .2 .4 .4 .6 .6l7.6 7.2-47.9 0c-17.7 0-32 14.3-32 32s14.3 32 32 32l128 0c17.7 0 32-14.3 32-32l0-128c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 53.4-11.3-10.7C390.5 28.6 326.5 0 256 0 127 0 20.3 95.4 2.6 219.5 .1 237 12.2 253.2 29.7 255.7s33.7-9.7 36.2-27.1zm443.5 64c2.5-17.5-9.7-33.7-27.1-36.2s-33.7 9.7-36.2 27.1c-13.3 93-93.4 164.5-190.1 164.5-53 0-101-21.5-135.8-56.2-.2-.2-.4-.4-.6-.6l-7.6-7.2 47.9 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L32 320c-8.5 0-16.7 3.4-22.7 9.5S-.1 343.7 0 352.3l1 127c.1 17.7 14.6 31.9 32.3 31.7S65.2 496.4 65 478.7l-.4-51.5 10.7 10.1c46.3 46.1 110.2 74.7 180.7 74.7 129 0 235.7-95.4 253.4-219.5z"]},LC=DC,MC=DC,SB={prefix:"fas",iconName:"book-open",icon:[512,512,[128214,128366],"f518","M256 141.3l0 309.3 .5-.2C311.1 427.7 369.7 416 428.8 416l19.2 0 0-320-19.2 0c-42.2 0-84.1 8.4-123.1 24.6-16.8 7-33.4 13.9-49.7 20.7zM230.9 61.5L256 72 281.1 61.5C327.9 42 378.1 32 428.8 32L464 32c26.5 0 48 21.5 48 48l0 352c0 26.5-21.5 48-48 48l-35.2 0c-50.7 0-100.9 10-147.7 29.5l-12.8 5.3c-7.9 3.3-16.7 3.3-24.6 0l-12.8-5.3C184.1 490 133.9 480 83.2 480L48 480c-26.5 0-48-21.5-48-48L0 80C0 53.5 21.5 32 48 32l35.2 0c50.7 0 100.9 10 147.7 29.5z"]},_B={prefix:"fas",iconName:"money-bill",icon:[512,512,[],"f0d6","M64 64C28.7 64 0 92.7 0 128L0 384c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-256c0-35.3-28.7-64-64-64L64 64zm192 96a96 96 0 1 1 0 192 96 96 0 1 1 0-192zm192 24c0 4.4-3.6 8.1-8 7.5-29-3.6-51.9-26.6-55.5-55.5-.5-4.4 3.1-8 7.5-8l48 0c4.4 0 8 3.6 8 8l0 48zM64 328c0-4.4 3.6-8.1 8-7.5 29 3.6 51.9 26.6 55.5 55.5 .5 4.4-3.1 8-7.5 8l-48 0c-4.4 0-8-3.6-8-8l0-48zm8-136.5c-4.4 .5-8-3.1-8-7.5l0-48c0-4.4 3.6-8 8-8l48 0c4.4 0 8.1 3.6 7.5 8-3.6 29-26.6 51.9-55.5 55.5zm368 129c4.4-.5 8 3.1 8 7.5l0 48c0 4.4-3.6 8-8 8l-48 0c-4.4 0-8.1-3.6-7.5-8 3.6-29 26.6-51.9 55.5-55.5z"]},AB={prefix:"fas",iconName:"circle-info",icon:[512,512,["info-circle"],"f05a","M256 512a256 256 0 1 0 0-512 256 256 0 1 0 0 512zM224 160a32 32 0 1 1 64 0 32 32 0 1 1 -64 0zm-8 64l48 0c13.3 0 24 10.7 24 24l0 88 8 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-80 0c-13.3 0-24-10.7-24-24s10.7-24 24-24l24 0 0-64-24 0c-13.3 0-24-10.7-24-24s10.7-24 24-24z"]},RC=AB,kB={prefix:"fas",iconName:"cart-shopping",icon:[640,512,[128722,"shopping-cart"],"f07a","M24-16C10.7-16 0-5.3 0 8S10.7 32 24 32l45.3 0c3.9 0 7.2 2.8 7.9 6.6l52.1 286.3c6.2 34.2 36 59.1 70.8 59.1L456 384c13.3 0 24-10.7 24-24s-10.7-24-24-24l-255.9 0c-11.6 0-21.5-8.3-23.6-19.7l-5.1-28.3 303.6 0c30.8 0 57.2-21.9 62.9-52.2L568.9 69.9C572.6 50.2 557.5 32 537.4 32l-412.7 0-.4-2c-4.8-26.6-28-46-55.1-46L24-16zM208 512a48 48 0 1 0 0-96 48 48 0 1 0 0 96zm224 0a48 48 0 1 0 0-96 48 48 0 1 0 0 96z"]},$C=kB;const CB=({open:t,setOpen:r})=>{const{logout:a}=et(),s=To(),n=[{name:"Dashboard",href:"/dashboard",icon:Ls},{name:"Students",href:"/dashboard/students",icon:La},{name:"Classes",href:"/dashboard/classes",icon:bv},{name:"Timetables",href:"/dashboard/timetables",icon:yr},{name:"Results",href:"/dashboard/results",icon:Ao},{name:"Boarding",href:"/dashboard/boarding",icon:ag},{name:"Transport",href:"/dashboard/transport/routes",icon:sg},{name:"Sports",href:"/dashboard/sports",icon:Ld},{name:"Student Billing",href:"/dashboard/fees-payment",icon:Pn},{name:"Accounting",href:"/dashboard/accounting/chart-of-accounts",icon:Fl},{name:"Procurement",href:"/dashboard/procurement",icon:jv},{name:"Payroll",href:"/dashboard/payroll",icon:V2},{name:"Inventory",href:"/dashboard/inventory",icon:Kn},{name:"Financial Reports",href:"/dashboard/reports/income-statement",icon:So},{name:"Analytics",href:"/dashboard/analytics/expense-analysis",icon:Ju},{name:"Admin",href:"/dashboard/admin",icon:tx},{name:"Help & Tutorials",href:"/dashboard/help",icon:Kn}],i={students:[{name:"Home",href:"/dashboard",icon:Ls},{name:"Students",href:"/dashboard/students",icon:La},{name:"Add Student",href:"/dashboard/students/add",icon:La}],classes:[{name:"Home",href:"/dashboard",icon:Ls},{name:"Classes",href:"/dashboard/classes",icon:bv},{name:"Class Term Year",href:"/dashboard/classes/class-term-year",icon:b6},{name:"Add Gradelevel Class",href:"/dashboard/classes/gradelevel-classes/add",icon:bv},{name:"Class Configurations",href:"/dashboard/classes/configurations",icon:tx},{name:"Close to Term",href:"/dashboard/classes/close-to-term",icon:yr}],timetables:[{name:"Home",href:"/dashboard",icon:Ls},{name:"Timetables",href:"/dashboard/timetables",icon:yr},{name:"Test Timetable",href:"/dashboard/timetables/test",icon:b6}],results:[{name:"Home",href:"/dashboard",icon:Ls},{name:"Results",href:"/dashboard/results",icon:Ao},{name:"Grading Criteria",href:"/dashboard/results/grading",icon:px}],boarding:[{name:"Home",href:"/dashboard",icon:Ls},{name:"Boarding",href:"/dashboard/boarding",icon:ag}],billing:[{name:"Home",href:"/dashboard",icon:Ls},{name:"Record Payment",href:"/dashboard/fees-payment",icon:Pn},{name:"Boarding Fee Payments",href:"/dashboard/all-payments",icon:jv},{name:"Outstanding Balances",href:"/dashboard/students/balances",icon:Fl},{name:"Manual Balance Update",href:"/dashboard/students/manual-balance-update",icon:lr},{name:"Additional Fees",href:"/dashboard/billing/additional-fees",icon:$r},{name:"Invoice Structures",href:"/dashboard/invoice-structures",icon:Kn},{name:"Student Financial Record",href:"/dashboard/financial-records",icon:Fu}],accounting:[{name:"Home",href:"/dashboard",icon:Ls},{name:"Chart of Accounts",href:"/dashboard/accounting/chart-of-accounts",icon:Kn},{name:"Cash & Bank",href:"/dashboard/accounting/cash-bank",icon:$r},{name:"Expenses",href:"/dashboard/expenses/expenses",icon:Kn},{name:"Add Expense",href:"/dashboard/expenses/expenses/add",icon:lr},{name:"Accounts Payable",href:"/dashboard/expenses/accounts-payable",icon:Fl},{name:"Suppliers",href:"/dashboard/expenses/suppliers",icon:Kn},{name:"Bank Reconciliation",href:"/dashboard/accounting/bank-reconciliation",icon:Pn},{name:"Period End Closing",href:"/dashboard/accounting/period-closing",icon:yr}],procurement:[{name:"Home",href:"/dashboard",icon:Ls},{name:"Procurement Dashboard",href:"/dashboard/procurement",icon:jv},{name:"Purchase Requests",href:"/dashboard/procurement/purchase-requests",icon:eg},{name:"Suppliers",href:"/dashboard/procurement/suppliers",icon:$C},{name:"Purchase Orders",href:"/dashboard/procurement/purchase-orders",icon:Fu}],payroll:[{name:"Home",href:"/dashboard",icon:Ls},{name:"Payroll Dashboard",href:"/dashboard/payroll",icon:V2},{name:"Create Payslip",href:"/dashboard/payroll/create",icon:_t},{name:"View Payslips",href:"/dashboard/payroll/payslips",icon:Fu}],transport:[{name:"Home",href:"/dashboard",icon:Ls},{name:"Manage Routes",href:"/dashboard/transport/routes",icon:sg},{name:"Student Registration",href:"/dashboard/transport/registrations",icon:La},{name:"Transport Payments",href:"/dashboard/transport/payments",icon:Pn}],sports:[{name:"Home",href:"/dashboard",icon:Ls},{name:"Sports",href:"/dashboard/sports",icon:Ld}],inventory:[{name:"Home",href:"/dashboard",icon:Ls},{name:"Inventory",href:"/dashboard/inventory",icon:Kn},{name:"Add Item",href:"/dashboard/inventory/add-item",icon:_t},{name:"Issue Uniform",href:"/dashboard/inventory/issue-uniform",icon:La},{name:"Configurations",href:"/dashboard/inventory/configurations",icon:tx}],announcements:[{name:"Home",href:"/dashboard",icon:Ls},{name:"Announcements",href:"/dashboard/announcements",icon:rg},{name:"Add Announcement",href:"/dashboard/announcements/add",icon:_t}],reports:[{name:"Home",href:"/dashboard",icon:Ls},{name:"Income Statement",href:"/dashboard/reports/income-statement",icon:So},{name:"Balance Sheet",href:"/dashboard/reports/balance-sheet",icon:bN},{name:"Cash Flow Statement",href:"/dashboard/reports/cash-flow",icon:Fl}],analytics:[{name:"Home",href:"/dashboard",icon:Ls},{name:"Expense Analysis",href:"/dashboard/analytics/expense-analysis",icon:Ju},{name:"Revenue Analysis",href:"/dashboard/analytics/revenue-analysis",icon:So},{name:"Student Financial Analytics",href:"/dashboard/analytics/student-financial-analytics",icon:Ir},{name:"Student Results Analytics",href:"/dashboard/analytics/student-results-analytics",icon:px}],admin:[{name:"Home",href:"/dashboard",icon:Ls},{name:"Employees",href:"/dashboard/employees",icon:Ir},{name:"Add Employee",href:"/dashboard/employees/add",icon:Ir},{name:"Configurations",href:"/dashboard/configurations",icon:yn},{name:"Settings",href:"/dashboard/settings",icon:tx}],help:[{name:"Home",href:"/dashboard",icon:Ls},{name:"Help & Tutorials",href:"/dashboard/help",icon:Kn}]};(()=>{const f=s.pathname;return f==="/dashboard"||f==="/dashboard/"?"dashboard":f.split("/")[2]||"dashboard"})();const u=(()=>{if(s.pathname==="/dashboard"||s.pathname==="/dashboard/")return n;let f=null;return s.pathname.startsWith("/dashboard/fees")||s.pathname.startsWith("/dashboard/invoice")||s.pathname.startsWith("/dashboard/financial")||s.pathname.startsWith("/dashboard/all-payments")||s.pathname.startsWith("/dashboard/students/balances")||s.pathname.startsWith("/dashboard/students/manual-balance-update")||s.pathname.startsWith("/dashboard/billing")?f="billing":s.pathname.startsWith("/dashboard/accounting")||s.pathname.startsWith("/dashboard/expenses")?f="accounting":s.pathname.startsWith("/dashboard/settings")||s.pathname.startsWith("/dashboard/configurations")||s.pathname.startsWith("/dashboard/employees")?f="admin":f=Object.keys(i).find(x=>s.pathname.startsWith(`/dashboard/${x}`)),f&&i[f]?i[f]:n})(),m=f=>{const x=s.pathname===f.href;return e.jsx("li",{children:e.jsxs(aR,{to:f.href,className:`group flex gap-x-3 rounded-md p-2 text-xs leading-5 font-medium border-b border-gray-200/30 ${x?"bg-gray-50 text-blue-600":f.name==="Home"?"text-gray-500 hover:text-gray-700 hover:bg-gray-50":"text-gray-700 hover:text-blue-600 hover:bg-gray-50"}`,onClick:()=>r(!1),children:[e.jsx("div",{className:"h-5 w-5 shrink-0 text-gray-600 flex items-center justify-center",children:e.jsx(I,{icon:f.icon,className:"text-sm"})}),f.name]})},f.name)};return e.jsxs(e.Fragment,{children:[t&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-gray-900/80 z-40 lg:hidden",onClick:()=>r(!1)}),e.jsx("div",{className:"fixed inset-y-0 left-0 z-50 w-56 bg-white lg:hidden overflow-y-auto scrollbar-hide",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:e.jsxs("div",{className:"flex grow flex-col gap-y-4 px-4 pb-4",children:[e.jsxs("div",{className:"flex h-14 shrink-0 items-center justify-between border-b border-gray-200/50",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"h-5 w-5 rounded-lg bg-purple-600 flex items-center justify-center",children:e.jsx("span",{className:"text-white text-xs font-bold",children:"U"})}),e.jsx("h1",{className:"text-sm font-bold text-gray-900",children:"Brooklyn Private School"})]}),e.jsx("button",{onClick:()=>r(!1),className:"p-1 rounded-md hover:bg-gray-300",children:e.jsx("span",{className:"text-gray-600 text-lg font-bold",children:"×"})})]}),e.jsx("nav",{className:"flex flex-1 flex-col",children:e.jsxs("ul",{role:"list",className:"flex flex-1 flex-col gap-y-7",children:[e.jsx("li",{children:e.jsx("ul",{role:"list",className:"-mx-2 space-y-1",children:u.map(m)})}),e.jsx("li",{className:"mt-auto",children:e.jsxs("button",{onClick:a,className:"flex w-full items-center gap-x-3 rounded-md p-2 text-xs leading-5 font-medium text-gray-700 hover:text-red-600 hover:bg-gray-50 border-t border-gray-200/50",children:[e.jsx("div",{className:"h-5 w-5 shrink-0 text-gray-600 flex items-center justify-center",children:e.jsx(I,{icon:K2,className:"text-sm"})}),"Logout"]})})]})})]})})]}),e.jsx("div",{className:"hidden lg:fixed lg:inset-y-0 lg:z-50 lg:flex lg:w-64 lg:flex-col overflow-y-auto scrollbar-hide",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:e.jsxs("div",{className:"flex grow flex-col gap-y-4 border-r border-gray-200 bg-gray-200/30 px-4 pb-4",children:[e.jsx("div",{className:"flex h-14 shrink-0 items-center border-b border-gray-200/50",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"h-5 w-5 rounded-lg bg-purple-600 flex items-center justify-center",children:e.jsx("span",{className:"text-white text-xs font-bold",children:"U"})}),e.jsx("h1",{className:"text-sm font-bold text-gray-900",children:"Brooklyn Private School"})]})}),e.jsx("nav",{className:"flex flex-1 flex-col",children:e.jsxs("ul",{role:"list",className:"flex flex-1 flex-col gap-y-7",children:[e.jsx("li",{children:e.jsx("ul",{role:"list",className:"-mx-2 space-y-1",children:u.map(m)})}),e.jsx("li",{className:"mt-auto",children:e.jsxs("button",{onClick:a,className:"flex w-full items-center gap-x-3 rounded-md p-2 text-xs leading-5 font-medium text-gray-700 hover:text-red-600 hover:bg-gray-50 border-t border-gray-200/50",children:[e.jsx("div",{className:"h-5 w-5 shrink-0 text-gray-600 flex items-center justify-center",children:e.jsx(I,{icon:K2,className:"text-sm"})}),"Logout"]})})]})})]})})]})};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EB=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),IC=(...t)=>t.filter((r,a,s)=>!!r&&r.trim()!==""&&s.indexOf(r)===a).join(" ").trim();/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var PB={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TB=g.forwardRef(({color:t="currentColor",size:r=24,strokeWidth:a=2,absoluteStrokeWidth:s,className:n="",children:i,iconNode:o,...d},u)=>g.createElement("svg",{ref:u,...PB,width:r,height:r,stroke:t,strokeWidth:s?Number(a)*24/Number(r):a,className:IC("lucide",n),...d},[...o.map(([m,f])=>g.createElement(m,f)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xa=(t,r)=>{const a=g.forwardRef(({className:s,...n},i)=>g.createElement(TB,{ref:i,iconNode:r,className:IC(`lucide-${EB(t)}`,s),...n}));return a.displayName=`${t}`,a};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OB=xa("Bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DB=xa("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LB=xa("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MB=xa("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RB=xa("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $B=xa("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IB=xa("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FB=xa("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BB=xa("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zB=xa("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UB=xa("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qB=xa("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HB=xa("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GB=xa("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YB=xa("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VB=xa("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KB=xa("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WB=xa("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XB=xa("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JB=xa("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZB=xa("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QB=xa("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ez=xa("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tz=xa("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FC=xa("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),rz=({onMenuClick:t})=>{const{user:r}=et();return e.jsxs("header",{className:"sticky top-0 z-40 flex h-12 shrink-0 items-center gap-x-4 border-b border-gray-200 bg-white px-4 sm:gap-x-6 sm:px-6 lg:px-8",children:[e.jsxs("button",{type:"button",className:"-m-2.5 p-2.5 text-gray-700 lg:hidden",onClick:t,children:[e.jsx("span",{className:"sr-only",children:"Open sidebar"}),e.jsx(WB,{className:"h-6 w-6","aria-hidden":"true"})]}),e.jsx("div",{className:"h-6 w-px bg-gray-200 lg:hidden","aria-hidden":"true"}),e.jsx("div",{className:"flex flex-1"}),e.jsxs("div",{className:"flex items-center gap-x-4 lg:gap-x-6",children:[e.jsxs("button",{type:"button",className:"-m-2.5 p-2.5 text-gray-400 hover:text-gray-500",children:[e.jsx("span",{className:"sr-only",children:"View notifications"}),e.jsx(OB,{className:"h-5 w-5","aria-hidden":"true"})]}),e.jsx("div",{className:"hidden lg:block lg:h-6 lg:w-px lg:bg-gray-200","aria-hidden":"true"}),e.jsx("div",{className:"flex items-center",children:e.jsx("span",{className:"text-xs font-medium text-gray-900",children:r?.username||"User"})})]})]})},az=()=>{const[t,r]=g.useState(!1),a=To(),s=a.pathname==="/dashboard"||a.pathname==="/dashboard/";return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[!s&&e.jsx(CB,{open:t,setOpen:r}),e.jsxs("div",{className:s?"":"lg:pl-64",children:[!s&&e.jsx(rz,{onMenuClick:()=>r(!0)}),e.jsx("main",{className:s?"":"py-6",children:e.jsx("div",{className:s?"":"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:e.jsx(qM,{})})})]})]})},sz="/assets/background-BusorCJr.jpeg",nz=()=>{const[t,r]=g.useState({username:"",password:""}),[a,s]=g.useState(!1),[n,i]=g.useState(""),[o,d]=g.useState(!1),{login:u,isLoading:m}=et(),f=br(),x=async p=>{p.preventDefault(),i(""),d(!1);try{console.log("🚀 Attempting login...");const v=await u(t.username,t.password);console.log("✅ Login successful! User data:",v.user),f("/dashboard")}catch(v){console.log("💥 Login error:",v),i("Username or password is wrong"),d(!0)}},b=p=>{r({...t,[p.target.name]:p.target.value})};return e.jsxs("div",{className:"min-h-screen flex bg-gray-50",children:[e.jsxs("div",{className:"hidden lg:flex lg:w-3/5 bg-gray-900 relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:`url(${sz})`}}),e.jsx("div",{className:"absolute inset-0 bg-gray-900/70"}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-4xl font-bold mb-4 bg-gradient-to-r from-blue-300 to-green-300 bg-clip-text text-transparent",children:"Brooklyn Private School            "}),e.jsx("h2",{className:"text-2xl font-semibold text-gray-200",children:"SCHOOL MANAGEMENT SYSTEM"})]})}),e.jsx("div",{className:"absolute right-0 top-0 bottom-0 w-32 bg-gradient-to-l from-gray-900 to-transparent"})]}),e.jsx("div",{className:"flex-1 flex items-center justify-center p-8 bg-white",children:e.jsxs("div",{className:"w-full max-w-md space-y-8",children:[e.jsx("div",{className:"lg:hidden text-center mb-8",children:e.jsxs("div",{className:"inline-flex items-center space-x-3 p-3 bg-blue-600 rounded-lg",children:[e.jsx(LB,{className:"h-8 w-8 text-white"}),e.jsx("span",{className:"text-xl font-bold text-white",children:"Brooklyn Private School "})]})}),e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 p-8",children:[e.jsx("div",{className:"text-center mb-8",children:e.jsx("p",{className:"mt-6 text-sm text-gray-600",children:"Sign in to your account"})}),e.jsxs("form",{className:"space-y-6",onSubmit:x,children:[e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"username",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Username"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:e.jsx(tz,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{id:"username",name:"username",type:"text",required:!0,value:t.username,onChange:b,className:"block w-full pl-12 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 hover:border-gray-400 disabled:opacity-50 disabled:cursor-not-allowed",placeholder:"Enter your username",disabled:m})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:e.jsx(VB,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{id:"password",name:"password",type:a?"text":"password",required:!0,value:t.password,onChange:b,className:"block w-full pl-12 pr-12 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 hover:border-gray-400 disabled:opacity-50 disabled:cursor-not-allowed",placeholder:"Enter your password",disabled:m}),e.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-4 flex items-center text-gray-400 hover:text-gray-600 transition-colors duration-200",onClick:()=>s(!a),disabled:m,children:a?e.jsx(qB,{className:"h-5 w-5"}):e.jsx(HB,{className:"h-5 w-5"})})]})]})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:m,className:"w-full py-3 px-4 border border-transparent text-sm font-semibold rounded-lg text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:m?e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Signing in..."]}):"Sign in"})})]})]})]})}),o&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsx("div",{className:"bg-white p-6 max-w-md w-full mx-4",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100 mb-4",children:e.jsx("svg",{className:"h-6 w-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Login Failed"}),e.jsx("p",{className:"text-sm text-gray-500 mb-6",children:n}),e.jsx("button",{onClick:()=>d(!1),className:"w-full bg-red-600 text-white px-4 py-2 text-sm font-medium hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500",children:"Try Again"})]})})})]})},J2="/assets/logo-CJQNE5oC.png",iz=()=>{const t=br(),{user:r}=et(),a=[{name:"Students",icon:FC,href:"/dashboard/students",description:"Manage student profiles, registrations, and personal information",requiredRoles:["admin","STUDENT_REGISTRATIONS"]},{name:"Classes",icon:DB,href:"/dashboard/classes",description:"Create and manage classes, subjects, and academic schedules",requiredRoles:["admin","CLASS_MANAGEMENT"]},{name:"Results",icon:$B,href:"/dashboard/results",description:"Enter, view, and analyze student academic performance and grades",requiredRoles:["admin","VIEW_RESULTS","ADD_RESULTS","EDIT_RESULTS","ADD_GRADES","EDIT_GRADES"]},{name:"Transport",icon:ez,href:"/dashboard/transport/routes",description:"Manage transport routes, student registrations, and weekly fee payments",requiredRoles:["admin","TRANSPORT_MANAGEMENT"]},{name:"Announcements",icon:KB,href:"/dashboard/announcements",description:"Create and manage announcements for students and employees",requiredRoles:["admin","user"]},{name:"Sports",icon:QB,href:"/dashboard/sports",description:"Manage sports fixtures, teams, and sports announcements",requiredRoles:["admin","teacher","user"]},{name:"Student Billing",icon:zB,href:"/dashboard/fees-payment",description:"Generate invoices, process payments, and manage fee structures",requiredRoles:["admin","STUDENT_BILLING","INVOICE_CREATE","INVOICE_VIEW","INVOICE_UPDATE","INVOICE_DELETE"]},{name:"Accounting",icon:MB,href:"/dashboard/accounting/chart-of-accounts",description:"Track financial transactions, manage accounts, and generate reports",requiredRoles:["admin","ACCOUNTING_MANAGEMENT"]},{name:"Payroll",icon:UB,href:"/dashboard/payroll",description:"Create payslips and process employee payroll",requiredRoles:["admin"]},{name:"Inventory",icon:XB,href:"/dashboard/inventory",description:"Track school supplies, equipment, and inventory management",requiredRoles:["admin"]},{name:"Financial Reports",icon:GB,href:"/dashboard/reports/income-statement",description:"Generate comprehensive financial reports and analytics",requiredRoles:["admin","ACCOUNTING_MANAGEMENT"]},{name:"Analytics",icon:IB,href:"/dashboard/analytics/expense-analysis",description:"Interactive analytics and data visualization for insights",requiredRoles:["admin","ACCOUNTING_MANAGEMENT"]},{name:"Admin",icon:JB,href:"/dashboard/settings",description:"System administration, user management, and configuration settings",requiredRoles:["admin"]}],s=o=>!r||!r.roles?!1:r.roles.includes("admin")?!0:o.some(d=>r.roles.includes(d)),n=a.filter(o=>s(o.requiredRoles));console.log("🔍 User roles:",r?.roles),console.log("🔍 Filtered tabs:",n.map(o=>o.name));const i=o=>{t(o)};return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-6",children:e.jsxs("div",{className:"max-w-5xl w-full",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("img",{src:J2,alt:"Brooklyn Private School Logo",className:"h-16 w-auto"})}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-8 text-center",children:"Welcome to Brooklyn Private School"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4",children:n.map(o=>e.jsxs("button",{onClick:()=>i(o.href),className:"group relative flex flex-col items-center p-4 bg-gray-100 border-2 border-gray-300 rounded-lg text-gray-700 transition-all duration-200 hover:bg-gray-200 hover:border-gray-400 hover:shadow-lg hover:scale-105 min-h-[120px]",children:[e.jsx("div",{className:"flex items-center justify-center w-8 h-8 mb-3 bg-gray-200 rounded-full",children:e.jsx(o.icon,{className:"h-4 w-4 text-gray-600"})}),e.jsx("span",{className:"text-sm font-semibold text-center mb-1",children:o.name}),e.jsx("span",{className:"text-xs text-gray-600 text-center leading-tight",children:o.description})]},o.name))})]})})},lz=()=>e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-50 to-gray-100 py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-md w-full text-center",children:[e.jsx("div",{className:"mx-auto h-24 w-24 flex items-center justify-center rounded-full bg-red-100 mb-6",children:e.jsx(ZB,{className:"h-12 w-12 text-red-600"})}),e.jsx("h1",{className:"text-6xl font-bold text-gray-900 mb-4",children:"404"}),e.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mb-4",children:"Page Not Found"}),e.jsx("p",{className:"text-gray-600 mb-8",children:"Sorry, the page you are looking for doesn't exist or has been moved."}),e.jsxs(Yt,{to:"/dashboard",className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors",children:[e.jsx(YB,{className:"h-5 w-5 mr-2"}),"Go to Dashboard"]})]})});function BC(t,r){return function(){return t.apply(r,arguments)}}const{toString:oz}=Object.prototype,{getPrototypeOf:jN}=Object,{iterator:iy,toStringTag:zC}=Symbol,ly=(t=>r=>{const a=oz.call(r);return t[a]||(t[a]=a.slice(8,-1).toLowerCase())})(Object.create(null)),Hl=t=>(t=t.toLowerCase(),r=>ly(r)===t),oy=t=>r=>typeof r===t,{isArray:Mf}=Array,yx=oy("undefined");function Rx(t){return t!==null&&!yx(t)&&t.constructor!==null&&!yx(t.constructor)&&Jn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const UC=Hl("ArrayBuffer");function cz(t){let r;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?r=ArrayBuffer.isView(t):r=t&&t.buffer&&UC(t.buffer),r}const dz=oy("string"),Jn=oy("function"),qC=oy("number"),$x=t=>t!==null&&typeof t=="object",uz=t=>t===!0||t===!1,$p=t=>{if(ly(t)!=="object")return!1;const r=jN(t);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(zC in t)&&!(iy in t)},mz=t=>{if(!$x(t)||Rx(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},fz=Hl("Date"),hz=Hl("File"),xz=Hl("Blob"),pz=Hl("FileList"),gz=t=>$x(t)&&Jn(t.pipe),yz=t=>{let r;return t&&(typeof FormData=="function"&&t instanceof FormData||Jn(t.append)&&((r=ly(t))==="formdata"||r==="object"&&Jn(t.toString)&&t.toString()==="[object FormData]"))},bz=Hl("URLSearchParams"),[vz,jz,Nz,wz]=["ReadableStream","Request","Response","Headers"].map(Hl),Sz=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ix(t,r,{allOwnKeys:a=!1}={}){if(t===null||typeof t>"u")return;let s,n;if(typeof t!="object"&&(t=[t]),Mf(t))for(s=0,n=t.length;s<n;s++)r.call(null,t[s],s,t);else{if(Rx(t))return;const i=a?Object.getOwnPropertyNames(t):Object.keys(t),o=i.length;let d;for(s=0;s<o;s++)d=i[s],r.call(null,t[d],d,t)}}function HC(t,r){if(Rx(t))return null;r=r.toLowerCase();const a=Object.keys(t);let s=a.length,n;for(;s-- >0;)if(n=a[s],r===n.toLowerCase())return n;return null}const Du=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,GC=t=>!yx(t)&&t!==Du;function Z2(){const{caseless:t}=GC(this)&&this||{},r={},a=(s,n)=>{const i=t&&HC(r,n)||n;$p(r[i])&&$p(s)?r[i]=Z2(r[i],s):$p(s)?r[i]=Z2({},s):Mf(s)?r[i]=s.slice():r[i]=s};for(let s=0,n=arguments.length;s<n;s++)arguments[s]&&Ix(arguments[s],a);return r}const _z=(t,r,a,{allOwnKeys:s}={})=>(Ix(r,(n,i)=>{a&&Jn(n)?t[i]=BC(n,a):t[i]=n},{allOwnKeys:s}),t),Az=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),kz=(t,r,a,s)=>{t.prototype=Object.create(r.prototype,s),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:r.prototype}),a&&Object.assign(t.prototype,a)},Cz=(t,r,a,s)=>{let n,i,o;const d={};if(r=r||{},t==null)return r;do{for(n=Object.getOwnPropertyNames(t),i=n.length;i-- >0;)o=n[i],(!s||s(o,t,r))&&!d[o]&&(r[o]=t[o],d[o]=!0);t=a!==!1&&jN(t)}while(t&&(!a||a(t,r))&&t!==Object.prototype);return r},Ez=(t,r,a)=>{t=String(t),(a===void 0||a>t.length)&&(a=t.length),a-=r.length;const s=t.indexOf(r,a);return s!==-1&&s===a},Pz=t=>{if(!t)return null;if(Mf(t))return t;let r=t.length;if(!qC(r))return null;const a=new Array(r);for(;r-- >0;)a[r]=t[r];return a},Tz=(t=>r=>t&&r instanceof t)(typeof Uint8Array<"u"&&jN(Uint8Array)),Oz=(t,r)=>{const s=(t&&t[iy]).call(t);let n;for(;(n=s.next())&&!n.done;){const i=n.value;r.call(t,i[0],i[1])}},Dz=(t,r)=>{let a;const s=[];for(;(a=t.exec(r))!==null;)s.push(a);return s},Lz=Hl("HTMLFormElement"),Mz=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(a,s,n){return s.toUpperCase()+n}),A6=(({hasOwnProperty:t})=>(r,a)=>t.call(r,a))(Object.prototype),Rz=Hl("RegExp"),YC=(t,r)=>{const a=Object.getOwnPropertyDescriptors(t),s={};Ix(a,(n,i)=>{let o;(o=r(n,i,t))!==!1&&(s[i]=o||n)}),Object.defineProperties(t,s)},$z=t=>{YC(t,(r,a)=>{if(Jn(t)&&["arguments","caller","callee"].indexOf(a)!==-1)return!1;const s=t[a];if(Jn(s)){if(r.enumerable=!1,"writable"in r){r.writable=!1;return}r.set||(r.set=()=>{throw Error("Can not rewrite read-only method '"+a+"'")})}})},Iz=(t,r)=>{const a={},s=n=>{n.forEach(i=>{a[i]=!0})};return Mf(t)?s(t):s(String(t).split(r)),a},Fz=()=>{},Bz=(t,r)=>t!=null&&Number.isFinite(t=+t)?t:r;function zz(t){return!!(t&&Jn(t.append)&&t[zC]==="FormData"&&t[iy])}const Uz=t=>{const r=new Array(10),a=(s,n)=>{if($x(s)){if(r.indexOf(s)>=0)return;if(Rx(s))return s;if(!("toJSON"in s)){r[n]=s;const i=Mf(s)?[]:{};return Ix(s,(o,d)=>{const u=a(o,n+1);!yx(u)&&(i[d]=u)}),r[n]=void 0,i}}return s};return a(t,0)},qz=Hl("AsyncFunction"),Hz=t=>t&&($x(t)||Jn(t))&&Jn(t.then)&&Jn(t.catch),VC=((t,r)=>t?setImmediate:r?((a,s)=>(Du.addEventListener("message",({source:n,data:i})=>{n===Du&&i===a&&s.length&&s.shift()()},!1),n=>{s.push(n),Du.postMessage(a,"*")}))(`axios@${Math.random()}`,[]):a=>setTimeout(a))(typeof setImmediate=="function",Jn(Du.postMessage)),Gz=typeof queueMicrotask<"u"?queueMicrotask.bind(Du):typeof process<"u"&&process.nextTick||VC,Yz=t=>t!=null&&Jn(t[iy]),Ue={isArray:Mf,isArrayBuffer:UC,isBuffer:Rx,isFormData:yz,isArrayBufferView:cz,isString:dz,isNumber:qC,isBoolean:uz,isObject:$x,isPlainObject:$p,isEmptyObject:mz,isReadableStream:vz,isRequest:jz,isResponse:Nz,isHeaders:wz,isUndefined:yx,isDate:fz,isFile:hz,isBlob:xz,isRegExp:Rz,isFunction:Jn,isStream:gz,isURLSearchParams:bz,isTypedArray:Tz,isFileList:pz,forEach:Ix,merge:Z2,extend:_z,trim:Sz,stripBOM:Az,inherits:kz,toFlatObject:Cz,kindOf:ly,kindOfTest:Hl,endsWith:Ez,toArray:Pz,forEachEntry:Oz,matchAll:Dz,isHTMLForm:Lz,hasOwnProperty:A6,hasOwnProp:A6,reduceDescriptors:YC,freezeMethods:$z,toObjectSet:Iz,toCamelCase:Mz,noop:Fz,toFiniteNumber:Bz,findKey:HC,global:Du,isContextDefined:GC,isSpecCompliantForm:zz,toJSONObject:Uz,isAsyncFn:qz,isThenable:Hz,setImmediate:VC,asap:Gz,isIterable:Yz};function tr(t,r,a,s,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",r&&(this.code=r),a&&(this.config=a),s&&(this.request=s),n&&(this.response=n,this.status=n.status?n.status:null)}Ue.inherits(tr,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ue.toJSONObject(this.config),code:this.code,status:this.status}}});const KC=tr.prototype,WC={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{WC[t]={value:t}});Object.defineProperties(tr,WC);Object.defineProperty(KC,"isAxiosError",{value:!0});tr.from=(t,r,a,s,n,i)=>{const o=Object.create(KC);return Ue.toFlatObject(t,o,function(u){return u!==Error.prototype},d=>d!=="isAxiosError"),tr.call(o,t.message,r,a,s,n),o.cause=t,o.name=t.name,i&&Object.assign(o,i),o};const Vz=null;function Q2(t){return Ue.isPlainObject(t)||Ue.isArray(t)}function XC(t){return Ue.endsWith(t,"[]")?t.slice(0,-2):t}function k6(t,r,a){return t?t.concat(r).map(function(n,i){return n=XC(n),!a&&i?"["+n+"]":n}).join(a?".":""):r}function Kz(t){return Ue.isArray(t)&&!t.some(Q2)}const Wz=Ue.toFlatObject(Ue,{},null,function(r){return/^is[A-Z]/.test(r)});function cy(t,r,a){if(!Ue.isObject(t))throw new TypeError("target must be an object");r=r||new FormData,a=Ue.toFlatObject(a,{metaTokens:!0,dots:!1,indexes:!1},!1,function(j,w){return!Ue.isUndefined(w[j])});const s=a.metaTokens,n=a.visitor||f,i=a.dots,o=a.indexes,u=(a.Blob||typeof Blob<"u"&&Blob)&&Ue.isSpecCompliantForm(r);if(!Ue.isFunction(n))throw new TypeError("visitor must be a function");function m(v){if(v===null)return"";if(Ue.isDate(v))return v.toISOString();if(Ue.isBoolean(v))return v.toString();if(!u&&Ue.isBlob(v))throw new tr("Blob is not supported. Use a Buffer instead.");return Ue.isArrayBuffer(v)||Ue.isTypedArray(v)?u&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function f(v,j,w){let N=v;if(v&&!w&&typeof v=="object"){if(Ue.endsWith(j,"{}"))j=s?j:j.slice(0,-2),v=JSON.stringify(v);else if(Ue.isArray(v)&&Kz(v)||(Ue.isFileList(v)||Ue.endsWith(j,"[]"))&&(N=Ue.toArray(v)))return j=XC(j),N.forEach(function(A,D){!(Ue.isUndefined(A)||A===null)&&r.append(o===!0?k6([j],D,i):o===null?j:j+"[]",m(A))}),!1}return Q2(v)?!0:(r.append(k6(w,j,i),m(v)),!1)}const x=[],b=Object.assign(Wz,{defaultVisitor:f,convertValue:m,isVisitable:Q2});function p(v,j){if(!Ue.isUndefined(v)){if(x.indexOf(v)!==-1)throw Error("Circular reference detected in "+j.join("."));x.push(v),Ue.forEach(v,function(N,P){(!(Ue.isUndefined(N)||N===null)&&n.call(r,N,Ue.isString(P)?P.trim():P,j,b))===!0&&p(N,j?j.concat(P):[P])}),x.pop()}}if(!Ue.isObject(t))throw new TypeError("data must be an object");return p(t),r}function C6(t){const r={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(s){return r[s]})}function NN(t,r){this._pairs=[],t&&cy(t,this,r)}const JC=NN.prototype;JC.append=function(r,a){this._pairs.push([r,a])};JC.toString=function(r){const a=r?function(s){return r.call(this,s,C6)}:C6;return this._pairs.map(function(n){return a(n[0])+"="+a(n[1])},"").join("&")};function Xz(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ZC(t,r,a){if(!r)return t;const s=a&&a.encode||Xz;Ue.isFunction(a)&&(a={serialize:a});const n=a&&a.serialize;let i;if(n?i=n(r,a):i=Ue.isURLSearchParams(r)?r.toString():new NN(r,a).toString(s),i){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class E6{constructor(){this.handlers=[]}use(r,a,s){return this.handlers.push({fulfilled:r,rejected:a,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(r){this.handlers[r]&&(this.handlers[r]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(r){Ue.forEach(this.handlers,function(s){s!==null&&r(s)})}}const QC={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Jz=typeof URLSearchParams<"u"?URLSearchParams:NN,Zz=typeof FormData<"u"?FormData:null,Qz=typeof Blob<"u"?Blob:null,eU={isBrowser:!0,classes:{URLSearchParams:Jz,FormData:Zz,Blob:Qz},protocols:["http","https","file","blob","url","data"]},wN=typeof window<"u"&&typeof document<"u",ej=typeof navigator=="object"&&navigator||void 0,tU=wN&&(!ej||["ReactNative","NativeScript","NS"].indexOf(ej.product)<0),rU=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",aU=wN&&window.location.href||"http://localhost",sU=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:wN,hasStandardBrowserEnv:tU,hasStandardBrowserWebWorkerEnv:rU,navigator:ej,origin:aU},Symbol.toStringTag,{value:"Module"})),xn={...sU,...eU};function nU(t,r){return cy(t,new xn.classes.URLSearchParams,{visitor:function(a,s,n,i){return xn.isNode&&Ue.isBuffer(a)?(this.append(s,a.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...r})}function iU(t){return Ue.matchAll(/\w+|\[(\w*)]/g,t).map(r=>r[0]==="[]"?"":r[1]||r[0])}function lU(t){const r={},a=Object.keys(t);let s;const n=a.length;let i;for(s=0;s<n;s++)i=a[s],r[i]=t[i];return r}function e9(t){function r(a,s,n,i){let o=a[i++];if(o==="__proto__")return!0;const d=Number.isFinite(+o),u=i>=a.length;return o=!o&&Ue.isArray(n)?n.length:o,u?(Ue.hasOwnProp(n,o)?n[o]=[n[o],s]:n[o]=s,!d):((!n[o]||!Ue.isObject(n[o]))&&(n[o]=[]),r(a,s,n[o],i)&&Ue.isArray(n[o])&&(n[o]=lU(n[o])),!d)}if(Ue.isFormData(t)&&Ue.isFunction(t.entries)){const a={};return Ue.forEachEntry(t,(s,n)=>{r(iU(s),n,a,0)}),a}return null}function oU(t,r,a){if(Ue.isString(t))try{return(r||JSON.parse)(t),Ue.trim(t)}catch(s){if(s.name!=="SyntaxError")throw s}return(a||JSON.stringify)(t)}const Fx={transitional:QC,adapter:["xhr","http","fetch"],transformRequest:[function(r,a){const s=a.getContentType()||"",n=s.indexOf("application/json")>-1,i=Ue.isObject(r);if(i&&Ue.isHTMLForm(r)&&(r=new FormData(r)),Ue.isFormData(r))return n?JSON.stringify(e9(r)):r;if(Ue.isArrayBuffer(r)||Ue.isBuffer(r)||Ue.isStream(r)||Ue.isFile(r)||Ue.isBlob(r)||Ue.isReadableStream(r))return r;if(Ue.isArrayBufferView(r))return r.buffer;if(Ue.isURLSearchParams(r))return a.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),r.toString();let d;if(i){if(s.indexOf("application/x-www-form-urlencoded")>-1)return nU(r,this.formSerializer).toString();if((d=Ue.isFileList(r))||s.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return cy(d?{"files[]":r}:r,u&&new u,this.formSerializer)}}return i||n?(a.setContentType("application/json",!1),oU(r)):r}],transformResponse:[function(r){const a=this.transitional||Fx.transitional,s=a&&a.forcedJSONParsing,n=this.responseType==="json";if(Ue.isResponse(r)||Ue.isReadableStream(r))return r;if(r&&Ue.isString(r)&&(s&&!this.responseType||n)){const o=!(a&&a.silentJSONParsing)&&n;try{return JSON.parse(r)}catch(d){if(o)throw d.name==="SyntaxError"?tr.from(d,tr.ERR_BAD_RESPONSE,this,null,this.response):d}}return r}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:xn.classes.FormData,Blob:xn.classes.Blob},validateStatus:function(r){return r>=200&&r<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ue.forEach(["delete","get","head","post","put","patch"],t=>{Fx.headers[t]={}});const cU=Ue.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),dU=t=>{const r={};let a,s,n;return t&&t.split(`
`).forEach(function(o){n=o.indexOf(":"),a=o.substring(0,n).trim().toLowerCase(),s=o.substring(n+1).trim(),!(!a||r[a]&&cU[a])&&(a==="set-cookie"?r[a]?r[a].push(s):r[a]=[s]:r[a]=r[a]?r[a]+", "+s:s)}),r},P6=Symbol("internals");function qh(t){return t&&String(t).trim().toLowerCase()}function Ip(t){return t===!1||t==null?t:Ue.isArray(t)?t.map(Ip):String(t)}function uU(t){const r=Object.create(null),a=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=a.exec(t);)r[s[1]]=s[2];return r}const mU=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Nv(t,r,a,s,n){if(Ue.isFunction(s))return s.call(this,r,a);if(n&&(r=a),!!Ue.isString(r)){if(Ue.isString(s))return r.indexOf(s)!==-1;if(Ue.isRegExp(s))return s.test(r)}}function fU(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(r,a,s)=>a.toUpperCase()+s)}function hU(t,r){const a=Ue.toCamelCase(" "+r);["get","set","has"].forEach(s=>{Object.defineProperty(t,s+a,{value:function(n,i,o){return this[s].call(this,r,n,i,o)},configurable:!0})})}let Zn=class{constructor(r){r&&this.set(r)}set(r,a,s){const n=this;function i(d,u,m){const f=qh(u);if(!f)throw new Error("header name must be a non-empty string");const x=Ue.findKey(n,f);(!x||n[x]===void 0||m===!0||m===void 0&&n[x]!==!1)&&(n[x||u]=Ip(d))}const o=(d,u)=>Ue.forEach(d,(m,f)=>i(m,f,u));if(Ue.isPlainObject(r)||r instanceof this.constructor)o(r,a);else if(Ue.isString(r)&&(r=r.trim())&&!mU(r))o(dU(r),a);else if(Ue.isObject(r)&&Ue.isIterable(r)){let d={},u,m;for(const f of r){if(!Ue.isArray(f))throw TypeError("Object iterator must return a key-value pair");d[m=f[0]]=(u=d[m])?Ue.isArray(u)?[...u,f[1]]:[u,f[1]]:f[1]}o(d,a)}else r!=null&&i(a,r,s);return this}get(r,a){if(r=qh(r),r){const s=Ue.findKey(this,r);if(s){const n=this[s];if(!a)return n;if(a===!0)return uU(n);if(Ue.isFunction(a))return a.call(this,n,s);if(Ue.isRegExp(a))return a.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}has(r,a){if(r=qh(r),r){const s=Ue.findKey(this,r);return!!(s&&this[s]!==void 0&&(!a||Nv(this,this[s],s,a)))}return!1}delete(r,a){const s=this;let n=!1;function i(o){if(o=qh(o),o){const d=Ue.findKey(s,o);d&&(!a||Nv(s,s[d],d,a))&&(delete s[d],n=!0)}}return Ue.isArray(r)?r.forEach(i):i(r),n}clear(r){const a=Object.keys(this);let s=a.length,n=!1;for(;s--;){const i=a[s];(!r||Nv(this,this[i],i,r,!0))&&(delete this[i],n=!0)}return n}normalize(r){const a=this,s={};return Ue.forEach(this,(n,i)=>{const o=Ue.findKey(s,i);if(o){a[o]=Ip(n),delete a[i];return}const d=r?fU(i):String(i).trim();d!==i&&delete a[i],a[d]=Ip(n),s[d]=!0}),this}concat(...r){return this.constructor.concat(this,...r)}toJSON(r){const a=Object.create(null);return Ue.forEach(this,(s,n)=>{s!=null&&s!==!1&&(a[n]=r&&Ue.isArray(s)?s.join(", "):s)}),a}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([r,a])=>r+": "+a).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(r){return r instanceof this?r:new this(r)}static concat(r,...a){const s=new this(r);return a.forEach(n=>s.set(n)),s}static accessor(r){const s=(this[P6]=this[P6]={accessors:{}}).accessors,n=this.prototype;function i(o){const d=qh(o);s[d]||(hU(n,o),s[d]=!0)}return Ue.isArray(r)?r.forEach(i):i(r),this}};Zn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Ue.reduceDescriptors(Zn.prototype,({value:t},r)=>{let a=r[0].toUpperCase()+r.slice(1);return{get:()=>t,set(s){this[a]=s}}});Ue.freezeMethods(Zn);function wv(t,r){const a=this||Fx,s=r||a,n=Zn.from(s.headers);let i=s.data;return Ue.forEach(t,function(d){i=d.call(a,i,n.normalize(),r?r.status:void 0)}),n.normalize(),i}function t9(t){return!!(t&&t.__CANCEL__)}function Rf(t,r,a){tr.call(this,t??"canceled",tr.ERR_CANCELED,r,a),this.name="CanceledError"}Ue.inherits(Rf,tr,{__CANCEL__:!0});function r9(t,r,a){const s=a.config.validateStatus;!a.status||!s||s(a.status)?t(a):r(new tr("Request failed with status code "+a.status,[tr.ERR_BAD_REQUEST,tr.ERR_BAD_RESPONSE][Math.floor(a.status/100)-4],a.config,a.request,a))}function xU(t){const r=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return r&&r[1]||""}function pU(t,r){t=t||10;const a=new Array(t),s=new Array(t);let n=0,i=0,o;return r=r!==void 0?r:1e3,function(u){const m=Date.now(),f=s[i];o||(o=m),a[n]=u,s[n]=m;let x=i,b=0;for(;x!==n;)b+=a[x++],x=x%t;if(n=(n+1)%t,n===i&&(i=(i+1)%t),m-o<r)return;const p=f&&m-f;return p?Math.round(b*1e3/p):void 0}}function gU(t,r){let a=0,s=1e3/r,n,i;const o=(m,f=Date.now())=>{a=f,n=null,i&&(clearTimeout(i),i=null),t(...m)};return[(...m)=>{const f=Date.now(),x=f-a;x>=s?o(m,f):(n=m,i||(i=setTimeout(()=>{i=null,o(n)},s-x)))},()=>n&&o(n)]}const ng=(t,r,a=3)=>{let s=0;const n=pU(50,250);return gU(i=>{const o=i.loaded,d=i.lengthComputable?i.total:void 0,u=o-s,m=n(u),f=o<=d;s=o;const x={loaded:o,total:d,progress:d?o/d:void 0,bytes:u,rate:m||void 0,estimated:m&&d&&f?(d-o)/m:void 0,event:i,lengthComputable:d!=null,[r?"download":"upload"]:!0};t(x)},a)},T6=(t,r)=>{const a=t!=null;return[s=>r[0]({lengthComputable:a,total:t,loaded:s}),r[1]]},O6=t=>(...r)=>Ue.asap(()=>t(...r)),yU=xn.hasStandardBrowserEnv?((t,r)=>a=>(a=new URL(a,xn.origin),t.protocol===a.protocol&&t.host===a.host&&(r||t.port===a.port)))(new URL(xn.origin),xn.navigator&&/(msie|trident)/i.test(xn.navigator.userAgent)):()=>!0,bU=xn.hasStandardBrowserEnv?{write(t,r,a,s,n,i){const o=[t+"="+encodeURIComponent(r)];Ue.isNumber(a)&&o.push("expires="+new Date(a).toGMTString()),Ue.isString(s)&&o.push("path="+s),Ue.isString(n)&&o.push("domain="+n),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const r=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function vU(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function jU(t,r){return r?t.replace(/\/?\/$/,"")+"/"+r.replace(/^\/+/,""):t}function a9(t,r,a){let s=!vU(r);return t&&(s||a==!1)?jU(t,r):r}const D6=t=>t instanceof Zn?{...t}:t;function Zu(t,r){r=r||{};const a={};function s(m,f,x,b){return Ue.isPlainObject(m)&&Ue.isPlainObject(f)?Ue.merge.call({caseless:b},m,f):Ue.isPlainObject(f)?Ue.merge({},f):Ue.isArray(f)?f.slice():f}function n(m,f,x,b){if(Ue.isUndefined(f)){if(!Ue.isUndefined(m))return s(void 0,m,x,b)}else return s(m,f,x,b)}function i(m,f){if(!Ue.isUndefined(f))return s(void 0,f)}function o(m,f){if(Ue.isUndefined(f)){if(!Ue.isUndefined(m))return s(void 0,m)}else return s(void 0,f)}function d(m,f,x){if(x in r)return s(m,f);if(x in t)return s(void 0,m)}const u={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:d,headers:(m,f,x)=>n(D6(m),D6(f),x,!0)};return Ue.forEach(Object.keys({...t,...r}),function(f){const x=u[f]||n,b=x(t[f],r[f],f);Ue.isUndefined(b)&&x!==d||(a[f]=b)}),a}const s9=t=>{const r=Zu({},t);let{data:a,withXSRFToken:s,xsrfHeaderName:n,xsrfCookieName:i,headers:o,auth:d}=r;r.headers=o=Zn.from(o),r.url=ZC(a9(r.baseURL,r.url,r.allowAbsoluteUrls),t.params,t.paramsSerializer),d&&o.set("Authorization","Basic "+btoa((d.username||"")+":"+(d.password?unescape(encodeURIComponent(d.password)):"")));let u;if(Ue.isFormData(a)){if(xn.hasStandardBrowserEnv||xn.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((u=o.getContentType())!==!1){const[m,...f]=u?u.split(";").map(x=>x.trim()).filter(Boolean):[];o.setContentType([m||"multipart/form-data",...f].join("; "))}}if(xn.hasStandardBrowserEnv&&(s&&Ue.isFunction(s)&&(s=s(r)),s||s!==!1&&yU(r.url))){const m=n&&i&&bU.read(i);m&&o.set(n,m)}return r},NU=typeof XMLHttpRequest<"u",wU=NU&&function(t){return new Promise(function(a,s){const n=s9(t);let i=n.data;const o=Zn.from(n.headers).normalize();let{responseType:d,onUploadProgress:u,onDownloadProgress:m}=n,f,x,b,p,v;function j(){p&&p(),v&&v(),n.cancelToken&&n.cancelToken.unsubscribe(f),n.signal&&n.signal.removeEventListener("abort",f)}let w=new XMLHttpRequest;w.open(n.method.toUpperCase(),n.url,!0),w.timeout=n.timeout;function N(){if(!w)return;const A=Zn.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),T={data:!d||d==="text"||d==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:A,config:t,request:w};r9(function(E){a(E),j()},function(E){s(E),j()},T),w=null}"onloadend"in w?w.onloadend=N:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(N)},w.onabort=function(){w&&(s(new tr("Request aborted",tr.ECONNABORTED,t,w)),w=null)},w.onerror=function(){s(new tr("Network Error",tr.ERR_NETWORK,t,w)),w=null},w.ontimeout=function(){let D=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const T=n.transitional||QC;n.timeoutErrorMessage&&(D=n.timeoutErrorMessage),s(new tr(D,T.clarifyTimeoutError?tr.ETIMEDOUT:tr.ECONNABORTED,t,w)),w=null},i===void 0&&o.setContentType(null),"setRequestHeader"in w&&Ue.forEach(o.toJSON(),function(D,T){w.setRequestHeader(T,D)}),Ue.isUndefined(n.withCredentials)||(w.withCredentials=!!n.withCredentials),d&&d!=="json"&&(w.responseType=n.responseType),m&&([b,v]=ng(m,!0),w.addEventListener("progress",b)),u&&w.upload&&([x,p]=ng(u),w.upload.addEventListener("progress",x),w.upload.addEventListener("loadend",p)),(n.cancelToken||n.signal)&&(f=A=>{w&&(s(!A||A.type?new Rf(null,t,w):A),w.abort(),w=null)},n.cancelToken&&n.cancelToken.subscribe(f),n.signal&&(n.signal.aborted?f():n.signal.addEventListener("abort",f)));const P=xU(n.url);if(P&&xn.protocols.indexOf(P)===-1){s(new tr("Unsupported protocol "+P+":",tr.ERR_BAD_REQUEST,t));return}w.send(i||null)})},SU=(t,r)=>{const{length:a}=t=t?t.filter(Boolean):[];if(r||a){let s=new AbortController,n;const i=function(m){if(!n){n=!0,d();const f=m instanceof Error?m:this.reason;s.abort(f instanceof tr?f:new Rf(f instanceof Error?f.message:f))}};let o=r&&setTimeout(()=>{o=null,i(new tr(`timeout ${r} of ms exceeded`,tr.ETIMEDOUT))},r);const d=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(m=>{m.unsubscribe?m.unsubscribe(i):m.removeEventListener("abort",i)}),t=null)};t.forEach(m=>m.addEventListener("abort",i));const{signal:u}=s;return u.unsubscribe=()=>Ue.asap(d),u}},_U=function*(t,r){let a=t.byteLength;if(a<r){yield t;return}let s=0,n;for(;s<a;)n=s+r,yield t.slice(s,n),s=n},AU=async function*(t,r){for await(const a of kU(t))yield*_U(a,r)},kU=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const r=t.getReader();try{for(;;){const{done:a,value:s}=await r.read();if(a)break;yield s}}finally{await r.cancel()}},L6=(t,r,a,s)=>{const n=AU(t,r);let i=0,o,d=u=>{o||(o=!0,s&&s(u))};return new ReadableStream({async pull(u){try{const{done:m,value:f}=await n.next();if(m){d(),u.close();return}let x=f.byteLength;if(a){let b=i+=x;a(b)}u.enqueue(new Uint8Array(f))}catch(m){throw d(m),m}},cancel(u){return d(u),n.return()}},{highWaterMark:2})},dy=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",n9=dy&&typeof ReadableStream=="function",CU=dy&&(typeof TextEncoder=="function"?(t=>r=>t.encode(r))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),i9=(t,...r)=>{try{return!!t(...r)}catch{return!1}},EU=n9&&i9(()=>{let t=!1;const r=new Request(xn.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!r}),M6=64*1024,tj=n9&&i9(()=>Ue.isReadableStream(new Response("").body)),ig={stream:tj&&(t=>t.body)};dy&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(r=>{!ig[r]&&(ig[r]=Ue.isFunction(t[r])?a=>a[r]():(a,s)=>{throw new tr(`Response type '${r}' is not supported`,tr.ERR_NOT_SUPPORT,s)})})})(new Response);const PU=async t=>{if(t==null)return 0;if(Ue.isBlob(t))return t.size;if(Ue.isSpecCompliantForm(t))return(await new Request(xn.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(Ue.isArrayBufferView(t)||Ue.isArrayBuffer(t))return t.byteLength;if(Ue.isURLSearchParams(t)&&(t=t+""),Ue.isString(t))return(await CU(t)).byteLength},TU=async(t,r)=>{const a=Ue.toFiniteNumber(t.getContentLength());return a??PU(r)},OU=dy&&(async t=>{let{url:r,method:a,data:s,signal:n,cancelToken:i,timeout:o,onDownloadProgress:d,onUploadProgress:u,responseType:m,headers:f,withCredentials:x="same-origin",fetchOptions:b}=s9(t);m=m?(m+"").toLowerCase():"text";let p=SU([n,i&&i.toAbortSignal()],o),v;const j=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let w;try{if(u&&EU&&a!=="get"&&a!=="head"&&(w=await TU(f,s))!==0){let T=new Request(r,{method:"POST",body:s,duplex:"half"}),R;if(Ue.isFormData(s)&&(R=T.headers.get("content-type"))&&f.setContentType(R),T.body){const[E,O]=T6(w,ng(O6(u)));s=L6(T.body,M6,E,O)}}Ue.isString(x)||(x=x?"include":"omit");const N="credentials"in Request.prototype;v=new Request(r,{...b,signal:p,method:a.toUpperCase(),headers:f.normalize().toJSON(),body:s,duplex:"half",credentials:N?x:void 0});let P=await fetch(v,b);const A=tj&&(m==="stream"||m==="response");if(tj&&(d||A&&j)){const T={};["status","statusText","headers"].forEach(k=>{T[k]=P[k]});const R=Ue.toFiniteNumber(P.headers.get("content-length")),[E,O]=d&&T6(R,ng(O6(d),!0))||[];P=new Response(L6(P.body,M6,E,()=>{O&&O(),j&&j()}),T)}m=m||"text";let D=await ig[Ue.findKey(ig,m)||"text"](P,t);return!A&&j&&j(),await new Promise((T,R)=>{r9(T,R,{data:D,headers:Zn.from(P.headers),status:P.status,statusText:P.statusText,config:t,request:v})})}catch(N){throw j&&j(),N&&N.name==="TypeError"&&/Load failed|fetch/i.test(N.message)?Object.assign(new tr("Network Error",tr.ERR_NETWORK,t,v),{cause:N.cause||N}):tr.from(N,N&&N.code,t,v)}}),rj={http:Vz,xhr:wU,fetch:OU};Ue.forEach(rj,(t,r)=>{if(t){try{Object.defineProperty(t,"name",{value:r})}catch{}Object.defineProperty(t,"adapterName",{value:r})}});const R6=t=>`- ${t}`,DU=t=>Ue.isFunction(t)||t===null||t===!1,l9={getAdapter:t=>{t=Ue.isArray(t)?t:[t];const{length:r}=t;let a,s;const n={};for(let i=0;i<r;i++){a=t[i];let o;if(s=a,!DU(a)&&(s=rj[(o=String(a)).toLowerCase()],s===void 0))throw new tr(`Unknown adapter '${o}'`);if(s)break;n[o||"#"+i]=s}if(!s){const i=Object.entries(n).map(([d,u])=>`adapter ${d} `+(u===!1?"is not supported by the environment":"is not available in the build"));let o=r?i.length>1?`since :
`+i.map(R6).join(`
`):" "+R6(i[0]):"as no adapter specified";throw new tr("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return s},adapters:rj};function Sv(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Rf(null,t)}function $6(t){return Sv(t),t.headers=Zn.from(t.headers),t.data=wv.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),l9.getAdapter(t.adapter||Fx.adapter)(t).then(function(s){return Sv(t),s.data=wv.call(t,t.transformResponse,s),s.headers=Zn.from(s.headers),s},function(s){return t9(s)||(Sv(t),s&&s.response&&(s.response.data=wv.call(t,t.transformResponse,s.response),s.response.headers=Zn.from(s.response.headers))),Promise.reject(s)})}const o9="1.11.0",uy={};["object","boolean","number","function","string","symbol"].forEach((t,r)=>{uy[t]=function(s){return typeof s===t||"a"+(r<1?"n ":" ")+t}});const I6={};uy.transitional=function(r,a,s){function n(i,o){return"[Axios v"+o9+"] Transitional option '"+i+"'"+o+(s?". "+s:"")}return(i,o,d)=>{if(r===!1)throw new tr(n(o," has been removed"+(a?" in "+a:"")),tr.ERR_DEPRECATED);return a&&!I6[o]&&(I6[o]=!0,console.warn(n(o," has been deprecated since v"+a+" and will be removed in the near future"))),r?r(i,o,d):!0}};uy.spelling=function(r){return(a,s)=>(console.warn(`${s} is likely a misspelling of ${r}`),!0)};function LU(t,r,a){if(typeof t!="object")throw new tr("options must be an object",tr.ERR_BAD_OPTION_VALUE);const s=Object.keys(t);let n=s.length;for(;n-- >0;){const i=s[n],o=r[i];if(o){const d=t[i],u=d===void 0||o(d,i,t);if(u!==!0)throw new tr("option "+i+" must be "+u,tr.ERR_BAD_OPTION_VALUE);continue}if(a!==!0)throw new tr("Unknown option "+i,tr.ERR_BAD_OPTION)}}const Fp={assertOptions:LU,validators:uy},go=Fp.validators;let Bu=class{constructor(r){this.defaults=r||{},this.interceptors={request:new E6,response:new E6}}async request(r,a){try{return await this._request(r,a)}catch(s){if(s instanceof Error){let n={};Error.captureStackTrace?Error.captureStackTrace(n):n=new Error;const i=n.stack?n.stack.replace(/^.+\n/,""):"";try{s.stack?i&&!String(s.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+i):s.stack=i}catch{}}throw s}}_request(r,a){typeof r=="string"?(a=a||{},a.url=r):a=r||{},a=Zu(this.defaults,a);const{transitional:s,paramsSerializer:n,headers:i}=a;s!==void 0&&Fp.assertOptions(s,{silentJSONParsing:go.transitional(go.boolean),forcedJSONParsing:go.transitional(go.boolean),clarifyTimeoutError:go.transitional(go.boolean)},!1),n!=null&&(Ue.isFunction(n)?a.paramsSerializer={serialize:n}:Fp.assertOptions(n,{encode:go.function,serialize:go.function},!0)),a.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?a.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:a.allowAbsoluteUrls=!0),Fp.assertOptions(a,{baseUrl:go.spelling("baseURL"),withXsrfToken:go.spelling("withXSRFToken")},!0),a.method=(a.method||this.defaults.method||"get").toLowerCase();let o=i&&Ue.merge(i.common,i[a.method]);i&&Ue.forEach(["delete","get","head","post","put","patch","common"],v=>{delete i[v]}),a.headers=Zn.concat(o,i);const d=[];let u=!0;this.interceptors.request.forEach(function(j){typeof j.runWhen=="function"&&j.runWhen(a)===!1||(u=u&&j.synchronous,d.unshift(j.fulfilled,j.rejected))});const m=[];this.interceptors.response.forEach(function(j){m.push(j.fulfilled,j.rejected)});let f,x=0,b;if(!u){const v=[$6.bind(this),void 0];for(v.unshift(...d),v.push(...m),b=v.length,f=Promise.resolve(a);x<b;)f=f.then(v[x++],v[x++]);return f}b=d.length;let p=a;for(x=0;x<b;){const v=d[x++],j=d[x++];try{p=v(p)}catch(w){j.call(this,w);break}}try{f=$6.call(this,p)}catch(v){return Promise.reject(v)}for(x=0,b=m.length;x<b;)f=f.then(m[x++],m[x++]);return f}getUri(r){r=Zu(this.defaults,r);const a=a9(r.baseURL,r.url,r.allowAbsoluteUrls);return ZC(a,r.params,r.paramsSerializer)}};Ue.forEach(["delete","get","head","options"],function(r){Bu.prototype[r]=function(a,s){return this.request(Zu(s||{},{method:r,url:a,data:(s||{}).data}))}});Ue.forEach(["post","put","patch"],function(r){function a(s){return function(i,o,d){return this.request(Zu(d||{},{method:r,headers:s?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}Bu.prototype[r]=a(),Bu.prototype[r+"Form"]=a(!0)});let MU=class c9{constructor(r){if(typeof r!="function")throw new TypeError("executor must be a function.");let a;this.promise=new Promise(function(i){a=i});const s=this;this.promise.then(n=>{if(!s._listeners)return;let i=s._listeners.length;for(;i-- >0;)s._listeners[i](n);s._listeners=null}),this.promise.then=n=>{let i;const o=new Promise(d=>{s.subscribe(d),i=d}).then(n);return o.cancel=function(){s.unsubscribe(i)},o},r(function(i,o,d){s.reason||(s.reason=new Rf(i,o,d),a(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(r){if(this.reason){r(this.reason);return}this._listeners?this._listeners.push(r):this._listeners=[r]}unsubscribe(r){if(!this._listeners)return;const a=this._listeners.indexOf(r);a!==-1&&this._listeners.splice(a,1)}toAbortSignal(){const r=new AbortController,a=s=>{r.abort(s)};return this.subscribe(a),r.signal.unsubscribe=()=>this.unsubscribe(a),r.signal}static source(){let r;return{token:new c9(function(n){r=n}),cancel:r}}};function RU(t){return function(a){return t.apply(null,a)}}function $U(t){return Ue.isObject(t)&&t.isAxiosError===!0}const aj={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(aj).forEach(([t,r])=>{aj[r]=t});function d9(t){const r=new Bu(t),a=BC(Bu.prototype.request,r);return Ue.extend(a,Bu.prototype,r,{allOwnKeys:!0}),Ue.extend(a,r,null,{allOwnKeys:!0}),a.create=function(n){return d9(Zu(t,n))},a}const de=d9(Fx);de.Axios=Bu;de.CanceledError=Rf;de.CancelToken=MU;de.isCancel=t9;de.VERSION=o9;de.toFormData=cy;de.AxiosError=tr;de.Cancel=de.CanceledError;de.all=function(r){return Promise.all(r)};de.spread=RU;de.isAxiosError=$U;de.mergeConfig=Zu;de.AxiosHeaders=Zn;de.formToJSON=t=>e9(Ue.isHTMLForm(t)?new FormData(t):t);de.getAdapter=l9.getAdapter;de.HttpStatusCode=aj;de.default=de;const{Axios:Fde,AxiosError:Bde,CanceledError:zde,isCancel:Ude,CancelToken:qde,VERSION:Hde,all:Gde,Cancel:Yde,isAxiosError:Vde,spread:Kde,toFormData:Wde,AxiosHeaders:Xde,HttpStatusCode:Jde,formToJSON:Zde,getAdapter:Qde,mergeConfig:eue}=de,IU=()=>{const{token:t}=et(),[r,a]=g.useState([]),[s,n]=g.useState(!0),[i,o]=g.useState(null),[d,u]=g.useState(""),[m,f]=g.useState(""),[x,b]=g.useState(1),[p,v]=g.useState(1),[j,w]=g.useState(0),[N]=g.useState(10);g.useEffect(()=>{P()},[x,m]);const P=async()=>{try{if(n(!0),o(null),m&&m.trim()!==""){console.log("🔍 Searching for:",m);const E=(await de.get(`${ce}/students/search`,{params:{query:m.trim()},headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}})).data;console.log("🔍 Search results:",E),a(E.data||[]),v(1),w(E.totalResults||0)}else{console.log("📄 Fetching page:",x);const E=(await de.get(`${ce}/students`,{params:{page:x,limit:N},headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}})).data;console.log("📊 Pagination data:",E.pagination),console.log("📊 Raw response:",E);const O=E.pagination?.totalPages||1,k=E.pagination?.totalStudents||0;console.log("📊 Setting totalPages:",O,"totalStudents:",k),a(E.data||[]),v(O),w(k)}}catch(R){console.error("Error fetching students:",R),R.response?o(`Error: ${R.response.status} - ${R.response.data?.message||R.response.statusText}`):R.request?o("No response from server. Please check your connection."):o(`Error: ${R.message}`)}finally{n(!1)}},A=R=>{R.preventDefault(),console.log("🔍 Starting search with term:",d),f(d),b(1)},D=()=>{console.log("🧹 Clearing search"),u(""),f(""),b(1)},T=async R=>{if(window.confirm("Are you sure you want to delete this student?"))try{await de.delete(`${ce}/students/${R}`,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}}),P()}catch(E){console.error("Error deleting student:",E),E.response?o(`Failed to delete student: ${E.response.status} - ${E.response.data?.message||E.response.statusText}`):E.request?o("No response from server. Please check your connection."):o(`Error: ${E.message}`)}};return s&&r.length===0?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"text-gray-500",children:"Loading students..."})}):e.jsxs("div",{className:"px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"sm:flex sm:items-center",children:[e.jsxs("div",{className:"sm:flex-auto",children:[e.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:"Students"}),e.jsx("p",{className:"mt-2 text-xs text-gray-700",children:"Manage student registrations and information"})]}),e.jsx("div",{className:"mt-4 sm:mt-0 sm:ml-16 sm:flex-none",children:e.jsxs(Yt,{to:"/dashboard/students/add",className:"inline-flex items-center justify-center border border-transparent bg-gray-700 px-3 py-1.5 text-xs font-medium text-white shadow-sm hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 sm:w-auto",children:[e.jsx(I,{icon:_t,className:"mr-2"}),"Add Student"]})})]}),e.jsxs("div",{className:"mt-6",children:[e.jsxs("form",{onSubmit:A,className:"flex gap-2",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(I,{icon:Vt,className:"h-4 w-4 text-gray-400"})}),e.jsx("input",{type:"text",value:d,onChange:R=>u(R.target.value),placeholder:"Search by name, surname, or registration number...",className:"block w-full pl-10 pr-10 py-1.5 border border-gray-300 leading-5 bg-white placeholder-gray-400 focus:outline-none focus:placeholder-gray-300 focus:ring-1 focus:ring-gray-500 focus:border-gray-500 text-xs"}),d&&e.jsx("button",{type:"button",onClick:D,className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600",children:e.jsx("span",{className:"text-xs",children:"✕"})})]})}),e.jsx("button",{type:"submit",className:"inline-flex items-center justify-center px-3 py-1.5 border border-transparent text-xs font-medium text-white bg-gray-700 hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",children:e.jsx(I,{icon:Vt,className:"h-3 w-3"})})]}),m&&e.jsxs("div",{className:"mt-2 text-xs text-gray-600",children:[s?"Searching...":`Found ${j} results for "${m}"`,e.jsx("button",{onClick:D,className:"ml-2 text-blue-600 hover:text-blue-800 underline",children:"Clear search"})]})]}),i&&e.jsx("div",{className:"mt-4 bg-red-50 border border-red-200 rounded-md p-4",children:e.jsx("div",{className:"text-sm text-red-600",children:i})}),e.jsx("div",{className:"mt-8 flex flex-col",children:e.jsx("div",{className:"-my-2 -mx-4 overflow-x-auto sm:-mx-6 lg:-mx-8",children:e.jsx("div",{className:"inline-block min-w-full py-2 align-middle md:px-6 lg:px-8",children:e.jsx("div",{className:"overflow-hidden border border-gray-200",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-300",children:[e.jsx("thead",{className:"bg-gray-100/30",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 tracking-wider",children:"Reg Number"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 tracking-wider",children:"Name"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 tracking-wider",children:"Surname"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 tracking-wider",children:"Gender"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 tracking-wider",children:"Status"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(R=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:e.jsx("div",{className:"text-xs text-gray-900 font-mono",children:R.RegNumber})}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:e.jsx("div",{className:"text-xs text-gray-900",children:R.Name})}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:e.jsx("div",{className:"text-xs text-gray-900",children:R.Surname})}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:e.jsx("div",{className:"text-xs text-gray-900",children:R.Gender||"N/A"})}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:e.jsx("div",{className:"text-xs text-gray-900",children:R.Active||"Unknown"})}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-xs font-medium",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(Yt,{to:`/dashboard/students/view/${R.RegNumber}`,className:"text-blue-600 hover:text-blue-900",children:e.jsx(I,{icon:Fr,className:"h-4 w-4"})}),e.jsx(Yt,{to:`/dashboard/students/edit/${R.RegNumber}`,className:"text-indigo-600 hover:text-indigo-900",children:e.jsx(I,{icon:lr,className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>T(R.RegNumber),className:"text-red-600 hover:text-red-900",children:e.jsx(I,{icon:Mt,className:"h-4 w-4"})})]})})]},R.RegNumber))})]})})})})}),(console.log("🔢 Pagination check - activeSearchTerm:",m,"totalPages:",p,"should show:",!m&&p>1),null),!m&&(p>1||!1)&&e.jsxs("div",{className:"mt-6 flex items-center justify-between",children:[e.jsxs("div",{className:"text-xs text-gray-700",children:["Showing page ",x," of ",p," (",j," total students)"]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("button",{onClick:()=>b(Math.max(1,x-1)),disabled:x===1,className:"px-2 py-1 text-xs font-medium text-gray-500 bg-white border border-gray-300 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),(()=>{const R=[],E=Math.max(1,x-2),O=Math.min(p,x+2);E>1&&(R.push(e.jsx("button",{onClick:()=>b(1),className:"px-2 py-1 text-xs font-medium text-gray-500 bg-white border border-gray-300 hover:bg-gray-50",children:"1"},1)),E>2&&R.push(e.jsx("span",{className:"px-1 text-xs text-gray-400",children:"..."},"dots1")));for(let k=E;k<=O;k++)R.push(e.jsx("button",{onClick:()=>b(k),className:`px-2 py-1 text-xs font-medium border ${k===x?"bg-gray-700 text-white border-gray-700":"text-gray-500 bg-white border-gray-300 hover:bg-gray-50"}`,children:k},k));return O<p&&(O<p-1&&R.push(e.jsx("span",{className:"px-1 text-xs text-gray-400",children:"..."},"dots2")),R.push(e.jsx("button",{onClick:()=>b(p),className:"px-2 py-1 text-xs font-medium text-gray-500 bg-white border border-gray-300 hover:bg-gray-50",children:p},p))),R})(),e.jsx("button",{onClick:()=>b(Math.min(p,x+1)),disabled:x===p,className:"px-2 py-1 text-xs font-medium text-gray-500 bg-white border border-gray-300 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})},FU=()=>{const t=br(),{token:r}=et(),[a,s]=g.useState(!1),[n,i]=g.useState(null),[o,d]=g.useState(!1),[u,m]=g.useState(!1),[f,x]=g.useState(null),[b,p]=g.useState(!1),[v,j]=g.useState(null),[w,N]=g.useState({regNumber:"",name:"",surname:"",dateOfBirth:"",nationalIDNumber:"",address:"",gender:"",active:"Yes",guardianName:"",guardianSurname:"",guardianNationalIDNumber:"",guardianPhoneNumber:"",relationshipToStudent:""}),P=k=>{const{name:Y,value:$}=k.target;N(M=>({...M,[Y]:$}))},A=()=>{N({regNumber:"",name:"",surname:"",dateOfBirth:"",nationalIDNumber:"",address:"",gender:"",active:"Yes",guardianName:"",guardianSurname:"",guardianNationalIDNumber:"",guardianPhoneNumber:"",relationshipToStudent:""}),i(null)},D=()=>{const k=Math.floor(Math.random()*1e5).toString().padStart(5,"0"),Y="ABCDEFGHIJKLMNOPQRSTUVWXYZ",$=Y[Math.floor(Math.random()*Y.length)];return`R${k}${$}`},T=async k=>{try{return(await de.get(`${ce}/students/${k}`,{headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"}})).status===200}catch(Y){if(Y.response&&Y.response.status===404)return!1;throw Y}},R=async()=>{d(!0),i(null);try{let k,Y=0;const $=10;do if(k=D(),Y++,Y>=$)throw new Error("Unable to generate unique registration number. Please try again.");while(await T(k));N(M=>({...M,regNumber:k}))}catch(k){console.error("Error generating registration number:",k),i(`Error generating registration number: ${k.message}`)}finally{d(!1)}},E=async k=>{k.preventDefault(),s(!0),i(null);try{const $=(await de.post(`${ce}/students`,w,{headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"}})).data;x($.data),m(!0),A()}catch(Y){console.error("Error adding student:",Y);let $="An unexpected error occurred",M="general",F="";if(Y.response){const K=Y.response.data,q=Y.response.status;if(K?.errorType&&K?.error)$=K.error,M=K.errorType,K.field==="regNumber"?F="Registration Number":K.field==="nationalIDNumber"?F="National ID Number":K.field&&(F=K.field);else if(q===500&&K?.error){const U=K.error.toLowerCase();U.includes("duplicate entry")&&U.includes("regnumber")?($="A student with this registration number already exists. Please use a different registration number.",M="duplicate",F="Registration Number"):U.includes("duplicate entry")&&U.includes("nationalidnumber")?($="National ID number already exists. A student with this National ID is already registered.",M="duplicate",F="National ID Number"):U.includes("duplicate entry")?($="This information already exists in the system. Please check your entries and try again.",M="duplicate",F="Duplicate Data"):($=K.error||"Database error occurred",M="database")}else $=K?.error||`Server Error (${q}): ${Y.response.statusText}`,M="server"}else Y.request?($="No response from server. Please check your internet connection and try again.",M="network"):($=Y.message||"An unexpected error occurred",M="general");j({message:$,type:M,field:F,originalError:Y.response?.data?.error||Y.message}),p(!0)}finally{s(!1)}},O=()=>w.regNumber&&w.name&&w.surname&&w.dateOfBirth&&w.gender&&w.guardianName&&w.guardianSurname&&w.guardianPhoneNumber;return e.jsxs("div",{className:"px-4 sm:px-6 lg:px-8",children:[u&&e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:e.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 bg-white",children:e.jsxs("div",{className:"mt-3 text-center",children:[e.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 bg-green-100 rounded-full",children:e.jsx("svg",{className:"h-6 w-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 mt-4",children:"Student Added Successfully!"}),e.jsx("div",{className:"mt-2 px-7 py-3",children:e.jsxs("p",{className:"text-xs text-gray-500",children:["Student ",e.jsxs("strong",{children:[f?.name," ",f?.surname]})," has been successfully registered with registration number ",e.jsx("strong",{children:f?.regNumber}),"."]})}),e.jsxs("div",{className:"items-center px-4 py-3",children:[e.jsx("button",{onClick:()=>m(!1),className:"px-4 py-2 bg-gray-700 text-white text-xs font-medium hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-gray-500 w-full",children:"Add Another Student"}),e.jsx("button",{onClick:()=>{m(!1),t("/dashboard/students")},className:"mt-2 px-4 py-2 bg-white border border-gray-300 text-gray-700 text-xs font-medium hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500 w-full",children:"View All Students"})]})]})})}),b&&e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:e.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 bg-white",children:e.jsxs("div",{className:"mt-3 text-center",children:[e.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 bg-red-100 rounded-full",children:e.jsx("svg",{className:"h-6 w-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})}),e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 mt-4",children:v?.type==="duplicate"?"Duplicate Information":v?.type==="network"?"Connection Error":v?.type==="database"?"Database Error":"Error Adding Student"}),e.jsxs("div",{className:"mt-2 px-7 py-3",children:[e.jsx("p",{className:"text-xs text-gray-700 mb-3",children:v?.message}),v?.field&&e.jsxs("p",{className:"text-xs text-red-600 font-medium",children:["Field: ",v.field]}),v?.type==="duplicate"&&e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Please check your information and try again."})]}),e.jsxs("div",{className:"items-center px-4 py-3",children:[e.jsx("button",{onClick:()=>{p(!1),j(null)},className:"px-4 py-2 bg-red-600 text-white text-xs font-medium hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 w-full",children:"Close"}),v?.type==="duplicate"&&v?.field==="Registration Number"&&e.jsx("button",{onClick:()=>{p(!1),j(null),R()},className:"mt-2 px-4 py-2 bg-gray-700 text-white text-xs font-medium hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-gray-500 w-full",children:"Generate New Registration Number"})]})]})})}),e.jsx("div",{className:"sm:flex sm:items-center",children:e.jsx("div",{className:"sm:flex-auto",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-sm font-semibold text-gray-900",children:"Add New Student"}),e.jsx("p",{className:"mt-2 text-xs text-gray-700",children:"Register a new student with guardian information"})]})})}),n&&e.jsx("div",{className:"mt-4 bg-red-50 border border-red-200 p-4",children:e.jsx("div",{className:"text-sm text-red-600",children:n})}),e.jsxs("form",{onSubmit:E,className:"mt-8 space-y-8",children:[e.jsxs("div",{className:"bg-white overflow-hidden border border-gray-200",children:[e.jsx("div",{className:"px-4 py-5 sm:px-6",children:e.jsxs("h3",{className:"text-lg leading-6 font-medium text-gray-900 flex items-center",children:[e.jsx(I,{icon:La,className:"mr-2 text-blue-600"}),"Student Information"]})}),e.jsx("div",{className:"border-t border-gray-200",children:e.jsx("div",{className:"px-4 py-5 sm:p-6",children:e.jsxs("div",{className:"grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-6",children:[e.jsxs("div",{className:"sm:col-span-2",children:[e.jsxs("label",{htmlFor:"regNumber",className:"block text-xs font-medium text-gray-600",children:["Registration Number ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"mt-1 flex",children:[e.jsx("input",{type:"text",name:"regNumber",id:"regNumber",required:!0,value:w.regNumber,onChange:P,className:"flex-1 border border-gray-300 px-3 py-2 text-gray-900 placeholder-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 text-xs",placeholder:"Enter manually or generate"}),e.jsx("button",{type:"button",onClick:R,disabled:o,className:"ml-2 inline-flex items-center justify-center border border-transparent bg-gray-700 px-3 py-2 text-xs font-medium text-white hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",children:o?"Generating...":"Generate"})]})]}),e.jsxs("div",{className:"sm:col-span-2",children:[e.jsxs("label",{htmlFor:"name",className:"block text-xs font-medium text-gray-600",children:["First Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"name",id:"name",required:!0,value:w.name,onChange:P,className:"mt-1 block w-full border border-gray-300 px-3 py-2 text-gray-900 placeholder-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 text-xs",placeholder:"First name"})]}),e.jsxs("div",{className:"sm:col-span-2",children:[e.jsxs("label",{htmlFor:"surname",className:"block text-xs font-medium text-gray-600",children:["Surname ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"surname",id:"surname",required:!0,value:w.surname,onChange:P,className:"mt-1 block w-full border border-gray-300 px-3 py-2 text-gray-900 placeholder-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 text-xs",placeholder:"Surname"})]}),e.jsxs("div",{className:"sm:col-span-2",children:[e.jsxs("label",{htmlFor:"dateOfBirth",className:"block text-xs font-medium text-gray-600",children:["Date of Birth ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"date",name:"dateOfBirth",id:"dateOfBirth",required:!0,value:w.dateOfBirth,onChange:P,className:"mt-1 block w-full border border-gray-300 px-3 py-2 text-gray-900 focus:outline-none focus:ring-blue-500 focus:border-blue-500 text-xs"})]}),e.jsxs("div",{className:"sm:col-span-2",children:[e.jsx("label",{htmlFor:"nationalIDNumber",className:"block text-xs font-medium text-gray-600",children:"National ID Number"}),e.jsx("input",{type:"text",name:"nationalIDNumber",id:"nationalIDNumber",value:w.nationalIDNumber,onChange:P,className:"mt-1 block w-full border border-gray-300 px-3 py-2 text-gray-900 placeholder-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 text-xs",placeholder:"National ID"})]}),e.jsxs("div",{className:"sm:col-span-2",children:[e.jsxs("label",{htmlFor:"gender",className:"block text-xs font-medium text-gray-600",children:["Gender ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{name:"gender",id:"gender",required:!0,value:w.gender,onChange:P,className:"mt-1 block w-full border border-gray-300 px-3 py-2 text-gray-900 focus:outline-none focus:ring-blue-500 focus:border-blue-500 text-xs",children:[e.jsx("option",{value:"",children:"Select gender"}),e.jsx("option",{value:"Male",children:"Male"}),e.jsx("option",{value:"Female",children:"Female"})]})]}),e.jsxs("div",{className:"sm:col-span-3",children:[e.jsx("label",{htmlFor:"address",className:"block text-xs font-medium text-gray-600",children:"Address"}),e.jsx("input",{type:"text",name:"address",id:"address",value:w.address,onChange:P,className:"mt-1 block w-full border border-gray-300 px-3 py-2 text-gray-900 placeholder-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 text-xs",placeholder:"Full address"})]})]})})})]}),e.jsxs("div",{className:"bg-white overflow-hidden border border-gray-200",children:[e.jsx("div",{className:"px-4 py-5 sm:px-6",children:e.jsxs("h3",{className:"text-lg leading-6 font-medium text-gray-900 flex items-center",children:[e.jsx(I,{icon:La,className:"mr-2 text-green-600"}),"Guardian Information"]})}),e.jsx("div",{className:"border-t border-gray-200",children:e.jsx("div",{className:"px-4 py-5 sm:p-6",children:e.jsxs("div",{className:"grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-6",children:[e.jsxs("div",{className:"sm:col-span-3",children:[e.jsxs("label",{htmlFor:"guardianName",className:"block text-xs font-medium text-gray-600",children:["Guardian First Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"guardianName",id:"guardianName",required:!0,value:w.guardianName,onChange:P,className:"mt-1 block w-full border border-gray-300 px-3 py-2 text-gray-900 placeholder-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 text-xs",placeholder:"Guardian first name"})]}),e.jsxs("div",{className:"sm:col-span-3",children:[e.jsxs("label",{htmlFor:"guardianSurname",className:"block text-xs font-medium text-gray-600",children:["Guardian Surname ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"guardianSurname",id:"guardianSurname",required:!0,value:w.guardianSurname,onChange:P,className:"mt-1 block w-full border border-gray-300 px-3 py-2 text-gray-900 placeholder-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 text-xs",placeholder:"Guardian surname"})]}),e.jsxs("div",{className:"sm:col-span-2",children:[e.jsx("label",{htmlFor:"guardianNationalIDNumber",className:"block text-xs font-medium text-gray-600",children:"Guardian National ID (Optional)"}),e.jsx("input",{type:"text",name:"guardianNationalIDNumber",id:"guardianNationalIDNumber",value:w.guardianNationalIDNumber,onChange:P,className:"mt-1 block w-full border border-gray-300 px-3 py-2 text-gray-900 placeholder-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 text-xs",placeholder:"Guardian national ID"})]}),e.jsxs("div",{className:"sm:col-span-2",children:[e.jsx("label",{htmlFor:"relationshipToStudent",className:"block text-xs font-medium text-gray-600",children:"Relationship to Student"}),e.jsx("input",{type:"text",name:"relationshipToStudent",id:"relationshipToStudent",value:w.relationshipToStudent,onChange:P,className:"mt-1 block w-full border border-gray-300 px-3 py-2 text-gray-900 placeholder-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 text-xs",placeholder:"e.g., Father, Mother, Uncle, Aunt"})]}),e.jsxs("div",{className:"sm:col-span-3",children:[e.jsxs("label",{htmlFor:"guardianPhoneNumber",className:"block text-xs font-medium text-gray-600",children:["Guardian Phone Number ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"tel",name:"guardianPhoneNumber",id:"guardianPhoneNumber",required:!0,value:w.guardianPhoneNumber,onChange:P,className:"mt-1 block w-full border border-gray-300 px-3 py-2 text-gray-900 placeholder-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 text-xs",placeholder:"Phone number"})]})]})})})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsxs(Yt,{to:"/dashboard/students",className:"inline-flex items-center justify-center border border-gray-300 bg-white px-3 py-1.5 text-xs font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 sm:w-auto",children:[e.jsx(I,{icon:Br,className:"mr-2"}),"Cancel"]}),e.jsxs("button",{type:"submit",disabled:!O()||a,className:"inline-flex items-center justify-center border border-transparent bg-gray-700 px-3 py-1.5 text-xs font-medium text-white hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 sm:w-auto disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(I,{icon:Dn,className:"mr-2"}),a?"Saving...":"Save Student"]})]})]})]})},BU=()=>{const{id:t}=On(),r=br(),{token:a}=et(),[s,n]=g.useState(!0),[i,o]=g.useState(!1),[d,u]=g.useState(null),[m,f]=g.useState(null),[x,b]=g.useState(!1),[p,v]=g.useState({regNumber:"",name:"",surname:"",dateOfBirth:"",nationalIDNumber:"",address:"",gender:"",active:"Yes",guardianName:"",guardianSurname:"",guardianNationalIDNumber:"",guardianPhoneNumber:"",relationshipToStudent:""});g.useEffect(()=>{j()},[t]);const j=async()=>{try{n(!0),u(null),console.log("🔍 Fetching student for edit with regNumber:",t);const D=(await de.get(`${ce}/students/${t}`,{headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"}})).data;console.log("✏️ Student data for edit:",D.data),f(D.data);const T=D.data,R=T.guardians?.[0];v({regNumber:T.RegNumber||"",name:T.Name||"",surname:T.Surname||"",dateOfBirth:T.DateOfBirth?T.DateOfBirth.split("T")[0]:"",nationalIDNumber:T.NationalIDNumber||"",address:T.Address||"",gender:T.Gender||"",active:T.Active==="Active"?"Yes":T.Active==="Inactive"?"No":T.Active||"Yes",guardianName:R?.Name||"",guardianSurname:R?.Surname||"",guardianNationalIDNumber:R?.NationalIDNumber||"",guardianPhoneNumber:R?.PhoneNumber||"",relationshipToStudent:R?.RelationshipToStudent||""})}catch(A){console.error("Error fetching student for edit:",A),A.response?A.response.status===404?u("Student not found"):u(`Error: ${A.response.status} - ${A.response.data?.message||A.response.statusText}`):A.request?u("No response from server. Please check your connection."):u(`Error: ${A.message}`)}finally{n(!1)}},w=A=>{const{name:D,value:T}=A.target;v(R=>({...R,[D]:T}))},N=async A=>{A.preventDefault(),o(!0),u(null);try{console.log("💾 Saving student data:",p);const D=await de.put(`${ce}/students/${t}`,p,{headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"}});console.log("✅ Student updated successfully:",D.data),b(!0)}catch(D){if(console.error("Error updating student:",D),D.response){const T=D.response.data;u(T?.error||`Failed to update student: ${D.response.status}`)}else D.request?u("No response from server. Please check your connection."):u(`Error: ${D.message}`)}finally{o(!1)}},P=()=>p.regNumber&&p.name&&p.surname&&p.dateOfBirth&&p.gender&&p.guardianName&&p.guardianSurname&&p.guardianPhoneNumber;return s?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"text-gray-500",children:"Loading student information..."})}):d?e.jsx("div",{className:"px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"bg-red-50 border border-red-200 p-4",children:e.jsx("div",{className:"text-sm text-red-600",children:d})})}):m?e.jsxs("div",{className:"px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"mb-6",children:e.jsx("div",{className:"flex items-center",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg font-bold text-gray-900",children:"Edit Student"}),e.jsxs("p",{className:"text-xs text-gray-500",children:[m.Name," ",m.Surname," - ",m.RegNumber]})]})})}),d&&e.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 p-4",children:e.jsx("div",{className:"text-sm text-red-600",children:d})}),e.jsxs("form",{onSubmit:N,className:"space-y-8",children:[e.jsxs("div",{className:"bg-white border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"px-4 py-3 sm:px-6",children:e.jsxs("h3",{className:"text-sm leading-6 font-medium text-gray-900 flex items-center",children:[e.jsx(I,{icon:La,className:"mr-2 text-blue-600"}),"Student Information"]})}),e.jsx("div",{className:"border-t border-gray-200",children:e.jsx("div",{className:"px-4 py-5 sm:p-6",children:e.jsxs("div",{className:"grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-6",children:[e.jsxs("div",{className:"sm:col-span-2",children:[e.jsxs("label",{htmlFor:"regNumber",className:"block text-xs font-medium text-gray-600",children:["Registration Number ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"regNumber",id:"regNumber",required:!0,value:p.regNumber,onChange:w,className:"mt-1 block w-full border border-gray-300 px-3 py-1.5 text-gray-900 placeholder-gray-300 focus:outline-none focus:ring-gray-500 focus:border-gray-500 text-xs",placeholder:"e.g., ST001"})]}),e.jsxs("div",{className:"sm:col-span-2",children:[e.jsxs("label",{htmlFor:"name",className:"block text-xs font-medium text-gray-600",children:["First Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"name",id:"name",required:!0,value:p.name,onChange:w,className:"mt-1 block w-full border border-gray-300 px-3 py-1.5 text-gray-900 placeholder-gray-300 focus:outline-none focus:ring-gray-500 focus:border-gray-500 text-xs",placeholder:"First name"})]}),e.jsxs("div",{className:"sm:col-span-2",children:[e.jsxs("label",{htmlFor:"surname",className:"block text-xs font-medium text-gray-600",children:["Surname ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"surname",id:"surname",required:!0,value:p.surname,onChange:w,className:"mt-1 block w-full border border-gray-300 px-3 py-1.5 text-gray-900 placeholder-gray-300 focus:outline-none focus:ring-gray-500 focus:border-gray-500 text-xs",placeholder:"Surname"})]}),e.jsxs("div",{className:"sm:col-span-2",children:[e.jsxs("label",{htmlFor:"dateOfBirth",className:"block text-xs font-medium text-gray-600",children:["Date of Birth ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"date",name:"dateOfBirth",id:"dateOfBirth",required:!0,value:p.dateOfBirth,onChange:w,className:"mt-1 block w-full border border-gray-300 px-3 py-1.5 text-gray-900 focus:outline-none focus:ring-gray-500 focus:border-gray-500 text-xs"})]}),e.jsxs("div",{className:"sm:col-span-2",children:[e.jsx("label",{htmlFor:"nationalIDNumber",className:"block text-xs font-medium text-gray-600",children:"National ID Number"}),e.jsx("input",{type:"text",name:"nationalIDNumber",id:"nationalIDNumber",value:p.nationalIDNumber,onChange:w,className:"mt-1 block w-full border border-gray-300 px-3 py-1.5 text-gray-900 placeholder-gray-300 focus:outline-none focus:ring-gray-500 focus:border-gray-500 text-xs",placeholder:"National ID"})]}),e.jsxs("div",{className:"sm:col-span-2",children:[e.jsxs("label",{htmlFor:"gender",className:"block text-xs font-medium text-gray-600",children:["Gender ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{name:"gender",id:"gender",required:!0,value:p.gender,onChange:w,className:"mt-1 block w-full border border-gray-300 px-3 py-1.5 text-gray-900 focus:outline-none focus:ring-gray-500 focus:border-gray-500 text-xs",children:[e.jsx("option",{value:"",children:"Select gender"}),e.jsx("option",{value:"Male",children:"Male"}),e.jsx("option",{value:"Female",children:"Female"})]})]}),e.jsxs("div",{className:"sm:col-span-3",children:[e.jsx("label",{htmlFor:"address",className:"block text-xs font-medium text-gray-600",children:"Address"}),e.jsx("input",{type:"text",name:"address",id:"address",value:p.address,onChange:w,className:"mt-1 block w-full border border-gray-300 px-3 py-1.5 text-gray-900 placeholder-gray-300 focus:outline-none focus:ring-gray-500 focus:border-gray-500 text-xs",placeholder:"Full address"})]}),e.jsxs("div",{className:"sm:col-span-2",children:[e.jsx("label",{htmlFor:"active",className:"block text-xs font-medium text-gray-600",children:"Status"}),e.jsxs("select",{name:"active",id:"active",value:p.active,onChange:w,className:"mt-1 block w-full border border-gray-300 px-3 py-1.5 text-gray-900 focus:outline-none focus:ring-gray-500 focus:border-gray-500 text-xs",children:[e.jsx("option",{value:"Yes",children:"Yes"}),e.jsx("option",{value:"No",children:"No"})]})]})]})})})]}),e.jsxs("div",{className:"bg-white border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"px-4 py-3 sm:px-6",children:e.jsxs("h3",{className:"text-sm leading-6 font-medium text-gray-900 flex items-center",children:[e.jsx(I,{icon:La,className:"mr-2 text-green-600"}),"Guardian Information"]})}),e.jsx("div",{className:"border-t border-gray-200",children:e.jsx("div",{className:"px-4 py-5 sm:p-6",children:e.jsxs("div",{className:"grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-6",children:[e.jsxs("div",{className:"sm:col-span-3",children:[e.jsxs("label",{htmlFor:"guardianName",className:"block text-xs font-medium text-gray-600",children:["Guardian First Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"guardianName",id:"guardianName",required:!0,value:p.guardianName,onChange:w,className:"mt-1 block w-full border border-gray-300 px-3 py-1.5 text-gray-900 placeholder-gray-300 focus:outline-none focus:ring-gray-500 focus:border-gray-500 text-xs",placeholder:"Guardian first name"})]}),e.jsxs("div",{className:"sm:col-span-3",children:[e.jsxs("label",{htmlFor:"guardianSurname",className:"block text-xs font-medium text-gray-600",children:["Guardian Surname ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"guardianSurname",id:"guardianSurname",required:!0,value:p.guardianSurname,onChange:w,className:"mt-1 block w-full border border-gray-300 px-3 py-1.5 text-gray-900 placeholder-gray-300 focus:outline-none focus:ring-gray-500 focus:border-gray-500 text-xs",placeholder:"Guardian surname"})]}),e.jsxs("div",{className:"sm:col-span-2",children:[e.jsxs("label",{htmlFor:"guardianNationalIDNumber",className:"block text-xs font-medium text-gray-600",children:["Guardian National ID ",e.jsx("span",{className:"text-gray-400",children:"(Optional)"})]}),e.jsx("input",{type:"text",name:"guardianNationalIDNumber",id:"guardianNationalIDNumber",value:p.guardianNationalIDNumber,onChange:w,className:"mt-1 block w-full border border-gray-300 px-3 py-1.5 text-gray-900 placeholder-gray-300 focus:outline-none focus:ring-gray-500 focus:border-gray-500 text-xs",placeholder:"Guardian national ID"})]}),e.jsxs("div",{className:"sm:col-span-2",children:[e.jsxs("label",{htmlFor:"guardianPhoneNumber",className:"block text-xs font-medium text-gray-600",children:["Guardian Phone Number ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"tel",name:"guardianPhoneNumber",id:"guardianPhoneNumber",required:!0,value:p.guardianPhoneNumber,onChange:w,className:"mt-1 block w-full border border-gray-300 px-3 py-1.5 text-gray-900 placeholder-gray-300 focus:outline-none focus:ring-gray-500 focus:border-gray-500 text-xs",placeholder:"Phone number"})]}),e.jsxs("div",{className:"sm:col-span-2",children:[e.jsx("label",{htmlFor:"relationshipToStudent",className:"block text-xs font-medium text-gray-600",children:"Relationship to Student"}),e.jsx("input",{type:"text",name:"relationshipToStudent",id:"relationshipToStudent",value:p.relationshipToStudent,onChange:w,className:"mt-1 block w-full border border-gray-300 px-3 py-1.5 text-gray-900 placeholder-gray-300 focus:outline-none focus:ring-gray-500 focus:border-gray-500 text-xs",placeholder:"e.g., Mother, Father, Guardian"})]})]})})})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsxs(Yt,{to:`/dashboard/students/view/${t}`,className:"inline-flex items-center px-3 py-1.5 border border-gray-300 text-xs font-medium text-white bg-gray-700 hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",children:[e.jsx(I,{icon:Br,className:"mr-2"}),"Cancel"]}),e.jsxs("button",{type:"submit",disabled:!P()||i,className:"inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium text-white bg-gray-700 hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(I,{icon:Dn,className:"mr-2"}),i?"Saving...":"Save Changes"]})]})]}),x&&e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:e.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 bg-white",children:e.jsxs("div",{className:"mt-3 text-center",children:[e.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 bg-green-100",children:e.jsx("svg",{className:"h-6 w-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 mt-4",children:"Student Information Successfully Updated!"}),e.jsx("div",{className:"mt-2 px-7 py-3",children:e.jsxs("p",{className:"text-xs text-gray-500",children:["The information for ",e.jsxs("strong",{children:[m?.Name," ",m?.Surname]})," has been successfully updated."]})}),e.jsxs("div",{className:"items-center px-4 py-3",children:[e.jsx("button",{onClick:()=>{b(!1),r(`/dashboard/students/view/${t}`)},className:"px-4 py-2 bg-gray-700 text-white text-xs font-medium hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-gray-500 w-full",children:"View Student Details"}),e.jsx("button",{onClick:()=>{b(!1),r("/dashboard/students")},className:"mt-2 px-4 py-2 bg-white border border-gray-300 text-gray-700 text-xs font-medium hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500 w-full",children:"Back to Students List"})]})]})})})]}):e.jsx("div",{className:"px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"text-center",children:e.jsx("div",{className:"text-gray-500",children:"Student not found"})})})},zU=()=>{const{id:t}=On(),r=br(),{token:a}=et(),[s,n]=g.useState(null),[i,o]=g.useState(!0),[d,u]=g.useState(null),[m,f]=g.useState("personal");g.useEffect(()=>{x()},[t]);const x=async()=>{try{o(!0),u(null),console.log("🔍 Fetching student with regNumber:",t);const j=(await de.get(`${ce}/students/${t}`,{headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"}})).data;console.log("👤 Student data received:",j.data),console.log("👨‍👩‍👧‍👦 Guardian data:",j.data.guardians),n(j.data)}catch(v){console.error("Error fetching student:",v),v.response?v.response.status===404?u("Student not found"):u(`Error: ${v.response.status} - ${v.response.data?.message||v.response.statusText}`):v.request?u("No response from server. Please check your connection."):u(`Error: ${v.message}`)}finally{o(!1)}},b=async()=>{if(window.confirm("Are you sure you want to delete this student? This action cannot be undone."))try{await de.delete(`${ce}/students/${t}`,{headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"}}),r("/dashboard/students")}catch(v){console.error("Error deleting student:",v),v.response?u(`Failed to delete student: ${v.response.status} - ${v.response.data?.message||v.response.statusText}`):v.request?u("No response from server. Please check your connection."):u(`Error: ${v.message}`)}},p=v=>v?new Date(v).toLocaleDateString():"N/A";return i?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"text-gray-500",children:"Loading student information..."})}):d?e.jsx("div",{className:"px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"bg-red-50 border border-red-200 p-4",children:[e.jsx("div",{className:"text-sm text-red-600",children:d}),e.jsxs(Yt,{to:"/dashboard/students",className:"mt-2 inline-flex items-center text-sm text-red-600 hover:text-red-800",children:[e.jsx(I,{icon:gx,className:"mr-1"}),"Back to Students"]})]})}):s?e.jsxs("div",{className:"px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-lg font-bold text-gray-900",children:[s.Name," ",s.Surname]}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Registration Number: ",s.RegNumber]})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs(Yt,{to:`/dashboard/students/edit/${t}`,className:"inline-flex items-center px-3 py-1.5 border border-gray-300 text-xs font-medium text-white bg-gray-700 hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",children:[e.jsx(I,{icon:lr,className:"mr-2"}),"Edit"]}),e.jsxs("button",{onClick:b,className:"inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:[e.jsx(I,{icon:Mt,className:"mr-2"}),"Delete"]})]})]})}),e.jsx("div",{className:"mb-6",children:e.jsx("nav",{className:"flex space-x-8 border-b border-gray-200",children:[{id:"personal",label:"Personal Information",icon:Fs},{id:"guardian",label:"Guardian Information",icon:Ir}].map(v=>e.jsxs("button",{onClick:()=>f(v.id),className:`py-2 px-1 border-b-2 font-medium text-xs flex items-center ${m===v.id?"border-gray-700 text-gray-900":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(I,{icon:v.icon,className:"mr-2 h-3 w-3"}),v.label]},v.id))})}),e.jsxs("div",{className:"min-h-96",children:[m==="personal"&&e.jsxs("div",{className:"bg-white border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"px-4 py-3 sm:px-6",children:e.jsxs("h3",{className:"text-sm leading-6 font-medium text-gray-900 flex items-center",children:[e.jsx(I,{icon:Fs,className:"mr-2 text-blue-600"}),"Personal Information"]})}),e.jsx("div",{className:"border-t border-gray-200",children:e.jsxs("dl",{children:[e.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[e.jsx("dt",{className:"text-xs font-medium text-gray-500",children:"Full Name"}),e.jsxs("dd",{className:"mt-1 text-xs text-gray-900 sm:mt-0 sm:col-span-2",children:[s.Name," ",s.Surname]})]}),e.jsxs("div",{className:"bg-white px-4 py-3 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[e.jsx("dt",{className:"text-xs font-medium text-gray-500",children:"Registration Number"}),e.jsx("dd",{className:"mt-1 text-xs text-gray-900 sm:mt-0 sm:col-span-2 font-mono",children:s.RegNumber})]}),e.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[e.jsx("dt",{className:"text-xs font-medium text-gray-500",children:"Date of Birth"}),e.jsxs("dd",{className:"mt-1 text-xs text-gray-900 sm:mt-0 sm:col-span-2 flex items-center",children:[e.jsx(I,{icon:yr,className:"mr-2 text-gray-400"}),p(s.DateOfBirth)]})]}),e.jsxs("div",{className:"bg-white px-4 py-3 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[e.jsx("dt",{className:"text-xs font-medium text-gray-500",children:"National ID Number"}),e.jsxs("dd",{className:"mt-1 text-xs text-gray-900 sm:mt-0 sm:col-span-2 flex items-center",children:[e.jsx(I,{icon:W2,className:"mr-2 text-gray-400"}),s.NationalIDNumber||"N/A"]})]}),e.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[e.jsx("dt",{className:"text-xs font-medium text-gray-500",children:"Gender"}),e.jsxs("dd",{className:"mt-1 text-xs text-gray-900 sm:mt-0 sm:col-span-2 flex items-center",children:[e.jsx(I,{icon:tB,className:"mr-2 text-gray-400"}),s.Gender||"N/A"]})]}),e.jsxs("div",{className:"bg-white px-4 py-3 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[e.jsx("dt",{className:"text-xs font-medium text-gray-500",children:"Address"}),e.jsxs("dd",{className:"mt-1 text-xs text-gray-900 sm:mt-0 sm:col-span-2 flex items-center",children:[e.jsx(I,{icon:vc,className:"mr-2 text-gray-400"}),s.Address||"N/A"]})]}),e.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[e.jsx("dt",{className:"text-xs font-medium text-gray-500",children:"Status"}),e.jsx("dd",{className:"mt-1 text-xs sm:mt-0 sm:col-span-2",children:e.jsx("div",{className:"text-xs text-gray-900",children:s.Active||"Unknown"})})]}),s.ImagePath&&e.jsxs("div",{className:"bg-white px-4 py-3 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[e.jsx("dt",{className:"text-xs font-medium text-gray-500",children:"Profile Image"}),e.jsx("dd",{className:"mt-1 text-xs text-gray-900 sm:mt-0 sm:col-span-2",children:e.jsx("img",{src:s.ImagePath,alt:`${s.Name} ${s.Surname}`,className:"h-20 w-20 object-cover"})})]})]})})]}),m==="guardian"&&e.jsxs("div",{className:"bg-white border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"px-4 py-3 sm:px-6",children:e.jsxs("h3",{className:"text-sm leading-6 font-medium text-gray-900 flex items-center",children:[e.jsx(I,{icon:Ir,className:"mr-2 text-green-600"}),"Guardian Information"]})}),e.jsx("div",{className:"border-t border-gray-200",children:s.guardians&&s.guardians.length>0?e.jsx("div",{children:s.guardians.map((v,j)=>e.jsxs("dl",{className:j>0?"border-t border-gray-200":"",children:[e.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[e.jsx("dt",{className:"text-xs font-medium text-gray-500",children:"Guardian Name"}),e.jsxs("dd",{className:"mt-1 text-xs text-gray-900 sm:mt-0 sm:col-span-2",children:[v.Name," ",v.Surname]})]}),e.jsxs("div",{className:"bg-white px-4 py-3 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[e.jsx("dt",{className:"text-xs font-medium text-gray-500",children:"Phone Number"}),e.jsxs("dd",{className:"mt-1 text-xs text-gray-900 sm:mt-0 sm:col-span-2 flex items-center",children:[e.jsx(I,{icon:vN,className:"mr-2 text-gray-400"}),v.PhoneNumber||"N/A"]})]}),v.NationalIDNumber&&e.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[e.jsx("dt",{className:"text-xs font-medium text-gray-500",children:"National ID"}),e.jsxs("dd",{className:"mt-1 text-xs text-gray-900 sm:mt-0 sm:col-span-2 flex items-center",children:[e.jsx(I,{icon:W2,className:"mr-2 text-gray-400"}),v.NationalIDNumber]})]}),v.RelationshipToStudent&&e.jsxs("div",{className:"bg-white px-4 py-3 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[e.jsx("dt",{className:"text-xs font-medium text-gray-500",children:"Relationship"}),e.jsx("dd",{className:"mt-1 text-xs text-gray-900 sm:mt-0 sm:col-span-2",children:v.RelationshipToStudent})]})]},v.GuardianID||j))}):e.jsx("div",{className:"px-4 py-8 text-center text-xs text-gray-500",children:"No guardian information available"})})]})]})]}):e.jsx("div",{className:"px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-gray-500",children:"Student not found"}),e.jsxs(Yt,{to:"/dashboard/students",className:"mt-2 inline-flex items-center text-sm text-blue-600 hover:text-blue-800",children:[e.jsx(I,{icon:gx,className:"mr-1"}),"Back to Students"]})]})})},UU=()=>{const{token:t}=et(),[r,a]=g.useState(!1),[s,n]=g.useState(null),[i,o]=g.useState(null),[d,u]=g.useState(""),[m,f]=g.useState([]),[x,b]=g.useState(null),[p,v]=g.useState(0),[j,w]=g.useState({adjustment_type:"debit",amount:"",description:"",reference:""}),N=async()=>{if(!d.trim()){n("Please enter a registration number to search");return}a(!0);try{const E=await de.get(`${ce}/students/search?query=${d}`,{headers:{Authorization:`Bearer ${t}`}});f(E.data.data||[]),n(null)}catch(E){console.error("Error searching students:",E),n("Failed to search for student"),f([])}finally{a(!1)}},P=async E=>{try{a(!0),n(null);const O=t?{Authorization:`Bearer ${t}`}:{},k=await de.get(`${ce}/students/${E.RegNumber}/balance`,{headers:O});b(E),v(k.data.balance||0),w({adjustment_type:"debit",amount:"",description:"",reference:""}),f([]),u("")}catch(O){console.error("Error getting student balance:",O),n(O.response?.data?.error||"Failed to load student balance")}finally{a(!1)}},A=E=>{const{name:O,value:k}=E.target;w(Y=>({...Y,[O]:k}))},D=()=>{const E=Date.now(),O=Math.random().toString(36).substring(2,8).toUpperCase();w(k=>({...k,reference:`MBU-${E}-${O}`}))},T=async E=>{if(E.preventDefault(),!x){n("Please select a student first");return}if(!j.amount||parseFloat(j.amount)<=0){n("Please enter a valid amount");return}if(!j.description.trim()){n("Please enter a description for this adjustment");return}try{a(!0),n(null),o(null);const O=t?{Authorization:`Bearer ${t}`}:{},k={student_id:x.RegNumber,adjustment_type:j.adjustment_type,amount:parseFloat(j.amount),description:j.description,reference:j.reference||`MBU-${Date.now()}-${Math.random().toString(36).substring(2,8).toUpperCase()}`};await de.post(`${ce}/students/manual-balance-adjustment`,k,{headers:O}),o("Balance adjustment recorded successfully!"),await new Promise($=>setTimeout($,500)),console.log("🔄 Refreshing balance for student:",x.RegNumber);const Y=await de.get(`${ce}/students/${x.RegNumber}/balance`,{headers:O});console.log("🔄 Balance response:",Y.data),v(Y.data.balance||0),w({adjustment_type:"debit",amount:"",description:"",reference:""})}catch(O){console.error("Error updating balance:",O),n(O.response?.data?.error||"Failed to update student balance")}finally{a(!1)}},R=()=>{b(null),v(0),w({adjustment_type:"debit",amount:"",description:"",reference:""}),n(null),o(null)};return e.jsx("div",{className:"min-h-screen bg-gray-50 py-4",children:e.jsxs("div",{className:"w-full px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"mb-4",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg font-bold text-gray-900",children:"Manual Balance Update"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Manually adjust student account balances"})]})})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white border border-gray-200 shadow",children:[e.jsx("div",{className:"px-4 py-3 border-b border-gray-200",children:e.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Search Student"})}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex gap-2 mb-4",children:[e.jsx("input",{type:"text",value:d,onChange:E=>u(E.target.value),placeholder:"Enter registration number",className:"flex-1 px-3 py-2 border border-gray-300 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500",onKeyPress:E=>E.key==="Enter"&&N()}),e.jsxs("button",{onClick:N,disabled:r,className:"px-4 py-2 bg-blue-600 text-white hover:bg-blue-700 disabled:opacity-50 text-xs font-medium flex items-center",children:[r?e.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-b-2 border-white mr-2"}):e.jsx(I,{icon:Vt,className:"mr-2"}),"Search"]})]}),m.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"text-xs font-medium text-gray-700",children:"Search Results:"}),m.map(E=>e.jsx("div",{onClick:()=>P(E),className:"p-3 border border-gray-200 hover:bg-gray-50 cursor-pointer text-xs",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium text-gray-900",children:[E.Name," ",E.Surname]}),e.jsxs("p",{className:"text-gray-600",children:["Reg: ",E.RegNumber]})]}),e.jsx(I,{icon:Fs,className:"text-gray-400"})]})},E.id))]}),x&&e.jsx("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium text-blue-900 text-xs",children:[x.Name," ",x.Surname]}),e.jsxs("p",{className:"text-blue-700 text-xs",children:["Reg: ",x.RegNumber]}),e.jsxs("p",{className:"text-blue-700 text-xs",children:["Current Balance:",e.jsxs("span",{className:`font-bold ml-1 ${p>=0?"text-green-600":"text-red-600"}`,children:["$",Math.abs(p).toFixed(2)," ",p>=0?"Credit":"Debit"]})]})]}),e.jsx("button",{onClick:R,className:"text-blue-600 hover:text-blue-800",children:e.jsx(I,{icon:Br})})]})})]})]}),e.jsxs("div",{className:"bg-white border border-gray-200 shadow",children:[e.jsx("div",{className:"px-4 py-3 border-b border-gray-200",children:e.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Balance Adjustment"})}),e.jsxs("form",{onSubmit:T,className:"p-4",children:[i&&e.jsxs("div",{className:"mb-4 p-3 bg-green-100 border border-green-200 text-green-700 text-xs",children:[e.jsx(I,{icon:aa,className:"mr-2"}),i]}),s&&e.jsxs("div",{className:"mb-4 p-3 bg-red-100 border border-red-200 text-red-700 text-xs",children:[e.jsx(I,{icon:ur,className:"mr-2"}),s]}),!x&&e.jsxs("div",{className:"mb-4 p-3 bg-yellow-100 border border-yellow-200 text-yellow-700 text-xs",children:[e.jsx(I,{icon:RC,className:"mr-2"}),"Please search and select a student first"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Adjustment Type *"}),e.jsxs("select",{name:"adjustment_type",value:j.adjustment_type,onChange:A,required:!0,className:"w-full px-3 py-2 border border-gray-300 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500",children:[e.jsx("option",{value:"debit",children:"Debit (Increase what student owes)"}),e.jsx("option",{value:"credit",children:"Credit (Decrease what student owes)"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Amount *"}),e.jsx("input",{type:"number",name:"amount",value:j.amount,onChange:A,required:!0,min:"0.01",step:"0.01",placeholder:"0.00",className:"w-full px-3 py-2 border border-gray-300 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Description *"}),e.jsx("textarea",{name:"description",value:j.description,onChange:A,required:!0,rows:3,placeholder:"Enter reason for this adjustment",className:"w-full px-3 py-2 border border-gray-300 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Reference"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",name:"reference",value:j.reference,onChange:A,placeholder:"Auto-generated if left empty",className:"flex-1 px-3 py-2 border border-gray-300 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500"}),e.jsx("button",{type:"button",onClick:D,className:"px-3 py-2 bg-gray-600 text-white hover:bg-gray-700 text-xs font-medium",children:"Generate"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-end gap-3 mt-6 pt-4 border-t border-gray-200",children:[e.jsx("button",{type:"button",onClick:R,className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 text-xs font-medium border border-gray-300",children:"Clear"}),e.jsxs("button",{type:"submit",disabled:r||!x,className:"px-4 py-2 bg-blue-600 text-white hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed text-xs font-medium flex items-center",children:[r?e.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-b-2 border-white mr-2"}):e.jsx(I,{icon:Dn,className:"mr-2"}),r?"Processing...":"Record Adjustment"]})]})]})]})]})]})})},qU=()=>{const{token:t}=et(),[r,a]=g.useState([]),[s,n]=g.useState(!0),[i,o]=g.useState(null),[d,u]=g.useState(""),[m,f]=g.useState(!1),[x,b]=g.useState(!1),[p,v]=g.useState(!1),[j,w]=g.useState(null),N=async()=>{try{n(!0),o(null);const k=await de.get(`${ce}/management/users`,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});console.log("👥 Users data:",k.data),a(k.data.data||[])}catch(k){console.error("Error fetching users:",k),k.response?o(`Error: ${k.response.status} - ${k.response.data?.error||k.response.statusText}`):k.request?o("No response from server. Please check your connection."):o(`Error: ${k.message}`)}finally{n(!1)}};g.useEffect(()=>{N()},[]);const P=()=>{w(null),f(!0)},A=k=>{w(k),b(!0)},D=k=>{w(k),v(!0)},T=async k=>{const $=r.find(M=>M.id===k).is_active?"deactivate":"activate";if(window.confirm(`Are you sure you want to ${$} this user?`))try{await de.patch(`${ce}/management/users/${k}/toggle-status`,{},{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}}),a(r.map(M=>M.id===k?{...M,is_active:!M.is_active}:M))}catch(M){console.error("Error toggling user status:",M),o("Failed to update user status")}},R=async k=>{if(window.confirm("Are you sure you want to delete this user?"))try{await de.delete(`${ce}/management/users/${k}`,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}}),a(r.filter(Y=>Y.id!==k))}catch(Y){console.error("Error deleting user:",Y),Y.response?.data?.error?o(Y.response.data.error):o("Failed to delete user")}},E=r.filter(k=>k.username.toLowerCase().includes(d.toLowerCase())||k.roles.some(Y=>Y.toLowerCase().includes(d.toLowerCase()))),O=k=>k.username==="sysadmin";return s?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"text-gray-500",children:"Loading users..."})}):e.jsxs("div",{children:[e.jsxs("div",{className:"sm:flex sm:items-center mb-6",children:[e.jsxs("div",{className:"sm:flex-auto",children:[e.jsx("h2",{className:"text-sm font-semibold text-gray-900",children:"System Users"}),e.jsx("p",{className:"mt-1 text-xs text-gray-700",children:"Manage user accounts and permissions"})]}),e.jsx("div",{className:"mt-4 sm:mt-0 sm:ml-16 sm:flex-none",children:e.jsxs("button",{onClick:P,className:"inline-flex items-center justify-center border border-transparent bg-gray-700 px-3 py-1.5 text-xs font-medium text-white hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2",children:[e.jsx(I,{icon:_t,className:"mr-2"}),"Add User"]})})]}),e.jsx("div",{className:"mb-6",children:e.jsx("div",{className:"flex gap-2",children:e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(I,{icon:Vt,className:"h-4 w-4 text-gray-400"})}),e.jsx("input",{type:"text",value:d,onChange:k=>u(k.target.value),placeholder:"Search by username or role...",className:"block w-full pl-10 pr-3 py-1.5 border border-gray-300 leading-5 bg-white placeholder-gray-400 focus:outline-none focus:placeholder-gray-300 focus:ring-1 focus:ring-gray-500 focus:border-gray-500 text-xs"})]})})})}),i&&e.jsx("div",{className:"mb-4 bg-red-50 border border-red-200 p-4",children:e.jsx("div",{className:"text-sm text-red-600",children:i})}),e.jsx("div",{className:"mt-8 flex flex-col",children:e.jsx("div",{className:"-my-2 -mx-4 overflow-x-auto sm:-mx-6 lg:-mx-8",children:e.jsx("div",{className:"inline-block min-w-full py-2 align-middle md:px-6 lg:px-8",children:e.jsx("div",{className:"overflow-hidden border border-gray-200",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-300",children:[e.jsx("thead",{className:"bg-gray-100/30",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 tracking-wider",children:"Username"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 tracking-wider",children:"Status"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 tracking-wider",children:"Last Login"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:E.map(k=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(I,{icon:Fs,className:"h-3 w-3 text-gray-400 mr-2"}),e.jsx("div",{className:"text-xs text-gray-900 font-medium",children:k.username})]})}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:e.jsxs("div",{className:"text-xs text-gray-900 flex items-center",children:[e.jsx(I,{icon:k.is_active?aa:Wu,className:`h-3 w-3 mr-1 ${k.is_active?"text-green-500":"text-red-500"}`}),k.is_active?"Active":"Inactive"]})}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:e.jsx("div",{className:"text-xs text-gray-900",children:k.last_login?new Date(k.last_login).toLocaleDateString():"Never"})}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-xs font-medium",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>D(k),className:"text-blue-600 hover:text-blue-900",title:"View Roles",children:e.jsx(I,{icon:jf,className:"h-4 w-4"})}),O(k)?e.jsx("button",{disabled:!0,className:"text-gray-300 cursor-not-allowed",title:"System admin cannot be edited",children:e.jsx(I,{icon:lr,className:"h-4 w-4"})}):e.jsx("button",{onClick:()=>A(k),className:"text-green-600 hover:text-green-900",title:"Edit User",children:e.jsx(I,{icon:lr,className:"h-4 w-4"})}),O(k)?e.jsx("button",{disabled:!0,className:"text-gray-300 cursor-not-allowed",title:"System admin cannot be deactivated",children:e.jsx(I,{icon:v6,className:"h-4 w-4"})}):e.jsx("button",{onClick:()=>T(k.id),className:`${k.is_active?"text-orange-600 hover:text-orange-900":"text-green-600 hover:text-green-900"}`,title:k.is_active?"Deactivate User":"Activate User",children:e.jsx(I,{icon:k.is_active?v6:aa,className:"h-4 w-4"})}),O(k)?e.jsx("button",{disabled:!0,className:"text-gray-300 cursor-not-allowed",title:"System admin cannot be deleted",children:e.jsx(I,{icon:Mt,className:"h-4 w-4"})}):e.jsx("button",{onClick:()=>R(k.id),className:"text-red-600 hover:text-red-900",title:"Delete User",children:e.jsx(I,{icon:Mt,className:"h-4 w-4"})})]})})]},k.id))})]})})})})}),m&&e.jsx(F6,{isOpen:m,onClose:()=>f(!1),user:null,onSave:async k=>{try{const Y=await de.post(`${ce}/management/users`,k,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});console.log("✅ User created:",Y.data),N(),f(!1)}catch(Y){throw console.error("Error creating user:",Y),Y}}}),x&&j&&e.jsx(F6,{isOpen:x,onClose:()=>b(!1),user:j,onSave:async k=>{try{const Y=await de.put(`${ce}/management/users/${j.id}`,k,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});console.log("✅ User updated:",Y.data),N(),b(!1)}catch(Y){throw console.error("Error updating user:",Y),Y}}}),p&&j&&e.jsx(HU,{isOpen:p,onClose:()=>v(!1),user:j})]})},F6=({isOpen:t,onClose:r,user:a,onSave:s})=>{const{token:n}=et(),[i,o]=g.useState({username:"",password:"",roles:[],isActive:!0}),[d,u]=g.useState([]),[m,f]=g.useState(!1),[x,b]=g.useState(null),p=async()=>{try{const N=await de.get(`${ce}/management/roles`,{headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"}});u(N.data.data||[])}catch(N){console.error("Error fetching roles:",N)}};g.useEffect(()=>{p(),o(a?{username:a.username||"",password:"",roles:a.roleIds||[],isActive:a.is_active!==void 0?a.is_active:!0}:{username:"",password:"",roles:[],isActive:!0})},[a]);const v=N=>{const{name:P,value:A,type:D,checked:T}=N.target;o(R=>({...R,[P]:D==="checkbox"?T:A}))},j=N=>{o(P=>({...P,roles:P.roles.includes(N)?P.roles.filter(A=>A!==N):[...P.roles,N]}))},w=async N=>{N.preventDefault(),f(!0),b(null);try{await s(i)}catch(P){console.error("Error saving user:",P),P.response?.data?.error?b(P.response.data.error):b("Failed to save user")}finally{f(!1)}};return t?e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:e.jsx("div",{className:"relative top-20 mx-auto p-5 border w-[500px] bg-white",children:e.jsxs("div",{className:"mt-3",children:[e.jsx("h3",{className:"text-sm leading-6 font-medium text-gray-900 mb-4",children:a?"Edit User":"Add New User"}),x&&e.jsx("div",{className:"mb-4 bg-red-50 border border-red-200 p-3",children:e.jsx("div",{className:"text-sm text-red-600",children:x})}),e.jsxs("form",{onSubmit:w,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"username",className:"block text-xs font-medium text-gray-600",children:["Username ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"username",id:"username",required:!0,value:i.username,onChange:v,className:"mt-1 block w-full border border-gray-300 px-3 py-1.5 text-gray-900 placeholder-gray-300 focus:outline-none focus:ring-gray-500 focus:border-gray-500 text-xs",placeholder:"Enter username"})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"password",className:"block text-xs font-medium text-gray-600",children:["Password ",!a&&e.jsx("span",{className:"text-red-500",children:"*"}),a&&e.jsx("span",{className:"text-gray-400",children:"(Leave blank to keep current)"})]}),e.jsx("input",{type:"password",name:"password",id:"password",required:!a,value:i.password,onChange:v,className:"mt-1 block w-full border border-gray-300 px-3 py-1.5 text-gray-900 placeholder-gray-300 focus:outline-none focus:ring-gray-500 focus:border-gray-500 text-xs",placeholder:"Enter password"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs font-medium text-gray-600 mb-2",children:["Roles ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("div",{className:"space-y-2 max-h-32 overflow-y-auto border border-gray-300 p-2",children:d.map(N=>e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:i.roles.includes(N.id),onChange:()=>j(N.id),className:"h-3 w-3 text-gray-600 focus:ring-gray-500 border-gray-300"}),e.jsx("span",{className:"ml-2 text-xs text-gray-700",children:N.name})]},N.id))})]}),e.jsx("div",{children:e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",name:"isActive",checked:i.isActive,onChange:v,className:"h-3 w-3 text-gray-600 focus:ring-gray-500 border-gray-300"}),e.jsx("span",{className:"ml-2 text-xs text-gray-700",children:"Active User"})]})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:r,className:"px-3 py-1.5 border border-gray-300 text-xs font-medium text-white bg-gray-700 hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-gray-500",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:m,className:"px-3 py-1.5 border border-transparent text-xs font-medium text-white bg-gray-700 hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-gray-500 disabled:opacity-50",children:m?"Saving...":`${a?"Update":"Create"} User`})]})]})]})})}):null},HU=({isOpen:t,onClose:r,user:a})=>t?e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:e.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 bg-white",children:e.jsxs("div",{className:"mt-3",children:[e.jsxs("h3",{className:"text-sm leading-6 font-medium text-gray-900 mb-4",children:["User Roles - ",a.username]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex items-center mb-3",children:[e.jsx(I,{icon:Fs,className:"h-4 w-4 text-gray-400 mr-2"}),e.jsx("span",{className:"text-xs text-gray-600",children:"User Information"})]}),e.jsx("div",{className:"bg-gray-50 p-3 border border-gray-200",children:e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Username:"}),e.jsx("div",{className:"text-gray-900",children:a.username})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Status:"}),e.jsxs("div",{className:`flex items-center ${a.is_active?"text-green-600":"text-red-600"}`,children:[e.jsx(I,{icon:a.is_active?aa:Wu,className:"h-3 w-3 mr-1"}),a.is_active?"Active":"Inactive"]})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Last Login:"}),e.jsx("div",{className:"text-gray-900",children:a.last_login?new Date(a.last_login).toLocaleDateString():"Never"})]})]})})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center mb-3",children:[e.jsx(I,{icon:jf,className:"h-4 w-4 text-gray-400 mr-2"}),e.jsxs("span",{className:"text-xs text-gray-600",children:["Assigned Roles (",a.roles.length,")"]})]}),a.roles&&a.roles.length>0?e.jsx("div",{className:"space-y-2",children:a.roles.map((s,n)=>e.jsx("div",{className:"flex items-center justify-between p-2 bg-blue-50 border border-blue-200",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(I,{icon:jf,className:"h-3 w-3 text-blue-600 mr-2"}),e.jsx("span",{className:"text-xs font-medium text-blue-800",children:s})]})},n))}):e.jsx("div",{className:"text-center py-8 text-xs text-gray-500",children:"No roles assigned to this user"})]}),e.jsx("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:e.jsx("button",{onClick:r,className:"px-3 py-1.5 border border-gray-300 text-xs font-medium text-white bg-gray-700 hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-gray-500",children:"Close"})})]})})}):null,GU=()=>{const{token:t}=et(),[r,a]=g.useState([]),[s,n]=g.useState(!0),[i,o]=g.useState(null),[d,u]=g.useState(""),[m,f]=g.useState(!1),[x,b]=g.useState(!1),[p,v]=g.useState(!1),[j,w]=g.useState(null),N=async()=>{try{n(!0),o(null);const E=await de.get(`${ce}/management/roles`,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});console.log("🎭 Roles data:",E.data),a(E.data.data||[])}catch(E){console.error("Error fetching roles:",E),E.response?o(`Error: ${E.response.status} - ${E.response.data?.error||E.response.statusText}`):E.request?o("No response from server. Please check your connection."):o(`Error: ${E.message}`)}finally{n(!1)}};g.useEffect(()=>{N()},[]);const P=()=>{w(null),f(!0)},A=E=>{w(E),b(!0)},D=E=>{console.log("🗑️ Delete button clicked for role:",E?.name),w(E),v(!0),console.log("🗑️ Modal state set to true")},T=async()=>{if(j)try{await de.delete(`${ce}/management/roles/${j.id}`,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}}),a(r.filter(E=>E.id!==j.id)),v(!1),w(null)}catch(E){console.error("Error deleting role:",E),E.response?.data?.error?o(E.response.data.error):o("Failed to delete role"),v(!1)}},R=r.filter(E=>E.name.toLowerCase().includes(d.toLowerCase())||E.description.toLowerCase().includes(d.toLowerCase()));return s?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"text-gray-500",children:"Loading roles..."})}):e.jsxs("div",{children:[e.jsxs("div",{className:"sm:flex sm:items-center mb-6",children:[e.jsxs("div",{className:"sm:flex-auto",children:[e.jsx("h2",{className:"text-sm font-semibold text-gray-900",children:"System Roles"}),e.jsx("p",{className:"mt-1 text-xs text-gray-700",children:"Manage user roles"})]}),e.jsx("div",{className:"mt-4 sm:mt-0 sm:ml-16 sm:flex-none",children:e.jsxs("button",{onClick:P,className:"inline-flex items-center justify-center border border-transparent bg-gray-700 px-3 py-1.5 text-xs font-medium text-white hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2",children:[e.jsx(I,{icon:_t,className:"mr-2"}),"Add Role"]})})]}),e.jsx("div",{className:"mb-6",children:e.jsx("div",{className:"flex gap-2",children:e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(I,{icon:Vt,className:"h-4 w-4 text-gray-400"})}),e.jsx("input",{type:"text",value:d,onChange:E=>u(E.target.value),placeholder:"Search by role name or description...",className:"block w-full pl-10 pr-3 py-1.5 border border-gray-300 leading-5 bg-white placeholder-gray-400 focus:outline-none focus:placeholder-gray-300 focus:ring-1 focus:ring-gray-500 focus:border-gray-500 text-xs"})]})})})}),i&&e.jsx("div",{className:"mb-4 bg-red-50 border border-red-200 p-4",children:e.jsx("div",{className:"text-sm text-red-600",children:i})}),e.jsx("div",{className:"mt-8 flex flex-col",children:e.jsx("div",{className:"-my-2 -mx-4 overflow-x-auto sm:-mx-6 lg:-mx-8",children:e.jsx("div",{className:"inline-block min-w-full py-2 align-middle md:px-6 lg:px-8",children:e.jsx("div",{className:"overflow-hidden border border-gray-200",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-300",children:[e.jsx("thead",{className:"bg-gray-100/30",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 tracking-wider",children:"Role Name"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 tracking-wider",children:"Description"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 tracking-wider",children:"Users"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 tracking-wider",children:"Status"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:R.map(E=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(I,{icon:jf,className:"h-3 w-3 text-gray-400 mr-2"}),e.jsx("div",{className:"text-xs text-gray-900 font-medium",children:E.name})]})}),e.jsx("td",{className:"px-4 py-2",children:e.jsx("div",{className:"text-xs text-gray-900",children:E.description})}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center text-xs text-gray-900",children:[e.jsx(I,{icon:Ir,className:"h-3 w-3 text-gray-400 mr-1"}),E.userCount]})}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:e.jsxs("div",{className:"text-xs text-gray-900 flex items-center",children:[e.jsx(I,{icon:E.isActive?aa:Wu,className:`h-3 w-3 mr-1 ${E.isActive?"text-green-500":"text-red-500"}`}),E.isActive?"Active":"Inactive"]})}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-xs font-medium",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>A(E),className:"text-blue-600 hover:text-blue-900",children:e.jsx(I,{icon:lr,className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>D(E),className:"text-red-600 hover:text-red-900",children:e.jsx(I,{icon:Mt,className:"h-4 w-4"})})]})})]},E.id))})]})})})})}),m&&e.jsx(B6,{isOpen:m,onClose:()=>f(!1),role:null,onSave:async E=>{try{const O=await de.post(`${ce}/management/roles`,E,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});console.log("✅ Role created:",O.data),N(),f(!1)}catch(O){throw console.error("Error creating role:",O),O}}}),x&&j&&e.jsx(B6,{isOpen:x,onClose:()=>b(!1),role:j,onSave:async E=>{try{const O=await de.put(`${ce}/management/roles/${j.id}`,E,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});console.log("✅ Role updated:",O.data),N(),b(!1)}catch(O){throw console.error("Error updating role:",O),O}}}),console.log("🗑️ Modal render check:",{showDeleteModal:p,selectedRole:j?.name}),p&&j&&e.jsx(YU,{isOpen:p,onClose:()=>{console.log("🗑️ Closing delete modal"),v(!1),w(null)},role:j,onConfirm:T})]})},B6=({isOpen:t,onClose:r,role:a,onSave:s})=>{const[n,i]=g.useState({name:"",description:"",isActive:!0});g.useEffect(()=>{i(a?{name:a.name||"",description:a.description||"",isActive:a.isActive!==void 0?a.isActive:!0}:{name:"",description:"",isActive:!0})},[a]);const o=u=>{const{name:m,value:f,type:x,checked:b}=u.target;i(p=>({...p,[m]:x==="checkbox"?b:f}))},d=u=>{u.preventDefault(),s(n)};return t?e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:e.jsx("div",{className:"relative top-20 mx-auto p-5 border w-[500px] bg-white",children:e.jsxs("div",{className:"mt-3",children:[e.jsx("h3",{className:"text-sm leading-6 font-medium text-gray-900 mb-4",children:a?"Edit Role":"Add New Role"}),e.jsxs("form",{onSubmit:d,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"name",className:"block text-xs font-medium text-gray-600",children:["Role Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"name",id:"name",required:!0,value:n.name,onChange:o,className:"mt-1 block w-full border border-gray-300 px-3 py-1.5 text-gray-900 placeholder-gray-300 focus:outline-none focus:ring-gray-500 focus:border-gray-500 text-xs",placeholder:"Enter role name"})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"description",className:"block text-xs font-medium text-gray-600",children:["Description ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{name:"description",id:"description",required:!0,rows:3,value:n.description,onChange:o,className:"mt-1 block w-full border border-gray-300 px-3 py-1.5 text-gray-900 placeholder-gray-300 focus:outline-none focus:ring-gray-500 focus:border-gray-500 text-xs",placeholder:"Enter role description"})]}),e.jsx("div",{children:e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",name:"isActive",checked:n.isActive,onChange:o,className:"h-3 w-3 text-gray-600 focus:ring-gray-500 border-gray-300"}),e.jsx("span",{className:"ml-2 text-xs text-gray-700",children:"Active Role"})]})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:r,className:"px-3 py-1.5 border border-gray-300 text-xs font-medium text-white bg-gray-700 hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-gray-500",children:"Cancel"}),e.jsxs("button",{type:"submit",className:"px-3 py-1.5 border border-transparent text-xs font-medium text-white bg-gray-700 hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-gray-500",children:[a?"Update":"Create"," Role"]})]})]})]})})}):null},YU=({isOpen:t,onClose:r,role:a,onConfirm:s})=>{const[n,i]=g.useState(!1),o=async()=>{i(!0);try{await s()}catch(m){console.error("Error during deletion:",m)}finally{i(!1)}},d=m=>{m.target===m.currentTarget&&r()};if(!t)return null;console.log("🗑️ Delete modal rendering for role:",a?.name);const u=a.userCount>0;return e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",onClick:d,children:e.jsx("div",{className:"relative top-20 mx-auto p-5 border w-[400px] bg-white shadow-lg",children:e.jsxs("div",{className:"mt-3",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(I,{icon:Mt,className:"h-6 w-6 text-red-600"})}),e.jsx("div",{className:"ml-3",children:e.jsx("h3",{className:"text-sm leading-6 font-medium text-gray-900",children:"Delete Role"})})]}),e.jsx("div",{className:"mb-4",children:u?e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Cannot delete this role because it is currently assigned to users."}),e.jsx("div",{className:"bg-red-50 border border-red-200 p-3",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(I,{icon:Ir,className:"h-4 w-4 text-red-500 mr-2"}),e.jsxs("span",{className:"text-sm text-red-700",children:[e.jsx("strong",{children:a.name})," is assigned to ",e.jsx("strong",{children:a.userCount})," user",a.userCount!==1?"s":""]})]})}),e.jsx("p",{className:"text-xs text-gray-500 mt-3",children:"Please reassign or remove this role from all users before deleting it."})]}):e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Are you sure you want to delete this role? This action cannot be undone."}),e.jsx("div",{className:"bg-gray-50 border border-gray-200 p-3",children:e.jsxs("div",{className:"text-sm",children:[e.jsx("div",{className:"font-medium text-gray-900",children:a.name}),e.jsx("div",{className:"text-gray-600",children:a.description})]})})]})}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{type:"button",onClick:r,className:"px-3 py-1.5 border border-gray-300 text-xs font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500",children:u?"Close":"Cancel"}),!u&&e.jsx("button",{type:"button",onClick:o,disabled:n,className:`px-3 py-1.5 border border-transparent text-xs font-medium text-white ${n?"bg-red-400 cursor-not-allowed":"bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500"}`,children:n?e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-b-2 border-white mr-1"}),"Deleting..."]}):"Delete Role"})]})]})})})},VU=()=>{const{token:t,user:r}=et(),[a,s]=g.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[n,i]=g.useState({current:!1,new:!1,confirm:!1}),[o,d]=g.useState(!1),[u,m]=g.useState(""),[f,x]=g.useState(!1),b=w=>{const{name:N,value:P}=w.target;s(A=>({...A,[N]:P})),u&&m(""),f&&x(!1)},p=w=>{i(N=>({...N,[w]:!N[w]}))},v=()=>a.currentPassword?a.newPassword?a.newPassword.length<6?(m("New password must be at least 6 characters long"),!1):a.newPassword!==a.confirmPassword?(m("New passwords do not match"),!1):a.currentPassword===a.newPassword?(m("New password must be different from current password"),!1):!0:(m("New password is required"),!1):(m("Current password is required"),!1),j=async w=>{if(w.preventDefault(),!!v()){d(!0),m("");try{const N=await de.put(`${ce}/auth/change-password`,{currentPassword:a.currentPassword,newPassword:a.newPassword},{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});console.log("✅ Password changed successfully:",N.data),x(!0),s({currentPassword:"",newPassword:"",confirmPassword:""}),setTimeout(()=>x(!1),5e3)}catch(N){console.error("Error changing password:",N),N.response?.data?.error?m(N.response.data.error):N.response?.status===401?m("Current password is incorrect"):N.response?.status===400?m("Invalid password format"):m("Failed to change password. Please try again.")}finally{d(!1)}}};return e.jsxs("div",{className:"w-full max-w-4xl mx-auto",children:[f&&e.jsx("div",{className:"mb-4 bg-green-50 border border-green-200 p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(I,{icon:Xn,className:"h-4 w-4 text-green-500 mr-2"}),e.jsx("span",{className:"text-sm text-green-600",children:"Password changed successfully!"})]})}),u&&e.jsx("div",{className:"mb-4 bg-red-50 border border-red-200 p-4",children:e.jsx("div",{className:"text-sm text-red-600",children:u})}),e.jsxs("form",{onSubmit:j,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"currentPassword",className:"block text-xs font-medium text-gray-600",children:["Current Password ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"mt-1 relative",children:[e.jsx("input",{type:n.current?"text":"password",name:"currentPassword",id:"currentPassword",required:!0,value:a.currentPassword,onChange:b,className:"block w-full border border-gray-300 px-3 py-2 text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-gray-500 focus:border-gray-500 text-sm pr-10",placeholder:"Enter your current password"}),e.jsx("button",{type:"button",onClick:()=>p("current"),className:"absolute inset-y-0 right-0 flex items-center pr-3",children:e.jsx(I,{icon:n.current?lx:Fr,className:"h-4 w-4 text-gray-400 hover:text-gray-600"})})]})]}),e.jsx("div",{}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"newPassword",className:"block text-xs font-medium text-gray-600",children:["New Password ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"mt-1 relative",children:[e.jsx("input",{type:n.new?"text":"password",name:"newPassword",id:"newPassword",required:!0,value:a.newPassword,onChange:b,className:"block w-full border border-gray-300 px-3 py-2 text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-gray-500 focus:border-gray-500 text-sm pr-10",placeholder:"Enter your new password"}),e.jsx("button",{type:"button",onClick:()=>p("new"),className:"absolute inset-y-0 right-0 flex items-center pr-3",children:e.jsx(I,{icon:n.new?lx:Fr,className:"h-4 w-4 text-gray-400 hover:text-gray-600"})})]}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Password must be at least 6 characters long"})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"confirmPassword",className:"block text-xs font-medium text-gray-600",children:["Confirm New Password ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"mt-1 relative",children:[e.jsx("input",{type:n.confirm?"text":"password",name:"confirmPassword",id:"confirmPassword",required:!0,value:a.confirmPassword,onChange:b,className:"block w-full border border-gray-300 px-3 py-2 text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-gray-500 focus:border-gray-500 text-sm pr-10",placeholder:"Confirm your new password"}),e.jsx("button",{type:"button",onClick:()=>p("confirm"),className:"absolute inset-y-0 right-0 flex items-center pr-3",children:e.jsx(I,{icon:n.confirm?lx:Fr,className:"h-4 w-4 text-gray-400 hover:text-gray-600"})})]})]})]}),e.jsx("div",{className:"pt-4 flex justify-start",children:e.jsx("button",{type:"submit",disabled:o,className:`inline-flex justify-center py-2 px-6 border border-transparent text-sm font-medium text-white ${o?"bg-gray-400 cursor-not-allowed":"bg-gray-700 hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-gray-500"}`,children:o?e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Changing Password..."]}):"Change Password"})})]}),e.jsxs("div",{className:"mt-6 bg-blue-50 border border-blue-200 p-4",children:[e.jsx("h4",{className:"text-xs font-medium text-blue-900 mb-2",children:"Password Security Tips"}),e.jsxs("ul",{className:"text-xs text-blue-700 space-y-1",children:[e.jsx("li",{children:"• Use a combination of letters, numbers, and symbols"}),e.jsx("li",{children:"• Avoid using personal information"}),e.jsx("li",{children:"• Don't reuse passwords from other accounts"}),e.jsx("li",{children:"• Change your password regularly"})]})]})]})},KU=()=>{const[t,r]=g.useState("users");return e.jsxs("div",{className:"px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"mb-6",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg font-bold text-gray-900",children:"Settings"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Manage system users, roles, and account settings"})]})})}),e.jsx("div",{className:"mb-6",children:e.jsx("nav",{className:"flex space-x-8 border-b border-gray-200",children:[{id:"users",label:"User Management",icon:Ir},{id:"roles",label:"Role Management",icon:jf},{id:"password",label:"Change Password",icon:XF}].map(a=>e.jsxs("button",{onClick:()=>r(a.id),className:`py-2 px-1 border-b-2 font-medium text-xs flex items-center ${t===a.id?"border-gray-700 text-gray-900":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(I,{icon:a.icon,className:"mr-2 h-3 w-3"}),a.label]},a.id))})}),e.jsxs("div",{className:"min-h-96",children:[t==="users"&&e.jsx(qU,{}),t==="roles"&&e.jsx(GU,{}),t==="password"&&e.jsx(VU,{})]})]})},WU=()=>{const{token:t}=et(),[r,a]=g.useState([]),[s,n]=g.useState(!1),[i,o]=g.useState(""),[d,u]=g.useState(""),[m,f]=g.useState(""),[x,b]=g.useState(!1),[p,v]=g.useState(null),[j,w]=g.useState([]),[N,P]=g.useState([]),[A,D]=g.useState(""),[T,R]=g.useState(""),[E,O]=g.useState(1),[k,Y]=g.useState(1),[$,M]=g.useState(0),F=10;g.useEffect(()=>{K(),q()},[E,m,A,T]);const K=async()=>{try{n(!0),o("");const z={page:E,limit:F};m.trim()&&(z.search=m.trim()),A&&(z.department=A),T&&(z.jobTitle=T);const re=await de.get(`${ce}/employees`,{headers:{Authorization:`Bearer ${t}`},params:z});re.data.success&&(a(re.data.data),re.data.pagination&&(Y(re.data.pagination.totalPages),M(re.data.pagination.totalRecords)))}catch(z){console.error("Error fetching employees:",z),o("Failed to load employees")}finally{n(!1)}},q=async()=>{try{const z=await de.get(`${ce}/configurations/active`,{headers:{Authorization:`Bearer ${t}`}});z.data.success&&(w(z.data.data.departments||[]),P(z.data.data.jobTitles||[]))}catch(z){console.error("Error fetching dropdown data:",z)}},U=()=>{f(d),O(1)},V=()=>{u(""),f(""),D(""),R(""),O(1)},Z=z=>{v(z),b(!0)},X=async()=>{try{n(!0),await de.delete(`${ce}/employees/${p.id}`,{headers:{Authorization:`Bearer ${t}`}}),b(!1),v(null),K()}catch(z){console.error("Error deleting employee:",z),o(z.response?.data?.error||"Failed to delete employee"),b(!1)}finally{n(!1)}},J=z=>{O(z)},be=z=>z?new Date(z).toLocaleDateString():"Not set";return e.jsxs("div",{className:"px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg font-bold text-gray-900",children:"Employees"}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Manage employee information and records"})]}),e.jsxs(Yt,{to:"/dashboard/employees/add",className:"bg-gray-700 text-white px-4 py-2 text-xs hover:bg-gray-800 flex items-center",children:[e.jsx(I,{icon:_t,className:"mr-2 h-3 w-3"}),"Add Employee"]})]})}),e.jsxs("div",{className:"mb-4 space-y-4",children:[e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs("div",{className:"flex items-center flex-1",children:[e.jsx("input",{type:"text",placeholder:"Search employees...",value:d,onChange:z=>u(z.target.value),onKeyPress:z=>z.key==="Enter"&&U(),className:"border border-gray-300 px-3 py-2 text-xs focus:outline-none focus:ring-gray-500 focus:border-gray-500 flex-1"}),e.jsx("button",{onClick:U,className:"ml-2 bg-gray-700 text-white px-3 py-2 text-xs hover:bg-gray-800",children:e.jsx(I,{icon:Vt,className:"h-3 w-3"})}),(d||A||T)&&e.jsx("button",{onClick:V,className:"ml-2 text-gray-500 hover:text-gray-700 text-xs",children:"Clear"})]})}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(I,{icon:ts,className:"h-3 w-3 text-gray-400 mr-2"}),e.jsx("span",{className:"text-xs text-gray-600",children:"Filters:"})]}),e.jsxs("select",{value:A,onChange:z=>{D(z.target.value),O(1)},className:"border border-gray-300 px-3 py-2 text-xs focus:outline-none focus:ring-gray-500 focus:border-gray-500",children:[e.jsx("option",{value:"",children:"All Departments"}),j.map(z=>e.jsx("option",{value:z.id,children:z.name},z.id))]}),e.jsxs("select",{value:T,onChange:z=>{R(z.target.value),O(1)},className:"border border-gray-300 px-3 py-2 text-xs focus:outline-none focus:ring-gray-500 focus:border-gray-500",children:[e.jsx("option",{value:"",children:"All Job Titles"}),N.map(z=>e.jsx("option",{value:z.id,children:z.name},z.id))]})]})]}),i&&e.jsx("div",{className:"mb-4 bg-red-50 border border-red-200 p-3",children:e.jsx("div",{className:"text-xs text-red-600",children:i})}),e.jsx("div",{className:"bg-white border border-gray-200",children:e.jsxs("table",{className:"min-w-full",children:[e.jsx("thead",{className:"bg-gray-100/30",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider border-b border-gray-200",children:"Employee"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider border-b border-gray-200",children:"ID Number"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider border-b border-gray-200",children:"Department"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider border-b border-gray-200",children:"Job Title"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider border-b border-gray-200",children:"Contact"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider border-b border-gray-200",children:"Hire Date"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider border-b border-gray-200",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s?e.jsx("tr",{children:e.jsx("td",{colSpan:"7",className:"px-6 py-4 text-center text-xs text-gray-500",children:"Loading employees..."})}):r.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"7",className:"px-6 py-4 text-center text-xs text-gray-500",children:"No employees found"})}):r.map(z=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-xs",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(I,{icon:Ir,className:"h-4 w-4 text-gray-400 mr-3"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:z.full_name}),e.jsx("div",{className:"text-gray-500",children:z.employee_id})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-xs text-gray-500",children:z.id_number}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-xs",children:e.jsxs("div",{className:"flex items-center text-gray-500",children:[e.jsx(I,{icon:yn,className:"h-3 w-3 mr-1"}),z.department_name||"Not assigned"]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-xs",children:e.jsxs("div",{className:"flex items-center text-gray-500",children:[e.jsx(I,{icon:ay,className:"h-3 w-3 mr-1"}),z.job_title||"Not assigned"]})}),e.jsxs("td",{className:"px-6 py-4 text-xs text-gray-500",children:[e.jsx("div",{children:z.email||"No email"}),e.jsx("div",{children:z.phone_number||"No phone"})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-xs text-gray-500",children:be(z.hire_date)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-xs",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Yt,{to:`/dashboard/employees/view/${z.id}`,className:"text-blue-600 hover:text-blue-900",title:"View Employee",children:e.jsx(I,{icon:Fr,className:"h-4 w-4"})}),e.jsx(Yt,{to:`/dashboard/employees/edit/${z.id}`,className:"text-green-600 hover:text-green-900",title:"Edit Employee",children:e.jsx(I,{icon:lr,className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>Z(z),className:"text-red-600 hover:text-red-900",title:"Delete Employee",children:e.jsx(I,{icon:Mt,className:"h-4 w-4"})})]})})]},z.id))})]})}),k>1&&e.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[e.jsxs("div",{className:"text-xs text-gray-500",children:["Showing ",(E-1)*F+1," to ",Math.min(E*F,$)," of ",$," employees"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>J(E-1),disabled:E===1,className:`px-3 py-1 text-xs border ${E===1?"border-gray-200 text-gray-400 cursor-not-allowed":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:e.jsx(I,{icon:ny,className:"h-3 w-3"})}),[...Array(k)].map((z,re)=>e.jsx("button",{onClick:()=>J(re+1),className:`px-3 py-1 text-xs border ${E===re+1?"border-gray-700 bg-gray-700 text-white":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:re+1},re+1)),e.jsx("button",{onClick:()=>J(E+1),disabled:E===k,className:`px-3 py-1 text-xs border ${E===k?"border-gray-200 text-gray-400 cursor-not-allowed":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:e.jsx(I,{icon:sy,className:"h-3 w-3"})})]})]}),x&&p&&e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:e.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 bg-white",children:e.jsxs("div",{className:"mt-3 text-center",children:[e.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 bg-red-100 mb-4",children:e.jsx(I,{icon:Mt,className:"h-6 w-6 text-red-600"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Delete Employee"}),e.jsxs("p",{className:"text-xs text-gray-500 mb-4",children:['Are you sure you want to delete "',p.full_name,'"? This action will deactivate the employee record.']}),e.jsxs("div",{className:"flex justify-center space-x-3",children:[e.jsx("button",{onClick:()=>b(!1),className:"px-4 py-2 border border-gray-300 text-xs text-gray-700 hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{onClick:X,disabled:s,className:"px-4 py-2 bg-red-600 text-white text-xs hover:bg-red-700 disabled:bg-red-400",children:s?"Deleting...":"Delete"})]})]})})})]})},XU=()=>{const{token:t}=et(),[r,a]=g.useState(!1),[s,n]=g.useState(""),[i,o]=g.useState(!1),[d,u]=g.useState(!1),[m,f]=g.useState({}),[x,b]=g.useState([]),[p,v]=g.useState([]),[j,w]=g.useState({employeeId:"",fullName:"",idNumber:"",address:"",email:"",phoneNumber:"",departmentId:"",jobTitleId:"",hireDate:"",generateEmployeeId:!0}),[N,P]=g.useState([{bankName:"",accountNumber:"",currency:"",isPrimary:!0}]);g.useEffect(()=>{A()},[]);const A=async()=>{try{const M=await de.get(`${ce}/configurations/active`,{headers:{Authorization:`Bearer ${t}`}});M.data.success&&(b(M.data.data.departments||[]),v(M.data.data.jobTitles||[]))}catch(M){console.error("Error fetching dropdown data:",M),n("Failed to load form data")}},D=M=>{const{name:F,value:K,type:q,checked:U}=M.target;w(V=>({...V,[F]:q==="checkbox"?U:K}))},T=(M,F,K)=>{P(q=>{const U=[...q];return U[M]={...U[M],[F]:K},F==="isPrimary"&&K&&U.forEach((V,Z)=>{Z!==M&&(V.isPrimary=!1)}),U})},R=()=>{P(M=>[...M,{bankName:"",accountNumber:"",currency:"",isPrimary:!1}])},E=M=>{N.length>1&&P(F=>{const K=F.filter((q,U)=>U!==M);return F[M].isPrimary&&K.length>0&&(K[0].isPrimary=!0),K})},O=()=>j.fullName.trim()?j.idNumber.trim()?N.filter(F=>F.bankName.trim()&&F.accountNumber.trim()).length===0&&N.some(F=>F.bankName.trim()||F.accountNumber.trim())?(n("Please complete bank account information or remove incomplete entries"),!1):!0:(n("ID number is required"),!1):(n("Full name is required"),!1),k=async M=>{if(M.preventDefault(),!!O())try{a(!0),n("");const F={...j,employeeId:j.generateEmployeeId?void 0:j.employeeId,departmentId:j.departmentId||null,jobTitleId:j.jobTitleId||null,hireDate:j.hireDate||null,bankAccounts:N.filter(q=>q.bankName.trim()&&q.accountNumber.trim())};(await de.post(`${ce}/employees`,F,{headers:{Authorization:`Bearer ${t}`}})).data.success&&(o(!0),w({employeeId:"",fullName:"",idNumber:"",address:"",email:"",phoneNumber:"",departmentId:"",jobTitleId:"",hireDate:"",generateEmployeeId:!0}),P([{bankName:"",accountNumber:"",currency:"",isPrimary:!0}]))}catch(F){console.error("Error creating employee:",F),F.response?.data?.errorType&&F.response?.data?.field?(f({type:F.response.data.errorType,field:F.response.data.field,message:F.response.data.error}),u(!0)):n(F.response?.data?.error||"Failed to create employee")}finally{a(!1)}},Y=()=>{o(!1)},$=()=>{u(!1),f({})};return e.jsxs("div",{className:"px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-lg font-bold text-gray-900",children:"Add New Employee"}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Create a new employee record with personal and banking information"})]}),s&&e.jsx("div",{className:"mb-4 bg-red-50 border border-red-200 p-3",children:e.jsx("div",{className:"text-xs text-red-600",children:s})}),e.jsxs("form",{onSubmit:k,className:"space-y-6",children:[e.jsxs("div",{className:"bg-white border border-gray-200 p-6",children:[e.jsxs("h2",{className:"text-sm font-medium text-gray-900 mb-4 flex items-center",children:[e.jsx(I,{icon:Fs,className:"mr-2 h-4 w-4 text-gray-400"}),"Personal Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("input",{type:"checkbox",id:"generateEmployeeId",name:"generateEmployeeId",checked:j.generateEmployeeId,onChange:D,className:"h-4 w-4 text-gray-600 focus:ring-gray-500 border-gray-300"}),e.jsx("label",{htmlFor:"generateEmployeeId",className:"ml-2 block text-xs text-gray-600",children:"Auto-generate Employee ID (V + 4 numbers + letter)"})]}),!j.generateEmployeeId&&e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs font-medium text-gray-600",children:["Employee ID ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"employeeId",value:j.employeeId,onChange:D,className:"mt-1 block w-full border border-gray-300 px-3 py-2 text-xs focus:outline-none focus:ring-gray-500 focus:border-gray-500",placeholder:"e.g., V1234A"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs font-medium text-gray-600",children:["Full Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"fullName",required:!0,value:j.fullName,onChange:D,className:"mt-1 block w-full border border-gray-300 px-3 py-2 text-xs focus:outline-none focus:ring-gray-500 focus:border-gray-500",placeholder:"Enter full name"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs font-medium text-gray-600",children:["ID Number ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"idNumber",required:!0,value:j.idNumber,onChange:D,className:"mt-1 block w-full border border-gray-300 px-3 py-2 text-xs focus:outline-none focus:ring-gray-500 focus:border-gray-500",placeholder:"Enter ID number"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-600",children:"Email Address"}),e.jsx("input",{type:"email",name:"email",value:j.email,onChange:D,className:"mt-1 block w-full border border-gray-300 px-3 py-2 text-xs focus:outline-none focus:ring-gray-500 focus:border-gray-500",placeholder:"Enter email address"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-600",children:"Phone Number"}),e.jsx("input",{type:"tel",name:"phoneNumber",value:j.phoneNumber,onChange:D,className:"mt-1 block w-full border border-gray-300 px-3 py-2 text-xs focus:outline-none focus:ring-gray-500 focus:border-gray-500",placeholder:"Enter phone number"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-xs font-medium text-gray-600",children:"Address"}),e.jsx("textarea",{name:"address",value:j.address,onChange:D,rows:"3",className:"mt-1 block w-full border border-gray-300 px-3 py-2 text-xs focus:outline-none focus:ring-gray-500 focus:border-gray-500",placeholder:"Enter home address"})]})]})]}),e.jsxs("div",{className:"bg-white border border-gray-200 p-6",children:[e.jsxs("h2",{className:"text-sm font-medium text-gray-900 mb-4 flex items-center",children:[e.jsx(I,{icon:yn,className:"mr-2 h-4 w-4 text-gray-400"}),"Work Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-600",children:"Department"}),e.jsxs("select",{name:"departmentId",value:j.departmentId,onChange:D,className:"mt-1 block w-full border border-gray-300 px-3 py-2 text-xs focus:outline-none focus:ring-gray-500 focus:border-gray-500",children:[e.jsx("option",{value:"",children:"Select Department"}),x.map(M=>e.jsx("option",{value:M.id,children:M.name},M.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-600",children:"Job Title"}),e.jsxs("select",{name:"jobTitleId",value:j.jobTitleId,onChange:D,className:"mt-1 block w-full border border-gray-300 px-3 py-2 text-xs focus:outline-none focus:ring-gray-500 focus:border-gray-500",children:[e.jsx("option",{value:"",children:"Select Job Title"}),p.map(M=>e.jsx("option",{value:M.id,children:M.name},M.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-600",children:"Hire Date (Optional)"}),e.jsx("input",{type:"date",name:"hireDate",value:j.hireDate,onChange:D,className:"mt-1 block w-full border border-gray-300 px-3 py-2 text-xs focus:outline-none focus:ring-gray-500 focus:border-gray-500"})]})]})]}),e.jsxs("div",{className:"bg-white border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h2",{className:"text-sm font-medium text-gray-900 flex items-center",children:[e.jsx(I,{icon:sf,className:"mr-2 h-4 w-4 text-gray-400"}),"Bank Account Information"]}),e.jsxs("button",{type:"button",onClick:R,className:"bg-gray-700 text-white px-3 py-1 text-xs hover:bg-gray-800 flex items-center",children:[e.jsx(I,{icon:_t,className:"mr-1 h-3 w-3"}),"Add Account"]})]}),e.jsx("div",{className:"space-y-4",children:N.map((M,F)=>e.jsxs("div",{className:"border border-gray-200 p-4 bg-gray-50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsxs("span",{className:"text-xs font-medium text-gray-600",children:["Account ",F+1]}),M.isPrimary&&e.jsxs("span",{className:"ml-2 inline-flex items-center px-2 py-1 text-xs font-medium bg-yellow-100 text-yellow-800",children:[e.jsx(I,{icon:uf,className:"mr-1 h-3 w-3"}),"Primary"]})]}),N.length>1&&e.jsx("button",{type:"button",onClick:()=>E(F),className:"text-red-600 hover:text-red-900",children:e.jsx(I,{icon:Mt,className:"h-4 w-4"})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-600",children:"Bank Name"}),e.jsx("input",{type:"text",value:M.bankName,onChange:K=>T(F,"bankName",K.target.value),className:"mt-1 block w-full border border-gray-300 px-3 py-2 text-xs focus:outline-none focus:ring-gray-500 focus:border-gray-500",placeholder:"Enter bank name"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-600",children:"Account Number"}),e.jsx("input",{type:"text",value:M.accountNumber,onChange:K=>T(F,"accountNumber",K.target.value),className:"mt-1 block w-full border border-gray-300 px-3 py-2 text-xs focus:outline-none focus:ring-gray-500 focus:border-gray-500",placeholder:"Enter account number"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-600",children:"Currency"}),e.jsx("input",{type:"text",value:M.currency,onChange:K=>T(F,"currency",K.target.value),className:"mt-1 block w-full border border-gray-300 px-3 py-2 text-xs focus:outline-none focus:ring-gray-500 focus:border-gray-500",placeholder:"e.g., USD, EUR, GBP"})]})]}),e.jsx("div",{className:"mt-3",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:`isPrimary_${F}`,checked:M.isPrimary,onChange:K=>T(F,"isPrimary",K.target.checked),className:"h-4 w-4 text-gray-600 focus:ring-gray-500 border-gray-300"}),e.jsx("label",{htmlFor:`isPrimary_${F}`,className:"ml-2 block text-xs text-gray-600",children:"Set as primary account"})]})})]},F))})]}),e.jsx("div",{className:"flex justify-start",children:e.jsx("button",{type:"submit",disabled:r,className:`px-6 py-2 text-xs font-medium text-white ${r?"bg-gray-400 cursor-not-allowed":"bg-gray-700 hover:bg-gray-800"}`,children:r?e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Creating Employee..."]}):"Create Employee"})})]}),i&&e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:e.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 bg-white",children:e.jsxs("div",{className:"mt-3 text-center",children:[e.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 bg-green-100 mb-4",children:e.jsx(I,{icon:Xn,className:"h-6 w-6 text-green-600"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Employee Created Successfully"}),e.jsx("p",{className:"text-xs text-gray-500 mb-4",children:"The employee has been added to the system successfully."}),e.jsx("button",{onClick:Y,className:"px-4 py-2 bg-gray-700 text-white text-xs hover:bg-gray-800",children:"Continue"})]})})}),d&&e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:e.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 bg-white",children:e.jsxs("div",{className:"mt-3 text-center",children:[e.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 bg-red-100 mb-4",children:e.jsx(I,{icon:ur,className:"h-6 w-6 text-red-600"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Error Creating Employee"}),e.jsx("p",{className:"text-xs text-gray-500 mb-4",children:m.message}),e.jsx("button",{onClick:$,className:"px-4 py-2 bg-red-600 text-white text-xs hover:bg-red-700",children:"Close"})]})})})]})},JU=()=>{const{id:t}=On(),{token:r}=et(),[a,s]=g.useState(null),[n,i]=g.useState(!0),[o,d]=g.useState(""),[u,m]=g.useState("personal");g.useEffect(()=>{f()},[t]);const f=async()=>{try{i(!0),d("");const b=await de.get(`${ce}/employees/${t}`,{headers:{Authorization:`Bearer ${r}`}});b.data.success?s(b.data.data):d("Employee not found")}catch(b){console.error("Error fetching employee:",b),d("Failed to load employee information")}finally{i(!1)}},x=b=>b?new Date(b).toLocaleDateString():"Not set";return n?e.jsx("div",{className:"px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"text-center py-12",children:e.jsx("div",{className:"text-xs text-gray-500",children:"Loading employee information..."})})}):o||!a?e.jsx("div",{className:"px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"text-center py-12",children:e.jsx("div",{className:"text-xs text-red-600",children:o||"Employee not found"})})}):e.jsxs("div",{className:"px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg font-bold text-gray-900",children:a.full_name}),e.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:["Employee ID: ",a.employee_id," • ",a.department_name||"No Department"," • ",a.job_title||"No Job Title"]})]}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold ${a.is_active?"bg-gray-100 text-gray-800":"bg-red-100 text-red-800"}`,children:a.is_active?"Active":"Inactive"})})]})}),e.jsx("div",{className:"mb-6",children:e.jsx("nav",{className:"flex space-x-8 border-b border-gray-200",children:[{id:"personal",label:"Personal Information",icon:Fs},{id:"banking",label:"Banking",icon:sf}].map(b=>e.jsxs("button",{onClick:()=>m(b.id),className:`py-2 px-1 border-b-2 font-medium text-xs flex items-center ${u===b.id?"border-gray-700 text-gray-900":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(I,{icon:b.icon,className:"mr-2 h-3 w-3"}),b.label]},b.id))})}),e.jsxs("div",{className:"min-h-96",children:[u==="personal"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white border border-gray-200 p-6",children:[e.jsxs("h2",{className:"text-sm font-medium text-gray-900 mb-4 flex items-center",children:[e.jsx(I,{icon:Fs,className:"mr-2 h-4 w-4 text-gray-400"}),"Basic Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-600",children:"Full Name"}),e.jsx("div",{className:"mt-1 text-sm text-gray-900",children:a.full_name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-600",children:"Employee ID"}),e.jsx("div",{className:"mt-1 text-sm text-gray-900",children:a.employee_id})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-600",children:"ID Number"}),e.jsxs("div",{className:"mt-1 text-sm text-gray-900 flex items-center",children:[e.jsx(I,{icon:W2,className:"mr-2 h-4 w-4 text-gray-400"}),a.id_number]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-600",children:"Email Address"}),e.jsxs("div",{className:"mt-1 text-sm text-gray-900 flex items-center",children:[e.jsx(I,{icon:wC,className:"mr-2 h-4 w-4 text-gray-400"}),a.email||"Not provided"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-600",children:"Phone Number"}),e.jsxs("div",{className:"mt-1 text-sm text-gray-900 flex items-center",children:[e.jsx(I,{icon:vN,className:"mr-2 h-4 w-4 text-gray-400"}),a.phone_number||"Not provided"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-600",children:"Hire Date"}),e.jsxs("div",{className:"mt-1 text-sm text-gray-900 flex items-center",children:[e.jsx(I,{icon:yr,className:"mr-2 h-4 w-4 text-gray-400"}),x(a.hire_date)]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-xs font-medium text-gray-600",children:"Address"}),e.jsxs("div",{className:"mt-1 text-sm text-gray-900 flex items-start",children:[e.jsx(I,{icon:vc,className:"mr-2 h-4 w-4 text-gray-400 mt-0.5"}),a.address||"Not provided"]})]})]})]}),e.jsxs("div",{className:"bg-white border border-gray-200 p-6",children:[e.jsxs("h2",{className:"text-sm font-medium text-gray-900 mb-4 flex items-center",children:[e.jsx(I,{icon:yn,className:"mr-2 h-4 w-4 text-gray-400"}),"Work Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-600",children:"Department"}),e.jsxs("div",{className:"mt-1 text-sm text-gray-900 flex items-center",children:[e.jsx(I,{icon:yn,className:"mr-2 h-4 w-4 text-gray-400"}),a.department_name||"Not assigned"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-600",children:"Job Title"}),e.jsxs("div",{className:"mt-1 text-sm text-gray-900 flex items-center",children:[e.jsx(I,{icon:ay,className:"mr-2 h-4 w-4 text-gray-400"}),a.job_title||"Not assigned"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-600",children:"Employment Status"}),e.jsx("div",{className:"mt-1",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold ${a.is_active?"bg-gray-100 text-gray-800":"bg-red-100 text-red-800"}`,children:a.is_active?"Active":"Inactive"})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-600",children:"Date Created"}),e.jsx("div",{className:"mt-1 text-sm text-gray-900",children:x(a.created_at)})]})]})]})]}),u==="banking"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white border border-gray-200 p-6",children:[e.jsxs("h2",{className:"text-sm font-medium text-gray-900 mb-4 flex items-center",children:[e.jsx(I,{icon:sf,className:"mr-2 h-4 w-4 text-gray-400"}),"Bank Accounts"]}),a.bankAccounts&&a.bankAccounts.length>0?e.jsx("div",{className:"space-y-4",children:a.bankAccounts.map((b,p)=>e.jsxs("div",{className:"border border-gray-200 p-4 bg-gray-50",children:[e.jsx("div",{className:"flex items-center justify-between mb-3",children:e.jsxs("div",{className:"flex items-center",children:[e.jsxs("span",{className:"text-xs font-medium text-gray-600",children:["Account ",p+1]}),b.is_primary&&e.jsxs("span",{className:"ml-2 inline-flex items-center px-2 py-1 text-xs font-medium bg-yellow-100 text-yellow-800",children:[e.jsx(I,{icon:uf,className:"mr-1 h-3 w-3"}),"Primary"]}),e.jsx("span",{className:`ml-2 inline-flex px-2 py-1 text-xs font-semibold ${b.is_active?"bg-gray-100 text-gray-800":"bg-red-100 text-red-800"}`,children:b.is_active?"Active":"Inactive"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-600",children:"Bank Name"}),e.jsxs("div",{className:"mt-1 text-sm text-gray-900 flex items-center",children:[e.jsx(I,{icon:sf,className:"mr-2 h-4 w-4 text-gray-400"}),b.bank_name]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-600",children:"Account Number"}),e.jsxs("div",{className:"mt-1 text-sm text-gray-900 flex items-center",children:[e.jsx(I,{icon:Pn,className:"mr-2 h-4 w-4 text-gray-400"}),b.account_number]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-600",children:"Currency"}),e.jsxs("div",{className:"mt-1 text-sm text-gray-900 flex items-center",children:[e.jsx(I,{icon:$r,className:"mr-2 h-4 w-4 text-gray-400"}),b.currency]})]})]}),e.jsxs("div",{className:"mt-3 text-xs text-gray-500",children:["Added on ",x(b.created_at)]})]},b.id))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(I,{icon:sf,className:"h-12 w-12 text-gray-400 mb-4"}),e.jsx("p",{className:"text-xs text-gray-500",children:"No bank accounts found"})]})]})})]})]})},ZU=()=>{const{id:t}=On(),r=br(),{token:a}=et(),[s,n]=g.useState(!1),[i,o]=g.useState(!0),[d,u]=g.useState(""),[m,f]=g.useState(!1),[x,b]=g.useState(!1),[p,v]=g.useState({}),[j,w]=g.useState([]),[N,P]=g.useState([]),[A,D]=g.useState({employeeId:"",fullName:"",idNumber:"",address:"",email:"",phoneNumber:"",departmentId:"",jobTitleId:"",hireDate:"",generateEmployeeId:!1}),[T,R]=g.useState([{bankName:"",accountNumber:"",currency:"",isPrimary:!0}]);g.useEffect(()=>{E()},[t]);const E=async()=>{try{o(!0);const U=await de.get(`${ce}/employees/${t}`,{headers:{Authorization:`Bearer ${a}`}});if(U.data.success){const Z=U.data.data;D({employeeId:Z.employee_id||"",fullName:Z.full_name||"",idNumber:Z.id_number||"",address:Z.address||"",email:Z.email||"",phoneNumber:Z.phone_number||"",departmentId:Z.department_id||"",jobTitleId:Z.job_title_id||"",hireDate:Z.hire_date?Z.hire_date.split("T")[0]:"",generateEmployeeId:!1}),Z.bankAccounts&&Z.bankAccounts.length>0?R(Z.bankAccounts.map(X=>({id:X.id,bankName:X.bank_name||"",accountNumber:X.account_number||"",currency:X.currency||"",isPrimary:X.is_primary||!1}))):R([{bankName:"",accountNumber:"",currency:"",isPrimary:!0}])}const V=await de.get(`${ce}/configurations/active`,{headers:{Authorization:`Bearer ${a}`}});V.data.success&&(w(V.data.data.departments||[]),P(V.data.data.jobTitles||[]))}catch(U){console.error("Error fetching employee data:",U),u("Failed to load employee data")}finally{o(!1)}},O=U=>{const{name:V,value:Z,type:X,checked:J}=U.target;D(be=>({...be,[V]:X==="checkbox"?J:Z}))},k=(U,V,Z)=>{R(X=>{const J=[...X];return J[U]={...J[U],[V]:Z},V==="isPrimary"&&Z&&J.forEach((be,z)=>{z!==U&&(be.isPrimary=!1)}),J})},Y=()=>{R(U=>[...U,{bankName:"",accountNumber:"",currency:"",isPrimary:!1}])},$=U=>{T.length>1&&R(V=>{const Z=V.filter((X,J)=>J!==U);return V[U].isPrimary&&Z.length>0&&(Z[0].isPrimary=!0),Z})},M=()=>A.fullName.trim()?A.idNumber.trim()?T.filter(V=>V.bankName.trim()&&V.accountNumber.trim()).length===0&&T.some(V=>V.bankName.trim()||V.accountNumber.trim())?(u("Please complete bank account information or remove incomplete entries"),!1):!0:(u("ID number is required"),!1):(u("Full name is required"),!1),F=async U=>{if(U.preventDefault(),!!M())try{n(!0),u("");const V={...A,departmentId:A.departmentId||null,jobTitleId:A.jobTitleId||null,hireDate:A.hireDate||null,bankAccounts:T.filter(X=>X.bankName.trim()&&X.accountNumber.trim())};(await de.put(`${ce}/employees/${t}`,V,{headers:{Authorization:`Bearer ${a}`}})).data.success&&f(!0)}catch(V){console.error("Error updating employee:",V),V.response?.data?.errorType&&V.response?.data?.field?(v({type:V.response.data.errorType,field:V.response.data.field,message:V.response.data.error}),b(!0)):u(V.response?.data?.error||"Failed to update employee")}finally{n(!1)}},K=()=>{f(!1),r("/dashboard/employees")},q=()=>{b(!1),v({})};return i?e.jsx("div",{className:"px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex items-center justify-center h-64",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-700"}),e.jsx("span",{className:"ml-2 text-sm text-gray-600",children:"Loading employee data..."})]})}):e.jsxs("div",{className:"px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("div",{className:"mb-2",children:e.jsx("h1",{className:"text-lg font-bold text-gray-900",children:"Edit Employee"})}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Update employee information and banking details"})]}),d&&e.jsx("div",{className:"mb-4 bg-red-50 border border-red-200 p-3",children:e.jsx("div",{className:"text-xs text-red-600",children:d})}),e.jsxs("form",{onSubmit:F,className:"space-y-6",children:[e.jsxs("div",{className:"bg-white border border-gray-200 p-6",children:[e.jsxs("h2",{className:"text-sm font-medium text-gray-900 mb-4 flex items-center",children:[e.jsx(I,{icon:Fs,className:"mr-2 h-4 w-4 text-gray-400"}),"Personal Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-600",children:"Employee ID"}),e.jsx("input",{type:"text",name:"employeeId",value:A.employeeId,onChange:O,className:"mt-1 block w-full border border-gray-300 px-3 py-2 text-xs focus:outline-none focus:ring-gray-500 focus:border-gray-500 bg-gray-50",readOnly:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs font-medium text-gray-600",children:["Full Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"fullName",required:!0,value:A.fullName,onChange:O,className:"mt-1 block w-full border border-gray-300 px-3 py-2 text-xs focus:outline-none focus:ring-gray-500 focus:border-gray-500",placeholder:"Enter full name"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs font-medium text-gray-600",children:["ID Number ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"idNumber",required:!0,value:A.idNumber,onChange:O,className:"mt-1 block w-full border border-gray-300 px-3 py-2 text-xs focus:outline-none focus:ring-gray-500 focus:border-gray-500",placeholder:"Enter ID number"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-600",children:"Email Address"}),e.jsx("input",{type:"email",name:"email",value:A.email,onChange:O,className:"mt-1 block w-full border border-gray-300 px-3 py-2 text-xs focus:outline-none focus:ring-gray-500 focus:border-gray-500",placeholder:"Enter email address"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-600",children:"Phone Number"}),e.jsx("input",{type:"tel",name:"phoneNumber",value:A.phoneNumber,onChange:O,className:"mt-1 block w-full border border-gray-300 px-3 py-2 text-xs focus:outline-none focus:ring-gray-500 focus:border-gray-500",placeholder:"Enter phone number"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-xs font-medium text-gray-600",children:"Address"}),e.jsx("textarea",{name:"address",value:A.address,onChange:O,rows:"3",className:"mt-1 block w-full border border-gray-300 px-3 py-2 text-xs focus:outline-none focus:ring-gray-500 focus:border-gray-500",placeholder:"Enter home address"})]})]})]}),e.jsxs("div",{className:"bg-white border border-gray-200 p-6",children:[e.jsxs("h2",{className:"text-sm font-medium text-gray-900 mb-4 flex items-center",children:[e.jsx(I,{icon:yn,className:"mr-2 h-4 w-4 text-gray-400"}),"Work Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-600",children:"Department"}),e.jsxs("select",{name:"departmentId",value:A.departmentId,onChange:O,className:"mt-1 block w-full border border-gray-300 px-3 py-2 text-xs focus:outline-none focus:ring-gray-500 focus:border-gray-500",children:[e.jsx("option",{value:"",children:"Select Department"}),j.map(U=>e.jsx("option",{value:U.id,children:U.name},U.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-600",children:"Job Title"}),e.jsxs("select",{name:"jobTitleId",value:A.jobTitleId,onChange:O,className:"mt-1 block w-full border border-gray-300 px-3 py-2 text-xs focus:outline-none focus:ring-gray-500 focus:border-gray-500",children:[e.jsx("option",{value:"",children:"Select Job Title"}),N.map(U=>e.jsx("option",{value:U.id,children:U.name},U.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-600",children:"Hire Date (Optional)"}),e.jsx("input",{type:"date",name:"hireDate",value:A.hireDate,onChange:O,className:"mt-1 block w-full border border-gray-300 px-3 py-2 text-xs focus:outline-none focus:ring-gray-500 focus:border-gray-500"})]})]})]}),e.jsxs("div",{className:"bg-white border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h2",{className:"text-sm font-medium text-gray-900 flex items-center",children:[e.jsx(I,{icon:sf,className:"mr-2 h-4 w-4 text-gray-400"}),"Bank Account Information"]}),e.jsxs("button",{type:"button",onClick:Y,className:"bg-gray-700 text-white px-3 py-1 text-xs hover:bg-gray-800 flex items-center",children:[e.jsx(I,{icon:_t,className:"mr-1 h-3 w-3"}),"Add Account"]})]}),e.jsx("div",{className:"space-y-4",children:T.map((U,V)=>e.jsxs("div",{className:"border border-gray-200 p-4 bg-gray-50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsxs("span",{className:"text-xs font-medium text-gray-600",children:["Account ",V+1]}),U.isPrimary&&e.jsxs("span",{className:"ml-2 inline-flex items-center px-2 py-1 text-xs font-medium bg-yellow-100 text-yellow-800",children:[e.jsx(I,{icon:uf,className:"mr-1 h-3 w-3"}),"Primary"]})]}),T.length>1&&e.jsx("button",{type:"button",onClick:()=>$(V),className:"text-red-600 hover:text-red-900",children:e.jsx(I,{icon:Mt,className:"h-4 w-4"})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-600",children:"Bank Name"}),e.jsx("input",{type:"text",value:U.bankName,onChange:Z=>k(V,"bankName",Z.target.value),className:"mt-1 block w-full border border-gray-300 px-3 py-2 text-xs focus:outline-none focus:ring-gray-500 focus:border-gray-500",placeholder:"Enter bank name"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-600",children:"Account Number"}),e.jsx("input",{type:"text",value:U.accountNumber,onChange:Z=>k(V,"accountNumber",Z.target.value),className:"mt-1 block w-full border border-gray-300 px-3 py-2 text-xs focus:outline-none focus:ring-gray-500 focus:border-gray-500",placeholder:"Enter account number"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-600",children:"Currency"}),e.jsx("input",{type:"text",value:U.currency,onChange:Z=>k(V,"currency",Z.target.value),className:"mt-1 block w-full border border-gray-300 px-3 py-2 text-xs focus:outline-none focus:ring-gray-500 focus:border-gray-500",placeholder:"e.g., USD, EUR, GBP"})]})]}),e.jsx("div",{className:"mt-3",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:`isPrimary_${V}`,checked:U.isPrimary,onChange:Z=>k(V,"isPrimary",Z.target.checked),className:"h-4 w-4 text-gray-600 focus:ring-gray-500 border-gray-300"}),e.jsx("label",{htmlFor:`isPrimary_${V}`,className:"ml-2 block text-xs text-gray-600",children:"Set as primary account"})]})})]},V))})]}),e.jsx("div",{className:"flex justify-start",children:e.jsx("button",{type:"submit",disabled:s,className:`px-6 py-2 text-xs font-medium text-white ${s?"bg-gray-400 cursor-not-allowed":"bg-gray-700 hover:bg-gray-800"}`,children:s?e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Updating Employee..."]}):"Update Employee"})})]}),m&&e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:e.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 bg-white",children:e.jsxs("div",{className:"mt-3 text-center",children:[e.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 bg-green-100 mb-4",children:e.jsx(I,{icon:Xn,className:"h-6 w-6 text-green-600"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Employee Updated Successfully"}),e.jsx("p",{className:"text-xs text-gray-500 mb-4",children:"The employee information has been updated successfully."}),e.jsx("button",{onClick:K,className:"px-4 py-2 bg-gray-700 text-white text-xs hover:bg-gray-800",children:"Continue"})]})})}),x&&e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:e.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 bg-white",children:e.jsxs("div",{className:"mt-3 text-center",children:[e.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 bg-red-100 mb-4",children:e.jsx(I,{icon:ur,className:"h-6 w-6 text-red-600"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Error Updating Employee"}),e.jsx("p",{className:"text-xs text-gray-500 mb-4",children:p.message}),e.jsx("button",{onClick:q,className:"px-4 py-2 bg-red-600 text-white text-xs hover:bg-red-700",children:"Close"})]})})})]})},QU=()=>{const{token:t}=et(),[r,a]=g.useState([]),[s,n]=g.useState(!1),[i,o]=g.useState(""),[d,u]=g.useState(""),[m,f]=g.useState(!1),[x,b]=g.useState(!1),[p,v]=g.useState(null),[j,w]=g.useState("create"),[N,P]=g.useState(1),[A,D]=g.useState(1),[T,R]=g.useState(0),E=10,[O,k]=g.useState({name:"",description:"",isActive:!0});g.useEffect(()=>{Y()},[N,d]);const Y=async()=>{try{n(!0),o("");const X={page:N,limit:E};d.trim()&&(X.search=d.trim());const J=await de.get(`${ce}/configurations/departments`,{headers:{Authorization:`Bearer ${t}`},params:X});J.data.success&&(a(J.data.data),J.data.pagination&&(D(J.data.pagination.totalPages),R(J.data.pagination.totalRecords)))}catch(X){console.error("Error fetching departments:",X),o("Failed to load departments")}finally{n(!1)}},$=()=>{P(1),Y()},M=()=>{u(""),P(1)},F=()=>{w("create"),k({name:"",description:"",isActive:!0}),v(null),f(!0)},K=X=>{w("edit"),k({name:X.name,description:X.description||"",isActive:X.is_active}),v(X),f(!0)},q=X=>{v(X),b(!0)},U=async X=>{X.preventDefault();try{n(!0),o("");const J=j==="create"?`${ce}/configurations/departments`:`${ce}/configurations/departments/${p.id}`;(await de[j==="create"?"post":"put"](J,O,{headers:{Authorization:`Bearer ${t}`}})).data.success&&(f(!1),Y(),k({name:"",description:"",isActive:!0}))}catch(J){console.error("Error saving department:",J),J.response?.data?.error?o(J.response.data.error):o("Failed to save department")}finally{n(!1)}},V=async()=>{try{n(!0),await de.delete(`${ce}/configurations/departments/${p.id}`,{headers:{Authorization:`Bearer ${t}`}}),b(!1),v(null),Y()}catch(X){console.error("Error deleting department:",X),o(X.response?.data?.error||"Failed to delete department"),b(!1)}finally{n(!1)}},Z=X=>{P(X)};return e.jsxs("div",{children:[e.jsxs("div",{className:"mb-4 flex justify-between items-center",children:[e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"text",placeholder:"Search departments...",value:d,onChange:X=>u(X.target.value),onKeyPress:X=>X.key==="Enter"&&$(),className:"border border-gray-300 px-3 py-2 text-xs focus:outline-none focus:ring-gray-500 focus:border-gray-500"}),e.jsx("button",{onClick:$,className:"ml-2 bg-gray-700 text-white px-3 py-2 text-xs hover:bg-gray-800",children:e.jsx(I,{icon:Vt,className:"h-3 w-3"})}),d&&e.jsx("button",{onClick:M,className:"ml-2 text-gray-500 hover:text-gray-700 text-xs",children:"Clear"})]})}),e.jsxs("button",{onClick:F,className:"bg-gray-700 text-white px-4 py-2 text-xs hover:bg-gray-800 flex items-center",children:[e.jsx(I,{icon:_t,className:"mr-2 h-3 w-3"}),"Add Department"]})]}),i&&e.jsx("div",{className:"mb-4 bg-red-50 border border-red-200 p-3",children:e.jsx("div",{className:"text-xs text-red-600",children:i})}),e.jsx("div",{className:"bg-white border border-gray-200",children:e.jsxs("table",{className:"min-w-full",children:[e.jsx("thead",{className:"bg-gray-100/30",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider border-b border-gray-200",children:"Department"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider border-b border-gray-200",children:"Description"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider border-b border-gray-200",children:"Employees"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider border-b border-gray-200",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider border-b border-gray-200",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s?e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"px-6 py-4 text-center text-xs text-gray-500",children:"Loading departments..."})}):r.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"px-6 py-4 text-center text-xs text-gray-500",children:"No departments found"})}):r.map(X=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-xs",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(I,{icon:yn,className:"h-4 w-4 text-gray-400 mr-3"}),e.jsx("div",{children:e.jsx("div",{className:"font-medium text-gray-900",children:X.name})})]})}),e.jsx("td",{className:"px-6 py-4 text-xs text-gray-500",children:e.jsx("div",{className:"max-w-xs truncate",children:X.description||"No description"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-xs",children:e.jsxs("div",{className:"flex items-center text-gray-500",children:[e.jsx(I,{icon:Ir,className:"h-3 w-3 mr-1"}),X.employee_count||0]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-xs",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold ${X.is_active?"bg-gray-100 text-gray-800":"bg-red-100 text-red-800"}`,children:X.is_active?"Active":"Inactive"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-xs",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>K(X),className:"text-blue-600 hover:text-blue-900",title:"Edit Department",children:e.jsx(I,{icon:lr,className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>q(X),className:"text-red-600 hover:text-red-900",title:"Delete Department",children:e.jsx(I,{icon:Mt,className:"h-4 w-4"})})]})})]},X.id))})]})}),A>1&&e.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[e.jsxs("div",{className:"text-xs text-gray-500",children:["Showing ",(N-1)*E+1," to ",Math.min(N*E,T)," of ",T," departments"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>Z(N-1),disabled:N===1,className:`px-3 py-1 text-xs border ${N===1?"border-gray-200 text-gray-400 cursor-not-allowed":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:e.jsx(I,{icon:ny,className:"h-3 w-3"})}),[...Array(A)].map((X,J)=>e.jsx("button",{onClick:()=>Z(J+1),className:`px-3 py-1 text-xs border ${N===J+1?"border-gray-700 bg-gray-700 text-white":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:J+1},J+1)),e.jsx("button",{onClick:()=>Z(N+1),disabled:N===A,className:`px-3 py-1 text-xs border ${N===A?"border-gray-200 text-gray-400 cursor-not-allowed":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:e.jsx(I,{icon:sy,className:"h-3 w-3"})})]})]}),m&&e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:e.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 bg-white",children:e.jsxs("div",{className:"mt-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:j==="create"?"Add New Department":"Edit Department"}),e.jsx("button",{onClick:()=>f(!1),className:"text-gray-400 hover:text-gray-600",children:"×"})]}),e.jsxs("form",{onSubmit:U,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs font-medium text-gray-600",children:["Department Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",required:!0,value:O.name,onChange:X=>k({...O,name:X.target.value}),className:"mt-1 block w-full border border-gray-300 px-3 py-2 text-xs focus:outline-none focus:ring-gray-500 focus:border-gray-500",placeholder:"Enter department name"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-600",children:"Description"}),e.jsx("textarea",{value:O.description,onChange:X=>k({...O,description:X.target.value}),rows:"3",className:"mt-1 block w-full border border-gray-300 px-3 py-2 text-xs focus:outline-none focus:ring-gray-500 focus:border-gray-500",placeholder:"Enter department description"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"isActive",checked:O.isActive,onChange:X=>k({...O,isActive:X.target.checked}),className:"h-4 w-4 text-gray-600 focus:ring-gray-500 border-gray-300"}),e.jsx("label",{htmlFor:"isActive",className:"ml-2 block text-xs text-gray-600",children:"Active"})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>f(!1),className:"px-4 py-2 border border-gray-300 text-xs text-gray-700 hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:s,className:"px-4 py-2 bg-gray-700 text-white text-xs hover:bg-gray-800 disabled:bg-gray-400",children:s?"Saving...":j==="create"?"Create":"Update"})]})]})]})})}),x&&p&&e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:e.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 bg-white",children:e.jsxs("div",{className:"mt-3 text-center",children:[e.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 bg-red-100 mb-4",children:e.jsx(I,{icon:Mt,className:"h-6 w-6 text-red-600"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Delete Department"}),e.jsxs("p",{className:"text-xs text-gray-500 mb-4",children:['Are you sure you want to delete "',p.name,'"? This action cannot be undone.']}),e.jsxs("div",{className:"flex justify-center space-x-3",children:[e.jsx("button",{onClick:()=>b(!1),className:"px-4 py-2 border border-gray-300 text-xs text-gray-700 hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{onClick:V,disabled:s,className:"px-4 py-2 bg-red-600 text-white text-xs hover:bg-red-700 disabled:bg-red-400",children:s?"Deleting...":"Delete"})]})]})})})]})},eq=()=>{const{token:t}=et(),[r,a]=g.useState([]),[s,n]=g.useState(!1),[i,o]=g.useState(""),[d,u]=g.useState(""),[m,f]=g.useState(!1),[x,b]=g.useState(!1),[p,v]=g.useState(null),[j,w]=g.useState("create"),[N,P]=g.useState(1),[A,D]=g.useState(1),[T,R]=g.useState(0),E=10,[O,k]=g.useState({title:"",description:"",isActive:!0});g.useEffect(()=>{Y()},[N,d]);const Y=async()=>{try{n(!0),o("");const X={page:N,limit:E};d.trim()&&(X.search=d.trim());const J=await de.get(`${ce}/configurations/job-titles`,{headers:{Authorization:`Bearer ${t}`},params:X});J.data.success&&(a(J.data.data),J.data.pagination&&(D(J.data.pagination.totalPages),R(J.data.pagination.totalRecords)))}catch(X){console.error("Error fetching job titles:",X),o("Failed to load job titles")}finally{n(!1)}},$=()=>{P(1),Y()},M=()=>{u(""),P(1)},F=()=>{w("create"),k({title:"",description:"",isActive:!0}),v(null),f(!0)},K=X=>{w("edit"),k({title:X.title,description:X.description||"",isActive:X.is_active}),v(X),f(!0)},q=X=>{v(X),b(!0)},U=async X=>{X.preventDefault();try{n(!0),o("");const J=j==="create"?`${ce}/configurations/job-titles`:`${ce}/configurations/job-titles/${p.id}`;(await de[j==="create"?"post":"put"](J,O,{headers:{Authorization:`Bearer ${t}`}})).data.success&&(f(!1),Y(),k({title:"",description:"",isActive:!0}))}catch(J){console.error("Error saving job title:",J),J.response?.data?.error?o(J.response.data.error):o("Failed to save job title")}finally{n(!1)}},V=async()=>{try{n(!0),await de.delete(`${ce}/configurations/job-titles/${p.id}`,{headers:{Authorization:`Bearer ${t}`}}),b(!1),v(null),Y()}catch(X){console.error("Error deleting job title:",X),o(X.response?.data?.error||"Failed to delete job title"),b(!1)}finally{n(!1)}},Z=X=>{P(X)};return e.jsxs("div",{children:[e.jsxs("div",{className:"mb-4 flex justify-between items-center",children:[e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"text",placeholder:"Search job titles...",value:d,onChange:X=>u(X.target.value),onKeyPress:X=>X.key==="Enter"&&$(),className:"border border-gray-300 px-3 py-2 text-xs focus:outline-none focus:ring-gray-500 focus:border-gray-500"}),e.jsx("button",{onClick:$,className:"ml-2 bg-gray-700 text-white px-3 py-2 text-xs hover:bg-gray-800",children:e.jsx(I,{icon:Vt,className:"h-3 w-3"})}),d&&e.jsx("button",{onClick:M,className:"ml-2 text-gray-500 hover:text-gray-700 text-xs",children:"Clear"})]})}),e.jsxs("button",{onClick:F,className:"bg-gray-700 text-white px-4 py-2 text-xs hover:bg-gray-800 flex items-center",children:[e.jsx(I,{icon:_t,className:"mr-2 h-3 w-3"}),"Add Job Title"]})]}),i&&e.jsx("div",{className:"mb-4 bg-red-50 border border-red-200 p-3",children:e.jsx("div",{className:"text-xs text-red-600",children:i})}),e.jsx("div",{className:"bg-white border border-gray-200",children:e.jsxs("table",{className:"min-w-full",children:[e.jsx("thead",{className:"bg-gray-100/30",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider border-b border-gray-200",children:"Job Title"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider border-b border-gray-200",children:"Description"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider border-b border-gray-200",children:"Employees"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider border-b border-gray-200",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider border-b border-gray-200",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s?e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"px-6 py-4 text-center text-xs text-gray-500",children:"Loading job titles..."})}):r.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"px-6 py-4 text-center text-xs text-gray-500",children:"No job titles found"})}):r.map(X=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-xs",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(I,{icon:ay,className:"h-4 w-4 text-gray-400 mr-3"}),e.jsx("div",{children:e.jsx("div",{className:"font-medium text-gray-900",children:X.title})})]})}),e.jsx("td",{className:"px-6 py-4 text-xs text-gray-500",children:e.jsx("div",{className:"max-w-xs truncate",children:X.description||"No description"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-xs",children:e.jsxs("div",{className:"flex items-center text-gray-500",children:[e.jsx(I,{icon:Ir,className:"h-3 w-3 mr-1"}),X.employee_count||0]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-xs",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold ${X.is_active?"bg-gray-100 text-gray-800":"bg-red-100 text-red-800"}`,children:X.is_active?"Active":"Inactive"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-xs",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>K(X),className:"text-blue-600 hover:text-blue-900",title:"Edit Job Title",children:e.jsx(I,{icon:lr,className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>q(X),className:"text-red-600 hover:text-red-900",title:"Delete Job Title",children:e.jsx(I,{icon:Mt,className:"h-4 w-4"})})]})})]},X.id))})]})}),A>1&&e.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[e.jsxs("div",{className:"text-xs text-gray-500",children:["Showing ",(N-1)*E+1," to ",Math.min(N*E,T)," of ",T," job titles"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>Z(N-1),disabled:N===1,className:`px-3 py-1 text-xs border ${N===1?"border-gray-200 text-gray-400 cursor-not-allowed":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:e.jsx(I,{icon:ny,className:"h-3 w-3"})}),[...Array(A)].map((X,J)=>e.jsx("button",{onClick:()=>Z(J+1),className:`px-3 py-1 text-xs border ${N===J+1?"border-gray-700 bg-gray-700 text-white":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:J+1},J+1)),e.jsx("button",{onClick:()=>Z(N+1),disabled:N===A,className:`px-3 py-1 text-xs border ${N===A?"border-gray-200 text-gray-400 cursor-not-allowed":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:e.jsx(I,{icon:sy,className:"h-3 w-3"})})]})]}),m&&e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:e.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 bg-white",children:e.jsxs("div",{className:"mt-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:j==="create"?"Add New Job Title":"Edit Job Title"}),e.jsx("button",{onClick:()=>f(!1),className:"text-gray-400 hover:text-gray-600",children:"×"})]}),e.jsxs("form",{onSubmit:U,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs font-medium text-gray-600",children:["Job Title ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",required:!0,value:O.title,onChange:X=>k({...O,title:X.target.value}),className:"mt-1 block w-full border border-gray-300 px-3 py-2 text-xs focus:outline-none focus:ring-gray-500 focus:border-gray-500",placeholder:"Enter job title"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-600",children:"Description"}),e.jsx("textarea",{value:O.description,onChange:X=>k({...O,description:X.target.value}),rows:"3",className:"mt-1 block w-full border border-gray-300 px-3 py-2 text-xs focus:outline-none focus:ring-gray-500 focus:border-gray-500",placeholder:"Enter job title description"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"isActive",checked:O.isActive,onChange:X=>k({...O,isActive:X.target.checked}),className:"h-4 w-4 text-gray-600 focus:ring-gray-500 border-gray-300"}),e.jsx("label",{htmlFor:"isActive",className:"ml-2 block text-xs text-gray-600",children:"Active"})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>f(!1),className:"px-4 py-2 border border-gray-300 text-xs text-gray-700 hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:s,className:"px-4 py-2 bg-gray-700 text-white text-xs hover:bg-gray-800 disabled:bg-gray-400",children:s?"Saving...":j==="create"?"Create":"Update"})]})]})]})})}),x&&p&&e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:e.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 bg-white",children:e.jsxs("div",{className:"mt-3 text-center",children:[e.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 bg-red-100 mb-4",children:e.jsx(I,{icon:Mt,className:"h-6 w-6 text-red-600"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Delete Job Title"}),e.jsxs("p",{className:"text-xs text-gray-500 mb-4",children:['Are you sure you want to delete "',p.title,'"? This action cannot be undone.']}),e.jsxs("div",{className:"flex justify-center space-x-3",children:[e.jsx("button",{onClick:()=>b(!1),className:"px-4 py-2 border border-gray-300 text-xs text-gray-700 hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{onClick:V,disabled:s,className:"px-4 py-2 bg-red-600 text-white text-xs hover:bg-red-700 disabled:bg-red-400",children:s?"Deleting...":"Delete"})]})]})})})]})},tq=()=>{const{token:t}=et(),[r,a]=g.useState([]),[s,n]=g.useState({code:"",name:"",symbol:"",is_active:!0}),[i,o]=g.useState(!1),[d,u]=g.useState("");g.useEffect(()=>{m()},[]);const m=async()=>{o(!0),u("");try{const b=await de.get(`${ce}/accounting/currencies`,{headers:{Authorization:`Bearer ${t}`}});b.data.success?a(b.data.data||[]):u("Failed to load currencies.")}catch{u("Failed to load currencies.")}finally{o(!1)}},f=b=>{const{name:p,value:v,type:j,checked:w}=b.target;n(N=>({...N,[p]:j==="checkbox"?w:v}))},x=async b=>{b.preventDefault(),o(!0),u("");try{const p=await de.post(`${ce}/accounting/currencies`,s,{headers:{Authorization:`Bearer ${t}`}});p.data.success?(n({code:"",name:"",symbol:"",is_active:!0}),m()):u(p.data.message||"Failed to add currency.")}catch(p){u(p.response?.data?.message||"Failed to add currency.")}finally{o(!1)}};return e.jsxs("div",{className:"mt-12",children:[e.jsx("div",{className:"mb-4 flex items-center justify-between",children:e.jsx("h2",{className:"text-base font-semibold text-gray-800",children:"Currencies"})}),e.jsxs("div",{className:"bg-white border border-gray-200 overflow-hidden mb-6",children:[e.jsx("div",{className:"px-4 py-3 border-b border-gray-200",children:e.jsx("h3",{className:"text-xs font-semibold text-gray-700",children:"Add New Currency"})}),e.jsxs("form",{className:"px-4 py-4 flex flex-col md:flex-row md:items-end gap-4",onSubmit:x,children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:["Code ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"code",value:s.code,onChange:f,className:"w-full border border-gray-300 px-2 py-1 text-xs text-gray-900 focus:outline-none focus:ring-gray-900 focus:border-gray-900",style:{borderRadius:0},required:!0})]}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:["Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"name",value:s.name,onChange:f,className:"w-full border border-gray-300 px-2 py-1 text-xs text-gray-900 focus:outline-none focus:ring-gray-900 focus:border-gray-900",style:{borderRadius:0},required:!0})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Symbol"}),e.jsx("input",{type:"text",name:"symbol",value:s.symbol,onChange:f,className:"w-full border border-gray-300 px-2 py-1 text-xs text-gray-900 focus:outline-none focus:ring-gray-900 focus:border-gray-900",style:{borderRadius:0}})]}),e.jsxs("div",{className:"flex items-center mb-2 md:mb-0",children:[e.jsx("input",{type:"checkbox",name:"is_active",checked:s.is_active,onChange:f,className:"mr-2 border-gray-300 focus:ring-gray-900",style:{borderRadius:0},id:"is_active"}),e.jsx("label",{htmlFor:"is_active",className:"text-xs text-gray-700",children:"Active"})]}),e.jsxs("button",{type:"submit",className:"px-4 py-2 text-xs font-medium text-white bg-gray-900 hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-900",style:{borderRadius:0},disabled:i,children:[e.jsx(I,{icon:_t,className:"mr-2 h-3 w-3"}),i?"Saving...":"Add Currency"]})]}),d&&e.jsx("div",{className:"px-4 pb-2 text-xs text-red-600",children:d})]}),e.jsxs("div",{className:"bg-white border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"px-4 py-3 border-b border-gray-200",children:e.jsx("h3",{className:"text-xs font-semibold text-gray-700",children:"Currencies List"})}),e.jsx("div",{className:"border-t border-gray-200",children:i?e.jsx("div",{className:"p-6 text-xs text-gray-500",children:"Loading currencies..."}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 text-xs",children:[e.jsx("thead",{className:"bg-gray-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-3 py-2 text-left font-medium tracking-wider",children:"Code"}),e.jsx("th",{className:"px-3 py-2 text-left font-medium tracking-wider",children:"Name"}),e.jsx("th",{className:"px-3 py-2 text-left font-medium tracking-wider",children:"Symbol"}),e.jsx("th",{className:"px-3 py-2 text-left font-medium tracking-wider",children:"Status"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(b=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-3 py-2 whitespace-nowrap font-mono",children:b.code}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:b.name}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:b.symbol||"-"}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:e.jsx("span",{className:b.is_active?"text-gray-700":"text-gray-400",children:b.is_active?"Active":"Inactive"})})]},b.id))})]})})})]})]})},rq=()=>{const[t,r]=g.useState("departments");return e.jsxs("div",{className:"px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"mb-6",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg font-bold text-gray-900",children:"Configurations"}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Manage departments, job titles, and currencies for employee assignments and accounting"})]})})}),e.jsx("div",{className:"mb-6",children:e.jsx("nav",{className:"flex space-x-8 border-b border-gray-200",children:[{id:"departments",label:"Departments",icon:yn},{id:"job-titles",label:"Job Titles",icon:ay},{id:"currencies",label:"Currencies",icon:Fl}].map(a=>e.jsxs("button",{onClick:()=>r(a.id),className:`py-2 px-1 border-b-2 font-medium text-xs flex items-center ${t===a.id?"border-gray-700 text-gray-900":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(I,{icon:a.icon,className:"mr-2 h-3 w-3"}),a.label]},a.id))})}),e.jsxs("div",{className:"min-h-96 mb-12",children:[t==="departments"&&e.jsx(QU,{}),t==="job-titles"&&e.jsx(eq,{}),t==="currencies"&&e.jsx(tq,{})]})]})},aq=()=>{const{token:t}=et(),[r,a]=g.useState([]),[s,n]=g.useState(!1),[i,o]=g.useState(null),[d,u]=g.useState(""),[m,f]=g.useState(""),[x,b]=g.useState(!1),[p,v]=g.useState(null);g.useEffect(()=>{j()},[m]);const j=async()=>{try{if(n(!0),o(null),m&&m.trim()!==""){console.log("🔍 Searching for:",m);const E=(await de.get(`${ce}/classes/gradelevel-classes/search`,{params:{search:m.trim()},headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}})).data;console.log("🔍 Search results:",E),a(E.data||[])}else{console.log("📄 Fetching all classes");const E=(await de.get(`${ce}/classes/gradelevel-classes`,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}})).data;console.log("📊 Raw response:",E),a(E.data||[])}}catch(R){console.error("Error fetching grade-level classes:",R),R.response?o(`Error: ${R.response.status} - ${R.response.data?.message||R.response.statusText}`):R.request?o("No response from server. Please check your connection."):o(`Error: ${R.message}`)}finally{n(!1)}},w=R=>{R.preventDefault(),d.trim()&&(console.log("🔍 Starting search with term:",d),f(d))},N=()=>{u(""),f("")},P=async R=>{v(R),b(!0)},A=async()=>{if(p)try{await de.delete(`${ce}/classes/gradelevel-classes/${p}`,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}}),j(),b(!1),v(null)}catch(R){console.error("Error deleting class:",R),alert("Failed to delete class. Please try again.")}},D=()=>{b(!1),v(null)},T=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[e.jsxs("div",{className:"flex-1 max-w-md",children:[e.jsxs("form",{onSubmit:w,className:"flex",children:[e.jsx("input",{type:"text",value:d,onChange:R=>u(R.target.value),placeholder:"Search by class name or stream name...",className:"flex-1 px-2 py-1 border border-gray-300  focus:outline-none focus:ring-blue-500 focus:border-blue-500 text-xs"}),e.jsx("button",{type:"submit",className:"inline-flex items-center justify-center px-2 py-1 border border-transparent text-xs font-medium text-white bg-gray-700 hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",children:e.jsx(I,{icon:Vt,className:"h-3 w-3"})})]}),m&&e.jsxs("div",{className:"mt-2 text-xs text-gray-600",children:[s?"Searching...":`Found ${r.length} results for "${m}"`,e.jsx("button",{onClick:N,className:"ml-2 text-blue-600 hover:text-blue-800 underline text-xs",children:"Clear search"})]})]}),e.jsx("div",{className:"flex items-center space-x-3",children:e.jsxs(Yt,{to:"/dashboard/classes/gradelevel-classes/add",className:"inline-flex items-center px-3 py-1 border border-transparent text-xs font-medium text-white bg-gray-700 hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",children:[e.jsx(I,{icon:_t,className:"mr-1 h-3 w-3"}),"Add New Class"]})})]}),i&&e.jsx("div",{className:"mt-4 bg-red-50 border border-red-200 rounded-md p-3",children:e.jsx("div",{className:"text-xs text-red-600",children:i})}),e.jsx("div",{className:"mt-8 flex flex-col",children:e.jsx("div",{className:"-my-2 -mx-4 overflow-x-auto sm:-mx-6 lg:-mx-8",children:e.jsx("div",{className:"inline-block min-w-full py-2 align-middle md:px-6 lg:px-8",children:e.jsx("div",{className:"overflow-hidden border border-gray-200",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium tracking-wider",children:"Class Name"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium  tracking-wider",children:"Stream"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium  tracking-wider",children:"Stage"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium  tracking-wider",children:"Teacher"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium  tracking-wider",children:"Capacity"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium  tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(R=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:e.jsx("div",{className:"text-xs text-gray-900 font-medium",children:R.name})}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:e.jsx("div",{className:"text-xs text-gray-900",children:R.stream_name||"N/A"})}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:e.jsx("div",{className:"text-xs text-gray-900",children:R.stream_stage||"N/A"})}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:e.jsx("div",{className:"text-xs text-gray-900",children:R.teacher_name||"Not Assigned"})}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:e.jsx("div",{className:"text-xs text-gray-900",children:R.capacity||"Unlimited"})}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-xs font-medium",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(Yt,{to:`/dashboard/classes/gradelevel-classes/view/${R.id}`,className:"text-blue-600 hover:text-blue-900",title:"View Class",children:e.jsx(I,{icon:Fr,className:"h-3 w-3"})}),e.jsx(Yt,{to:`/dashboard/classes/gradelevel-classes/edit/${R.id}`,className:"text-indigo-600 hover:text-indigo-900",title:"Edit Class",children:e.jsx(I,{icon:lr,className:"h-3 w-3"})}),e.jsx("button",{onClick:()=>P(R.id),className:"text-red-600 hover:text-red-900",title:"Delete Class",children:e.jsx(I,{icon:Mt,className:"h-3 w-3"})})]})})]},R.id))})]})})})})}),!s&&r.length===0&&e.jsxs("div",{className:"mt-8 text-center",children:[e.jsx(I,{icon:Ir,className:"mx-auto h-8 w-8 text-gray-400"}),e.jsx("h3",{className:"mt-2 text-xs font-medium text-gray-900",children:"No grade-level classes found"}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:m?"Try adjusting your search terms.":"Get started by creating a new class."}),!m&&e.jsx("div",{className:"mt-4",children:e.jsxs(Yt,{to:"/dashboard/classes/gradelevel-classes/add",className:"inline-flex items-center px-3 py-1 border border-transparent shadow-sm text-xs font-medium text-white bg-gray-700 hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",children:[e.jsx(I,{icon:_t,className:"mr-1 h-3 w-3"}),"Add New Class"]})})]}),s&&e.jsx("div",{className:"mt-8 text-center",children:e.jsx("div",{className:"text-xs text-gray-500",children:"Loading grade-level classes..."})})]});return e.jsxs("div",{className:"p-2",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-base font-bold text-gray-900 mb-2",children:"Class Management"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Manage academic streams, classes, subjects, and student enrollments"})]}),T(),x&&e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:e.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg bg-white",children:e.jsxs("div",{className:"mt-3 text-center",children:[e.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100",children:e.jsx(I,{icon:Mt,className:"h-6 w-6 text-red-600"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mt-4",children:"Delete Class"}),e.jsx("div",{className:"mt-2 px-7 pt-4",children:e.jsx("p",{className:"text-sm text-gray-500",children:"Are you sure you want to delete this class? This action cannot be undone."})}),e.jsxs("div",{className:"flex items-center justify-center space-x-3 mt-6",children:[e.jsx("button",{onClick:D,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",children:"Cancel"}),e.jsx("button",{onClick:A,className:"px-4 py-2 text-sm font-medium text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:"Delete"})]})]})})})]})},sq=()=>{const{token:t}=et(),[r,a]=g.useState([]),[s,n]=g.useState(!1),[i,o]=g.useState(""),[d,u]=g.useState(!1),[m,f]=g.useState(!1),[x,b]=g.useState({}),[p,v]=g.useState(""),[j,w]=g.useState([]),[N,P]=g.useState(!1),[A,D]=g.useState(""),[T,R]=g.useState(!1),[E,O]=g.useState({stream_id:"",name:"",homeroom_teacher_employee_number:"",capacity:""});g.useEffect(()=>{k()},[]),g.useEffect(()=>{if(!p.trim()){w([]),D("");return}P(!0),D("");const V=setTimeout(async()=>{try{const Z=await de.get(`${ce}/employees/search`,{params:{query:p},headers:{Authorization:`Bearer ${t}`}});Z.data.success?w(Z.data.data||[]):D("Failed to search employees")}catch{D("Failed to search employees")}finally{P(!1)}},400);return()=>clearTimeout(V)},[p,t]);const k=async()=>{try{const V=await de.get(`${ce}/classes/streams`,{headers:{Authorization:`Bearer ${t}`}});V.data.success&&a(V.data.data||[])}catch{o("Failed to load streams")}},Y=V=>{const{name:Z,value:X}=V.target;O(J=>({...J,[Z]:X}))},$=V=>{v(V.target.value),R(!0)},M=V=>{O(Z=>({...Z,homeroom_teacher_employee_number:V.employee_id})),v(`${V.full_name} (${V.employee_id})`),R(!1)},F=()=>E.stream_id?E.name.trim()?E.capacity&&isNaN(Number(E.capacity))?(o("Capacity must be a number"),!1):!0:(o("Class name is required"),!1):(o("Stream is required"),!1),K=async V=>{if(V.preventDefault(),o(""),!!F())try{n(!0);const Z={...E,capacity:E.capacity?Number(E.capacity):null,homeroom_teacher_employee_number:E.homeroom_teacher_employee_number||null};(await de.post(`${ce}/classes/gradelevel-classes`,Z,{headers:{Authorization:`Bearer ${t}`}})).data.success&&(u(!0),O({stream_id:"",name:"",homeroom_teacher_employee_number:"",capacity:""}),v(""))}catch(Z){Z.response?.data?.message?(b({message:Z.response.data.message}),f(!0)):o("Failed to create class")}finally{n(!1)}},q=()=>u(!1),U=()=>{f(!1),b({})};return e.jsxs("div",{className:"px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("h1",{className:"text-lg font-bold text-gray-900 flex items-center",children:[e.jsx(I,{icon:Ir,className:"mr-2 h-5 w-5 text-gray-400"}),"Add Gradelevel Class"]}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Create a new gradelevel class (homeroom) within a stream."})]}),i&&e.jsx("div",{className:"mb-4 bg-red-50 border border-red-200 p-3",children:e.jsx("div",{className:"text-xs text-red-600",children:i})}),e.jsxs("form",{onSubmit:K,className:"space-y-6",children:[e.jsx("div",{className:"bg-white border border-gray-200 p-6 rounded-lg",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs font-medium text-gray-600",children:["Stream ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{name:"stream_id",value:E.stream_id,onChange:Y,className:"mt-1 block w-full border border-gray-300 px-3 py-2 text-xs focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:!0,children:[e.jsx("option",{value:"",children:"Select Stream"}),r.map(V=>e.jsxs("option",{value:V.id,children:[V.name," (",V.stage,")"]},V.id))]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs font-medium text-gray-600",children:["Class Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"name",value:E.name,onChange:Y,className:"mt-1 block w-full border border-gray-300 px-3 py-2 text-xs focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., 1A, 2B, Form 1",required:!0})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("label",{className:"block text-xs font-medium text-gray-600",children:["Homeroom Teacher ",e.jsx("span",{className:"text-gray-400",children:"(search by name or ID)"})]}),e.jsx("input",{type:"text",name:"homeroom_teacher_search",value:p,onChange:$,className:"mt-1 block w-full border border-gray-300 px-3 py-2 text-xs focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Type to search...",autoComplete:"off",onFocus:()=>R(!0)}),T&&p&&e.jsx("div",{className:"absolute z-10 mt-1 w-full bg-white border border-gray-200 rounded shadow max-h-48 overflow-y-auto",children:N?e.jsxs("div",{className:"p-2 text-xs text-gray-500 flex items-center",children:[e.jsx(I,{icon:an,spin:!0,className:"mr-2"}),"Searching..."]}):A?e.jsx("div",{className:"p-2 text-xs text-red-600",children:A}):j.length===0?e.jsx("div",{className:"p-2 text-xs text-gray-500",children:"No employees found."}):j.map(V=>e.jsxs("div",{className:"p-2 text-xs cursor-pointer hover:bg-blue-50",onClick:()=>M(V),children:[e.jsx("span",{className:"font-medium text-gray-900",children:V.full_name})," ",e.jsxs("span",{className:"text-gray-500",children:["(",V.employee_id,")"]}),V.job_title&&e.jsx("span",{className:"ml-2 text-gray-400",children:V.job_title})]},V.employee_id))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-600",children:"Capacity"}),e.jsx("input",{type:"number",name:"capacity",value:E.capacity,onChange:Y,className:"mt-1 block w-full border border-gray-300 px-3 py-2 text-xs focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., 40",min:"1"})]})]})}),e.jsx("div",{className:"flex justify-start",children:e.jsx("button",{type:"submit",disabled:s,className:`px-6 py-2 text-xs font-medium text-white ${s?"bg-gray-400 cursor-not-allowed":"bg-gray-700 hover:bg-gray-800"}`,children:s?"Creating...":"Create Class"})})]}),d&&e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:e.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 bg-white",children:e.jsxs("div",{className:"mt-3 text-center",children:[e.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 bg-green-100 mb-4",children:e.jsx(I,{icon:Xn,className:"h-6 w-6 text-green-600"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Class Created Successfully"}),e.jsx("p",{className:"text-xs text-gray-500 mb-4",children:"The gradelevel class has been added to the system successfully."}),e.jsx("button",{onClick:q,className:"px-4 py-2 bg-gray-700 text-white text-xs hover:bg-gray-800",children:"Continue"})]})})}),m&&e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:e.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 bg-white",children:e.jsxs("div",{className:"mt-3 text-center",children:[e.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 bg-red-100 mb-4",children:e.jsx(I,{icon:ur,className:"h-6 w-6 text-red-600"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Error Creating Class"}),e.jsx("p",{className:"text-xs text-gray-500 mb-4",children:x.message}),e.jsx("button",{onClick:U,className:"px-4 py-2 bg-red-600 text-white text-xs hover:bg-red-700",children:"Close"})]})})})]})},nq=({classId:t})=>{const{token:r}=et(),[a,s]=g.useState([]),[n,i]=g.useState(!0),[o,d]=g.useState(""),[u,m]=g.useState(!1),[f,x]=g.useState(""),[b,p]=g.useState([]),[v,j]=g.useState(!1),[w,N]=g.useState(""),[P,A]=g.useState(null),[D,T]=g.useState(""),[R,E]=g.useState(null),[O,k]=g.useState(null),[Y,$]=g.useState("");g.useEffect(()=>{M()},[t]);const M=async()=>{i(!0),d("");try{const U=await de.get(`${ce}/classes/gradelevel-enrollments`,{params:{gradelevel_class_id:t},headers:{Authorization:`Bearer ${r}`}});U.data.success?s(U.data.data||[]):d("Failed to load students.")}catch{d("Failed to load students.")}finally{i(!1)}},F=async U=>{U.preventDefault(),j(!0),N(""),p([]);try{const V=await de.get(`${ce}/students/search`,{params:{query:f},headers:{Authorization:`Bearer ${r}`}});V.data.success?p(V.data.data||[]):N("Failed to search students.")}catch{N("Failed to search students.")}finally{j(!1)}},K=async U=>{A(U.RegNumber),T("");try{const V=await de.post(`${ce}/classes/gradelevel-enrollments`,{student_regnumber:U.RegNumber,gradelevel_class_id:t},{headers:{Authorization:`Bearer ${r}`}});V.data.success?(m(!1),x(""),p([]),M()):T(V.data.message||"Failed to add student.")}catch(V){T(V.response?.data?.message||"Failed to add student.")}finally{A(null)}},q=async U=>{E(U.id),$("");try{await de.delete(`${ce}/classes/gradelevel-enrollments/${U.id}`,{headers:{Authorization:`Bearer ${r}`}}),M(),k(null)}catch{$("Failed to de-enroll student.")}finally{E(null)}};return e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h2",{className:"text-sm text-gray-700 flex items-center",children:[e.jsx(I,{icon:Fs,className:"mr-2 h-4 w-4 text-gray-400"}),"Students Enrolled"]}),e.jsxs("button",{onClick:()=>m(!0),className:"inline-flex items-center px-3 py-1 border border-transparent text-xs font-medium text-white bg-gray-900  hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[e.jsx(I,{icon:_t,className:"mr-1 h-3 w-3"}),"Add Student"]})]}),n?e.jsx("div",{className:"text-xs text-gray-500",children:"Loading students..."}):o?e.jsx("div",{className:"text-xs text-red-600",children:o}):a.length===0?e.jsx("div",{className:"text-xs text-gray-500",children:"No students enrolled in this class."}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 border border-gray-200 text-xs",children:[e.jsx("thead",{className:"bg-gray-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-3 py-2 text-left font-medium tracking-wider",children:"Student Name"}),e.jsx("th",{className:"px-3 py-2 text-left font-medium tracking-wider",children:"Student ID"}),e.jsx("th",{className:"px-3 py-2 text-left font-medium tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a.map(U=>e.jsxs("tr",{children:[e.jsxs("td",{className:"px-3 py-2 whitespace-nowrap",children:[U.Name," ",U.Surname]}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:U.RegNumber}),e.jsxs("td",{className:"px-3 py-2 whitespace-nowrap",children:[e.jsxs("button",{onClick:()=>k(U.id),className:"inline-flex items-center px-2 py-1 text-xs text-red-600 hover:text-white border border-red-200 hover:bg-red-600 rounded",disabled:R===U.id,children:[e.jsx(I,{icon:Mt,className:"h-3 w-3 mr-1"}),"De-enroll"]}),O===U.id&&e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white p-8 rounded shadow w-full max-w-md",children:[e.jsx("div",{className:"text-base text-gray-900 mb-4",children:"Are you sure you want to de-enroll this student?"}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>k(null),className:"px-5 py-2 text-sm font-medium text-gray-700 bg-gray-200 hover:bg-gray-300",children:"Cancel"}),e.jsxs("button",{onClick:()=>q(U),className:"px-5 py-2 text-sm font-medium text-white bg-red-600 hover:bg-red-700 flex items-center",disabled:R===U.id,children:[R===U.id?e.jsx(I,{icon:an,spin:!0,className:"h-4 w-4 mr-2"}):e.jsx(I,{icon:Mt,className:"h-4 w-4 mr-2"}),"De-enroll"]})]})]})})]})]},U.RegNumber))})]})}),u&&e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white p-8 rounded shadow w-full max-w-2xl",children:[e.jsx("h3",{className:"text-base font-medium text-gray-900 mb-4",children:"Add Student to Class"}),e.jsxs("form",{onSubmit:F,className:"flex mb-4",children:[e.jsx("input",{type:"text",value:f,onChange:U=>x(U.target.value),placeholder:"Search by name or reg number...",className:"flex-1 px-3 py-2 border border-gray-300 text-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"}),e.jsxs("button",{type:"submit",className:"ml-2 px-4 py-2 bg-gray-900 text-white text-sm font-medium rounded hover:bg-gray-800 flex items-center",disabled:v,children:[v?e.jsx(I,{icon:an,spin:!0,className:"h-4 w-4"}):e.jsx(I,{icon:Vt,className:"h-4 w-4"}),e.jsx("span",{className:"ml-2",children:"Search"})]})]}),w&&e.jsx("div",{className:"text-xs text-red-600 mb-2",children:w}),D&&e.jsx("div",{className:"text-xs text-red-600 mb-2",children:D}),e.jsxs("div",{className:"max-h-80 overflow-y-auto",children:[b.length===0&&!v&&e.jsx("div",{className:"text-xs text-gray-500",children:"No students found."}),b.map(U=>e.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[e.jsxs("div",{children:[e.jsxs("span",{className:"text-sm text-gray-900",children:[U.Name," ",U.Surname]}),e.jsx("span",{className:"ml-2 text-xs text-gray-500",children:U.RegNumber})]}),e.jsxs("button",{onClick:()=>K(U),className:"ml-2 px-4 py-2 bg-blue-600 text-white text-xs font-medium rounded hover:bg-blue-700 flex items-center",disabled:P===U.RegNumber,children:[P===U.RegNumber?e.jsx(I,{icon:an,spin:!0,className:"h-4 w-4"}):e.jsx(I,{icon:_t,className:"h-4 w-4"}),e.jsx("span",{className:"ml-2",children:"Add"})]})]},U.RegNumber))]}),e.jsx("div",{className:"flex justify-end mt-6",children:e.jsx("button",{onClick:()=>m(!1),className:"px-5 py-2 text-sm font-medium text-gray-700 bg-gray-200 hover:bg-gray-300",children:"Close"})})]})})]})},iq=({classId:t,streamId:r})=>{const{token:a}=et(),[s,n]=g.useState(!1),[i,o]=g.useState({subject_id:"",employee_number:"",capacity:""}),[d,u]=g.useState(""),[m,f]=g.useState([]),[x,b]=g.useState(!1),[p,v]=g.useState(!1),[j,w]=g.useState(""),[N,P]=g.useState([]),[A,D]=g.useState(!1),[T,R]=g.useState(!1),[E,O]=g.useState(!1),[k,Y]=g.useState(""),[$,M]=g.useState(!1),[F,K]=g.useState(!1),[q,U]=g.useState({}),[V,Z]=g.useState([]),[X,J]=g.useState(!1),[be,z]=g.useState(""),[re,G]=g.useState(null),[Q,ve]=g.useState(null),[ye,ne]=g.useState("");cf.useEffect(()=>{if(!d.trim()){f([]);return}b(!0);const pe=setTimeout(async()=>{try{const Ie=await de.get(`${ce}/classes/subjects/search`,{params:{q:d},headers:{Authorization:`Bearer ${a}`}});Ie.data.success&&f(Ie.data.data||[])}catch{f([])}finally{b(!1)}},400);return()=>clearTimeout(pe)},[d,a]),cf.useEffect(()=>{if(!j.trim()){P([]);return}D(!0);const pe=setTimeout(async()=>{try{const Ie=await de.get(`${ce}/employees/search`,{params:{query:j},headers:{Authorization:`Bearer ${a}`}});Ie.data.success&&P(Ie.data.data||[])}catch{P([])}finally{D(!1)}},400);return()=>clearTimeout(pe)},[j,a]),cf.useEffect(()=>{t&&(J(!0),z(""),de.get(`${ce}/classes/subject-classes`,{params:{gradelevel_class_id:t},headers:{Authorization:`Bearer ${a}`}}).then(pe=>{pe.data.success?Z(pe.data.data||[]):z("Failed to load subject classes.")}).catch(()=>z("Failed to load subject classes.")).finally(()=>J(!1)))},[t,s]);const te=pe=>{const{name:Ie,value:Qe}=pe.target;o(xt=>({...xt,[Ie]:Qe}))},Ae=pe=>{u(pe.target.value),v(!0)},we=pe=>{o(Ie=>({...Ie,subject_id:pe.id})),u(`${pe.name} (${pe.code})`),v(!1)},le=pe=>{w(pe.target.value),R(!0)},xe=pe=>{o(Ie=>({...Ie,employee_number:pe.employee_id})),w(`${pe.full_name} (${pe.employee_id})`),R(!1)},oe=()=>i.subject_id?i.employee_number?!0:(Y("Teacher is required"),!1):(Y("Subject is required"),!1),me=async pe=>{if(pe.preventDefault(),Y(""),!!oe())try{O(!0);const Ie={...i,gradelevel_class_id:t,stream_id:r,capacity:i.capacity?Number(i.capacity):null};(await de.post(`${ce}/classes/subject-classes`,Ie,{headers:{Authorization:`Bearer ${a}`}})).data.success&&(M(!0),o({subject_id:"",employee_number:"",capacity:""}),u(""),w(""),n(!1))}catch(Ie){Ie.response?.data?.message?(U({message:Ie.response.data.message}),K(!0)):Y("Failed to create subject class")}finally{O(!1)}},tt=()=>M(!1),rt=()=>{K(!1),U({})},it=async pe=>{G(pe.id),ne("");try{await de.delete(`${ce}/classes/subject-classes/${pe.id}`,{headers:{Authorization:`Bearer ${a}`}}),ve(null),Z(Ie=>Ie.filter(Qe=>Qe.id!==pe.id))}catch{ne("Failed to delete subject class.")}finally{G(null)}};return e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h2",{className:"text-sm text-gray-700 flex items-center",children:[e.jsx(I,{icon:bc,className:"mr-2 h-4 w-4 text-gray-400"}),"Subject Classes"]}),e.jsxs("button",{onClick:()=>n(!0),className:"inline-flex items-center px-3 py-1 border border-transparent text-xs font-medium text-white bg-gray-900 hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[e.jsx(I,{icon:_t,className:"mr-1 h-3 w-3"}),"Add Subject Class"]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-xs font-semibold text-gray-900 mb-2",children:"Subject Classes"}),X?e.jsx("div",{className:"text-xs text-gray-500",children:"Loading subject classes..."}):be?e.jsx("div",{className:"text-xs text-red-600",children:be}):V.length===0?e.jsx("div",{className:"text-xs text-gray-500",children:"No subject classes found for this class."}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 border border-gray-200 text-xs",children:[e.jsx("thead",{className:"bg-gray-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-3 py-2 text-left font-medium tracking-wider",children:"Subject Name"}),e.jsx("th",{className:"px-3 py-2 text-left font-medium tracking-wider",children:"Code"}),e.jsx("th",{className:"px-3 py-2 text-left font-medium tracking-wider",children:"Teacher"}),e.jsx("th",{className:"px-3 py-2 text-left font-medium tracking-wider",children:"Capacity"}),e.jsx("th",{className:"px-3 py-2 text-left font-medium tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:V.map(pe=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:pe.subject_name}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:pe.subject_code}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:pe.employee_number||"-"}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:pe.capacity||"Unlimited"}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(Yt,{to:`/dashboard/classes/subject-classes/view/${pe.id}`,className:"text-blue-600 hover:text-blue-900",title:"View",children:"View"}),e.jsx("button",{className:"text-red-600 hover:text-red-900",title:"Delete",onClick:()=>ve(pe.id),children:"Delete"}),Q===pe.id&&e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white p-8 rounded shadow w-full max-w-md",children:[e.jsx("div",{className:"text-base text-gray-900 mb-4",children:"Are you sure you want to delete this subject class?"}),ye&&e.jsx("div",{className:"text-xs text-red-600 mb-2",children:ye}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>ve(null),className:"px-5 py-2 text-sm font-medium text-gray-700 bg-gray-200 hover:bg-gray-300",children:"Cancel"}),e.jsxs("button",{onClick:()=>it(pe),className:"px-5 py-2 text-sm font-medium text-white bg-red-600 hover:bg-red-700 flex items-center",disabled:re===pe.id,children:[re===pe.id?e.jsx(I,{icon:an,spin:!0,className:"h-4 w-4 mr-2"}):null,"Delete"]})]})]})})]})})]},pe.id))})]})})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white p-8 rounded shadow w-full max-w-2xl",children:[e.jsx("h3",{className:"text-base font-medium text-gray-900 mb-4",children:"Add Subject Class"}),k&&e.jsx("div",{className:"mb-2 bg-red-50 border border-red-200 p-2 text-xs text-red-600",children:k}),e.jsxs("form",{onSubmit:me,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsxs("label",{className:"block text-xs font-medium text-gray-600",children:["Subject ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"subject_search",value:d,onChange:Ae,className:"mt-1 block w-full border border-gray-300 px-3 py-2 text-xs focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Type to search...",autoComplete:"off",onFocus:()=>v(!0)}),p&&d&&e.jsx("div",{className:"absolute z-10 mt-1 w-full bg-white border border-gray-200 rounded shadow max-h-48 overflow-y-auto",children:x?e.jsxs("div",{className:"p-2 text-xs text-gray-500 flex items-center",children:[e.jsx(I,{icon:an,spin:!0,className:"mr-2"}),"Searching..."]}):m.length===0?e.jsx("div",{className:"p-2 text-xs text-gray-500",children:"No subjects found."}):m.map(pe=>e.jsxs("div",{className:"p-2 text-xs cursor-pointer hover:bg-blue-50",onClick:()=>we(pe),children:[e.jsx("span",{className:"font-medium text-gray-900",children:pe.name})," ",e.jsxs("span",{className:"text-gray-500",children:["(",pe.code,")"]})]},pe.id))})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("label",{className:"block text-xs font-medium text-gray-600",children:["Teacher ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"teacher_search",value:j,onChange:le,className:"mt-1 block w-full border border-gray-300 px-3 py-2 text-xs focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Type to search...",autoComplete:"off",onFocus:()=>R(!0)}),T&&j&&e.jsx("div",{className:"absolute z-10 mt-1 w-full bg-white border border-gray-200 rounded shadow max-h-48 overflow-y-auto",children:A?e.jsxs("div",{className:"p-2 text-xs text-gray-500 flex items-center",children:[e.jsx(I,{icon:an,spin:!0,className:"mr-2"}),"Searching..."]}):N.length===0?e.jsx("div",{className:"p-2 text-xs text-gray-500",children:"No employees found."}):N.map(pe=>e.jsxs("div",{className:"p-2 text-xs cursor-pointer hover:bg-blue-50",onClick:()=>xe(pe),children:[e.jsx("span",{className:"font-medium text-gray-900",children:pe.full_name})," ",e.jsxs("span",{className:"text-gray-500",children:["(",pe.employee_id,")"]}),pe.job_title&&e.jsx("span",{className:"ml-2 text-gray-400",children:pe.job_title})]},pe.employee_id))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-600",children:"Capacity"}),e.jsx("input",{type:"number",name:"capacity",value:i.capacity,onChange:te,className:"mt-1 block w-full border border-gray-300 px-3 py-2 text-xs focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., 40",min:"1"})]})]}),e.jsxs("div",{className:"flex justify-end mt-6",children:[e.jsx("button",{type:"button",onClick:()=>n(!1),className:"px-5 py-2 text-sm font-medium text-gray-700 bg-gray-200 hover:bg-gray-300 mr-2",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:E,className:`px-6 py-2 text-xs font-medium text-white ${E?"bg-gray-400 cursor-not-allowed":"bg-gray-700 hover:bg-gray-800"}`,children:E?"Creating...":"Create Subject Class"})]})]})]})}),$&&e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:e.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 bg-white",children:e.jsxs("div",{className:"mt-3 text-center",children:[e.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 bg-green-100 mb-4",children:e.jsx(I,{icon:Xn,className:"h-6 w-6 text-green-600"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Subject Class Created Successfully"}),e.jsx("p",{className:"text-xs text-gray-500 mb-4",children:"The subject class has been added to the system successfully."}),e.jsx("button",{onClick:tt,className:"px-4 py-2 bg-gray-700 text-white text-xs hover:bg-gray-800",children:"Continue"})]})})}),F&&e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:e.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 bg-white",children:e.jsxs("div",{className:"mt-3 text-center",children:[e.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 bg-red-100 mb-4",children:e.jsx(I,{icon:ur,className:"h-6 w-6 text-red-600"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Error Creating Subject Class"}),e.jsx("p",{className:"text-xs text-gray-500 mb-4",children:q.message}),e.jsx("button",{onClick:rt,className:"px-4 py-2 bg-red-600 text-white text-xs hover:bg-red-700",children:"Close"})]})})})]})},lq=()=>{const{token:t}=et(),{id:r}=On(),[a,s]=g.useState("students"),[n,i]=g.useState(null),[o,d]=g.useState(!0),[u,m]=g.useState("");g.useEffect(()=>{f()},[r]);const f=async()=>{d(!0),m("");try{const b=await de.get(`${ce}/classes/gradelevel-classes/${r}`,{headers:{Authorization:`Bearer ${t}`}});b.data.success?i(b.data.data):m("Failed to load class information.")}catch{m("Failed to load class information.")}finally{d(!1)}},x=()=>{if(o)return e.jsx("div",{className:"text-xs text-gray-500",children:"Loading..."});if(u)return e.jsx("div",{className:"text-xs text-red-600",children:u});if(!n)return e.jsx("div",{className:"text-xs text-gray-500",children:"No data found."});switch(a){case"students":return e.jsx(nq,{classId:n.id});case"subjectclasses":return e.jsx(iq,{classId:n.id,streamId:n.stream_id});default:return null}};return e.jsxs("div",{className:"",children:[o?e.jsx("div",{className:"text-xs text-gray-500 mb-4",children:"Loading..."}):u?e.jsx("div",{className:"text-xs text-red-600 mb-4",children:u}):n?e.jsx("div",{className:"mb-6  border-b border-gray-200",children:e.jsxs("div",{className:"px-6 pt-2 pb-2",children:[e.jsx("div",{className:"text-xl text-gray-900 font-semibold mb-1",children:n.name}),e.jsxs("div",{className:"text-sm text-gray-500 mb-4",children:[n.stream_name," (",n.stream_stage,")"]}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:space-x-8 text-sm text-gray-700",children:[e.jsxs("div",{className:"flex items-center mb-2 sm:mb-0",children:[e.jsx(I,{icon:zF,className:"mr-2 h-4 w-4 text-gray-400"}),e.jsx("span",{className:"text-gray-600",children:"Teacher:"}),e.jsx("span",{className:"ml-1 text-gray-900",children:n.teacher_name||"Not Assigned"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Capacity:"}),e.jsx("span",{className:"ml-1 text-gray-900",children:n.capacity||"Unlimited"})]})]})]})}):null,e.jsx("div",{className:"mb-6 border-b border-gray-200",children:e.jsxs("nav",{className:"flex space-x-8 px-6",children:[e.jsxs("button",{onClick:()=>s("students"),className:`py-3 text-sm font-medium border-b-2 transition-colors duration-150 ${a==="students"?"border-gray-700 text-gray-900":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(I,{icon:Ir,className:"mr-2 h-4 w-4"}),"Students"]}),e.jsxs("button",{onClick:()=>s("subjectclasses"),className:`py-3 text-sm font-medium border-b-2 transition-colors duration-150 ${a==="subjectclasses"?"border-gray-700 text-gray-900":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(I,{icon:bc,className:"mr-2 h-4 w-4"}),"Subject Classes"]})]})}),e.jsx("div",{className:"px-0 md:px-6",children:x()})]})},oq=()=>{const{token:t}=et(),[r,a]=g.useState(!1),[s,n]=g.useState(null),[i,o]=g.useState(null),[d,u]=g.useState(!1),[m,f]=g.useState({new_term:"",new_academic_year:""}),[x,b]=g.useState("close"),p=A=>{const{name:D,value:T}=A.target;f(R=>({...R,[D]:T}))},v=async()=>{try{a(!0),n(null),o(null);const A=t?{Authorization:`Bearer ${t}`}:{},D=await de.post(`${ce}/close-to-term/close-to-term`,{},{headers:A});o(`Close to Term completed successfully! ${D.data.data.closed_count} enrollments closed.`),u(!1)}catch(A){console.error("Error closing term:",A),n(A.response?.data?.message||"Failed to close term"),u(!1)}finally{a(!1)}},j=async()=>{if(!m.new_term||!m.new_academic_year){n("Please enter both term and academic year");return}try{a(!0),n(null),o(null);const A=t?{Authorization:`Bearer ${t}`}:{},D=await de.post(`${ce}/close-to-term/open-to-term`,m,{headers:A});o(`Open to Term completed successfully! ${D.data.data.classes_updated} classes updated.`),u(!1),f({new_term:"",new_academic_year:""})}catch(A){console.error("Error opening term:",A),n(A.response?.data?.message||"Failed to open term"),u(!1)}finally{a(!1)}},w=()=>{u(!1)},N=()=>{if(x==="open"&&(!m.new_term||!m.new_academic_year)){n("Please enter both term and academic year");return}u(!0)},P=()=>{x==="close"?v():j()};return e.jsx("div",{className:"min-h-screen bg-gray-50 py-4",children:e.jsxs("div",{className:"w-full px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"mb-4",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg font-bold text-gray-900",children:"Term Management"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Close current term or open to next term"})]})})}),e.jsx("div",{className:"mb-6",children:e.jsx("div",{className:"border-b border-gray-200",children:e.jsxs("nav",{className:"-mb-px flex space-x-8",children:[e.jsx("button",{onClick:()=>b("close"),className:`py-2 px-1 border-b-2 font-medium text-xs ${x==="close"?"border-orange-500 text-orange-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Close to Term"}),e.jsx("button",{onClick:()=>b("open"),className:`py-2 px-1 border-b-2 font-medium text-xs ${x==="open"?"border-orange-500 text-orange-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Open to Term"})]})})}),e.jsx("div",{className:"max-w-md mx-auto",children:e.jsxs("div",{className:"bg-white border border-gray-200 shadow",children:[e.jsxs("div",{className:"px-4 py-3 border-b border-gray-200",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900",children:x==="close"?"Close to Term":"Open to Term"}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:x==="close"?"De-enroll all students from current term (no balance changes)":"Move classes to next term and academic year"})]}),e.jsxs("div",{className:"p-4",children:[i&&e.jsxs("div",{className:"mb-4 p-3 bg-green-100 border border-green-200 text-green-700 text-xs",children:[e.jsx(I,{icon:aa,className:"mr-2"}),i]}),s&&e.jsxs("div",{className:"mb-4 p-3 bg-red-100 border border-red-200 text-red-700 text-xs",children:[e.jsx(I,{icon:ur,className:"mr-2"}),s]}),e.jsxs("div",{className:"space-y-4",children:[x==="close"?e.jsx("div",{className:"text-center py-8",children:e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"This will close ALL active enrollments (both gradelevel and subject classes). No balance changes will be made."})}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"New Term *"}),e.jsx("input",{type:"text",name:"new_term",value:m.new_term,onChange:p,placeholder:"e.g., Term 1, Term 2, Term 3",required:!0,className:"w-full px-3 py-2 border border-gray-300 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"New Academic Year *"}),e.jsx("input",{type:"text",name:"new_academic_year",value:m.new_academic_year,onChange:p,placeholder:"e.g., 2025, 2026",required:!0,className:"w-full px-3 py-2 border border-gray-300 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500"})]})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs("button",{onClick:N,disabled:r||x==="open"&&(!m.new_term||!m.new_academic_year),className:"flex-1 px-4 py-2 bg-orange-600 text-white hover:bg-orange-700 disabled:opacity-50 disabled:cursor-not-allowed text-xs font-medium flex items-center justify-center",children:[r?e.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-b-2 border-white mr-2"}):e.jsx(I,{icon:wf,className:"mr-2"}),r?"Processing...":x==="close"?"Close to Term":"Open to Term"]})})]})]})]})}),d&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white p-4 w-full max-w-md mx-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h2",{className:"text-base font-bold text-gray-900",children:["Confirm ",x==="close"?"Close to Term":"Open to Term"]}),e.jsx("button",{onClick:w,className:"text-gray-400 hover:text-gray-600",children:e.jsx(I,{icon:Br})})]}),e.jsxs("div",{className:"mb-4 p-3 bg-orange-50 border border-orange-200 rounded",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx(I,{icon:ur,className:"text-orange-600 text-xs mr-2"}),e.jsx("span",{className:"text-xs font-medium text-orange-800",children:"Warning"})]}),e.jsx("p",{className:"text-xs text-orange-700",children:x==="close"?e.jsx(e.Fragment,{children:"Are you sure you want to close ALL active enrollments? This will de-enroll all students from both gradelevel and subject classes. This action will NOT affect student balances."}):e.jsxs(e.Fragment,{children:["Are you sure you want to set all classes to ",e.jsxs("strong",{children:[m.new_term," ",m.new_academic_year]}),"? This will update the class term year for all gradelevel and subject classes."]})})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx("button",{onClick:w,className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 text-xs font-medium rounded",children:"Cancel"}),e.jsxs("button",{onClick:P,disabled:r,className:"px-4 py-2 bg-orange-600 text-white hover:bg-orange-700 disabled:opacity-50 text-xs font-medium rounded flex items-center",children:[r?e.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-b-2 border-white mr-2"}):e.jsx(I,{icon:wf,className:"mr-2"}),r?"Processing...":`Yes, ${x==="close"?"Close to Term":"Open to Term"}`]})]})]})})]})})},cq=({subjectClassId:t,gradelevelClassId:r})=>{const{token:a}=et(),[s,n]=g.useState([]),[i,o]=g.useState(!0),[d,u]=g.useState(""),[m,f]=g.useState(!1),[x,b]=g.useState(""),[p,v]=g.useState([]),[j,w]=g.useState(!1),[N,P]=g.useState(""),[A,D]=g.useState(null),[T,R]=g.useState(""),[E,O]=g.useState(null),[k,Y]=g.useState(null),[$,M]=g.useState("");g.useEffect(()=>{t&&F()},[t]);const F=async()=>{o(!0),u("");try{const V=await de.get(`${ce}/classes/subject-enrollments`,{params:{subject_class_id:t},headers:{Authorization:`Bearer ${a}`}});V.data.success?n(V.data.data||[]):u("Failed to load students.")}catch{u("Failed to load students.")}finally{o(!1)}},K=async V=>{V.preventDefault(),w(!0),P(""),v([]);try{const Z=await de.get(`${ce}/students/search`,{params:{query:x},headers:{Authorization:`Bearer ${a}`}});Z.data.success?v(Z.data.data||[]):P("Failed to search students.")}catch{P("Failed to search students.")}finally{w(!1)}},q=async V=>{D(V.RegNumber),R("");try{const Z=await de.post(`${ce}/classes/subject-enrollments`,{student_regnumber:V.RegNumber,subject_class_id:t,gradelevel_class_id:r},{headers:{Authorization:`Bearer ${a}`}});Z.data.success?(f(!1),b(""),v([]),F()):R(Z.data.message||"Failed to enroll student.")}catch(Z){R(Z.response?.data?.message||"Failed to enroll student.")}finally{D(null)}},U=async V=>{O(V.id),M("");try{await de.delete(`${ce}/classes/subject-enrollments/${V.id}`,{headers:{Authorization:`Bearer ${a}`}}),F(),Y(null)}catch{M("Failed to de-enroll student.")}finally{O(null)}};return e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h2",{className:"text-sm text-gray-700 flex items-center",children:[e.jsx(I,{icon:Fs,className:"mr-2 h-4 w-4 text-gray-400"}),"Students Enrolled"]}),e.jsxs("button",{onClick:()=>f(!0),className:"inline-flex items-center px-3 py-1 border border-transparent text-xs font-medium text-white bg-gray-900 hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[e.jsx(I,{icon:_t,className:"mr-1 h-3 w-3"}),"Enroll Student"]})]}),i?e.jsx("div",{className:"text-xs text-gray-500",children:"Loading students..."}):d?e.jsx("div",{className:"text-xs text-red-600",children:d}):s.length===0?e.jsx("div",{className:"text-xs text-gray-500",children:"No students enrolled in this subject class."}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 border border-gray-200 text-xs",children:[e.jsx("thead",{className:"bg-gray-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-3 py-2 text-left font-medium tracking-wider",children:"Student Name"}),e.jsx("th",{className:"px-3 py-2 text-left font-medium tracking-wider",children:"Student ID"}),e.jsx("th",{className:"px-3 py-2 text-left font-medium tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.map(V=>e.jsxs("tr",{children:[e.jsxs("td",{className:"px-3 py-2 whitespace-nowrap",children:[V.Name," ",V.Surname]}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:V.RegNumber}),e.jsxs("td",{className:"px-3 py-2 whitespace-nowrap",children:[e.jsxs("button",{onClick:()=>Y(V.id),className:"inline-flex items-center px-2 py-1 text-xs text-red-600 hover:text-white border border-red-200 hover:bg-red-600 rounded",disabled:E===V.id,children:[e.jsx(I,{icon:Mt,className:"h-3 w-3 mr-1"}),"De-enroll"]}),k===V.id&&e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white p-8 rounded shadow w-full max-w-md",children:[e.jsx("div",{className:"text-base text-gray-900 mb-4",children:"Are you sure you want to de-enroll this student?"}),$&&e.jsx("div",{className:"text-xs text-red-600 mb-2",children:$}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>Y(null),className:"px-5 py-2 text-sm font-medium text-gray-700 bg-gray-200 hover:bg-gray-300",disabled:E===V.id,children:"Cancel"}),e.jsxs("button",{onClick:()=>U(V),className:"px-5 py-2 text-sm font-medium text-white bg-red-600 hover:bg-red-700 flex items-center",disabled:E===V.id,children:[E===V.id?e.jsx(I,{icon:an,spin:!0,className:"h-4 w-4 mr-2"}):e.jsx(I,{icon:Mt,className:"h-4 w-4 mr-2"}),"De-enroll"]})]})]})})]})]},V.RegNumber))})]})}),m&&e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white p-8 rounded shadow w-full max-w-2xl relative",children:[A&&e.jsxs("div",{className:"absolute inset-0 bg-white bg-opacity-70 flex items-center justify-center z-50",children:[e.jsx(I,{icon:an,spin:!0,className:"h-8 w-8 text-gray-700"}),e.jsx("span",{className:"ml-3 text-gray-700 text-sm",children:"Enrolling..."})]}),e.jsx("h3",{className:"text-base font-medium text-gray-900 mb-4",children:"Enroll Student in Subject Class"}),e.jsxs("form",{onSubmit:K,className:"flex mb-4",children:[e.jsx("input",{type:"text",value:x,onChange:V=>b(V.target.value),placeholder:"Search by name or reg number...",className:"flex-1 px-3 py-2 border border-gray-300 text-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",disabled:!!A}),e.jsxs("button",{type:"submit",className:"ml-2 px-4 py-2 bg-gray-900 text-white text-sm font-medium rounded hover:bg-gray-800 flex items-center",disabled:j||!!A,children:[j?e.jsx(I,{icon:an,spin:!0,className:"h-4 w-4"}):e.jsx(I,{icon:Vt,className:"h-4 w-4"}),e.jsx("span",{className:"ml-2",children:"Search"})]})]}),N&&e.jsx("div",{className:"text-xs text-red-600 mb-2",children:N}),T&&e.jsx("div",{className:"text-xs text-red-600 mb-2",children:T}),e.jsxs("div",{className:"max-h-80 overflow-y-auto",children:[p.length===0&&!j&&e.jsx("div",{className:"text-xs text-gray-500",children:"No students found."}),p.map(V=>e.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[e.jsxs("div",{children:[e.jsxs("span",{className:"text-sm text-gray-900",children:[V.Name," ",V.Surname]}),e.jsx("span",{className:"ml-2 text-xs text-gray-500",children:V.RegNumber})]}),e.jsxs("button",{onClick:()=>q(V),className:"ml-2 px-4 py-2 bg-blue-600 text-white text-xs font-medium rounded hover:bg-blue-700 flex items-center",disabled:!!A,children:[A===V.RegNumber?e.jsx(I,{icon:an,spin:!0,className:"h-4 w-4"}):e.jsx(I,{icon:_t,className:"h-4 w-4"}),e.jsx("span",{className:"ml-2",children:"Enroll"})]})]},V.RegNumber))]}),e.jsx("div",{className:"flex justify-end mt-6",children:e.jsx("button",{onClick:()=>f(!1),className:"px-5 py-2 text-sm font-medium text-gray-700 bg-gray-200 hover:bg-gray-300",disabled:!!A,children:"Close"})})]})})]})},dq=()=>{const{token:t}=et(),{id:r}=On();br();const[a,s]=g.useState(null),[n,i]=g.useState(!0),[o,d]=g.useState(""),[u,m]=g.useState("students");g.useEffect(()=>{f()},[r]);const f=async()=>{i(!0),d("");try{const b=await de.get(`${ce}/classes/subject-classes/${r}`,{headers:{Authorization:`Bearer ${t}`}});b.data.success?s(b.data.data):d("Failed to load subject class information.")}catch{d("Failed to load subject class information.")}finally{i(!1)}},x=()=>{if(n)return e.jsx("div",{className:"text-xs text-gray-500",children:"Loading..."});if(o)return e.jsx("div",{className:"text-xs text-red-600",children:o});if(!a)return e.jsx("div",{className:"text-xs text-gray-500",children:"No data found."});switch(u){case"students":default:return e.jsx(cq,{subjectClassId:a.id,gradelevelClassId:a.gradelevel_class_id})}};return e.jsxs("div",{className:"px-0 py-1 w-full",children:[e.jsx("div",{className:"mb-6 border-b border-gray-200",children:e.jsxs("div",{className:"pt-2 pb-2",children:[e.jsxs("div",{className:" text-gray-900 font-semibold mb-1 flex items-center",children:[e.jsx(I,{icon:bc,className:"mr-2 h-5 w-5 text-gray-400"}),"Subject Class Information"]}),a&&e.jsx("div",{className:"border border-gray-200 p-4 mt-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Subject Name"}),e.jsx("div",{className:"text-sm text-gray-900",children:a.subject_name})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Subject Code"}),e.jsx("div",{className:"text-sm text-gray-900",children:a.subject_code})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Stream"}),e.jsxs("div",{className:"text-sm text-gray-900",children:[a.stream_name," (",a.stream_stage,")"]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Gradelevel Class"}),e.jsx("div",{className:"text-sm text-gray-900",children:a.gradelevel_class_name||"-"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Teacher"}),e.jsx("div",{className:"text-sm text-gray-900",children:a.teacher_name||"-"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Capacity"}),e.jsx("div",{className:"text-sm text-gray-900",children:a.capacity||"Unlimited"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Syllabus"}),e.jsx("div",{className:"text-sm text-gray-900",children:a.subject_syllabus||"-"})]})]})})]})}),e.jsx("div",{className:"mb-6 border-b border-gray-200",children:e.jsx("nav",{className:"flex space-x-8 px-6",children:e.jsxs("button",{onClick:()=>m("students"),className:`py-3 text-xs font-medium border-b-2 transition-colors duration-150 ${u==="students"?"border-gray-700 text-gray-900":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(I,{icon:Ir,className:"mr-2 h-4 w-4"}),"Students"]})})}),e.jsx("div",{className:"px-0 md:px-6",children:x()})]})},uq=["Asset","Liability","Equity","Revenue","Expense"],mq={Asset:"1",Liability:"2",Equity:"3",Revenue:"4",Expense:"5"},fq=()=>{const{token:t}=et(),[r,a]=g.useState([]),[s,n]=g.useState(!0),[i,o]=g.useState(""),[d,u]=g.useState(!1),[m,f]=g.useState({code:"",name:"",type:"",parent_id:"",is_active:!0}),[x,b]=g.useState(!1),[p,v]=g.useState("");g.useEffect(()=>{j()},[]),g.useEffect(()=>{if(!m.type){f(T=>({...T,code:""}));return}const P=mq[m.type],A=r.filter(T=>T.type===m.type&&T.code&&T.code.startsWith(P)).map(T=>parseInt(T.code,10)).filter(T=>!isNaN(T));let D;A.length===0?D=P+"000":D=(Math.max(...A)+1).toString(),f(T=>({...T,code:D}))},[m.type,r]);const j=async()=>{n(!0),o("");try{const P=await de.get(`${ce}/accounting/chart-of-accounts`,{headers:{Authorization:`Bearer ${t}`}});P.data.success?a(P.data.data||[]):o("Failed to load accounts.")}catch{o("Failed to load accounts.")}finally{n(!1)}},w=P=>{const{name:A,value:D,type:T,checked:R}=P.target;f(E=>({...E,[A]:T==="checkbox"?R:D}))},N=async P=>{P.preventDefault(),b(!0),v("");try{const A={...m,parent_id:m.parent_id||null,is_active:!!m.is_active},D=await de.post(`${ce}/accounting/chart-of-accounts`,A,{headers:{Authorization:`Bearer ${t}`}});D.data.success?(u(!1),f({code:"",name:"",type:"",parent_id:"",is_active:!0}),j()):v(D.data.message||"Failed to add account.")}catch(A){v(A.response?.data?.message||"Failed to add account.")}finally{b(!1)}};return e.jsxs("div",{className:"px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-base font-semibold text-gray-800",children:"Chart of Accounts"}),e.jsx("button",{className:"px-4 py-2 text-xs font-medium text-white bg-gray-900 hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-900",style:{borderRadius:0},onClick:()=>u(!0),children:"+ Add Account"})]})}),d&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-gray-700 bg-opacity-50",children:e.jsxs("div",{className:"bg-white border border-gray-300 w-full max-w-md p-0",style:{borderRadius:0},children:[e.jsxs("div",{className:"border-b border-gray-200 px-6 py-3 flex items-center justify-between",children:[e.jsx("h2",{className:"text-xs font-semibold text-gray-800",children:"Add Account"}),e.jsx("button",{className:"text-xs text-gray-500 hover:text-gray-800",onClick:()=>u(!1),style:{borderRadius:0},children:"✕"})]}),e.jsxs("form",{className:"px-6 py-4",onSubmit:N,children:[e.jsxs("div",{className:"mb-3",children:[e.jsxs("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:["Code ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"code",value:m.code,readOnly:!0,className:"w-full border border-gray-300 px-2 py-1 text-xs text-gray-900 bg-gray-100 focus:outline-none focus:ring-gray-900 focus:border-gray-900",style:{borderRadius:0},required:!0})]}),e.jsxs("div",{className:"mb-3",children:[e.jsxs("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:["Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"name",value:m.name,onChange:w,className:"w-full border border-gray-300 px-2 py-1 text-xs text-gray-900 focus:outline-none focus:ring-gray-900 focus:border-gray-900",style:{borderRadius:0},required:!0})]}),e.jsxs("div",{className:"mb-3",children:[e.jsxs("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:["Type ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{name:"type",value:m.type,onChange:w,className:"w-full border border-gray-300 px-2 py-1 text-xs text-gray-900 focus:outline-none focus:ring-gray-900 focus:border-gray-900",style:{borderRadius:0},required:!0,children:[e.jsx("option",{value:"",children:"Select type"}),uq.map(P=>e.jsx("option",{value:P,children:P},P))]})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Parent Account"}),e.jsxs("select",{name:"parent_id",value:m.parent_id,onChange:w,className:"w-full border border-gray-300 px-2 py-1 text-xs text-gray-900 focus:outline-none focus:ring-gray-900 focus:border-gray-900",style:{borderRadius:0},children:[e.jsx("option",{value:"",children:"None"}),r.map(P=>e.jsxs("option",{value:P.id,children:[P.code," - ",P.name]},P.id))]})]}),e.jsxs("div",{className:"mb-4 flex items-center",children:[e.jsx("input",{type:"checkbox",name:"is_active",checked:m.is_active,onChange:w,className:"mr-2 border-gray-300 focus:ring-gray-900",style:{borderRadius:0},id:"is_active"}),e.jsx("label",{htmlFor:"is_active",className:"text-xs text-gray-700",children:"Active"})]}),p&&e.jsx("div",{className:"text-xs text-red-600 mb-2",children:p}),e.jsxs("div",{className:"flex justify-end",children:[e.jsx("button",{type:"button",className:"px-4 py-2 text-xs font-medium text-gray-800 bg-gray-200 hover:bg-gray-300 border border-gray-300 mr-2",style:{borderRadius:0},onClick:()=>u(!1),disabled:x,children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-4 py-2 text-xs font-medium text-white bg-gray-900 hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-900",style:{borderRadius:0},disabled:x,children:x?"Saving...":"Save"})]})]})]})}),e.jsxs("div",{className:"bg-white border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"px-4 py-3 sm:px-6 border-b border-gray-200",children:e.jsx("h3",{className:"text-xs font-semibold text-gray-700",children:"Accounts List"})}),e.jsx("div",{className:"border-t border-gray-200",children:s?e.jsx("div",{className:"p-6 text-xs ",children:"Loading accounts..."}):i?e.jsx("div",{className:"p-6 text-xs text-red-600",children:i}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 text-xs",children:[e.jsx("thead",{className:"bg-gray-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-3 py-2 text-left font-medium tracking-wider",children:"Code"}),e.jsx("th",{className:"px-3 py-2 text-left font-medium tracking-wider",children:"Name"}),e.jsx("th",{className:"px-3 py-2 text-left font-medium tracking-wider",children:"Type"}),e.jsx("th",{className:"px-3 py-2 text-left font-medium tracking-wider",children:"Parent"}),e.jsx("th",{className:"px-3 py-2 text-left font-medium tracking-wider",children:"Status"}),e.jsx("th",{className:"px-3 py-2 text-left font-medium tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(P=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-3 py-2 whitespace-nowrap font-mono",children:P.code}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:P.name}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:P.type}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:P.parent_id||"-"}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:e.jsx("span",{className:P.is_active?"text-gray-700":"text-gray-400",children:P.is_active?"Active":"Inactive"})}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:e.jsx(Yt,{to:`/dashboard/accounting/chart-of-accounts/view/${P.id}`,className:"px-3 py-1.5 text-xs font-medium text-white bg-gray-900 hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-900",style:{borderRadius:0},children:"View"})})]},P.id))})]})})})]})]})},hq=()=>{const{id:t}=On(),{token:r}=et(),[a,s]=g.useState(null),[n,i]=g.useState(!0),[o,d]=g.useState(""),[u,m]=g.useState(null),[f,x]=g.useState([]),[b,p]=g.useState([]),[v,j]=g.useState(!0),[w,N]=g.useState(null),[P,A]=g.useState({balance:"",as_of_date:""}),[D,T]=g.useState(!1),[R,E]=g.useState(""),[O,k]=g.useState([]),[Y,$]=g.useState(!1),[M,F]=g.useState({current_page:1,total_pages:1,total_records:0,limit:10}),[K,q]=g.useState({search:"",startDate:"",endDate:"",transactionType:""});g.useEffect(()=>{U()},[t]),g.useEffect(()=>{a&&(V(),Z())},[a,K,M.current_page]);const U=async()=>{i(!0),d("");try{const G=await de.get(`${ce}/accounting/chart-of-accounts/${t}`,{headers:{Authorization:`Bearer ${r}`}});if(G.data.success){if(s(G.data.data),G.data.data.parent_id){const Q=await de.get(`${ce}/accounting/chart-of-accounts/${G.data.data.parent_id}`,{headers:{Authorization:`Bearer ${r}`}});Q.data.success&&m(Q.data.data)}}else d("Failed to load account.")}catch{d("Failed to load account.")}finally{i(!1)}},V=async()=>{j(!0);try{const G=await de.get(`${ce}/accounting/currencies`,{headers:{Authorization:`Bearer ${r}`}});if(G.data.success){x(G.data.data||[]);const Q=await Promise.all((G.data.data||[]).map(async ve=>{try{const ye=await de.get(`${ce}/accounting/account-balances/${t}?currency_id=${ve.id}`,{headers:{Authorization:`Bearer ${r}`}});return{currency:ve,balance:ye.data.data?ye.data.data.balance:0,as_of_date:ye.data.data?ye.data.data.as_of_date:""}}catch{return{currency:ve,balance:0,as_of_date:""}}}));p(Q)}}catch{p([])}finally{j(!1)}},Z=async()=>{if(a){$(!0);try{const G={page:M.current_page,limit:M.limit,...K,accountId:t},ve=(await de.get(`${ce}/accounting/general-ledger/journal-entries/account/${t}`,{params:G,headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"}})).data;k(ve.data||[]),F(ve.pagination||M)}catch(G){console.error("Error fetching ledger entries:",G)}finally{$(!1)}}},X=(G,Q)=>{q(ve=>({...ve,[G]:Q})),F(ve=>({...ve,current_page:1}))},J=G=>{F(Q=>({...Q,current_page:G}))},be=G=>new Date(G).toLocaleDateString(),z=(G,Q="$")=>`${Q}${parseFloat(G||0).toFixed(2)}`,re=G=>G==="fee_payment"?$r:Fs;return e.jsx("div",{className:"px-2 md:px-4 lg:px-8 w-full max-w-full",children:n?e.jsx("div",{className:"p-3 md:p-6 text-xs text-gray-500",children:"Loading account..."}):o?e.jsx("div",{className:"p-3 md:p-6 text-xs text-red-600",children:o}):a?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mb-4 md:mb-8 border-b border-gray-200 pb-3 md:pb-4",children:e.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-6",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"text-base md:text-lg font-bold text-gray-900 mb-1",children:[a.code," — ",a.name]}),e.jsx("div",{className:"text-xs text-gray-500 mb-1",children:a.type}),e.jsx("div",{className:"text-xs text-gray-500",children:a.parent_id&&u?`Parent: ${u.code} - ${u.name}`:""})]})})}),e.jsxs("div",{className:"mb-4 md:mb-8",children:[e.jsx("div",{className:"mb-2 text-xs font-semibold text-gray-700",children:"Account Balances"}),e.jsx("div",{className:"border border-gray-200 overflow-hidden",children:v?e.jsx("div",{className:"p-3 md:p-4 text-xs text-gray-500",children:"Loading balances..."}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full divide-y divide-gray-200 text-xs",style:{minWidth:"400px"},children:[e.jsx("thead",{className:"bg-gray-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-2 md:px-3 py-2 text-left font-medium tracking-wider",children:"Currency"}),e.jsx("th",{className:"px-2 md:px-3 py-2 text-left font-medium tracking-wider hidden sm:table-cell",children:"Symbol"}),e.jsx("th",{className:"px-2 md:px-3 py-2 text-left font-medium tracking-wider",children:"Balance"}),e.jsx("th",{className:"px-2 md:px-3 py-2 text-left font-medium tracking-wider hidden md:table-cell",children:"As of Date"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:b.map((G,Q)=>e.jsxs("tr",{children:[e.jsxs("td",{className:"px-2 md:px-3 py-2 whitespace-nowrap",children:[e.jsxs("div",{className:"text-xs font-medium text-gray-900",children:[G.currency.code," - ",G.currency.name]}),e.jsx("div",{className:"text-xs text-gray-500 sm:hidden",children:G.currency.symbol||"-"})]}),e.jsx("td",{className:"px-2 md:px-3 py-2 whitespace-nowrap hidden sm:table-cell",children:G.currency.symbol||"-"}),e.jsx("td",{className:"px-2 md:px-3 py-2 whitespace-nowrap",children:e.jsx("span",{className:"text-xs font-medium",children:G.balance})}),e.jsx("td",{className:"px-2 md:px-3 py-2 whitespace-nowrap hidden md:table-cell",children:G.as_of_date?G.as_of_date.slice(0,10):"-"})]},G.currency.id))})]})})})]}),e.jsxs("div",{className:"mb-4 md:mb-8",children:[e.jsxs("div",{className:"mb-3 md:mb-4",children:[e.jsx("div",{className:"text-xs font-semibold text-gray-700 mb-2",children:"Ledger Entries & Transactions"}),e.jsx("p",{className:"text-xs text-gray-500 mb-4",children:"Transactions affecting this account"})]}),e.jsx("div",{className:"bg-gray-50 p-3 md:p-4 rounded-lg mb-3 md:mb-4",children:e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 md:gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Search"}),e.jsx("input",{type:"text",value:K.search,onChange:G=>X("search",G.target.value),placeholder:"Search transactions...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 text-xs"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Start Date"}),e.jsx("input",{type:"date",value:K.startDate,onChange:G=>X("startDate",G.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 text-xs"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"End Date"}),e.jsx("input",{type:"date",value:K.endDate,onChange:G=>X("endDate",G.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 text-xs"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Type"}),e.jsxs("select",{value:K.transactionType,onChange:G=>X("transactionType",G.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 text-xs",children:[e.jsx("option",{value:"",children:"All Types"}),e.jsx("option",{value:"DEBIT",children:"Debit"}),e.jsx("option",{value:"CREDIT",children:"Credit"})]})]})]})}),e.jsxs("div",{className:"border border-gray-200 overflow-hidden",children:[Y?e.jsx("div",{className:"p-3 md:p-4 text-xs text-gray-500",children:"Loading ledger entries..."}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full divide-y divide-gray-200 text-xs",style:{minWidth:"500px"},children:[e.jsx("thead",{className:"bg-gray-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-2 md:px-3 py-2 text-left font-medium tracking-wider",children:"Date"}),e.jsx("th",{className:"px-2 md:px-3 py-2 text-left font-medium tracking-wider",children:"Description"}),e.jsx("th",{className:"px-2 md:px-3 py-2 text-right font-medium tracking-wider",children:"DR"}),e.jsx("th",{className:"px-2 md:px-3 py-2 text-right font-medium tracking-wider",children:"CR"}),e.jsx("th",{className:"px-2 md:px-3 py-2 text-left font-medium tracking-wider",children:"Reference"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:O.map(G=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-2 md:px-3 py-2 whitespace-nowrap text-gray-900",children:be(G.transaction_date)}),e.jsx("td",{className:"px-2 md:px-3 py-2 text-gray-900",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(I,{icon:re(G.source),className:"mr-2 text-gray-400 h-3 w-3 flex-shrink-0"}),e.jsx("div",{children:e.jsx("div",{className:"text-xs font-medium",children:G.description})})]})}),e.jsx("td",{className:"px-2 md:px-3 py-2 whitespace-nowrap text-right font-medium text-red-600",children:G.debit_amount>0?z(G.debit_amount):"-"}),e.jsx("td",{className:"px-2 md:px-3 py-2 whitespace-nowrap text-right font-medium text-green-600",children:G.credit_amount>0?z(G.credit_amount):"-"}),e.jsx("td",{className:"px-2 md:px-3 py-2 whitespace-nowrap text-gray-500",children:G.reference||G.receipt_number||G.reference_number||"-"})]},`${G.source}-${G.id}`))})]})}),!Y&&O.length===0&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx(I,{icon:Kn,className:"mx-auto h-8 w-8 text-gray-400"}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No ledger entries found"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:K.search||K.startDate||K.endDate?"Try adjusting your filters.":"No transactions have been recorded for this account yet."})]})]}),M.total_pages>1&&e.jsxs("div",{className:"mt-3 md:mt-4 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[e.jsxs("div",{className:"text-xs text-gray-700 text-center sm:text-left",children:["Showing page ",M.current_page," of ",M.total_pages,"(",M.total_records," total entries)"]}),e.jsxs("div",{className:"flex justify-center sm:justify-end space-x-2",children:[e.jsx("button",{onClick:()=>J(M.current_page-1),disabled:M.current_page===1,className:"px-3 py-1 border border-gray-300 text-xs font-medium text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed rounded-md",children:"Previous"}),e.jsx("button",{onClick:()=>J(M.current_page+1),disabled:M.current_page===M.total_pages,className:"px-3 py-1 border border-gray-300 text-xs font-medium text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed rounded-md",children:"Next"})]})]})]})]}):e.jsx("div",{className:"p-3 md:p-6 text-xs text-gray-500",children:"Account not found."})})},xq=()=>{const{token:t}=et(),[r,a]=g.useState([]),[s,n]=g.useState(!0),[i,o]=g.useState(""),[d,u]=g.useState(!1),[m,f]=g.useState(""),[x,b]=g.useState(null),[p,v]=g.useState([]),[j,w]=g.useState(!1),[N,P]=g.useState(""),[A,D]=g.useState(1),[T,R]=g.useState(1),[E,O]=g.useState({amount:"",description:"",reference:"",currency_id:1});g.useEffect(()=>{k()},[]);const k=async()=>{n(!0),o("");try{const V=await de.get(`${ce}/accounting/cash-bank/balances`,{headers:{Authorization:`Bearer ${t}`}});V.data.success?(a(V.data.data),o("")):o("Failed to load account balances")}catch(V){console.error("Error loading balances:",V),o("Error loading account balances. Please try again."),a([])}finally{n(!1)}},Y=async(V,Z=1)=>{w(!0);try{const X={page:Z,limit:10,search:N,startDate:"",endDate:"",transactionType:""},be=(await de.get(`${ce}/accounting/general-ledger/journal-entries/account/${V}`,{params:X,headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}})).data;v(be.data||[]),R(be.pagination?.total_pages||1),D(Z)}catch(X){console.error("Error loading transactions:",X)}finally{w(!1)}},$=V=>{b(V),Y(V.id)},M=V=>{f(V),u(!0),O({amount:"",description:"",reference:"",currency_id:1})},F=()=>{u(!1),f(""),O({amount:"",description:"",reference:"",currency_id:1})},K=async V=>{if(V.preventDefault(),!E.amount||!E.description){alert("Amount and description are required");return}try{let Z="";switch(m){case"cash-injection":Z="/accounting/cash-bank/cash/injection";break;case"cash-withdrawal":Z="/accounting/cash-bank/cash/withdrawal";break;case"bank-deposit":Z="/accounting/cash-bank/bank/deposit";break;case"bank-withdrawal":Z="/accounting/cash-bank/bank/withdrawal";break;case"cash-to-bank":Z="/accounting/cash-bank/transfer/cash-to-bank";break;case"bank-to-cash":Z="/accounting/cash-bank/transfer/bank-to-cash";break;default:return}const J=(await de.post(`${ce}${Z}`,E,{headers:{Authorization:`Bearer ${t}`}})).data;J.success?(alert("Transaction recorded successfully!"),F(),k(),x&&Y(x.id,A)):alert(`Error: ${J.message}`)}catch(Z){console.error("Error recording transaction:",Z),alert("Error recording transaction")}},q=()=>{switch(m){case"cash-injection":return"Cash Injection";case"cash-withdrawal":return"Cash Withdrawal";case"bank-deposit":return"Bank Deposit";case"bank-withdrawal":return"Bank Withdrawal";case"cash-to-bank":return"Cash to Bank Transfer";case"bank-to-cash":return"Bank to Cash Transfer";default:return"Transaction"}},U=()=>{switch(m){case"cash-injection":return"Add cash to the business";case"cash-withdrawal":return"Take cash out of the business";case"bank-deposit":return"Deposit money into bank account";case"bank-withdrawal":return"Withdraw money from bank account";case"cash-to-bank":return"Transfer cash to bank account";case"bank-to-cash":return"Transfer money from bank to cash";default:return""}};return s?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"text-lg",children:"Loading..."})}):e.jsxs("div",{className:"px-2 md:px-4 lg:px-8 w-full max-w-full",children:[e.jsx("div",{className:"mb-4 md:mb-8 border-b border-gray-200 pb-3 md:pb-4",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-base md:text-lg font-bold text-gray-900 mb-1",children:"Cash & Bank Management"}),e.jsx("div",{className:"text-xs text-gray-500",children:"Manage cash and bank operations"})]}),e.jsx("button",{onClick:k,className:"mt-2 md:mt-0 px-3 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors text-xs",children:"Refresh"})]})}),e.jsxs("div",{className:"mb-4 md:mb-8",children:[e.jsx("div",{className:"mb-2 text-xs font-semibold text-gray-700",children:"Quick Actions"}),e.jsx("div",{className:"border border-gray-200 overflow-hidden",children:e.jsx("div",{className:"bg-gray-50 p-3 md:p-4",children:e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-2",children:[e.jsxs("button",{onClick:()=>M("cash-injection"),className:"px-2 py-1 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors text-xs",children:[e.jsx(I,{icon:_t,className:"mr-1"}),"Cash In"]}),e.jsxs("button",{onClick:()=>M("cash-withdrawal"),className:"px-2 py-1 bg-gray-600 text-white rounded hover:bg-gray-700 transition-colors text-xs",children:[e.jsx(I,{icon:Rp,className:"mr-1"}),"Cash Out"]}),e.jsxs("button",{onClick:()=>M("bank-deposit"),className:"px-2 py-1 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors text-xs",children:[e.jsx(I,{icon:_t,className:"mr-1"}),"Bank In"]}),e.jsxs("button",{onClick:()=>M("bank-withdrawal"),className:"px-2 py-1 bg-gray-600 text-white rounded hover:bg-gray-700 transition-colors text-xs",children:[e.jsx(I,{icon:Rp,className:"mr-1"}),"Bank Out"]}),e.jsxs("button",{onClick:()=>M("cash-to-bank"),className:"px-2 py-1 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors text-xs",children:[e.jsx(I,{icon:cB,className:"mr-1"}),"Cash→Bank"]}),e.jsxs("button",{onClick:()=>M("bank-to-cash"),className:"px-2 py-1 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors text-xs",children:[e.jsx(I,{icon:gx,className:"mr-1"}),"Bank→Cash"]})]})})})]}),x?e.jsxs("div",{children:[e.jsx("div",{className:"mb-4 md:mb-8 border-b border-gray-200 pb-3 md:pb-4",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-6",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx(I,{icon:x.account_name.toLowerCase().includes("cash")?$r:yn,className:"text-lg text-blue-600 mr-3"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-base md:text-lg font-bold text-gray-900",children:x.account_name}),e.jsx("div",{className:"text-xs text-gray-500",children:x.code})]})]}),e.jsx("div",{className:"text-xs text-gray-500 mb-1",children:x.account_type}),e.jsxs("div",{className:"text-xs text-gray-500",children:["Currency: ",x.currency_code]})]}),e.jsx("button",{onClick:()=>b(null),className:"mt-2 md:mt-0 px-3 py-2 text-gray-600 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors text-xs",children:"Back to Overview"})]})}),e.jsxs("div",{className:"mb-4 md:mb-8",children:[e.jsx("div",{className:"mb-2 text-xs font-semibold text-gray-700",children:"Account Balance"}),e.jsx("div",{className:"border border-gray-200 overflow-hidden",children:e.jsx("div",{className:"bg-gray-50 p-3 md:p-4",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:x.current_balance.toLocaleString()}),e.jsxs("div",{className:"text-xs text-gray-500",children:["Current Balance (",x.currency_code,")"]})]})})})]}),e.jsxs("div",{className:"mb-4 md:mb-8",children:[e.jsxs("div",{className:"mb-3 md:mb-4",children:[e.jsx("div",{className:"text-xs font-semibold text-gray-700 mb-2",children:"Transaction History"}),e.jsx("p",{className:"text-xs text-gray-500 mb-4",children:"Transactions affecting this account"})]}),e.jsx("div",{className:"bg-gray-50 p-3 md:p-4 rounded-lg mb-3 md:mb-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Search"}),e.jsxs("div",{className:"relative",children:[e.jsx(I,{icon:Vt,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-3 w-3"}),e.jsx("input",{type:"text",placeholder:"Search transactions...",value:N,onChange:V=>P(V.target.value),className:"w-full pl-8 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 text-xs"})]})]}),e.jsx("div",{className:"flex items-end",children:e.jsx("button",{onClick:()=>Y(x.id,1),className:"px-3 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors text-xs",children:"Search"})})]})}),e.jsxs("div",{className:"border border-gray-200 overflow-hidden",children:[j?e.jsx("div",{className:"p-3 md:p-4 text-xs text-gray-500",children:"Loading transactions..."}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full divide-y divide-gray-200 text-xs",style:{minWidth:"500px"},children:[e.jsx("thead",{className:"bg-gray-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-2 md:px-3 py-2 text-left font-medium tracking-wider",children:"Date"}),e.jsx("th",{className:"px-2 md:px-3 py-2 text-left font-medium tracking-wider",children:"Description"}),e.jsx("th",{className:"px-2 md:px-3 py-2 text-right font-medium tracking-wider",children:"DR"}),e.jsx("th",{className:"px-2 md:px-3 py-2 text-right font-medium tracking-wider",children:"CR"}),e.jsx("th",{className:"px-2 md:px-3 py-2 text-left font-medium tracking-wider",children:"Reference"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:p.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"px-2 md:px-3 py-4 text-center text-gray-500",children:"No transactions found"})}):p.map((V,Z)=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-2 md:px-3 py-2 whitespace-nowrap text-gray-900",children:new Date(V.transaction_date).toLocaleDateString()}),e.jsx("td",{className:"px-2 md:px-3 py-2 text-gray-900",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(I,{icon:$r,className:"mr-2 text-gray-400 h-3 w-3 flex-shrink-0"}),e.jsx("div",{children:e.jsx("div",{className:"text-xs font-medium",children:V.description})})]})}),e.jsx("td",{className:"px-2 md:px-3 py-2 whitespace-nowrap text-right font-medium text-red-600",children:V.debit_amount>0?`$${parseFloat(V.debit_amount||0).toFixed(2)}`:"-"}),e.jsx("td",{className:"px-2 md:px-3 py-2 whitespace-nowrap text-right font-medium text-green-600",children:V.credit_amount>0?`$${parseFloat(V.credit_amount||0).toFixed(2)}`:"-"}),e.jsx("td",{className:"px-2 md:px-3 py-2 whitespace-nowrap text-gray-500",children:V.reference||"-"})]},Z))})]})}),!j&&p.length===0&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx(I,{icon:$r,className:"mx-auto h-8 w-8 text-gray-400"}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No transactions found"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:N?"Try adjusting your search.":"No transactions have been recorded for this account yet."})]})]}),T>1&&e.jsxs("div",{className:"mt-3 md:mt-4 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[e.jsxs("div",{className:"text-xs text-gray-700 text-center sm:text-left",children:["Showing page ",A," of ",T]}),e.jsxs("div",{className:"flex justify-center sm:justify-end space-x-2",children:[e.jsx("button",{onClick:()=>Y(x.id,A-1),disabled:A===1,className:"px-3 py-1 border border-gray-300 text-xs font-medium text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed rounded-md",children:"Previous"}),e.jsx("button",{onClick:()=>Y(x.id,A+1),disabled:A===T,className:"px-3 py-1 border border-gray-300 text-xs font-medium text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed rounded-md",children:"Next"})]})]})]})]}):e.jsxs(e.Fragment,{children:[i&&e.jsx("div",{className:"mb-3 md:mb-4 bg-red-50 border border-red-200 rounded-md p-3",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(I,{icon:Rp,className:"h-4 w-4 text-red-400"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h3",{className:"text-xs font-medium text-red-800",children:"Error"}),e.jsx("div",{className:"mt-1 text-xs text-red-700",children:e.jsx("p",{children:i})})]})]})}),e.jsxs("div",{className:"mb-4 md:mb-8",children:[e.jsx("div",{className:"mb-2 text-xs font-semibold text-gray-700",children:"Cash & Bank Accounts"}),e.jsx("div",{className:"border border-gray-200 overflow-hidden",children:s?e.jsx("div",{className:"p-3 md:p-4 text-xs text-gray-500",children:"Loading accounts..."}):r.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full divide-y divide-gray-200 text-xs",style:{minWidth:"400px"},children:[e.jsx("thead",{className:"bg-gray-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-2 md:px-3 py-2 text-left font-medium tracking-wider",children:"Account"}),e.jsx("th",{className:"px-2 md:px-3 py-2 text-left font-medium tracking-wider",children:"Type"}),e.jsx("th",{className:"px-2 md:px-3 py-2 text-right font-medium tracking-wider",children:"Balance"}),e.jsx("th",{className:"px-2 md:px-3 py-2 text-left font-medium tracking-wider",children:"Currency"}),e.jsx("th",{className:"px-2 md:px-3 py-2 text-center font-medium tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(V=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-2 md:px-3 py-2 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(I,{icon:V.account_name.toLowerCase().includes("cash")?$r:yn,className:"mr-2 text-blue-600 h-3 w-3 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-medium text-gray-900",children:V.account_name}),e.jsx("div",{className:"text-xs text-gray-500",children:V.code})]})]})}),e.jsx("td",{className:"px-2 md:px-3 py-2 whitespace-nowrap text-xs text-gray-500",children:V.account_type}),e.jsx("td",{className:"px-2 md:px-3 py-2 whitespace-nowrap text-right",children:e.jsx("span",{className:"text-xs font-medium text-gray-900",children:V.current_balance.toLocaleString()})}),e.jsx("td",{className:"px-2 md:px-3 py-2 whitespace-nowrap text-xs text-gray-500",children:V.currency_code}),e.jsx("td",{className:"px-2 md:px-3 py-2 whitespace-nowrap text-center",children:e.jsxs("button",{onClick:()=>$(V),className:"px-2 py-1 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors text-xs",children:[e.jsx(I,{icon:Fr,className:"mr-1"}),"View"]})})]},V.id))})]})}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(I,{icon:$r,className:"mx-auto h-8 w-8 text-gray-400"}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No Cash/Bank Accounts Found"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Cash and Bank accounts need to be set up in the Chart of Accounts first."}),e.jsx("p",{className:"mt-1 text-xs text-gray-400",children:'Please ensure you have accounts with "Cash" or "Bank" in their names in the Chart of Accounts.'})]})})]})]}),d&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full",children:e.jsxs("div",{className:"p-4 md:p-6",children:[e.jsx("h3",{className:"text-base md:text-lg font-bold text-gray-900 mb-1",children:q()}),e.jsx("p",{className:"text-xs text-gray-500 mb-4",children:U()}),e.jsxs("form",{onSubmit:K,children:[e.jsxs("div",{className:"space-y-3 md:space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Amount *"}),e.jsx("input",{type:"number",step:"0.01",min:"0",value:E.amount,onChange:V=>O({...E,amount:V.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 text-xs",placeholder:"Enter amount",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Description *"}),e.jsx("textarea",{value:E.description,onChange:V=>O({...E,description:V.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 text-xs",placeholder:"Enter description",rows:"3",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Reference Number"}),e.jsx("input",{type:"text",value:E.reference,onChange:V=>O({...E,reference:V.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 text-xs",placeholder:"Enter reference number (optional)"})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3 mt-4 md:mt-6",children:[e.jsx("button",{type:"button",onClick:F,className:"w-full sm:w-auto px-3 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300 transition-colors text-xs",children:"Cancel"}),e.jsx("button",{type:"submit",className:"w-full sm:w-auto px-3 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors text-xs",children:"Record Transaction"})]})]})]})})})]})},pq=()=>{const{token:t}=et(),[r,a]=g.useState([]),[s,n]=g.useState(!0),[i,o]=g.useState(""),[d,u]=g.useState(!1),[m,f]=g.useState("add"),[x,b]=g.useState({id:null,name:"",contact_person:"",phone:"",email:"",address:"",is_active:!0}),[p,v]=g.useState(""),[j,w]=g.useState(!1),N=async()=>{n(!0),o("");try{const E=await de.get(`${ce}/expenses/suppliers`,{headers:{Authorization:`Bearer ${t}`}});a(E.data.data||[])}catch{o("Failed to load suppliers.")}finally{n(!1)}};g.useEffect(()=>{N()},[]);const P=()=>{b({id:null,name:"",contact_person:"",phone:"",email:"",address:"",is_active:!0}),f("add"),u(!0),v("")},A=E=>{b({...E}),f("edit"),u(!0),v("")},D=E=>{const{name:O,value:k,type:Y,checked:$}=E.target;b(M=>({...M,[O]:Y==="checkbox"?$:k}))},T=async E=>{E.preventDefault(),w(!0),v("");try{if(!x.name){v("Name is required."),w(!1);return}m==="add"?await de.post(`${ce}/expenses/suppliers`,x,{headers:{Authorization:`Bearer ${t}`}}):await de.put(`${ce}/expenses/suppliers/${x.id}`,x,{headers:{Authorization:`Bearer ${t}`}}),u(!1),N()}catch{v("Failed to save supplier.")}finally{w(!1)}},R=async E=>{if(window.confirm("Are you sure you want to delete this supplier?"))try{await de.delete(`${ce}/expenses/suppliers/${E}`,{headers:{Authorization:`Bearer ${t}`}}),N()}catch{alert("Failed to delete supplier.")}};return e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h1",{className:"text-base font-semibold text-gray-800",children:"Suppliers"}),e.jsx("button",{className:"px-3 py-1 text-xs font-medium text-white bg-gray-900 hover:bg-gray-800",style:{borderRadius:0},onClick:P,children:"+ Add Supplier"})]}),e.jsx("div",{className:"border-t border-gray-200",children:s?e.jsx("div",{className:"text-xs text-gray-500 p-4",children:"Loading suppliers..."}):i?e.jsx("div",{className:"text-xs text-red-600 p-4",children:i}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 text-xs",children:[e.jsx("thead",{className:"bg-gray-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-3 py-2 text-left font-medium tracking-wider",children:"Name"}),e.jsx("th",{className:"px-3 py-2 text-left font-medium tracking-wider",children:"Contact Person"}),e.jsx("th",{className:"px-3 py-2 text-left font-medium tracking-wider",children:"Phone"}),e.jsx("th",{className:"px-3 py-2 text-left font-medium tracking-wider",children:"Email"}),e.jsx("th",{className:"px-3 py-2 text-left font-medium tracking-wider",children:"Address"}),e.jsx("th",{className:"px-3 py-2 text-left font-medium tracking-wider",children:"Status"}),e.jsx("th",{className:"px-3 py-2 text-left font-medium tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(E=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:E.name}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:E.contact_person}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:E.phone}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:E.email}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:E.address}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:E.is_active?"Active":"Inactive"}),e.jsxs("td",{className:"px-3 py-2 whitespace-nowrap",children:[e.jsx("button",{className:"text-gray-700 hover:text-gray-900 text-xs mr-2",style:{borderRadius:0},onClick:()=>A(E),children:"Edit"}),e.jsx("button",{className:"text-red-600 hover:text-red-800 text-xs",style:{borderRadius:0},onClick:()=>R(E.id),children:"Delete"})]})]},E.id))})]})})}),d&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-30 z-50",children:e.jsxs("div",{className:"bg-white border border-gray-200 p-6 w-full max-w-md",style:{borderRadius:0},children:[e.jsx("h2",{className:"text-base font-semibold text-gray-800 mb-4",children:m==="add"?"Add Supplier":"Edit Supplier"}),e.jsxs("form",{onSubmit:T,className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Name"}),e.jsx("input",{type:"text",name:"name",value:x.name,onChange:D,className:"w-full border border-gray-300 px-2 py-1 text-xs",style:{borderRadius:0},required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Contact Person"}),e.jsx("input",{type:"text",name:"contact_person",value:x.contact_person,onChange:D,className:"w-full border border-gray-300 px-2 py-1 text-xs",style:{borderRadius:0}})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Phone"}),e.jsx("input",{type:"text",name:"phone",value:x.phone,onChange:D,className:"w-full border border-gray-300 px-2 py-1 text-xs",style:{borderRadius:0}})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Email"}),e.jsx("input",{type:"email",name:"email",value:x.email,onChange:D,className:"w-full border border-gray-300 px-2 py-1 text-xs",style:{borderRadius:0}})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Address"}),e.jsx("input",{type:"text",name:"address",value:x.address,onChange:D,className:"w-full border border-gray-300 px-2 py-1 text-xs",style:{borderRadius:0}})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",name:"is_active",checked:x.is_active,onChange:D,className:"mr-2"}),e.jsx("label",{className:"text-xs text-gray-600",children:"Active"})]}),p&&e.jsx("div",{className:"text-xs text-red-600",children:p}),e.jsxs("div",{className:"flex justify-end space-x-2 mt-4",children:[e.jsx("button",{type:"button",className:"px-3 py-1 text-xs text-gray-700 bg-gray-200 hover:bg-gray-300",style:{borderRadius:0},onClick:()=>u(!1),children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-3 py-1 text-xs text-white bg-gray-900 hover:bg-gray-800",style:{borderRadius:0},disabled:j,children:j?"Saving...":"Save"})]})]})]})})]})},gq=()=>{const{token:t}=et(),[r,a]=g.useState([]),[s,n]=g.useState(!0),[i,o]=g.useState(""),[d,u]=g.useState(null),[m,f]=g.useState(!1),[x,b]=g.useState(null),[p,v]=g.useState(!1),[j,w]=g.useState(1),[N]=g.useState(20),[P,A]=g.useState(0),[D,T]=g.useState(""),[R,E]=g.useState(""),[O,k]=g.useState(""),Y=br(),$=async()=>{n(!0),o("");try{const q=[];q.push(`page=${j}`),q.push(`pageSize=${N}`),D&&q.push(`search=${encodeURIComponent(D)}`),R&&q.push(`startDate=${R}`),O&&q.push(`endDate=${O}`);const U=q.length?`?${q.join("&")}`:"",V=await de.get(`${ce}/expenses/expenses${U}`,{headers:{Authorization:`Bearer ${t}`}});a(V.data.data||[]),A(V.data.total||0)}catch{o("Failed to load expenses.")}finally{n(!1)}};g.useEffect(()=>{$()},[j,D,R,O]);const M=async q=>{if(window.confirm("Are you sure you want to delete this expense?")){u(q);try{await de.delete(`${ce}/expenses/expenses/${q}`,{headers:{Authorization:`Bearer ${t}`}}),$()}catch{alert("Failed to delete expense.")}finally{u(null)}}},F=async q=>{f(!0),v(!0),b(null);try{const U=await de.get(`${ce}/expenses/expenses/${q}`,{headers:{Authorization:`Bearer ${t}`}});b(U.data.data)}catch{b(null)}finally{v(!1)}},K=Math.ceil(P/N);return e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h1",{className:"text-base font-semibold text-gray-800",children:"Expenses"}),e.jsx("button",{className:"px-3 py-1 text-xs font-medium text-white bg-gray-900 hover:bg-gray-800",style:{borderRadius:0},onClick:()=>Y("/dashboard/expenses/expenses/add"),children:"+ Add Expense"})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[e.jsx("input",{type:"text",placeholder:"Search...",value:D,onChange:q=>{w(1),T(q.target.value)},className:"border border-gray-300 px-2 py-1 text-xs",style:{borderRadius:0}}),e.jsx("input",{type:"date",value:R,onChange:q=>{w(1),E(q.target.value)},className:"border border-gray-300 px-2 py-1 text-xs",style:{borderRadius:0}}),e.jsx("input",{type:"date",value:O,onChange:q=>{w(1),k(q.target.value)},className:"border border-gray-300 px-2 py-1 text-xs",style:{borderRadius:0}}),e.jsxs("span",{className:"text-xs text-gray-500 ml-2",children:["Total: ",P]})]}),e.jsx("div",{className:"border-t border-gray-200",children:s?e.jsx("div",{className:"text-xs text-gray-500 p-4",children:"Loading expenses..."}):i?e.jsx("div",{className:"text-xs text-red-600 p-4",children:i}):e.jsx("div",{className:"overflow-x-auto border border-gray-200",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 text-xs",children:[e.jsx("thead",{className:"bg-gray-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-3 py-2 text-left font-medium tracking-wider",children:"Date"}),e.jsx("th",{className:"px-3 py-2 text-left font-medium tracking-wider",children:"Supplier"}),e.jsx("th",{className:"px-3 py-2 text-left font-medium tracking-wider",children:"Description"}),e.jsx("th",{className:"px-3 py-2 text-left font-medium tracking-wider",children:"Amount"}),e.jsx("th",{className:"px-3 py-2 text-left font-medium tracking-wider",children:"Currency"}),e.jsx("th",{className:"px-3 py-2 text-left font-medium tracking-wider",children:"Payment Method"}),e.jsx("th",{className:"px-3 py-2 text-left font-medium tracking-wider",children:"Payment Status"}),e.jsx("th",{className:"px-3 py-2 text-left font-medium tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(q=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:q.expense_date}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:q.supplier_name||"-"}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:q.description}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:parseFloat(q.amount).toFixed(2)}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:q.currency_code}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:q.payment_method}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:q.payment_status}),e.jsxs("td",{className:"px-3 py-2 whitespace-nowrap flex gap-2",children:[e.jsx("button",{title:"View",className:"text-gray-700 hover:text-gray-900 text-xs",style:{borderRadius:0},onClick:()=>F(q.id),children:e.jsx(I,{icon:Fr})}),e.jsx("button",{title:"Edit",className:"text-blue-700 hover:text-blue-900 text-xs",style:{borderRadius:0},onClick:()=>Y(`/dashboard/expenses/expenses/edit/${q.id}`),children:e.jsx(I,{icon:lr})}),e.jsx("button",{title:"Delete",className:"text-red-600 hover:text-red-800 text-xs",style:{borderRadius:0},onClick:()=>M(q.id),disabled:d===q.id,children:d===q.id?"...":e.jsx(I,{icon:Mt})})]})]},q.id))})]})})}),e.jsxs("div",{className:"flex justify-center items-center mt-4 gap-2",children:[e.jsx("button",{className:"px-2 py-1 text-xs bg-gray-200 hover:bg-gray-300",style:{borderRadius:0},disabled:j===1,onClick:()=>w(j-1),children:"Prev"}),e.jsxs("span",{className:"text-xs",children:[j," / ",K||1]}),e.jsx("button",{className:"px-2 py-1 text-xs bg-gray-200 hover:bg-gray-300",style:{borderRadius:0},disabled:j===K||K===0,onClick:()=>w(j+1),children:"Next"})]}),m&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-30 z-50",children:e.jsxs("div",{className:"bg-white border border-gray-200 p-6 w-full max-w-md",style:{borderRadius:0},children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-base font-semibold text-gray-800",children:"Expense Receipt"}),e.jsx("button",{className:"text-gray-500 hover:text-gray-800 text-lg",onClick:()=>f(!1),children:"×"})]}),p?e.jsx("div",{className:"text-xs text-gray-500",children:"Loading..."}):x?e.jsxs("div",{className:"text-xs",children:[e.jsxs("div",{className:"mb-2 flex justify-between",children:[e.jsx("span",{className:"font-semibold",children:"Date:"}),e.jsx("span",{children:x.expense_date})]}),e.jsxs("div",{className:"mb-2 flex justify-between",children:[e.jsx("span",{className:"font-semibold",children:"Supplier:"}),e.jsx("span",{children:x.supplier_name||"-"})]}),e.jsxs("div",{className:"mb-2 flex justify-between",children:[e.jsx("span",{className:"font-semibold",children:"Description:"}),e.jsx("span",{children:x.description})]}),e.jsxs("div",{className:"mb-2 flex justify-between",children:[e.jsx("span",{className:"font-semibold",children:"Amount:"}),e.jsx("span",{children:parseFloat(x.amount).toFixed(2)})]}),e.jsxs("div",{className:"mb-2 flex justify-between",children:[e.jsx("span",{className:"font-semibold",children:"Currency:"}),e.jsx("span",{children:x.currency_code})]}),e.jsxs("div",{className:"mb-2 flex justify-between",children:[e.jsx("span",{className:"font-semibold",children:"Payment Method:"}),e.jsx("span",{children:x.payment_method})]}),e.jsxs("div",{className:"mb-2 flex justify-between",children:[e.jsx("span",{className:"font-semibold",children:"Payment Status:"}),e.jsx("span",{children:x.payment_status})]}),e.jsxs("div",{className:"mb-2 flex justify-between",children:[e.jsx("span",{className:"font-semibold",children:"Journal:"}),e.jsx("span",{children:x.journal_description||"-"})]}),e.jsxs("div",{className:"mb-2 flex justify-between",children:[e.jsx("span",{className:"font-semibold",children:"Recorded At:"}),e.jsx("span",{children:x.created_at})]})]}):e.jsx("div",{className:"text-xs text-red-600",children:"Failed to load expense details."})]})})]})},yq=()=>{const{token:t}=et(),r=br(),[a,s]=g.useState({supplier_id:"",amount:"",currency_id:"",expense_date:"",description:"",payment_method:"cash",payment_status:"full",expense_account_id:"",amount_paid:"",reference_number:""}),[n,i]=g.useState(""),[o,d]=g.useState(!1),[u,m]=g.useState([]),[f,x]=g.useState([]),[b,p]=g.useState([]),v=async()=>{try{const T=await de.get(`${ce}/expenses/suppliers`,{headers:{Authorization:`Bearer ${t}`}});m(T.data.data||[])}catch{}},j=async()=>{try{const T=await de.get(`${ce}/accounting/currencies`,{headers:{Authorization:`Bearer ${t}`}});x(T.data.data||[])}catch{}},w=async()=>{try{const R=(await de.get(`${ce}/accounting/chart-of-accounts`,{headers:{Authorization:`Bearer ${t}`}})).data.data||[];p(R.filter(E=>E.type==="Expense"))}catch{}};g.useEffect(()=>{v(),j(),w()},[]);const N=T=>{const{name:R,value:E}=T.target;if(s(O=>({...O,[R]:E})),R==="amount"&&a.payment_status==="partial"){const O=parseFloat(E)||0;(parseFloat(a.amount_paid)||0)>O&&s(Y=>({...Y,amount_paid:E}))}},P=()=>{const T=Date.now(),R=Math.floor(Math.random()*1e3);return`EXP-${T}-${R}`},A=async T=>{T.preventDefault(),d(!0),i("");try{if(!a.amount||!a.currency_id||!a.expense_date||!a.payment_method||!a.payment_status||!a.expense_account_id){i("Please fill all required fields."),d(!1);return}if(!a.reference_number){i("Please add a reference number."),d(!1);return}if(a.payment_status==="partial"){if(!a.amount_paid||parseFloat(a.amount_paid)<=0){i("Please enter the amount paid for partial payment."),d(!1);return}if(parseFloat(a.amount_paid)>=parseFloat(a.amount)){i("Amount paid must be less than total amount for partial payment."),d(!1);return}}await de.post(`${ce}/expenses/expenses`,{...a,supplier_id:a.supplier_id||null,amount:parseFloat(a.amount),amount_paid:a.payment_status==="partial"?parseFloat(a.amount_paid):null,expense_account_id:a.expense_account_id,reference_number:a.reference_number},{headers:{Authorization:`Bearer ${t}`}}),r("/dashboard/expenses/expenses")}catch{i("Failed to save expense.")}finally{d(!1)}},D=a.amount&&a.amount_paid?(parseFloat(a.amount)-parseFloat(a.amount_paid)).toFixed(2):"";return e.jsxs("div",{className:"bg-white border border-gray-200 p-4 w-full",children:[e.jsx("h1",{className:"text-base font-medium text-gray-900 mb-4",children:"Record Expense"}),e.jsxs("form",{onSubmit:A,className:"space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Supplier"}),e.jsxs("select",{name:"supplier_id",value:a.supplier_id,onChange:N,className:"w-full border border-gray-300 px-2 py-1.5 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500",children:[e.jsx("option",{value:"",children:"-- None --"}),u.map(T=>e.jsx("option",{value:T.id,children:T.name},T.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Total Amount"}),e.jsx("input",{type:"number",name:"amount",value:a.amount,onChange:N,className:"w-full border border-gray-300 px-2 py-1.5 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500",required:!0,step:"0.01"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Currency"}),e.jsxs("select",{name:"currency_id",value:a.currency_id,onChange:N,className:"w-full border border-gray-300 px-2 py-1.5 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500",required:!0,children:[e.jsx("option",{value:"",children:"-- Select --"}),f.map(T=>e.jsx("option",{value:T.id,children:T.code},T.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Date"}),e.jsx("input",{type:"date",name:"expense_date",value:a.expense_date,onChange:N,className:"w-full border border-gray-300 px-2 py-1.5 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Expense Account"}),e.jsxs("select",{name:"expense_account_id",value:a.expense_account_id,onChange:N,className:"w-full border border-gray-300 px-2 py-1.5 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500",required:!0,children:[e.jsx("option",{value:"",children:"-- Select --"}),b.map(T=>e.jsxs("option",{value:T.id,children:[T.code," - ",T.name]},T.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Payment Method"}),e.jsxs("select",{name:"payment_method",value:a.payment_method,onChange:N,className:"w-full border border-gray-300 px-2 py-1.5 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500",required:!0,children:[e.jsx("option",{value:"Cash",children:"Cash"}),e.jsx("option",{value:"Bank Transfer",children:"Bank Transfer"}),e.jsx("option",{value:"Cheque",children:"Cheque"}),e.jsx("option",{value:"Mobile Money",children:"Mobile Money"}),e.jsx("option",{value:"Other",children:"Other"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Payment Status"}),e.jsxs("select",{name:"payment_status",value:a.payment_status,onChange:N,className:"w-full border border-gray-300 px-2 py-1.5 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500",required:!0,children:[e.jsx("option",{value:"full",children:"Full Payment"}),e.jsx("option",{value:"partial",children:"Partial Payment"}),e.jsx("option",{value:"debt",children:"Credit/Debt"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Reference Number"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("input",{type:"text",name:"reference_number",value:a.reference_number,onChange:N,placeholder:"Enter reference",className:"flex-1 border border-gray-300 px-2 py-1.5 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500"}),e.jsx("button",{type:"button",onClick:()=>s(T=>({...T,reference_number:P()})),className:"bg-gray-600 text-white px-2 py-1.5 text-xs hover:bg-gray-700",children:"Auto"})]})]}),a.payment_status==="partial"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Amount Paid"}),e.jsx("input",{type:"number",name:"amount_paid",value:a.amount_paid,onChange:N,className:"w-full border border-gray-300 px-2 py-1.5 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500",required:!0,step:"0.01"}),D&&e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Remaining: ",D]})]})]}),e.jsxs("div",{className:"w-full",children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Description"}),e.jsx("input",{type:"text",name:"description",value:a.description,onChange:N,className:"w-full border border-gray-300 px-2 py-1.5 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500"})]}),n&&e.jsx("div",{className:"text-xs text-red-600",children:n}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx("button",{type:"button",className:"px-3 py-1.5 border border-gray-300 text-xs text-gray-700 hover:bg-gray-50",onClick:()=>r("/dashboard/expenses/expenses"),children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-3 py-1.5 bg-gray-900 text-white text-xs hover:bg-gray-800",disabled:o,children:o?"Saving...":"Save Expense"})]})]})]})},bq=()=>{const{token:t}=et(),r=br(),{id:a}=On(),[s,n]=g.useState({supplier_id:"",amount:"",currency_id:"",expense_date:"",description:"",payment_method:"cash",payment_status:"full"}),[i,o]=g.useState(""),[d,u]=g.useState(!1),[m,f]=g.useState([]),[x,b]=g.useState([]),[p,v]=g.useState(null),[j,w]=g.useState(!0),N=async()=>{try{const E=await de.get(`${ce}/expenses/suppliers`,{headers:{Authorization:`Bearer ${t}`}});f(E.data.data||[])}catch{}},P=async()=>{try{const E=await de.get(`${ce}/accounting/currencies`,{headers:{Authorization:`Bearer ${t}`}});b(E.data.data||[])}catch{}},A=async()=>{try{const O=(await de.get(`${ce}/accounting/chart-of-accounts`,{headers:{Authorization:`Bearer ${t}`}})).data.data||[],k=O.find(Y=>Y.code==="5000")||O.find(Y=>Y.type==="Expense");v(k)}catch{}},D=async()=>{w(!0);try{const O=(await de.get(`${ce}/expenses/expenses/${a}`,{headers:{Authorization:`Bearer ${t}`}})).data.data;n({supplier_id:O.supplier_id||"",amount:O.amount||"",currency_id:O.currency_id||"",expense_date:O.expense_date||"",description:O.description||"",payment_method:O.payment_method||"cash",payment_status:O.payment_status||"full"})}catch{o("Failed to load expense.")}finally{w(!1)}};g.useEffect(()=>{N(),P(),A(),D()},[a]);const T=E=>{const{name:O,value:k}=E.target;n(Y=>({...Y,[O]:k}))},R=async E=>{E.preventDefault(),u(!0),o("");try{if(!s.amount||!s.currency_id||!s.expense_date||!s.payment_method||!s.payment_status){o("Please fill all required fields."),u(!1);return}await de.put(`${ce}/expenses/expenses/${a}`,{...s,supplier_id:s.supplier_id||null,amount:parseFloat(s.amount)},{headers:{Authorization:`Bearer ${t}`}}),r("/dashboard/expenses/expenses")}catch{o("Failed to update expense.")}finally{u(!1)}};return j?e.jsx("div",{className:"flex items-center justify-center h-64 text-xs text-gray-500",children:"Loading expense..."}):e.jsxs("div",{className:"p-6 w-full max-w-5xl mx-auto",children:[e.jsx("h1",{className:"text-base font-semibold text-gray-800 mb-6",children:"Edit Expense"}),e.jsxs("form",{onSubmit:R,className:"space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Supplier"}),e.jsxs("select",{name:"supplier_id",value:s.supplier_id,onChange:T,className:"w-full border border-gray-300 px-2 py-1 text-xs",style:{borderRadius:0},children:[e.jsx("option",{value:"",children:"-- None --"}),m.map(E=>e.jsx("option",{value:E.id,children:E.name},E.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Amount"}),e.jsx("input",{type:"number",name:"amount",value:s.amount,onChange:T,className:"w-full border border-gray-300 px-2 py-1 text-xs",style:{borderRadius:0},required:!0,step:"0.01"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Currency"}),e.jsxs("select",{name:"currency_id",value:s.currency_id,onChange:T,className:"w-full border border-gray-300 px-2 py-1 text-xs",style:{borderRadius:0},required:!0,children:[e.jsx("option",{value:"",children:"-- Select --"}),x.map(E=>e.jsx("option",{value:E.id,children:E.code},E.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Date"}),e.jsx("input",{type:"date",name:"expense_date",value:s.expense_date,onChange:T,className:"w-full border border-gray-300 px-2 py-1 text-xs",style:{borderRadius:0},required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Expense Account"}),e.jsx("input",{type:"text",value:p?`${p.code} - ${p.name}`:"",className:"w-full border border-gray-300 px-2 py-1 text-xs bg-gray-100",style:{borderRadius:0},readOnly:!0})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Description"}),e.jsx("input",{type:"text",name:"description",value:s.description,onChange:T,className:"w-full border border-gray-300 px-2 py-1 text-xs",style:{borderRadius:0}})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Payment Method"}),e.jsxs("select",{name:"payment_method",value:s.payment_method,onChange:T,className:"w-full border border-gray-300 px-2 py-1 text-xs",style:{borderRadius:0},required:!0,children:[e.jsx("option",{value:"cash",children:"Cash"}),e.jsx("option",{value:"bank",children:"Bank"}),e.jsx("option",{value:"credit",children:"Credit"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Payment Status"}),e.jsxs("select",{name:"payment_status",value:s.payment_status,onChange:T,className:"w-full border border-gray-300 px-2 py-1 text-xs",style:{borderRadius:0},required:!0,children:[e.jsx("option",{value:"full",children:"Full"}),e.jsx("option",{value:"partial",children:"Partial"}),e.jsx("option",{value:"debt",children:"Debt"})]})]})]}),i&&e.jsx("div",{className:"text-xs text-red-600",children:i}),e.jsxs("div",{className:"flex justify-end space-x-2 mt-4",children:[e.jsx("button",{type:"button",className:"px-3 py-1 text-xs text-gray-700 bg-gray-200 hover:bg-gray-300",style:{borderRadius:0},onClick:()=>r("/dashboard/expenses/expenses"),children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-3 py-1 text-xs text-white bg-gray-900 hover:bg-gray-800",style:{borderRadius:0},disabled:d,children:d?"Saving...":"Save"})]})]})]})},vq=()=>{const{token:t}=et();br();const[r,a]=g.useState([]),[s,n]=g.useState({}),[i,o]=g.useState(!0),[d,u]=g.useState(""),[m,f]=g.useState(""),[x,b]=g.useState(""),[p,v]=g.useState(1),[j,w]=g.useState(20),[N,P]=g.useState(0),[A,D]=g.useState(!1),[T,R]=g.useState(null),[E,O]=g.useState({amount:"",currency_id:"",payment_date:"",payment_method:"cash",description:""}),[k,Y]=g.useState([]),[$,M]=g.useState(!1),[F,K]=g.useState(!1),[q,U]=g.useState(null),[V,Z]=g.useState([]),[X,J]=g.useState(!1),be=async()=>{try{const le=await de.get(`${ce}/accounting/currencies`,{headers:{Authorization:`Bearer ${t}`}});Y(le.data.data||[])}catch{}},z=async()=>{try{o(!0);const le=new URLSearchParams({page:p.toString(),pageSize:j.toString()});m&&le.append("search",m),x&&le.append("status",x);const xe=await de.get(`${ce}/expenses/accounts-payable?${le}`,{headers:{Authorization:`Bearer ${t}`}});a(xe.data.data||[]),P(xe.data.total||0)}catch{u("Failed to load accounts payable")}finally{o(!1)}},re=async()=>{try{const le=await de.get(`${ce}/expenses/accounts-payable/summary`,{headers:{Authorization:`Bearer ${t}`}});n(le.data.data||{})}catch{}},G=async le=>{try{J(!0);const xe=await de.get(`${ce}/expenses/accounts-payable/${le}/payments`,{headers:{Authorization:`Bearer ${t}`}});Z(xe.data.data||[])}catch(xe){console.error("Error fetching transactions:",xe)}finally{J(!1)}};g.useEffect(()=>{be(),z(),re()},[p,j,m,x]);const Q=le=>{f(le.target.value),v(1)},ve=le=>{b(le.target.value),v(1)},ye=le=>{R(le),O({amount:le.outstanding_balance,currency_id:le.currency_id,payment_date:new Date().toISOString().split("T")[0],payment_method:"cash",description:`Payment for ${le.expense_description}`}),D(!0)},ne=async le=>{U(le),K(!0),await G(le.id)},te=async le=>{le.preventDefault(),M(!0);try{await de.post(`${ce}/expenses/accounts-payable/${T.id}/pay`,{amount:parseFloat(E.amount),currency_id:T.currency_id,payment_date:E.payment_date,payment_method:E.payment_method,description:E.description},{headers:{Authorization:`Bearer ${t}`}}),D(!1),z(),re()}catch(xe){console.error("Payment error:",xe),u("Failed to make payment: "+(xe.response?.data?.message||xe.message))}finally{M(!1)}},Ae=le=>{switch(le){case"outstanding":return"text-red-600 bg-red-100";case"partial":return"text-yellow-600 bg-yellow-100";case"paid":return"text-green-600 bg-green-100";case"overdue":return"text-red-800 bg-red-200";default:return"text-gray-600 bg-gray-100"}},we=(le,xe)=>`${xe} ${parseFloat(le).toFixed(2)}`;return e.jsxs("div",{className:"p-2",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-base font-bold text-gray-900 mb-2",children:"Accounts Payable"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Manage outstanding payments and track transaction history"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-white p-4 border border-gray-200",children:[e.jsx("div",{className:"text-xs text-gray-600",children:"Total Payables"}),e.jsx("div",{className:"text-lg font-semibold",children:s.total_payables||0})]}),e.jsxs("div",{className:"bg-white p-4 border border-gray-200",children:[e.jsx("div",{className:"text-xs text-gray-600",children:"Total Outstanding"}),e.jsx("div",{className:"text-lg font-semibold text-red-600",children:s.total_outstanding?we(s.total_outstanding,"USD"):"USD 0.00"})]}),e.jsxs("div",{className:"bg-white p-4 border border-gray-200",children:[e.jsx("div",{className:"text-xs text-gray-600",children:"Outstanding"}),e.jsx("div",{className:"text-lg font-semibold text-red-600",children:s.outstanding_count||0})]}),e.jsxs("div",{className:"bg-white p-4 border border-gray-200",children:[e.jsx("div",{className:"text-xs text-gray-600",children:"Overdue"}),e.jsx("div",{className:"text-lg font-semibold text-red-800",children:s.overdue_count||0})]})]}),e.jsx("div",{className:"bg-white p-4 border border-gray-200 mb-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Search"}),e.jsx("input",{type:"text",value:m,onChange:Q,placeholder:"Search by supplier, description...",className:"w-full border border-gray-300 px-2 py-1 text-xs focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Status"}),e.jsxs("select",{value:x,onChange:ve,className:"w-full border border-gray-300 px-2 py-1 text-xs focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"",children:"All Status"}),e.jsx("option",{value:"outstanding",children:"Outstanding"}),e.jsx("option",{value:"partial",children:"Partial"}),e.jsx("option",{value:"paid",children:"Paid"}),e.jsx("option",{value:"overdue",children:"Overdue"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Page Size"}),e.jsxs("select",{value:j,onChange:le=>w(Number(le.target.value)),className:"w-full border border-gray-300 px-2 py-1 text-xs focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:10,children:"10"}),e.jsx("option",{value:20,children:"20"}),e.jsx("option",{value:50,children:"50"})]})]})]})}),e.jsx("div",{className:"mt-8 flex flex-col",children:e.jsx("div",{className:"-my-2 -mx-4 overflow-x-auto sm:-mx-6 lg:-mx-8",children:e.jsx("div",{className:"inline-block min-w-full py-2 align-middle md:px-6 lg:px-8",children:e.jsx("div",{className:"overflow-hidden border border-gray-200",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium tracking-wider",children:"Payable To"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium tracking-wider",children:"Description"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium tracking-wider",children:"Original Amount"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium tracking-wider",children:"Paid Amount"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium tracking-wider",children:"Outstanding"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium tracking-wider",children:"Status"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium tracking-wider",children:"Due Date"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:i?e.jsx("tr",{children:e.jsx("td",{colSpan:"8",className:"px-3 py-4 text-center text-xs text-gray-500",children:"Loading..."})}):r.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"8",className:"px-3 py-4 text-center text-xs text-gray-500",children:"No accounts payable found"})}):r.map(le=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:e.jsx("div",{className:"text-xs text-gray-900",children:le.payable_to||"Non-Supplier"})}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:e.jsx("div",{className:"text-xs text-gray-900",children:le.expense_description})}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:e.jsx("div",{className:"text-xs text-gray-900",children:we(le.original_amount,le.currency_code)})}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:e.jsx("div",{className:"text-xs text-gray-900",children:we(le.paid_amount,le.currency_code)})}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:e.jsx("div",{className:"text-xs text-gray-900 font-medium",children:we(le.outstanding_balance,le.currency_code)})}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:e.jsx("span",{className:`px-2 py-1 text-xs rounded ${Ae(le.status)}`,children:le.status})}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:e.jsx("div",{className:"text-xs text-gray-900",children:le.due_date||"Not set"})}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-xs font-medium",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>ne(le),className:"text-blue-600 hover:text-blue-900",title:"View Transactions",children:e.jsx(I,{icon:Fr,className:"h-3 w-3"})}),le.status!=="paid"&&e.jsx("button",{onClick:()=>ye(le),className:"text-green-600 hover:text-green-900",title:"Make Payment",children:"Pay"})]})})]},le.id))})]})})})})}),N>j&&e.jsxs("div",{className:"flex justify-between items-center mt-4",children:[e.jsxs("div",{className:"text-xs text-gray-600",children:["Showing ",(p-1)*j+1," to ",Math.min(p*j,N)," of ",N," results"]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>v(p-1),disabled:p===1,className:"px-3 py-1 text-xs text-gray-700 bg-gray-200 hover:bg-gray-300 disabled:opacity-50",children:"Previous"}),e.jsx("button",{onClick:()=>v(p+1),disabled:p*j>=N,className:"px-3 py-1 text-xs text-gray-700 bg-gray-200 hover:bg-gray-300 disabled:opacity-50",children:"Next"})]})]}),A&&T&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white p-6 w-full max-w-md",children:[e.jsx("h2",{className:"text-base font-semibold mb-4",children:"Make Payment"}),e.jsxs("form",{onSubmit:te,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Amount"}),e.jsx("input",{type:"number",value:E.amount,onChange:le=>O(xe=>({...xe,amount:le.target.value})),className:"w-full border border-gray-300 px-2 py-1 text-xs focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:!0,step:"0.01",max:T.outstanding_balance})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Payment Date"}),e.jsx("input",{type:"date",value:E.payment_date,onChange:le=>O(xe=>({...xe,payment_date:le.target.value})),className:"w-full border border-gray-300 px-2 py-1 text-xs focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Payment Method"}),e.jsxs("select",{value:E.payment_method,onChange:le=>O(xe=>({...xe,payment_method:le.target.value})),className:"w-full border border-gray-300 px-2 py-1 text-xs focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:!0,children:[e.jsx("option",{value:"cash",children:"Cash"}),e.jsx("option",{value:"bank",children:"Bank"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Description"}),e.jsx("input",{type:"text",value:E.description,onChange:le=>O(xe=>({...xe,description:le.target.value})),className:"w-full border border-gray-300 px-2 py-1 text-xs focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{type:"button",onClick:()=>D(!1),className:"px-4 py-1 text-xs text-gray-700 bg-gray-200 hover:bg-gray-300",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:$,className:"px-4 py-1 text-xs text-white bg-gray-900 hover:bg-gray-800",children:$?"Processing...":"Make Payment"})]})]})]})}),F&&q&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white p-6 w-full max-w-4xl max-h-[80vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-base font-semibold",children:"Transaction History"}),e.jsx("button",{onClick:()=>K(!1),className:"text-gray-500 hover:text-gray-700",children:"×"})]}),e.jsxs("div",{className:"mb-4 p-4 bg-gray-50",children:[e.jsx("h3",{className:"text-sm font-medium mb-2",children:"Payable Details"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-xs",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Payable To:"}),e.jsx("div",{className:"font-medium",children:q.payable_to||"Non-Supplier"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Description:"}),e.jsx("div",{className:"font-medium",children:q.expense_description})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Outstanding:"}),e.jsx("div",{className:"font-medium text-red-600",children:we(q.outstanding_balance,q.currency_code)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Status:"}),e.jsx("div",{className:"font-medium",children:e.jsx("span",{className:`px-2 py-1 text-xs rounded ${Ae(q.status)}`,children:q.status})})]})]})]}),X?e.jsx("div",{className:"text-center py-4",children:e.jsx("div",{className:"text-xs text-gray-500",children:"Loading transactions..."})}):V.length===0?e.jsx("div",{className:"text-center py-4",children:e.jsx("div",{className:"text-xs text-gray-500",children:"No transactions found"})}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium tracking-wider",children:"Payment Date"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium tracking-wider",children:"Amount Paid"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium tracking-wider",children:"Payment Method"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium tracking-wider",children:"Description"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium tracking-wider",children:"Status"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:V.map(le=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:e.jsx("div",{className:"text-xs text-gray-900",children:new Date(le.payment_date).toLocaleDateString()})}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:e.jsx("div",{className:"text-xs text-gray-900 font-medium",children:we(le.amount_paid,q.currency_code)})}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:e.jsx("div",{className:"text-xs text-gray-900 capitalize",children:le.payment_method})}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:e.jsx("div",{className:"text-xs text-gray-900",children:le.description||"N/A"})}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:e.jsx("span",{className:"px-2 py-1 text-xs rounded bg-green-100 text-green-800",children:le.status})})]},le.id))})]})})]})}),d&&e.jsx("div",{className:"mt-4 text-xs text-red-600",children:d})]})},jq=()=>{const{token:t}=et(),r=br(),[a,s]=g.useState([]),[n,i]=g.useState(!0),[o,d]=g.useState(""),[u,m]=g.useState("");g.useEffect(()=>{f()},[]);const f=async()=>{try{i(!0);const v=await de.get(`${ce}/classes/gradelevel-classes`,{headers:{Authorization:`Bearer ${t}`}});s(v.data.data||[])}catch(v){console.error("Error fetching classes:",v),d("Failed to fetch classes")}finally{i(!1)}},x=v=>{r(`/dashboard/results/view/${v}`)},b=v=>{r(`/dashboard/results/entry/${v}`)},p=a.filter(v=>v.name&&v.name.toLowerCase().includes(u.toLowerCase())||v.stream_name&&v.stream_name.toLowerCase().includes(u.toLowerCase()));return e.jsxs("div",{className:"p-2 md:p-4",children:[e.jsxs("div",{className:"mb-6 md:mb-8",children:[e.jsx("h1",{className:"text-lg md:text-xl font-bold text-gray-900 mb-2",children:"Results Management"}),e.jsx("p",{className:"text-sm text-gray-600",children:"View and manage student results by class"})]}),e.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 gap-4",children:e.jsx("div",{className:"flex-1 max-w-md w-full",children:e.jsxs("div",{className:"relative",children:[e.jsx(I,{icon:Vt,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-3 w-3"}),e.jsx("input",{type:"text",placeholder:"Search classes...",value:u,onChange:v=>m(v.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 text-xs focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]})})}),e.jsx("div",{className:"bg-white border border-gray-200 overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Class Name"}),e.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stage"}),e.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stream"}),e.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Capacity"}),e.jsx("th",{className:"px-2 py-2 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n?e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"px-2 py-4 text-center text-xs text-gray-500",children:"Loading..."})}):p.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"px-2 py-4 text-center text-xs text-gray-500",children:u?"No classes found matching your search":"No classes found"})}):p.map(v=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-2 py-2 whitespace-nowrap",children:e.jsx("div",{className:"text-xs font-bold text-gray-900",children:v.name})}),e.jsx("td",{className:"px-2 py-2 whitespace-nowrap",children:e.jsx("div",{className:"text-xs text-gray-900",children:v.stream_stage||"N/A"})}),e.jsx("td",{className:"px-2 py-2 whitespace-nowrap",children:e.jsx("div",{className:"text-xs text-gray-900",children:v.stream_name||"N/A"})}),e.jsx("td",{className:"px-2 py-2 whitespace-nowrap",children:e.jsx("div",{className:"text-xs text-gray-900",children:v.capacity||"Unlimited"})}),e.jsx("td",{className:"px-2 py-2 whitespace-nowrap text-center",children:e.jsxs("div",{className:"flex justify-center space-x-2",children:[e.jsx("button",{onClick:()=>x(v.id),className:"text-blue-600 hover:text-blue-900 p-1 rounded hover:bg-blue-50 transition-colors",title:"View Results",children:e.jsx(I,{icon:Fr,className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>b(v.id),className:"text-green-600 hover:text-green-900 p-1 rounded hover:bg-green-50 transition-colors",title:"Add Result",children:e.jsx(I,{icon:_t,className:"h-4 w-4"})})]})})]},v.id))})]})})}),o&&e.jsx("div",{className:"mt-4 text-xs text-red-600",children:o})]})},Nq=()=>{const{token:t}=et();br();const[r,a]=g.useState([]),[s,n]=g.useState(!0),[i,o]=g.useState(""),[d,u]=g.useState(""),[m,f]=g.useState(!1),[x,b]=g.useState(!1),[p,v]=g.useState(null),[j,w]=g.useState({grade:"",min_mark:"",max_mark:"",points:"",description:""}),[N,P]=g.useState(!1);g.useEffect(()=>{A()},[]);const A=async()=>{try{n(!0);const k=await de.get(`${ce}/results/grading`,{headers:{Authorization:`Bearer ${t}`}});a(k.data.data||[])}catch(k){console.error("Error fetching grading criteria:",k),o("Failed to fetch grading criteria")}finally{n(!1)}},D=async k=>{k.preventDefault(),P(!0);try{const Y={...j,min_mark:parseInt(j.min_mark),max_mark:parseInt(j.max_mark),points:parseInt(j.points)};await de.post(`${ce}/results/grading`,Y,{headers:{Authorization:`Bearer ${t}`}}),f(!1),w({grade:"",min_mark:"",max_mark:"",points:"",description:""}),A()}catch(Y){console.error("Error adding grading criterion:",Y),o("Failed to add grading criterion: "+(Y.response?.data?.message||Y.message))}finally{P(!1)}},T=async k=>{k.preventDefault(),P(!0);try{const Y={...j,min_mark:parseInt(j.min_mark),max_mark:parseInt(j.max_mark),points:parseInt(j.points)};await de.put(`${ce}/results/grading/${p.id}`,Y,{headers:{Authorization:`Bearer ${t}`}}),b(!1),v(null),w({grade:"",min_mark:"",max_mark:"",points:"",description:""}),A()}catch(Y){console.error("Error updating grading criterion:",Y),o("Failed to update grading criterion: "+(Y.response?.data?.message||Y.message))}finally{P(!1)}},R=async k=>{if(window.confirm(`Are you sure you want to delete grade "${k.grade}"?`))try{await de.delete(`${ce}/results/grading/${k.id}`,{headers:{Authorization:`Bearer ${t}`}}),A()}catch(Y){console.error("Error deleting grading criterion:",Y),o("Failed to delete grading criterion: "+(Y.response?.data?.message||Y.message))}},E=k=>{v(k),w({grade:k.grade,min_mark:k.min_mark.toString(),max_mark:k.max_mark.toString(),points:k.points.toString(),description:k.description||""}),b(!0)},O=r.filter(k=>k.grade.toLowerCase().includes(d.toLowerCase())||k.description&&k.description.toLowerCase().includes(d.toLowerCase()));return e.jsxs("div",{className:"p-2",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-base font-bold text-gray-900 mb-2",children:"Grading Criteria"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Manage grade ranges and points for automatic grade calculation"})]}),e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("div",{className:"flex-1 max-w-md",children:e.jsxs("div",{className:"relative",children:[e.jsx(I,{icon:Vt,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-3 w-3"}),e.jsx("input",{type:"text",placeholder:"Search grades...",value:d,onChange:k=>u(k.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 text-xs focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]})}),e.jsxs("button",{onClick:()=>f(!0),className:"ml-4 px-4 py-2 bg-gray-900 text-white text-xs hover:bg-gray-800 flex items-center",children:[e.jsx(I,{icon:_t,className:"mr-2 h-3 w-3"}),"Add Grade"]})]}),e.jsx("div",{className:"bg-white border border-gray-200 overflow-hidden",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Grade"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Mark Range"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Points"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s?e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"px-3 py-4 text-center text-xs text-gray-500",children:"Loading..."})}):O.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"px-3 py-4 text-center text-xs text-gray-500",children:d?"No grades found matching your search":"No grading criteria found"})}):O.map(k=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:e.jsx("div",{className:"text-xs font-bold text-gray-900",children:k.grade})}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:e.jsxs("div",{className:"text-xs text-gray-900",children:[k.min_mark," - ",k.max_mark]})}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:e.jsx("div",{className:"text-xs font-medium text-gray-900",children:k.points})}),e.jsx("td",{className:"px-3 py-2",children:e.jsx("div",{className:"text-xs text-gray-900",children:k.description||"No description"})}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${k.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:k.is_active?"Active":"Inactive"})}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-xs font-medium",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>E(k),className:"text-blue-600 hover:text-blue-900",title:"Edit Grade",children:e.jsx(I,{icon:lr,className:"h-3 w-3"})}),e.jsx("button",{onClick:()=>R(k),className:"text-red-600 hover:text-red-900",title:"Delete Grade",children:e.jsx(I,{icon:Mt,className:"h-3 w-3"})})]})})]},k.id))})]})}),m&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white p-6 w-full max-w-md rounded-lg",children:[e.jsx("h2",{className:"text-base font-semibold mb-4",children:"Add New Grade"}),e.jsxs("form",{onSubmit:D,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Grade *"}),e.jsx("input",{type:"text",value:j.grade,onChange:k=>w(Y=>({...Y,grade:k.target.value})),className:"w-full border border-gray-300 px-2 py-1 text-xs focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:!0,placeholder:"e.g., A, B, C, D, E, F"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Min Mark *"}),e.jsx("input",{type:"number",value:j.min_mark,onChange:k=>w(Y=>({...Y,min_mark:k.target.value})),className:"w-full border border-gray-300 px-2 py-1 text-xs focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:!0,min:"0",max:"100",placeholder:"0"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Max Mark *"}),e.jsx("input",{type:"number",value:j.max_mark,onChange:k=>w(Y=>({...Y,max_mark:k.target.value})),className:"w-full border border-gray-300 px-2 py-1 text-xs focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:!0,min:"0",max:"100",placeholder:"100"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Points *"}),e.jsx("input",{type:"number",value:j.points,onChange:k=>w(Y=>({...Y,points:k.target.value})),className:"w-full border border-gray-300 px-2 py-1 text-xs focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:!0,min:"0",placeholder:"e.g., 12 for A, 10 for B"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Description"}),e.jsx("textarea",{value:j.description,onChange:k=>w(Y=>({...Y,description:k.target.value})),className:"w-full border border-gray-300 px-2 py-1 text-xs focus:outline-none focus:ring-blue-500 focus:border-blue-500",rows:"2",placeholder:"Optional description (e.g., Excellent, Good, Pass)"})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{type:"button",onClick:()=>{f(!1),w({grade:"",min_mark:"",max_mark:"",points:"",description:""})},className:"px-4 py-1 text-xs text-gray-700 bg-gray-200 hover:bg-gray-300",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:N,className:"px-4 py-1 text-xs text-white bg-gray-900 hover:bg-gray-800 disabled:opacity-50",children:N?"Adding...":"Add Grade"})]})]})]})}),x&&p&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white p-6 w-full max-w-md rounded-lg",children:[e.jsx("h2",{className:"text-base font-semibold mb-4",children:"Edit Grade"}),e.jsxs("form",{onSubmit:T,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Grade *"}),e.jsx("input",{type:"text",value:j.grade,onChange:k=>w(Y=>({...Y,grade:k.target.value})),className:"w-full border border-gray-300 px-2 py-1 text-xs focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Min Mark *"}),e.jsx("input",{type:"number",value:j.min_mark,onChange:k=>w(Y=>({...Y,min_mark:k.target.value})),className:"w-full border border-gray-300 px-2 py-1 text-xs focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:!0,min:"0",max:"100"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Max Mark *"}),e.jsx("input",{type:"number",value:j.max_mark,onChange:k=>w(Y=>({...Y,max_mark:k.target.value})),className:"w-full border border-gray-300 px-2 py-1 text-xs focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:!0,min:"0",max:"100"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Points *"}),e.jsx("input",{type:"number",value:j.points,onChange:k=>w(Y=>({...Y,points:k.target.value})),className:"w-full border border-gray-300 px-2 py-1 text-xs focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:!0,min:"0"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Description"}),e.jsx("textarea",{value:j.description,onChange:k=>w(Y=>({...Y,description:k.target.value})),className:"w-full border border-gray-300 px-2 py-1 text-xs focus:outline-none focus:ring-blue-500 focus:border-blue-500",rows:"2"})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{type:"button",onClick:()=>{b(!1),v(null),w({grade:"",min_mark:"",max_mark:"",points:"",description:""})},className:"px-4 py-1 text-xs text-gray-700 bg-gray-200 hover:bg-gray-300",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:N,className:"px-4 py-1 text-xs text-white bg-gray-900 hover:bg-gray-800 disabled:opacity-50",children:N?"Updating...":"Update Grade"})]})]})]})}),i&&e.jsx("div",{className:"mt-4 text-xs text-red-600",children:i})]})},wq=()=>{const{token:t}=et(),{classId:r}=On(),a=br(),s=To(),n=s.state?.editMode||!1,i=s.state?.resultData||null,o=s.state?.studentId||null,[d,u]=g.useState(!1),[m,f]=g.useState(""),[x,b]=g.useState(""),[p,v]=g.useState(null),[j,w]=g.useState([]),[N,P]=g.useState([]),[A,D]=g.useState([]),[T,R]=g.useState(""),[E,O]=g.useState(""),[k,Y]=g.useState(""),[$,M]=g.useState(new Date().getFullYear().toString()),[F,K]=g.useState(""),[q,U]=g.useState([{name:"Paper 1",mark:""}]),[V,Z]=g.useState(!1);g.useEffect(()=>{r&&(X(),J(),be(),z())},[r]),g.useEffect(()=>{n&&i&&o&&(R(i.subject_class_id.toString()),O(o),Y(i.term),M(i.academic_year),re())},[n,i,o]);const X=async()=>{try{const le=await de.get(`${ce}/classes/gradelevel-classes/${r}`,{headers:{Authorization:`Bearer ${t}`}});v(le.data.data)}catch(le){console.error("Error fetching class info:",le)}},J=async()=>{try{const le=await de.get(`${ce}/classes/subject-classes?gradelevel_class_id=${r}`,{headers:{Authorization:`Bearer ${t}`}});w(le.data.data||[])}catch(le){console.error("Error fetching subjects:",le)}},be=async()=>{try{const le=await de.get(`${ce}/classes/gradelevel-classes/${r}/students`,{headers:{Authorization:`Bearer ${t}`}});P(le.data.data||[])}catch(le){console.error("Error fetching students:",le)}},z=async()=>{try{const le=await de.get(`${ce}/results/grading`,{headers:{Authorization:`Bearer ${t}`}});D(le.data.data||[])}catch(le){console.error("Error fetching grading criteria:",le)}},re=async()=>{try{const le=await de.get(`${ce}/results/coursework`,{headers:{Authorization:`Bearer ${t}`},params:{reg_number:o,subject_class_id:i.subject_class_id,gradelevel_class_id:r,term:i.term,academic_year:i.academic_year}});if(le.data.data&&le.data.data.length>0&&K(le.data.data[0].coursework_mark.toString()),i.paper_marks&&i.paper_marks.length>0){const xe=i.paper_marks.map(oe=>({name:oe.paper_name,mark:oe.mark.toString()}));U(xe)}}catch(le){console.error("Error loading existing data:",le)}},G=()=>{U([...q,{name:`Paper ${q.length+1}`,mark:""}])},Q=le=>{if(q.length>1){const xe=q.filter((oe,me)=>me!==le);U(xe)}},ve=(le,xe,oe)=>{const me=[...q];me[le][xe]=oe,U(me)},ye=()=>{const le=q.filter(me=>me.mark&&parseFloat(me.mark)>0);if(le.length===0)return 0;const oe=le.reduce((me,tt)=>me+(parseFloat(tt.mark)||0),0)/le.length;return Math.round(oe*100)/100},ne=le=>{const xe=A.find(oe=>le>=oe.min_mark&&le<=oe.max_mark);return xe?{grade:xe.grade,points:xe.points}:{grade:"N/A",points:0}},te=async()=>{if(console.log("=== VALIDATION CHECK ==="),console.log("selectedSubject:",T),console.log("selectedStudent:",E),console.log("selectedTerm:",k),console.log("selectedYear:",$),console.log("courseworkMark:",F),console.log("paperMarks:",q),console.log("editMode:",n),!T||!E||!k||!$){console.log("❌ VALIDATION FAILED - Missing required fields"),f("Please fill in all required fields");return}Z(!0);try{const le=ye(),xe=ne(le);if(console.log("=== CALCULATED VALUES ==="),console.log("totalMarks:",le),console.log("gradeInfo:",xe),n&&i){if(console.log("📝 UPDATING EXISTING RESULT"),F){const oe={reg_number:E,subject_class_id:T,gradelevel_class_id:r,term:k,academic_year:$,coursework_mark:parseFloat(F)};console.log("📝 UPDATING COURSEWORK:",oe),await de.post(`${ce}/results/coursework`,oe,{headers:{Authorization:`Bearer ${t}`}}),console.log("✅ Coursework updated successfully")}for(let oe=0;oe<q.length;oe++){const me=q[oe];if(me.mark){let tt=null;try{const rt={name:me.name,description:`${me.name} for ${T}`};console.log("📝 CREATING PAPER:",rt),tt=(await de.post(`${ce}/results/papers`,rt,{headers:{Authorization:`Bearer ${t}`}})).data.data.id,console.log("✅ Paper created successfully with ID:",tt)}catch{console.log("⚠️ Paper creation failed, trying to get existing paper");try{const pe=(await de.get(`${ce}/results/papers`,{headers:{Authorization:`Bearer ${t}`}})).data.data.find(Ie=>Ie.name===me.name);if(pe)tt=pe.id,console.log("✅ Found existing paper, ID:",tt);else{console.error("❌ Could not find or create paper");continue}}catch{console.error("❌ Could not get existing papers");continue}}if(tt){const rt={result_id:i.id,paper_id:tt,mark:parseFloat(me.mark)};console.log("📝 UPDATING PAPER MARK:",rt),await de.post(`${ce}/results/results/paper-mark`,rt,{headers:{Authorization:`Bearer ${t}`}}),console.log("✅ Paper mark updated successfully")}}else console.log("⚠️ Skipping empty paper mark:",me)}b("Result updated successfully!")}else{if(console.log("📝 CREATING NEW RESULT"),F){const rt={reg_number:E,subject_class_id:T,gradelevel_class_id:r,term:k,academic_year:$,coursework_mark:parseFloat(F)};console.log("📝 SAVING COURSEWORK:",rt),await de.post(`${ce}/results/coursework`,rt,{headers:{Authorization:`Bearer ${t}`}}),console.log("✅ Coursework saved successfully")}else console.log("⚠️ No coursework mark to save");const oe={reg_number:E,subject_class_id:T,gradelevel_class_id:r,term:k,academic_year:$};console.log("📝 SAVING MAIN RESULT:",oe);const me=await de.post(`${ce}/results/results`,oe,{headers:{Authorization:`Bearer ${t}`}});console.log("✅ Main result saved successfully");const tt=me.data.data.id;for(let rt=0;rt<q.length;rt++){const it=q[rt];if(it.mark){let pe=null;try{const Ie={name:it.name,description:`${it.name} for ${T}`};console.log("📝 CREATING PAPER:",Ie),pe=(await de.post(`${ce}/results/papers`,Ie,{headers:{Authorization:`Bearer ${t}`}})).data.data.id,console.log("✅ Paper created successfully with ID:",pe)}catch{console.log("⚠️ Paper creation failed, trying to get existing paper");try{const xt=(await de.get(`${ce}/results/papers`,{headers:{Authorization:`Bearer ${t}`}})).data.data.find(dt=>dt.name===it.name);if(xt)pe=xt.id,console.log("✅ Found existing paper, ID:",pe);else{console.error("❌ Could not find or create paper");continue}}catch{console.error("❌ Could not get existing papers");continue}}if(pe){const Ie={result_id:tt,paper_id:pe,mark:parseFloat(it.mark)};console.log("📝 SAVING PAPER MARK:",Ie),await de.post(`${ce}/results/results/paper-mark`,Ie,{headers:{Authorization:`Bearer ${t}`}}),console.log("✅ Paper mark saved successfully")}}else console.log("⚠️ Skipping empty paper mark:",it)}b("Result saved successfully!"),K(""),U([{name:"Paper 1",mark:""}]),O("")}setTimeout(()=>{a(`/dashboard/results/student/${r}/${E}`)},1500)}catch(le){console.error("❌ ERROR SAVING RESULT:",le),console.error("Error response:",le.response?.data),console.error("Error status:",le.response?.status),console.error("Error message:",le.message),f("Failed to save result: "+(le.response?.data?.message||le.message))}finally{Z(!1)}},Ae=ye(),we=ne(Ae);return e.jsxs("div",{className:"p-2",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-base font-bold text-gray-900 mb-2",children:n?"Edit Result":"Enter Results"}),p&&e.jsxs("p",{className:"text-sm text-gray-600",children:["Class: ",p.name," - ",p.stream_stage," - ",p.stream_name]})]}),e.jsxs("div",{className:"bg-white border border-gray-200 p-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Subject *"}),e.jsxs("select",{value:T,onChange:le=>R(le.target.value),className:"w-full border border-gray-300 px-2 py-1 text-xs focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:!0,children:[e.jsx("option",{value:"",children:"Select Subject"}),j.map(le=>e.jsx("option",{value:le.id,children:le.subject_name},le.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Student *"}),e.jsxs("select",{value:E,onChange:le=>O(le.target.value),className:"w-full border border-gray-300 px-2 py-1 text-xs focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:!0,children:[e.jsx("option",{value:"",children:"Select Student"}),N.map(le=>e.jsxs("option",{value:le.RegNumber,children:[le.Surname," ",le.Name," (",le.RegNumber,")"]},le.RegNumber))]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Term *"}),e.jsxs("select",{value:k,onChange:le=>Y(le.target.value),className:"w-full border border-gray-300 px-2 py-1 text-xs focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:!0,children:[e.jsx("option",{value:"",children:"Select Term"}),e.jsx("option",{value:"1",children:"Term 1"}),e.jsx("option",{value:"2",children:"Term 2"}),e.jsx("option",{value:"3",children:"Term 3"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Academic Year *"}),e.jsx("input",{type:"text",value:$,onChange:le=>M(le.target.value),className:"w-full border border-gray-300 px-2 py-1 text-xs focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:!0})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Coursework Mark"}),e.jsx("input",{type:"number",value:F,onChange:le=>K(le.target.value),className:"w-full border border-gray-300 px-2 py-1 text-xs focus:outline-none focus:ring-blue-500 focus:border-blue-500",min:"0",max:"100",step:"0.1",placeholder:"0"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("label",{className:"block text-xs text-gray-600",children:"Paper Marks"}),e.jsxs("button",{type:"button",onClick:G,className:"text-blue-600 hover:text-blue-900 text-xs flex items-center",children:[e.jsx(I,{icon:_t,className:"h-3 w-3 mr-1"}),"Add Paper"]})]}),e.jsx("div",{className:"space-y-2",children:q.map((le,xe)=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"text",value:le.name,onChange:oe=>ve(xe,"name",oe.target.value),className:"flex-1 border border-gray-300 px-2 py-1 text-xs focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Paper name"}),e.jsx("input",{type:"number",value:le.mark,onChange:oe=>ve(xe,"mark",oe.target.value),className:"w-20 border border-gray-300 px-2 py-1 text-xs focus:outline-none focus:ring-blue-500 focus:border-blue-500",min:"0",max:"100",step:"0.1",placeholder:"0"}),q.length>1&&e.jsx("button",{type:"button",onClick:()=>Q(xe),className:"text-red-600 hover:text-red-900",children:e.jsx(I,{icon:Mt,className:"h-3 w-3"})})]},xe))})]})]})]}),e.jsxs("div",{className:"mt-6 p-4 bg-gray-50 border border-gray-200",children:[e.jsx("h3",{className:"text-xs font-semibold text-gray-600 uppercase mb-2",children:"Summary"}),e.jsxs("div",{className:"grid grid-cols-4 gap-4 text-xs",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:"Coursework:"})," ",F||"N/A"]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:"Paper Average:"})," ",Ae]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:"Grade:"})," ",we.grade]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:"Points:"})," ",we.points]})]})]}),e.jsx("div",{className:"mt-6 flex justify-end",children:e.jsxs("button",{onClick:te,disabled:V||!T||!E||!k||!$,className:"px-4 py-2 bg-gray-900 text-white text-xs hover:bg-gray-800 disabled:opacity-50 flex items-center",children:[e.jsx(I,{icon:Dn,className:"mr-2 h-3 w-3"}),V?"Saving...":n?"Update Result":"Save Result"]})})]}),m&&e.jsx("div",{className:"mt-4 text-xs text-red-600",children:m}),x&&e.jsx("div",{className:"mt-4 text-xs text-green-600",children:x})]})},Sq=()=>{const{token:t}=et(),{classId:r}=On(),a=br(),[s,n]=g.useState(null),[i,o]=g.useState([]),[d,u]=g.useState(!0),[m,f]=g.useState("");g.useEffect(()=>{r&&(x(),b())},[r]);const x=async()=>{try{const N=await de.get(`${ce}/classes/gradelevel-classes/${r}`,{headers:{Authorization:`Bearer ${t}`}});n(N.data.data)}catch(N){console.error("Error fetching class info:",N)}},b=async()=>{try{u(!0);const P=(await de.get(`${ce}/classes/gradelevel-classes/${r}/students`,{headers:{Authorization:`Bearer ${t}`}})).data.data||[];if(P.length>0){const A=new Date().getFullYear(),D="1";try{const R=(await de.get(`${ce}/results/results/class-positions`,{headers:{Authorization:`Bearer ${t}`},params:{gradelevel_class_id:r,term:D,academic_year:A}})).data.data||[],E=P.map(O=>{const k=R.find(Y=>Y.RegNumber===O.RegNumber);return{...O,position:k?.position||"N/A",total_marks:k?.total_mark||"N/A",average:k?.average||"N/A",grade:k?.grade||"N/A"}});o(E)}catch{console.log("No position data available, showing students without positions"),o(P)}}else o([])}catch(N){console.error("Error fetching students:",N),f("Failed to fetch students")}finally{u(!1)}},p=N=>{a(`/dashboard/results/student/${r}/${N.RegNumber}`)},v=()=>{a(`/dashboard/results/entry/${r}`)},j=N=>N===1?e.jsx(I,{icon:Ld,className:"h-3 w-3 text-yellow-500"}):N===2?e.jsx(I,{icon:NC,className:"h-3 w-3 text-gray-400"}):N===3?e.jsx(I,{icon:EC,className:"h-3 w-3 text-orange-500"}):null,w=N=>N===1?"bg-yellow-100 text-yellow-800":N===2?"bg-gray-100 text-gray-800":N===3?"bg-orange-100 text-orange-800":N==="N/A"?"bg-gray-100 text-gray-600":"bg-blue-100 text-blue-800";return e.jsxs("div",{className:"p-2",children:[e.jsx("div",{className:"mb-6",children:e.jsx("h1",{className:"text-base font-bold text-gray-900 mb-2",children:"Class Results"})}),s&&e.jsx("div",{className:"bg-white border border-gray-200 p-4 mb-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xs font-semibold text-gray-600 uppercase",children:"Class Name"}),e.jsx("p",{className:"text-sm text-gray-900",children:s.name})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xs font-semibold text-gray-600 uppercase",children:"Stage"}),e.jsx("p",{className:"text-sm text-gray-900",children:s.stream_stage||"N/A"})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xs font-semibold text-gray-600 uppercase",children:"Stream"}),e.jsx("p",{className:"text-sm text-gray-900",children:s.stream_name||"N/A"})]})]})}),e.jsx("div",{className:"flex justify-end mb-6",children:e.jsxs("button",{onClick:v,className:"px-4 py-2 bg-gray-900 text-white text-xs hover:bg-gray-800 flex items-center",children:[e.jsx(I,{icon:_t,className:"mr-2 h-3 w-3"}),"Add Result"]})}),e.jsx("div",{className:"bg-white border border-gray-200 overflow-hidden",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Position"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Student Name"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Registration Number"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:d?e.jsx("tr",{children:e.jsx("td",{colSpan:"4",className:"px-3 py-4 text-center text-xs text-gray-500",children:"Loading..."})}):i.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"4",className:"px-3 py-4 text-center text-xs text-gray-500",children:"No students found in this class"})}):i.map((N,P)=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[N.position!=="N/A"&&j(N.position),e.jsx("span",{className:`ml-2 px-2 py-1 text-xs rounded-full ${w(N.position)}`,children:N.position!=="N/A"?N.position:"N/A"})]})}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:e.jsxs("div",{className:"text-xs font-bold text-gray-900",children:[N.Surname," ",N.Name]})}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:e.jsx("div",{className:"text-xs text-gray-900",children:N.RegNumber})}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-xs font-medium",children:e.jsx("button",{onClick:()=>p(N),className:"text-blue-600 hover:text-blue-900",title:"View Student Results",children:e.jsx(I,{icon:Fr,className:"h-3 w-3"})})})]},N.RegNumber))})]})}),m&&e.jsx("div",{className:"mt-4 text-xs text-red-600",children:m})]})},_q=()=>{const{token:t}=et(),{classId:r,studentId:a}=On(),s=br(),[n,i]=g.useState(null),[o,d]=g.useState(null),[u,m]=g.useState([]),[f,x]=g.useState(null),[b,p]=g.useState(null),[v,j]=g.useState([]),[w,N]=g.useState(!0),[P,A]=g.useState(""),[D,T]=g.useState(!1),[R,E]=g.useState(null);g.useEffect(()=>{r&&a&&(O(),k(),Y(),$(),F())},[r,a]),g.useEffect(()=>{n&&n.stream_id&&a&&M()},[n,a]);const O=async()=>{try{const X=await de.get(`${ce}/classes/gradelevel-classes/${r}`,{headers:{Authorization:`Bearer ${t}`}});i(X.data.data)}catch(X){console.error("Error fetching class info:",X)}},k=async()=>{try{const J=(await de.get(`${ce}/classes/gradelevel-classes/${r}/students`,{headers:{Authorization:`Bearer ${t}`}})).data.data.find(be=>be.RegNumber===a);J&&d(J)}catch(X){console.error("Error fetching student info:",X)}},Y=async()=>{try{N(!0);const X=new Date().getFullYear(),be=await de.get(`${ce}/results/results`,{headers:{Authorization:`Bearer ${t}`},params:{reg_number:a,gradelevel_class_id:r,term:"1",academic_year:X}});m(be.data.data||[])}catch(X){console.error("Error fetching student results:",X),A("Failed to fetch student results")}finally{N(!1)}},$=async()=>{try{const X=new Date().getFullYear(),re=((await de.get(`${ce}/results/results/class-positions`,{headers:{Authorization:`Bearer ${t}`},params:{gradelevel_class_id:r,term:"1",academic_year:X}})).data.data||[]).find(G=>G.RegNumber===a);re&&x(re)}catch(X){console.error("Error fetching student position:",X)}},M=async()=>{try{const X=new Date().getFullYear(),J="1";if(n&&n.stream_id){const re=((await de.get(`${ce}/results/results/stream-positions`,{headers:{Authorization:`Bearer ${t}`},params:{stream_id:n.stream_id,term:J,academic_year:X}})).data.data||[]).find(G=>G.RegNumber===a);re&&p(re)}}catch(X){console.error("Error fetching student stream position:",X)}},F=async()=>{try{const X=new Date().getFullYear(),be=await de.get(`${ce}/results/coursework`,{headers:{Authorization:`Bearer ${t}`},params:{reg_number:a,gradelevel_class_id:r,term:"1",academic_year:X}});j(be.data.data||[])}catch(X){console.error("Error fetching coursework marks:",X)}},K=X=>X===1?e.jsx(I,{icon:Ld,className:"h-3 w-3 text-yellow-500"}):X===2?e.jsx(I,{icon:NC,className:"h-3 w-3 text-gray-400"}):X===3?e.jsx(I,{icon:EC,className:"h-3 w-3 text-orange-500"}):null,q=X=>X===1?"bg-yellow-100 text-yellow-800":X===2?"bg-gray-100 text-gray-800":X===3?"bg-orange-100 text-orange-800":X==="N/A"?"bg-gray-100 text-gray-600":"bg-blue-100 text-blue-800",U=X=>{s(`/dashboard/results/entry/${r}`,{state:{editMode:!0,resultData:X,studentId:a}})},V=X=>{E(X),T(!0)},Z=async()=>{try{await de.delete(`${ce}/results/results/${R.id}`,{headers:{Authorization:`Bearer ${t}`}}),Y(),$(),M(),T(!1),E(null)}catch(X){console.error("Error deleting result:",X),A("Failed to delete result")}};return e.jsxs("div",{className:"p-2",children:[e.jsx("div",{className:"mb-6",children:e.jsx("h1",{className:"text-base font-bold text-gray-900 mb-2",children:"Student Results"})}),o&&e.jsx("div",{className:"bg-white border border-gray-200 p-4 mb-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xs font-semibold text-gray-600 uppercase",children:"Student Name"}),e.jsxs("p",{className:"text-sm text-gray-900",children:[o.Surname," ",o.Name]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xs font-semibold text-gray-600 uppercase",children:"Registration Number"}),e.jsx("p",{className:"text-sm text-gray-900",children:o.RegNumber})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xs font-semibold text-gray-600 uppercase",children:"Class"}),e.jsx("p",{className:"text-sm text-gray-900",children:n?.name})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xs font-semibold text-gray-600 uppercase",children:"Grade Level"}),e.jsx("p",{className:"text-sm text-gray-900",children:n?.stream_stage||"N/A"})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xs font-semibold text-gray-600 uppercase",children:"Stream"}),e.jsx("p",{className:"text-sm text-gray-900",children:n?.stream_name||"N/A"})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xs font-semibold text-gray-600 uppercase",children:"Gender"}),e.jsx("p",{className:"text-sm text-gray-900",children:o.Gender})]})]})}),e.jsx("div",{className:"bg-white border border-gray-200 p-4 mb-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xs font-semibold text-gray-600 uppercase",children:"Term"}),e.jsx("p",{className:"text-sm text-gray-900",children:"Term 1"})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xs font-semibold text-gray-600 uppercase",children:"Academic Year"}),e.jsx("p",{className:"text-sm text-gray-900",children:new Date().getFullYear()})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xs font-semibold text-gray-600 uppercase",children:"Class Position"}),e.jsx("p",{className:"text-sm text-gray-900",children:f?e.jsxs("span",{className:"flex items-center",children:[K(f.position),e.jsx("span",{className:`ml-2 px-2 py-1 text-xs rounded-full ${q(f.position)}`,children:f.position})]}):"N/A"})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xs font-semibold text-gray-600 uppercase",children:"Stream Position"}),e.jsx("p",{className:"text-sm text-gray-900",children:b?e.jsxs("span",{className:"flex items-center",children:[K(b.streamPosition),e.jsx("span",{className:`ml-2 px-2 py-1 text-xs rounded-full ${q(b.streamPosition)}`,children:b.streamPosition})]}):"N/A"})]})]})}),e.jsxs("div",{className:"bg-white border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"px-4 py-3 border-b border-gray-200",children:e.jsx("h2",{className:"text-sm font-semibold text-gray-900",children:"Subject Results"})}),w?e.jsx("div",{className:"px-4 py-8 text-center text-xs text-gray-500",children:"Loading results..."}):u.length===0?e.jsx("div",{className:"px-4 py-8 text-center text-xs text-gray-500",children:"No results found for this student"}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Subject"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Coursework"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Paper Marks"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Grade"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:u.map(X=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:e.jsx("div",{className:"text-xs font-medium text-gray-900",children:X.subject_name})}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:e.jsx("div",{className:"text-xs text-gray-900",children:(()=>{const J=v.find(be=>be.subject_class_id===X.subject_class_id);return J?J.coursework_mark:"N/A"})()})}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:e.jsx("div",{className:"text-xs text-gray-900",children:X.paper_marks&&X.paper_marks.length>0?e.jsx("div",{children:X.paper_marks.map((J,be)=>e.jsxs("div",{className:"text-xs",children:[J.paper_name,": ",J.mark]},be))}):"N/A"})}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:e.jsx("div",{className:"text-xs font-medium text-gray-900",children:X.total_mark||"N/A"})}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:e.jsx("div",{className:"text-xs font-medium text-gray-900",children:X.grade||"N/A"})}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-xs font-medium",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>U(X),className:"text-blue-600 hover:text-blue-900",title:"Edit Result",children:e.jsx(I,{icon:lr,className:"h-3 w-3"})}),e.jsx("button",{onClick:()=>V(X),className:"text-red-600 hover:text-red-900",title:"Delete Result",children:e.jsx(I,{icon:Mt,className:"h-3 w-3"})})]})})]},X.id))})]})})]}),P&&e.jsx("div",{className:"mt-4 text-xs text-red-600",children:P}),D&&R&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white p-6 w-full max-w-md",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"text-base font-semibold text-gray-900 mb-2",children:"Delete Result"}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Are you sure you want to delete the result for"," ",e.jsx("span",{className:"font-semibold",children:R.subject_name}),"?"]}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"This action cannot be undone."})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>{T(!1),E(null)},className:"px-4 py-2 text-xs bg-gray-300 text-gray-700 hover:bg-gray-400",children:"Cancel"}),e.jsx("button",{onClick:Z,className:"px-4 py-2 text-xs bg-red-600 text-white hover:bg-red-700",children:"Delete"})]})]})})]})},Aq=()=>{const{token:t}=et();br();const[r,a]=g.useState(!1),[s,n]=g.useState(""),[i,o]=g.useState(""),[d,u]=g.useState([]),[m,f]=g.useState([]),[x,b]=g.useState([]),[p,v]=g.useState([]),[j,w]=g.useState(""),[N,P]=g.useState(""),[A,D]=g.useState(""),[T,R]=g.useState(new Date().getFullYear().toString()),[E,O]=g.useState({}),[k,Y]=g.useState(!1);g.useEffect(()=>{$()},[]),g.useEffect(()=>{j&&(M(),F())},[j]),g.useEffect(()=>{j&&N&&A&&T&&K()},[j,N,A,T]);const $=async()=>{try{const Z=await de.get(`${ce}/classes/gradelevel-classes`,{headers:{Authorization:`Bearer ${t}`}});u(Z.data.data||[])}catch(Z){console.error("Error fetching classes:",Z)}},M=async()=>{try{const Z=await de.get(`${ce}/classes/subject-classes?gradelevel_class_id=${j}`,{headers:{Authorization:`Bearer ${t}`}});f(Z.data.data||[])}catch(Z){console.error("Error fetching subjects:",Z)}},F=async()=>{try{const Z=await de.get(`${ce}/classes/gradelevel-classes/${j}/students`,{headers:{Authorization:`Bearer ${t}`}});b(Z.data.data||[])}catch(Z){console.error("Error fetching students:",Z)}},K=async()=>{try{a(!0);const Z=await de.get(`${ce}/results/coursework`,{headers:{Authorization:`Bearer ${t}`},params:{gradelevel_class_id:j,subject_class_id:N,term:A,academic_year:T}});v(Z.data.data||[]);const X={};Z.data.data.forEach(J=>{X[J.reg_number]=J.coursework_mark}),O(X)}catch(Z){console.error("Error fetching coursework:",Z),n("Failed to fetch coursework")}finally{a(!1)}},q=(Z,X)=>{O(J=>({...J,[Z]:X}))},U=async()=>{Y(!0),n(""),o("");try{const Z=[];Object.keys(E).forEach(X=>{const J=E[X];J!==void 0&&J!==""&&Z.push(de.post(`${ce}/results/coursework`,{reg_number:X,subject_class_id:N,gradelevel_class_id:j,academic_year:T,term:A,coursework_mark:parseFloat(J)},{headers:{Authorization:`Bearer ${t}`}}))}),await Promise.all(Z),o("All coursework marks saved successfully!"),K()}catch(Z){console.error("Error saving coursework:",Z),n("Failed to save coursework: "+(Z.response?.data?.message||Z.message))}finally{Y(!1)}},V=async()=>{Y(!0),n(""),o("");try{const Z=[];if(x.forEach(X=>{const J=E[X.RegNumber];J!==void 0&&J!==""&&Z.push({reg_number:X.RegNumber,subject_class_id:N,gradelevel_class_id:j,academic_year:T,term:A,coursework_mark:parseFloat(J)})}),Z.length===0){n("No coursework marks to save");return}await de.post(`${ce}/results/coursework/bulk`,{coursework_data:Z},{headers:{Authorization:`Bearer ${t}`}}),o(`Successfully saved ${Z.length} coursework marks!`),K()}catch(Z){console.error("Error bulk saving coursework:",Z),n("Failed to save coursework: "+(Z.response?.data?.message||Z.message))}finally{Y(!1)}};return e.jsxs("div",{className:"p-2",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-base font-bold text-gray-900 mb-2",children:"Coursework Entry"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Enter mid-term coursework marks for students"})]}),e.jsx("div",{className:"bg-white p-4 border border-gray-200 mb-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Class"}),e.jsxs("select",{value:j,onChange:Z=>w(Z.target.value),className:"w-full border border-gray-300 px-2 py-1 text-xs focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"",children:"Select Class"}),d.map(Z=>e.jsx("option",{value:Z.id,children:Z.name},Z.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Subject"}),e.jsxs("select",{value:N,onChange:Z=>P(Z.target.value),className:"w-full border border-gray-300 px-2 py-1 text-xs focus:outline-none focus:ring-blue-500 focus:border-blue-500",disabled:!j,children:[e.jsx("option",{value:"",children:"Select Subject"}),m.map(Z=>e.jsx("option",{value:Z.id,children:Z.name},Z.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Term"}),e.jsxs("select",{value:A,onChange:Z=>D(Z.target.value),className:"w-full border border-gray-300 px-2 py-1 text-xs focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"",children:"Select Term"}),e.jsx("option",{value:"Term 1",children:"Term 1"}),e.jsx("option",{value:"Term 2",children:"Term 2"}),e.jsx("option",{value:"Term 3",children:"Term 3"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Academic Year"}),e.jsx("input",{type:"text",value:T,onChange:Z=>R(Z.target.value),className:"w-full border border-gray-300 px-2 py-1 text-xs focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., 2024"})]})]})}),j&&N&&A&&T&&e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:[e.jsxs("div",{className:"p-4 border-b border-gray-200 flex justify-between items-center",children:[e.jsxs("h2",{className:"text-sm font-semibold text-gray-900",children:["Coursework Entry - ",m.find(Z=>Z.id==N)?.name,"(",A," ",T,")"]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:U,disabled:k,className:"px-4 py-2 bg-green-600 text-white text-xs rounded hover:bg-green-700 disabled:opacity-50 flex items-center",children:[e.jsx(I,{icon:Dn,className:"mr-2 h-3 w-3"}),k?"Saving...":"Save Marks"]}),e.jsxs("button",{onClick:V,disabled:k,className:"px-4 py-2 bg-blue-600 text-white text-xs rounded hover:bg-blue-700 disabled:opacity-50 flex items-center",children:[e.jsx(I,{icon:_t,className:"mr-2 h-3 w-3"}),k?"Saving...":"Bulk Save"]})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Student"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Coursework Mark"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r?e.jsx("tr",{children:e.jsx("td",{colSpan:"3",className:"px-3 py-4 text-center text-xs text-gray-500",children:"Loading..."})}):x.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"3",className:"px-3 py-4 text-center text-xs text-gray-500",children:"No students found in this class"})}):x.map(Z=>{const X=p.find(J=>J.reg_number===Z.RegNumber);return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsxs("td",{className:"px-3 py-2 whitespace-nowrap",children:[e.jsxs("div",{className:"text-xs font-medium text-gray-900",children:[Z.Surname," ",Z.Name]}),e.jsx("div",{className:"text-xs text-gray-500",children:Z.RegNumber})]}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:e.jsx("input",{type:"number",min:"0",max:"100",step:"0.1",value:E[Z.RegNumber]||"",onChange:J=>q(Z.RegNumber,J.target.value),className:"w-20 border border-gray-300 px-2 py-1 text-xs focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"0"})}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${X?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:X?"Saved":"Not Saved"})})]},Z.RegNumber)})})]})})]}),s&&e.jsx("div",{className:"mt-4 text-xs text-red-600",children:s}),i&&e.jsx("div",{className:"mt-4 text-xs text-green-600",children:i})]})},z6=()=>{const[t,r]=g.useState([]),[a,s]=g.useState(!0),[n,i]=g.useState(!1),[o,d]=g.useState(!1),[u,m]=g.useState(null),[f,x]=g.useState(""),[b,p]=g.useState(""),{token:v}=et(),j=br(),[w,N]=g.useState({name:"",description:"",location:"",gender:"Mixed"});g.useEffect(()=>{P()},[]);const P=async()=>{try{s(!0);const O=await de.get(`${ce}/boarding/hostels`,{headers:{Authorization:`Bearer ${v}`}});console.log("Hostels API response:",O.data),console.log("Response data type:",typeof O.data),console.log("Is array:",Array.isArray(O.data)),Array.isArray(O.data)?r(O.data):O.data&&Array.isArray(O.data.data)?r(O.data.data):O.data&&O.data.hostels&&Array.isArray(O.data.hostels)?r(O.data.hostels):(console.warn("Unexpected response format, setting empty array"),r([]))}catch(O){console.error("Error fetching hostels:",O),p("Failed to load hostels"),r([])}finally{s(!1)}},A=async O=>{O.preventDefault();try{o?await de.put(`${ce}/boarding/hostels/${u.id}`,w,{headers:{Authorization:`Bearer ${v}`}}):await de.post(`${ce}/boarding/hostels`,w,{headers:{Authorization:`Bearer ${v}`}}),i(!1),d(!1),N({name:"",description:"",location:"",gender:"Male"}),P()}catch(k){console.error("Error saving hostel:",k),p("Failed to save hostel")}},D=O=>{m(O),N({name:O.name,description:O.description,location:O.location,gender:O.gender}),d(!0)},T=O=>{j(`/dashboard/boarding/hostel/${O.id}`)},R=async O=>{if(window.confirm("Are you sure you want to delete this hostel?"))try{await de.delete(`${ce}/boarding/hostels/${O.id}`,{headers:{Authorization:`Bearer ${v}`}}),P()}catch(k){console.error("Error deleting hostel:",k),p("Failed to delete hostel")}},E=(()=>{try{return Array.isArray(t)?t.filter(O=>O&&O.name&&O.name.toLowerCase().includes(f.toLowerCase())||O&&O.location&&O.location.toLowerCase().includes(f.toLowerCase())):(console.warn("Hostels is not an array:",t),[])}catch(O){return console.error("Error filtering hostels:",O),[]}})();return a?e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4 mb-4"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2 mb-6"}),e.jsx("div",{className:"space-y-3",children:[...Array(5)].map((O,k)=>e.jsx("div",{className:"h-12 bg-gray-200 rounded"},k))})]})}):e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"Hostels"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Manage boarding hostels and their details"})]}),e.jsxs("button",{onClick:()=>i(!0),className:"bg-gray-900 text-white px-3 py-1.5 flex items-center space-x-2 hover:bg-gray-800 text-xs font-medium",children:[e.jsx(I,{icon:_t}),e.jsx("span",{children:"Add Hostel"})]})]}),e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"relative",children:[e.jsx(I,{icon:Vt,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search hostels...",value:f,onChange:O=>x(O.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-200/30 focus:outline-none focus:ring-2 focus:ring-gray-500 text-xs"})]})}),b&&e.jsx("div",{className:"mb-4 p-4 bg-red-100 border border-red-400 text-red-700 text-xs",children:b}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full bg-white border border-gray-200/30",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Location"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Gender"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Rooms"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Capacity"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200/30",children:(E||[]).map((O,k)=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-xs font-medium text-gray-900",children:O?.name||"N/A"}),e.jsx("div",{className:"text-xs text-gray-500",children:O?.description||""})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-xs text-gray-900",children:O?.location||"N/A"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-xs text-gray-900",children:O?.gender||"N/A"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-xs text-gray-900",children:O?.total_rooms||0}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-xs text-gray-900",children:O?.total_capacity||0}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-xs font-medium",children:e.jsxs("div",{className:"flex space-x-1",children:[e.jsx("button",{onClick:()=>O&&T(O),className:"text-blue-600 hover:text-blue-900 p-1",disabled:!O,children:e.jsx(I,{icon:Fr,className:"h-3 w-3"})}),e.jsx("button",{onClick:()=>O&&D(O),className:"text-green-600 hover:text-green-900 p-1",disabled:!O,children:e.jsx(I,{icon:lr,className:"h-3 w-3"})}),e.jsx("button",{onClick:()=>O&&R(O),className:"text-red-600 hover:text-red-900 p-1",disabled:!O,children:e.jsx(I,{icon:Mt,className:"h-3 w-3"})})]})})]},O?.id||k))})]})}),(n||o)&&e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-30 overflow-y-auto h-full w-full z-50",children:e.jsx("div",{className:"relative top-20 mx-auto p-5 border w-3/4 max-w-4xl shadow-lg bg-white",children:e.jsxs("div",{className:"mt-3",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-4",children:o?"Edit Hostel":"Add New Hostel"}),e.jsxs("form",{onSubmit:A,children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Name"}),e.jsx("input",{type:"text",required:!0,value:w.name,onChange:O=>N({...w,name:O.target.value}),className:"mt-1 block w-full border border-gray-200/30 px-3 py-2 focus:outline-none focus:ring-gray-500 focus:border-gray-500 text-xs"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Description"}),e.jsx("textarea",{value:w.description,onChange:O=>N({...w,description:O.target.value}),rows:"3",className:"mt-1 block w-full border border-gray-200/30 px-3 py-2 focus:outline-none focus:ring-gray-500 focus:border-gray-500 text-xs"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Location"}),e.jsx("input",{type:"text",required:!0,value:w.location,onChange:O=>N({...w,location:O.target.value}),className:"mt-1 block w-full border border-gray-200/30 px-3 py-2 focus:outline-none focus:ring-gray-500 focus:border-gray-500 text-xs"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Gender"}),e.jsxs("select",{required:!0,value:w.gender,onChange:O=>N({...w,gender:O.target.value}),className:"mt-1 block w-full border border-gray-200/30 px-3 py-2 focus:outline-none focus:ring-gray-500 focus:border-gray-500 text-xs",children:[e.jsx("option",{value:"Male",children:"Male"}),e.jsx("option",{value:"Female",children:"Female"}),e.jsx("option",{value:"Mixed",children:"Mixed"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[e.jsx("button",{type:"button",onClick:()=>{i(!1),d(!1),N({name:"",description:"",location:"",gender:"Male"})},className:"px-3 py-1.5 border border-gray-300 text-xs font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-3 py-1.5 bg-gray-900 text-white text-xs font-medium hover:bg-gray-800",children:o?"Update":"Create"})]})]})]})})})]})},kq=()=>{const[t,r]=g.useState("hostels"),a=[{id:"hostels",name:"Hostels",icon:yn}],s=()=>{switch(t){case"hostels":return e.jsx(z6,{});default:return e.jsx(z6,{})}};return e.jsxs("div",{className:"px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"mb-6",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg font-bold text-gray-900",children:"Boarding Facilities"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Manage hostels, rooms, and student enrollments"})]})})}),e.jsx("div",{className:"mb-6",children:e.jsx("nav",{className:"flex space-x-8 border-b border-gray-200",children:a.map(n=>e.jsxs("button",{onClick:()=>r(n.id),className:`py-2 px-1 border-b-2 font-medium text-xs flex items-center ${t===n.id?"border-gray-700 text-gray-900":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(I,{icon:n.icon,className:"mr-2 h-3 w-3"}),n.name]},n.id))})}),e.jsx("div",{className:"min-h-96",children:s()})]})},Cq=()=>{const[t,r]=g.useState(null),[a,s]=g.useState(!0),[n,i]=g.useState(""),[o,d]=g.useState("rooms"),{token:u}=et(),{id:m}=On();br();const f=[{id:"rooms",name:"Rooms",icon:ag},{id:"enrollments",name:"Enrollments",icon:La},{id:"billing",name:"Billing",icon:_B}];g.useEffect(()=>{x()},[m]);const x=async()=>{try{s(!0);const p=await de.get(`${ce}/boarding/hostels/${m}`,{headers:{Authorization:`Bearer ${u}`}});r(p.data.data)}catch(p){console.error("Error fetching hostel:",p),i("Failed to load hostel details")}finally{s(!1)}},b=()=>{switch(o){case"rooms":return e.jsx(U6,{hostelId:m});case"enrollments":return e.jsx(Eq,{hostelId:m});case"billing":return e.jsx(Pq,{hostelId:m});default:return e.jsx(U6,{hostelId:m})}};return a?e.jsx("div",{className:"px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4 mb-4"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2 mb-6"}),e.jsx("div",{className:"space-y-3",children:[...Array(5)].map((p,v)=>e.jsx("div",{className:"h-12 bg-gray-200 rounded"},v))})]})}):n?e.jsx("div",{className:"px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"mb-4 p-4 bg-red-100 border border-red-400 text-red-700 text-xs",children:n})}):t?e.jsxs("div",{className:"px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"mb-6",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg font-bold text-gray-900",children:t.name}),e.jsx("p",{className:"text-xs text-gray-500",children:"Manage hostel details and operations"})]})})})}),e.jsxs("div",{className:"mb-6 bg-white border border-gray-200/30 p-4",children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Location"}),e.jsx("p",{className:"text-xs text-gray-900",children:t.location||"N/A"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Gender"}),e.jsx("p",{className:"text-xs text-gray-900",children:t.gender||"N/A"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Total Rooms"}),e.jsx("p",{className:"text-xs text-gray-900",children:t.total_rooms||0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Total Capacity"}),e.jsx("p",{className:"text-xs text-gray-900",children:t.total_capacity||0})]})]}),t.description&&e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Description"}),e.jsx("p",{className:"text-xs text-gray-900",children:t.description})]})]}),e.jsx("div",{className:"mb-6",children:e.jsx("nav",{className:"flex space-x-8 border-b border-gray-200",children:f.map(p=>e.jsxs("button",{onClick:()=>d(p.id),className:`py-2 px-1 border-b-2 font-medium text-xs flex items-center ${o===p.id?"border-gray-700 text-gray-900":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(I,{icon:p.icon,className:"mr-2 h-3 w-3"}),p.name]},p.id))})}),e.jsx("div",{className:"min-h-96",children:b()})]}):e.jsx("div",{className:"px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"mb-4 p-4 bg-yellow-100 border border-yellow-400 text-yellow-700 text-xs",children:"Hostel not found"})})},U6=({hostelId:t})=>{const[r,a]=g.useState([]),[s,n]=g.useState(!0),[i,o]=g.useState(!1),[d,u]=g.useState(!1),[m,f]=g.useState(!1),[x,b]=g.useState(null),[p,v]=g.useState(""),[j,w]=g.useState(""),{token:N}=et(),[P,A]=g.useState({room_number:"",room_type:"Single",floor_number:"",capacity:1,description:""});g.useEffect(()=>{D()},[t]);const D=async()=>{try{n(!0);const Y=await de.get(`${ce}/boarding/hostels/${t}/rooms`,{headers:{Authorization:`Bearer ${N}`}});Y.data&&Array.isArray(Y.data.data)?a(Y.data.data):a([])}catch(Y){console.error("Error fetching rooms:",Y),w("Failed to load rooms"),a([])}finally{n(!1)}},T=async Y=>{Y.preventDefault();try{d?await de.put(`${ce}/boarding/rooms/${x.id}`,P,{headers:{Authorization:`Bearer ${N}`}}):await de.post(`${ce}/boarding/rooms`,{...P,hostel_id:t},{headers:{Authorization:`Bearer ${N}`}}),o(!1),u(!1),A({room_number:"",room_type:"Single",floor_number:"",capacity:1,description:""}),D()}catch($){console.error("Error saving room:",$),w("Failed to save room")}},R=Y=>{b(Y),A({room_number:Y.room_number,room_type:Y.room_type,floor_number:Y.floor_number,capacity:Y.capacity,description:Y.description||""}),u(!0)},E=Y=>{b(Y),f(!0)},O=async Y=>{if(window.confirm("Are you sure you want to delete this room?"))try{await de.delete(`${ce}/boarding/rooms/${Y.id}`,{headers:{Authorization:`Bearer ${N}`}}),D()}catch($){console.error("Error deleting room:",$),w("Failed to delete room")}},k=r.filter(Y=>Y&&Y.room_number&&Y.room_number.toLowerCase().includes(p.toLowerCase())||Y&&Y.room_type&&Y.room_type.toLowerCase().includes(p.toLowerCase()));return s?e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4 mb-4"}),e.jsx("div",{className:"space-y-3",children:[...Array(5)].map((Y,$)=>e.jsx("div",{className:"h-12 bg-gray-200 rounded"},$))})]}):e.jsxs("div",{className:"bg-white border border-gray-200/30 p-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Rooms"}),e.jsxs("button",{onClick:()=>o(!0),className:"bg-gray-900 text-white px-3 py-1.5 text-xs font-medium hover:bg-gray-800",children:[e.jsx(I,{icon:_t,className:"mr-1"}),"Add Room"]})]}),e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"relative",children:[e.jsx(I,{icon:Vt,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search rooms...",value:p,onChange:Y=>v(Y.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-200/30 focus:outline-none focus:ring-2 focus:ring-gray-500 text-xs"})]})}),j&&e.jsx("div",{className:"mb-4 p-4 bg-red-100 border border-red-400 text-red-700 text-xs",children:j}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full bg-white border border-gray-200/30",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Room Number"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Floor"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Capacity"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Current Occupancy"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200/30",children:(k||[]).map((Y,$)=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-xs font-medium text-gray-900",children:Y?.room_number||"N/A"}),e.jsx("div",{className:"text-xs text-gray-500",children:Y?.description||""})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-xs text-gray-900",children:Y?.room_type||"N/A"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-xs text-gray-900",children:Y?.floor_number||"N/A"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-xs text-gray-900",children:Y?.capacity||0}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-xs text-gray-900",children:Y?.current_enrollments||0}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-xs font-medium",children:e.jsxs("div",{className:"flex space-x-1",children:[e.jsx("button",{onClick:()=>Y&&E(Y),className:"text-blue-600 hover:text-blue-900 p-1",disabled:!Y,children:e.jsx(I,{icon:Fr,className:"h-3 w-3"})}),e.jsx("button",{onClick:()=>Y&&R(Y),className:"text-green-600 hover:text-green-900 p-1",disabled:!Y,children:e.jsx(I,{icon:lr,className:"h-3 w-3"})}),e.jsx("button",{onClick:()=>Y&&O(Y),className:"text-red-600 hover:text-red-900 p-1",disabled:!Y,children:e.jsx(I,{icon:Mt,className:"h-3 w-3"})})]})})]},Y?.id||$))})]})}),(i||d)&&e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-30 overflow-y-auto h-full w-full z-50",children:e.jsx("div",{className:"relative top-20 mx-auto p-5 border w-3/4 max-w-4xl shadow-lg bg-white",children:e.jsxs("div",{className:"mt-3",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-4",children:d?"Edit Room":"Add New Room"}),e.jsxs("form",{onSubmit:T,children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Room Number"}),e.jsx("input",{type:"text",required:!0,value:P.room_number,onChange:Y=>A({...P,room_number:Y.target.value}),className:"mt-1 block w-full border border-gray-200/30 px-3 py-2 focus:outline-none focus:ring-gray-500 focus:border-gray-500 text-xs"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Room Type"}),e.jsxs("select",{required:!0,value:P.room_type,onChange:Y=>A({...P,room_type:Y.target.value}),className:"mt-1 block w-full border border-gray-200/30 px-3 py-2 focus:outline-none focus:ring-gray-500 focus:border-gray-500 text-xs",children:[e.jsx("option",{value:"Single",children:"Single"}),e.jsx("option",{value:"Double",children:"Double"}),e.jsx("option",{value:"Triple",children:"Triple"}),e.jsx("option",{value:"Quad",children:"Quad"}),e.jsx("option",{value:"Many",children:"Many"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Floor Number"}),e.jsx("input",{type:"number",required:!0,value:P.floor_number,onChange:Y=>A({...P,floor_number:Y.target.value}),className:"mt-1 block w-full border border-gray-200/30 px-3 py-2 focus:outline-none focus:ring-gray-500 focus:border-gray-500 text-xs"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Capacity"}),e.jsx("input",{type:"number",required:!0,min:"1",value:P.capacity,onChange:Y=>A({...P,capacity:parseInt(Y.target.value)}),className:"mt-1 block w-full border border-gray-200/30 px-3 py-2 focus:outline-none focus:ring-gray-500 focus:border-gray-500 text-xs"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Description"}),e.jsx("textarea",{value:P.description,onChange:Y=>A({...P,description:Y.target.value}),rows:"3",className:"mt-1 block w-full border border-gray-200/30 px-3 py-2 focus:outline-none focus:ring-gray-500 focus:border-gray-500 text-xs"})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[e.jsx("button",{type:"button",onClick:()=>{o(!1),u(!1),A({room_number:"",room_type:"Single",floor_number:"",capacity:1,description:""})},className:"px-3 py-1.5 border border-gray-300 text-xs font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-3 py-1.5 bg-gray-900 text-white text-xs font-medium hover:bg-gray-800",children:d?"Update":"Create"})]})]})]})})}),m&&x&&e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:e.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg bg-white",children:e.jsxs("div",{className:"mt-3",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-4",children:"Room Details"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Room Number"}),e.jsx("p",{className:"text-xs text-gray-900",children:x?.room_number||"N/A"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Room Type"}),e.jsx("p",{className:"text-xs text-gray-900",children:x?.room_type||"N/A"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Floor Number"}),e.jsx("p",{className:"text-xs text-gray-900",children:x?.floor_number||"N/A"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Capacity"}),e.jsx("p",{className:"text-xs text-gray-900",children:x?.capacity||0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Current Occupancy"}),e.jsx("p",{className:"text-xs text-gray-900",children:x?.current_enrollments||0})]}),x?.description&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Description"}),e.jsx("p",{className:"text-xs text-gray-900",children:x.description})]})]}),e.jsx("div",{className:"flex justify-end mt-6",children:e.jsx("button",{onClick:()=>f(!1),className:"px-3 py-1.5 bg-gray-900 text-white text-xs font-medium hover:bg-gray-800",children:"Close"})})]})})})]})},Eq=({hostelId:t})=>{const[r,a]=g.useState([]),[s,n]=g.useState([]),[i,o]=g.useState([]),[d,u]=g.useState(!0),[m,f]=g.useState(!1),[x,b]=g.useState(!1),[p,v]=g.useState(!1),[j,w]=g.useState(null),[N,P]=g.useState(""),[A,D]=g.useState(""),[T,R]=g.useState(""),[E,O]=g.useState(""),[k,Y]=g.useState(!1),{token:$}=et(),[M,F]=g.useState({student_reg_number:"",room_id:"",academic_year:"",term:"",enrollment_date:"",check_in_date:"",check_out_date:"",status:"enrolled",notes:""}),[K,q]=g.useState(""),[U,V]=g.useState(null);g.useEffect(()=>{X(),J(),Z()},[t]);const Z=g.useCallback(async()=>{try{u(!0);const xe=new URLSearchParams;A&&xe.append("term",A),T&&xe.append("academic_year",T);const oe=`${ce}/boarding/hostels/${t}/enrollments${xe.toString()?`?${xe.toString()}`:""}`,me=await de.get(oe,{headers:{Authorization:`Bearer ${$}`}});me.data&&Array.isArray(me.data.data)?a(me.data.data):a([])}catch(xe){console.error("Error fetching enrollments:",xe),O("Failed to load enrollments"),a([])}finally{u(!1)}},[t,A,T,$]),X=g.useCallback(async()=>{try{const xe=await de.get(`${ce}/students`,{headers:{Authorization:`Bearer ${$}`}});xe.data&&Array.isArray(xe.data.data)?n(xe.data.data):n([])}catch(xe){console.error("Error fetching students:",xe),n([])}},[$]),J=g.useCallback(async()=>{try{const xe=await de.get(`${ce}/boarding/hostels/${t}/rooms`,{headers:{Authorization:`Bearer ${$}`}});xe.data&&Array.isArray(xe.data.data)?o(xe.data.data):o([])}catch(xe){console.error("Error fetching rooms:",xe),o([])}},[t,$]),be=async xe=>{if(xe.preventDefault(),!M.student_reg_number){O("Student registration number is required");return}if(!M.room_id){O("Room selection is required");return}if(!M.academic_year){O("Academic year is required");return}if(!M.term){O("Term is required");return}if(!M.enrollment_date){O("Enrollment date is required");return}Y(!0),O("");try{const oe=x?M:{...M,hostel_id:t};if(console.log("Sending enrollment data:",oe),x)await de.put(`${ce}/boarding/enrollments/${j.id}`,M,{headers:{Authorization:`Bearer ${$}`}});else{const me=await de.post(`${ce}/boarding/enrollments`,oe,{headers:{Authorization:`Bearer ${$}`}});console.log("Enrollment response:",me.data)}f(!1),b(!1),F({student_reg_number:"",room_id:"",academic_year:"",term:"",enrollment_date:"",check_in_date:"",check_out_date:"",status:"enrolled",notes:""}),ne(),Z()}catch(oe){console.error("Error saving enrollment:",oe),oe.response&&oe.response.data&&oe.response.data.message?O(oe.response.data.message):O("Failed to save enrollment")}finally{Y(!1)}},z=xe=>{w(xe),F({student_reg_number:xe.student_reg_number,room_id:xe.room_id||"",academic_year:xe.academic_year,term:xe.term,enrollment_date:xe.enrollment_date,check_in_date:xe.check_in_date||"",check_out_date:xe.check_out_date||"",status:xe.status,notes:xe.notes||""}),b(!0)},re=xe=>{w(xe),v(!0)},G=async xe=>{if(window.confirm("Are you sure you want to delete this enrollment?"))try{await de.delete(`${ce}/boarding/enrollments/${xe.id}`,{headers:{Authorization:`Bearer ${$}`}}),Z()}catch(oe){console.error("Error deleting enrollment:",oe),O("Failed to delete enrollment")}},Q=async xe=>{try{await de.put(`${ce}/boarding/enrollments/${xe.id}/check-in`,{},{headers:{Authorization:`Bearer ${$}`}}),Z()}catch(oe){console.error("Error checking in student:",oe),O("Failed to check in student")}},ve=async xe=>{try{await de.put(`${ce}/boarding/enrollments/${xe.id}/check-out`,{},{headers:{Authorization:`Bearer ${$}`}}),Z()}catch(oe){console.error("Error checking out student:",oe),O("Failed to check out student")}},ye=()=>{const xe=s.find(oe=>oe.RegNumber===K);xe?(V(xe),F({...M,student_reg_number:xe.RegNumber})):(V(null),O("Student not found with this registration number"))},ne=()=>{q(""),V(null),F({...M,student_reg_number:""})},te=xe=>{const oe=s.find(me=>me.RegNumber===xe);return oe?`${oe.Name} ${oe.Surname}`:"Unknown Student"},Ae=xe=>{const oe=i.find(me=>me.id===xe);return oe?oe.room_number:"N/A"},we=xe=>{const oe={enrolled:"bg-blue-100 text-blue-800",checked_in:"bg-green-100 text-green-800",checked_out:"bg-yellow-100 text-yellow-800",cancelled:"bg-red-100 text-red-800"};return e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${oe[xe]||"bg-gray-100 text-gray-800"}`,children:xe.replace("_"," ").toUpperCase()})},le=r.filter(xe=>xe&&te(xe.student_reg_number).toLowerCase().includes(N.toLowerCase())||xe&&xe.status&&xe.status.toLowerCase().includes(N.toLowerCase()));return d?e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4 mb-4"}),e.jsx("div",{className:"space-y-3",children:[...Array(5)].map((xe,oe)=>e.jsx("div",{className:"h-12 bg-gray-200 rounded"},oe))})]}):e.jsxs("div",{className:"bg-white border border-gray-200/30 p-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Enrollments"}),e.jsxs("button",{onClick:()=>f(!0),className:"bg-gray-900 text-white px-3 py-1.5 text-xs font-medium hover:bg-gray-800",children:[e.jsx(I,{icon:_t,className:"mr-1"}),"Enroll Student"]})]}),e.jsxs("div",{className:"mb-6 space-y-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(I,{icon:Vt,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search enrollments...",value:N,onChange:xe=>P(xe.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-200/30 focus:outline-none focus:ring-2 focus:ring-gray-500 text-xs"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Academic Year"}),e.jsx("input",{type:"text",placeholder:"Enter year (e.g., 2025)",value:T,onChange:xe=>R(xe.target.value),className:"w-full border border-gray-200/30 px-3 py-2 focus:outline-none focus:ring-gray-500 focus:border-gray-500 text-xs"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Term"}),e.jsxs("select",{value:A,onChange:xe=>D(xe.target.value),className:"w-full border border-gray-200/30 px-3 py-2 focus:outline-none focus:ring-gray-500 focus:border-gray-500 text-xs",children:[e.jsx("option",{value:"",children:"All Terms"}),e.jsx("option",{value:"Term 1",children:"Term 1"}),e.jsx("option",{value:"Term 2",children:"Term 2"}),e.jsx("option",{value:"Term 3",children:"Term 3"})]})]}),e.jsx("div",{className:"flex items-end",children:e.jsxs("button",{onClick:Z,className:"w-full bg-gray-900 text-white px-3 py-2 text-xs font-medium hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-gray-500",children:[e.jsx(I,{icon:Vt,className:"mr-1"}),"Search"]})})]})]}),E&&e.jsx("div",{className:"mb-4 p-4 bg-red-100 border border-red-400 text-red-700 text-xs",children:E}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full bg-white border border-gray-200/30",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Student"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Room"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Academic Year"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Term"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200/30",children:(le||[]).map((xe,oe)=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-xs font-medium text-gray-900",children:te(xe?.student_reg_number)}),e.jsx("div",{className:"text-xs text-gray-500",children:xe?.student_reg_number})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-xs text-gray-900",children:Ae(xe?.room_id)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-xs text-gray-900",children:xe?.academic_year||"N/A"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-xs text-gray-900",children:xe?.term||"N/A"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-xs font-medium",children:we(xe?.status)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-xs font-medium",children:e.jsxs("div",{className:"flex space-x-1",children:[e.jsx("button",{onClick:()=>xe&&re(xe),className:"text-blue-600 hover:text-blue-900 p-1",disabled:!xe,children:e.jsx(I,{icon:Fr,className:"h-3 w-3"})}),e.jsx("button",{onClick:()=>xe&&z(xe),className:"text-green-600 hover:text-green-900 p-1",disabled:!xe,children:e.jsx(I,{icon:lr,className:"h-3 w-3"})}),xe?.status==="enrolled"&&e.jsx("button",{onClick:()=>xe&&Q(xe),className:"text-purple-600 hover:text-purple-900 p-1",disabled:!xe,title:"Check In",children:e.jsx(I,{icon:La,className:"h-3 w-3"})}),xe?.status==="checked_in"&&e.jsx("button",{onClick:()=>xe&&ve(xe),className:"text-orange-600 hover:text-orange-900 p-1",disabled:!xe,title:"Check Out",children:e.jsx(I,{icon:La,className:"h-3 w-3"})}),e.jsx("button",{onClick:()=>xe&&G(xe),className:"text-red-600 hover:text-red-900 p-1",disabled:!xe,children:e.jsx(I,{icon:Mt,className:"h-3 w-3"})})]})})]},xe?.id||oe))})]})}),(m||x)&&e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-30 overflow-y-auto h-full w-full z-50",children:e.jsx("div",{className:"relative top-20 mx-auto p-5 border w-3/4 max-w-4xl shadow-lg bg-white",children:e.jsxs("div",{className:"mt-3",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-4",children:x?"Edit Enrollment":"Enroll New Student"}),E&&e.jsx("div",{className:"mb-4 p-4 bg-red-100 border border-red-400 text-red-700 text-xs",children:E}),e.jsxs("form",{onSubmit:be,children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Student Registration Number"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("input",{type:"text",placeholder:"Enter registration number",value:K,onChange:xe=>q(xe.target.value),className:"flex-1 border border-gray-200/30 px-3 py-2 focus:outline-none focus:ring-gray-500 focus:border-gray-500 text-xs"}),e.jsx("button",{type:"button",onClick:ye,className:"bg-gray-900 text-white px-3 py-2 text-xs font-medium hover:bg-gray-800",children:"Search"})]}),U&&e.jsxs("div",{className:"mt-2 p-2 bg-green-50 border border-green-200 rounded",children:[e.jsxs("p",{className:"text-xs text-green-800",children:[e.jsx("strong",{children:"Found:"})," ",U.Name," ",U.Surname," (",U.RegNumber,")"]}),e.jsx("button",{type:"button",onClick:ne,className:"text-xs text-red-600 hover:text-red-800 mt-1",children:"Clear"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Room"}),e.jsxs("select",{value:M.room_id,onChange:xe=>F({...M,room_id:xe.target.value}),className:"mt-1 block w-full border border-gray-200/30 px-3 py-2 focus:outline-none focus:ring-gray-500 focus:border-gray-500 text-xs",children:[e.jsx("option",{value:"",children:"Select Room"}),i.map(xe=>e.jsxs("option",{value:xe.id,children:[xe.room_number," (",xe.room_type,") - ",xe.current_enrollments||0,"/",xe.capacity]},xe.id))]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Academic Year"}),e.jsx("input",{type:"text",required:!0,value:M.academic_year,onChange:xe=>F({...M,academic_year:xe.target.value}),placeholder:"e.g., 2025",className:"mt-1 block w-full border border-gray-200/30 px-3 py-2 focus:outline-none focus:ring-gray-500 focus:border-gray-500 text-xs"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Term"}),e.jsxs("select",{required:!0,value:M.term,onChange:xe=>F({...M,term:xe.target.value}),className:"mt-1 block w-full border border-gray-200/30 px-3 py-2 focus:outline-none focus:ring-gray-500 focus:border-gray-500 text-xs",children:[e.jsx("option",{value:"",children:"Select Term"}),e.jsx("option",{value:"Term 1",children:"Term 1"}),e.jsx("option",{value:"Term 2",children:"Term 2"}),e.jsx("option",{value:"Term 3",children:"Term 3"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Enrollment Date"}),e.jsx("input",{type:"date",required:!0,value:M.enrollment_date,onChange:xe=>F({...M,enrollment_date:xe.target.value}),className:"mt-1 block w-full border border-gray-200/30 px-3 py-2 focus:outline-none focus:ring-gray-500 focus:border-gray-500 text-xs"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Status"}),e.jsxs("select",{required:!0,value:M.status,onChange:xe=>F({...M,status:xe.target.value}),className:"mt-1 block w-full border border-gray-200/30 px-3 py-2 focus:outline-none focus:ring-gray-500 focus:border-gray-500 text-xs",children:[e.jsx("option",{value:"enrolled",children:"Enrolled"}),e.jsx("option",{value:"checked_in",children:"Checked In"}),e.jsx("option",{value:"checked_out",children:"Checked Out"}),e.jsx("option",{value:"cancelled",children:"Cancelled"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Check In Date"}),e.jsx("input",{type:"date",value:M.check_in_date,onChange:xe=>F({...M,check_in_date:xe.target.value}),className:"mt-1 block w-full border border-gray-200/30 px-3 py-2 focus:outline-none focus:ring-gray-500 focus:border-gray-500 text-xs"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Check Out Date"}),e.jsx("input",{type:"date",value:M.check_out_date,onChange:xe=>F({...M,check_out_date:xe.target.value}),className:"mt-1 block w-full border border-gray-200/30 px-3 py-2 focus:outline-none focus:ring-gray-500 focus:border-gray-500 text-xs"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Notes"}),e.jsx("textarea",{value:M.notes,onChange:xe=>F({...M,notes:xe.target.value}),rows:"3",className:"mt-1 block w-full border border-gray-200/30 px-3 py-2 focus:outline-none focus:ring-gray-500 focus:border-gray-500 text-xs"})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[e.jsx("button",{type:"button",onClick:()=>{f(!1),b(!1),F({student_reg_number:"",room_id:"",academic_year:"",term:"",enrollment_date:"",check_in_date:"",check_out_date:"",status:"enrolled",notes:""}),ne()},className:"px-3 py-1.5 border border-gray-300 text-xs font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:k,className:`px-3 py-1.5 text-xs font-medium ${k?"bg-gray-400 text-gray-200 cursor-not-allowed":"bg-gray-900 text-white hover:bg-gray-800"}`,children:k?e.jsxs(e.Fragment,{children:[e.jsx(I,{icon:an,className:"mr-1 animate-spin"}),x?"Updating...":"Enrolling..."]}):x?"Update":"Enroll"})]})]})]})})}),p&&j&&e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:e.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg bg-white",children:e.jsxs("div",{className:"mt-3",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-4",children:"Enrollment Details"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Student"}),e.jsx("p",{className:"text-xs text-gray-900",children:te(j?.student_reg_number)}),e.jsx("p",{className:"text-xs text-gray-500",children:j?.student_reg_number})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Room"}),e.jsx("p",{className:"text-xs text-gray-900",children:Ae(j?.room_id)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Academic Year"}),e.jsx("p",{className:"text-xs text-gray-900",children:j?.academic_year||"N/A"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Term"}),e.jsx("p",{className:"text-xs text-gray-900",children:j?.term||"N/A"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Status"}),e.jsx("div",{className:"mt-1",children:we(j?.status)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Enrollment Date"}),e.jsx("p",{className:"text-xs text-gray-900",children:j?.enrollment_date||"N/A"})]}),j?.check_in_date&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Check In Date"}),e.jsx("p",{className:"text-xs text-gray-900",children:j.check_in_date})]}),j?.check_out_date&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Check Out Date"}),e.jsx("p",{className:"text-xs text-gray-900",children:j.check_out_date})]}),j?.notes&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Notes"}),e.jsx("p",{className:"text-xs text-gray-900",children:j.notes})]})]}),e.jsx("div",{className:"flex justify-end mt-6",children:e.jsx("button",{onClick:()=>v(!1),className:"px-3 py-1.5 bg-gray-900 text-white text-xs font-medium hover:bg-gray-800",children:"Close"})})]})})})]})},Pq=({hostelId:t})=>{const[r,a]=g.useState([]),[s,n]=g.useState([]),[i,o]=g.useState(!0),[d,u]=g.useState(!1),[m,f]=g.useState(!1),[x,b]=g.useState(null),[p,v]=g.useState(""),{token:j}=et(),[w,N]=g.useState({term:"",academic_year:"",amount:"",currency_id:""});g.useEffect(()=>{P(),A()},[t]);const P=async()=>{try{o(!0),console.log("Fetching billing fees for hostel:",t),console.log("Request URL:",`${ce}/boarding/hostels/${t}/billing-fees`);const k=await de.get(`${ce}/boarding/hostels/${t}/billing-fees`,{headers:{Authorization:`Bearer ${j}`}});console.log("Billing fees response:",k.data),k.data&&Array.isArray(k.data.data)?a(k.data.data):a([])}catch(k){console.error("Error fetching billing fees:",k),console.error("Error details:",{message:k.message,status:k.response?.status,statusText:k.response?.statusText,data:k.response?.data,config:{url:k.config?.url,method:k.config?.method,headers:k.config?.headers}}),v("Failed to load billing fees"),a([])}finally{o(!1)}},A=async()=>{try{const k=await de.get(`${ce}/accounting/currencies`,{headers:{Authorization:`Bearer ${j}`}});k.data&&Array.isArray(k.data.data)?n(k.data.data):n([])}catch(k){console.error("Error fetching currencies:",k),n([])}},D=async k=>{k.preventDefault();try{m?await de.put(`${ce}/boarding/billing-fees/${x.id}`,w,{headers:{Authorization:`Bearer ${j}`}}):await de.post(`${ce}/boarding/billing-fees`,{...w,hostel_id:t},{headers:{Authorization:`Bearer ${j}`}}),u(!1),f(!1),N({term:"",academic_year:"",amount:"",currency_id:""}),P()}catch(Y){console.error("Error saving billing fee:",Y),Y.response&&Y.response.data&&Y.response.data.message?v(Y.response.data.message):v("Failed to save billing fee")}},T=k=>{b(k),N({term:k.term,academic_year:k.academic_year,amount:k.amount,currency_id:k.currency_id}),f(!0)},R=async k=>{if(window.confirm("Are you sure you want to delete this billing fee?"))try{await de.delete(`${ce}/boarding/billing-fees/${k.id}`,{headers:{Authorization:`Bearer ${j}`}}),P()}catch(Y){console.error("Error deleting billing fee:",Y),v("Failed to delete billing fee")}},E=k=>{const Y=s.find($=>$.id===k);return Y?Y.name:"N/A"},O=k=>{const Y=s.find($=>$.id===k);return Y?Y.symbol:""};return i?e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4 mb-4"}),e.jsx("div",{className:"space-y-3",children:[...Array(5)].map((k,Y)=>e.jsx("div",{className:"h-12 bg-gray-200 rounded"},Y))})]}):e.jsxs("div",{className:"bg-white border border-gray-200/30 p-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Billing & Fees"}),e.jsxs("button",{onClick:()=>u(!0),className:"bg-gray-900 text-white px-3 py-1.5 text-xs font-medium hover:bg-gray-800",children:[e.jsx(I,{icon:_t,className:"mr-1"}),"Add Billing"]})]}),p&&e.jsx("div",{className:"mb-4 p-4 bg-red-100 border border-red-400 text-red-700 text-xs",children:p}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full bg-white border border-gray-200/30",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Term"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Academic Year"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Currency"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200/30",children:(r||[]).map((k,Y)=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-xs text-gray-900",children:k?.term||"N/A"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-xs text-gray-900",children:k?.academic_year||"N/A"}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-xs text-gray-900",children:[O(k?.currency_id),k?.amount||0]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-xs text-gray-900",children:E(k?.currency_id)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-xs font-medium",children:e.jsxs("div",{className:"flex space-x-1",children:[e.jsx("button",{onClick:()=>k&&T(k),className:"text-green-600 hover:text-green-900 p-1",disabled:!k,children:e.jsx(I,{icon:lr,className:"h-3 w-3"})}),e.jsx("button",{onClick:()=>k&&R(k),className:"text-red-600 hover:text-red-900 p-1",disabled:!k,children:e.jsx(I,{icon:Mt,className:"h-3 w-3"})})]})})]},k?.id||Y))})]})}),(d||m)&&e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-30 overflow-y-auto h-full w-full z-50",children:e.jsx("div",{className:"relative top-20 mx-auto p-5 border w-3/4 max-w-4xl shadow-lg bg-white",children:e.jsxs("div",{className:"mt-3",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-4",children:m?"Edit Fee Structure":"Add New Fee Structure"}),p&&e.jsx("div",{className:"mb-4 p-4 bg-red-100 border border-red-400 text-red-700 text-xs",children:p}),e.jsxs("form",{onSubmit:D,children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Term"}),e.jsxs("select",{required:!0,value:w.term,onChange:k=>N({...w,term:k.target.value}),className:"mt-1 block w-full border border-gray-200/30 px-3 py-2 focus:outline-none focus:ring-gray-500 focus:border-gray-500 text-xs",children:[e.jsx("option",{value:"",children:"Select Term"}),e.jsx("option",{value:"Term 1",children:"Term 1"}),e.jsx("option",{value:"Term 2",children:"Term 2"}),e.jsx("option",{value:"Term 3",children:"Term 3"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Academic Year"}),e.jsx("input",{type:"text",required:!0,value:w.academic_year,onChange:k=>N({...w,academic_year:k.target.value}),placeholder:"e.g., 2025",className:"mt-1 block w-full border border-gray-200/30 px-3 py-2 focus:outline-none focus:ring-gray-500 focus:border-gray-500 text-xs"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Amount"}),e.jsx("input",{type:"number",required:!0,min:"0",step:"0.01",value:w.amount,onChange:k=>N({...w,amount:k.target.value}),placeholder:"0.00",className:"mt-1 block w-full border border-gray-200/30 px-3 py-2 focus:outline-none focus:ring-gray-500 focus:border-gray-500 text-xs"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Currency"}),e.jsxs("select",{required:!0,value:w.currency_id,onChange:k=>N({...w,currency_id:k.target.value}),className:"mt-1 block w-full border border-gray-200/30 px-3 py-2 focus:outline-none focus:ring-gray-500 focus:border-gray-500 text-xs",children:[e.jsx("option",{value:"",children:"Select Currency"}),s.map(k=>e.jsxs("option",{value:k.id,children:[k.name," (",k.symbol,")"]},k.id))]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[e.jsx("button",{type:"button",onClick:()=>{u(!1),f(!1),N({term:"",academic_year:"",amount:"",currency_id:""})},className:"px-3 py-1.5 border border-gray-300 text-xs font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-3 py-1.5 bg-gray-900 text-white text-xs font-medium hover:bg-gray-800",children:m?"Update":"Create"})]})]})]})})})]})},Tq=()=>{const[t,r]=g.useState([]),[a,s]=g.useState([]),[n,i]=g.useState([]),[o,d]=g.useState([]),[u,m]=g.useState(!0),[f,x]=g.useState(!1),[b,p]=g.useState(!1),[v,j]=g.useState(!1),[w,N]=g.useState(null),[P,A]=g.useState(""),[D,T]=g.useState(""),{token:R}=et(),[E,O]=g.useState({student_id:"",hostel_id:"",room_id:"",academic_year:"",term:"",enrollment_date:"",check_in_date:"",check_out_date:"",status:"ACTIVE"});g.useEffect(()=>{k(),Y(),$()},[]);const k=async()=>{try{m(!0);const G=await de.get("/api/boarding/enrollments",{headers:{Authorization:`Bearer ${R}`}});console.log("Enrollments API response:",G.data),Array.isArray(G.data)?r(G.data):G.data&&Array.isArray(G.data.data)?r(G.data.data):G.data&&G.data.enrollments&&Array.isArray(G.data.enrollments)?r(G.data.enrollments):(console.warn("Unexpected response format, setting empty array"),r([]))}catch(G){console.error("Error fetching enrollments:",G),T("Failed to load enrollments"),r([])}finally{m(!1)}},Y=async()=>{try{const G=await de.get("/api/students",{headers:{Authorization:`Bearer ${R}`}});console.log("Students API response:",G.data),Array.isArray(G.data)?s(G.data):G.data&&Array.isArray(G.data.data)?s(G.data.data):G.data&&G.data.students&&Array.isArray(G.data.students)?s(G.data.students):(console.warn("Unexpected students response format, setting empty array"),s([]))}catch(G){console.error("Error fetching students:",G),s([])}},$=async()=>{try{const G=await de.get("/api/boarding/hostels",{headers:{Authorization:`Bearer ${R}`}});console.log("Hostels for enrollments API response:",G.data),Array.isArray(G.data)?i(G.data):G.data&&Array.isArray(G.data.data)?i(G.data.data):G.data&&G.data.hostels&&Array.isArray(G.data.hostels)?i(G.data.hostels):(console.warn("Unexpected hostels response format, setting empty array"),i([]))}catch(G){console.error("Error fetching hostels:",G),i([])}},M=async G=>{try{const Q=await de.get(`/api/boarding/rooms/available/${G}`,{headers:{Authorization:`Bearer ${R}`}});console.log("Rooms for enrollments API response:",Q.data),Array.isArray(Q.data)?d(Q.data):Q.data&&Array.isArray(Q.data.data)?d(Q.data.data):Q.data&&Q.data.rooms&&Array.isArray(Q.data.rooms)?d(Q.data.rooms):(console.warn("Unexpected rooms response format, setting empty array"),d([]))}catch(Q){console.error("Error fetching rooms:",Q),d([])}},F=async G=>{G.preventDefault();try{b?await de.put(`/api/boarding/enrollments/${w.id}`,E,{headers:{Authorization:`Bearer ${R}`}}):await de.post("/api/boarding/enrollments",E,{headers:{Authorization:`Bearer ${R}`}}),x(!1),p(!1),O({student_id:"",hostel_id:"",room_id:"",academic_year:"",term:"",enrollment_date:"",check_in_date:"",check_out_date:"",status:"ACTIVE"}),k()}catch(Q){console.error("Error saving enrollment:",Q),T("Failed to save enrollment")}},K=G=>{N(G),O({student_id:G.student_id,hostel_id:G.hostel_id,room_id:G.room_id,academic_year:G.academic_year,term:G.term,enrollment_date:G.enrollment_date,check_in_date:G.check_in_date,check_out_date:G.check_out_date,status:G.status}),p(!0)},q=G=>{N(G),j(!0)},U=async G=>{if(window.confirm("Are you sure you want to cancel this enrollment?"))try{await de.delete(`/api/boarding/enrollments/${G.id}`,{headers:{Authorization:`Bearer ${R}`}}),k()}catch(Q){console.error("Error deleting enrollment:",Q),T("Failed to cancel enrollment")}},V=async G=>{try{await de.post(`/api/boarding/enrollments/${G.id}/checkin`,{},{headers:{Authorization:`Bearer ${R}`}}),k()}catch(Q){console.error("Error checking in student:",Q),T("Failed to check in student")}},Z=async G=>{try{await de.post(`/api/boarding/enrollments/${G.id}/checkout`,{},{headers:{Authorization:`Bearer ${R}`}}),k()}catch(Q){console.error("Error checking out student:",Q),T("Failed to check out student")}},X=G=>{const Q=(a||[]).find(ve=>ve.id===G);return Q?`${Q.Name} ${Q.Surname}`:"Unknown Student"},J=G=>{const Q=(n||[]).find(ve=>ve.id===G);return Q?Q.name:"Unknown Hostel"},be=G=>{const Q=(o||[]).find(ve=>ve.id===G);return Q?Q.room_number:"Unknown Room"},z=G=>{const Q={ACTIVE:{bg:"bg-green-100",text:"text-green-800",label:"Active"},CHECKED_IN:{bg:"bg-blue-100",text:"text-blue-800",label:"Checked In"},CHECKED_OUT:{bg:"bg-yellow-100",text:"text-yellow-800",label:"Checked Out"},CANCELLED:{bg:"bg-red-100",text:"text-red-800",label:"Cancelled"}},ve=Q[G]||Q.ACTIVE;return e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${ve.bg} ${ve.text}`,children:ve.label})},re=(()=>{try{return Array.isArray(t)?t.filter(G=>G&&X(G.student_id).toLowerCase().includes(P.toLowerCase())||G&&J(G.hostel_id).toLowerCase().includes(P.toLowerCase())):(console.warn("Enrollments is not an array:",t),[])}catch(G){return console.error("Error filtering enrollments:",G),[]}})();return u?e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4 mb-4"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2 mb-6"}),e.jsx("div",{className:"space-y-3",children:[...Array(5)].map((G,Q)=>e.jsx("div",{className:"h-12 bg-gray-200 rounded"},Q))})]})}):e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-2xl font-semibold text-gray-800",children:"Boarding Enrollments"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Manage student enrollments in boarding facilities"})]}),e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Enrollments"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Manage student enrollments in boarding facilities"})]}),e.jsxs("button",{onClick:()=>x(!0),className:"bg-gray-900 text-white px-4 py-2 rounded flex items-center space-x-2 hover:bg-gray-800",children:[e.jsx(I,{icon:_t}),e.jsx("span",{children:"Enroll Student"})]})]}),e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"relative",children:[e.jsx(I,{icon:Vt,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search enrollments...",value:P,onChange:G=>A(G.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"})]})}),D&&e.jsx("div",{className:"mb-4 p-4 bg-red-100 border border-red-400 text-red-700 rounded",children:D}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full bg-white",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Student"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Hostel"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Room"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Academic Year"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Term"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:(re||[]).map((G,Q)=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:X(G?.student_id)}),e.jsxs("div",{className:"text-sm text-gray-500",children:["Enrolled: ",G?.enrollment_date?new Date(G.enrollment_date).toLocaleDateString():"N/A"]})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:J(G?.hostel_id)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:be(G?.room_id)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:G?.academic_year||"N/A"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:G?.term||"N/A"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:z(G?.status)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>G&&q(G),className:"text-blue-600 hover:text-blue-900",disabled:!G,children:e.jsx(I,{icon:Fr})}),e.jsx("button",{onClick:()=>G&&K(G),className:"text-green-600 hover:text-green-900",disabled:!G,children:e.jsx(I,{icon:lr})}),G?.status==="ACTIVE"&&e.jsx("button",{onClick:()=>G&&V(G),className:"text-blue-600 hover:text-blue-900",title:"Check In",disabled:!G,children:e.jsx(I,{icon:ZF})}),G?.status==="CHECKED_IN"&&e.jsx("button",{onClick:()=>G&&Z(G),className:"text-yellow-600 hover:text-yellow-900",title:"Check Out",disabled:!G,children:e.jsx(I,{icon:K2})}),e.jsx("button",{onClick:()=>G&&U(G),className:"text-red-600 hover:text-red-900",disabled:!G,children:e.jsx(I,{icon:Mt})})]})})]},G?.id||Q))})]})}),(f||b)&&e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:e.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:e.jsxs("div",{className:"mt-3",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:b?"Edit Enrollment":"Enroll Student"}),e.jsxs("form",{onSubmit:F,children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Student"}),e.jsxs("select",{required:!0,value:E.student_id,onChange:G=>O({...E,student_id:G.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"",children:"Select Student"}),(a||[]).map(G=>e.jsxs("option",{value:G.id,children:[G.Name," ",G.Surname]},G.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Hostel"}),e.jsxs("select",{required:!0,value:E.hostel_id,onChange:G=>{O({...E,hostel_id:G.target.value,room_id:""}),G.target.value&&M(G.target.value)},className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"",children:"Select Hostel"}),(n||[]).map(G=>e.jsx("option",{value:G.id,children:G.name},G.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Room"}),e.jsxs("select",{required:!0,value:E.room_id,onChange:G=>O({...E,room_id:G.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"",children:"Select Room"}),(o||[]).map(G=>e.jsxs("option",{value:G.id,children:[G.room_number," (",G.room_type,")"]},G.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Academic Year"}),e.jsx("input",{type:"text",required:!0,value:E.academic_year,onChange:G=>O({...E,academic_year:G.target.value}),placeholder:"e.g., 2024-2025",className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Term"}),e.jsxs("select",{required:!0,value:E.term,onChange:G=>O({...E,term:G.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"",children:"Select Term"}),e.jsx("option",{value:"Term 1",children:"Term 1"}),e.jsx("option",{value:"Term 2",children:"Term 2"}),e.jsx("option",{value:"Term 3",children:"Term 3"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Enrollment Date"}),e.jsx("input",{type:"date",required:!0,value:E.enrollment_date,onChange:G=>O({...E,enrollment_date:G.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),e.jsxs("select",{required:!0,value:E.status,onChange:G=>O({...E,status:G.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"ACTIVE",children:"Active"}),e.jsx("option",{value:"CHECKED_IN",children:"Checked In"}),e.jsx("option",{value:"CHECKED_OUT",children:"Checked Out"}),e.jsx("option",{value:"CANCELLED",children:"Cancelled"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[e.jsx("button",{type:"button",onClick:()=>{x(!1),p(!1),O({student_id:"",hostel_id:"",room_id:"",academic_year:"",term:"",enrollment_date:"",check_in_date:"",check_out_date:"",status:"ACTIVE"})},className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-gray-900 text-white rounded-md text-sm font-medium hover:bg-gray-800",children:b?"Update":"Enroll"})]})]})]})})}),v&&w&&e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:e.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:e.jsxs("div",{className:"mt-3",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Enrollment Details"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Student"}),e.jsx("p",{className:"text-sm text-gray-900",children:X(w?.student_id)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Hostel"}),e.jsx("p",{className:"text-sm text-gray-900",children:J(w?.hostel_id)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Room"}),e.jsx("p",{className:"text-sm text-gray-900",children:be(w?.room_id)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Academic Year"}),e.jsx("p",{className:"text-sm text-gray-900",children:w?.academic_year||"N/A"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Term"}),e.jsx("p",{className:"text-sm text-gray-900",children:w?.term||"N/A"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Enrollment Date"}),e.jsx("p",{className:"text-sm text-gray-900",children:w?.enrollment_date?new Date(w.enrollment_date).toLocaleDateString():"N/A"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),e.jsx("div",{className:"mt-1",children:z(w?.status)})]}),w?.check_in_date&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Check In Date"}),e.jsx("p",{className:"text-sm text-gray-900",children:new Date(w.check_in_date).toLocaleDateString()})]}),w?.check_out_date&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Check Out Date"}),e.jsx("p",{className:"text-sm text-gray-900",children:new Date(w.check_out_date).toLocaleDateString()})]})]}),e.jsx("div",{className:"flex justify-end mt-6",children:e.jsx("button",{onClick:()=>j(!1),className:"px-4 py-2 bg-gray-900 text-white rounded-md text-sm font-medium hover:bg-gray-800",children:"Close"})})]})})})]})},Bx=({isOpen:t,onClose:r,message:a})=>t?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white p-4 w-full max-w-md mx-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(I,{icon:aa,className:"text-green-500 text-lg mr-2"}),e.jsx("h2",{className:"text-base font-bold text-gray-900",children:"Success"})]}),e.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600",children:e.jsx(I,{icon:Br,className:"text-xs"})})]}),e.jsx("p",{className:"text-xs text-gray-600 mb-4",children:a}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{onClick:r,className:"px-3 py-1.5 bg-gray-900 text-white rounded text-xs hover:bg-gray-800",children:"OK"})})]})}):null,$f=({isOpen:t,onClose:r,message:a})=>t?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white p-4 w-full max-w-md mx-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(I,{icon:ur,className:"text-red-500 text-lg mr-2"}),e.jsx("h2",{className:"text-base font-bold text-gray-900",children:"Error"})]}),e.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600",children:e.jsx(I,{icon:Br,className:"text-xs"})})]}),e.jsx("p",{className:"text-xs text-gray-600 mb-4",children:a}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{onClick:r,className:"px-3 py-1.5 bg-gray-900 text-white rounded text-xs hover:bg-gray-800",children:"OK"})})]})}):null,Oq="modulepreload",Dq=function(t){return"/"+t},q6={},_v=function(r,a,s){let n=Promise.resolve();if(a&&a.length>0){let u=function(m){return Promise.all(m.map(f=>Promise.resolve(f).then(x=>({status:"fulfilled",value:x}),x=>({status:"rejected",reason:x}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),d=o?.nonce||o?.getAttribute("nonce");n=u(a.map(m=>{if(m=Dq(m),m in q6)return;q6[m]=!0;const f=m.endsWith(".css"),x=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${x}`))return;const b=document.createElement("link");if(b.rel=f?"stylesheet":Oq,f||(b.as="script"),b.crossOrigin="",b.href=m,d&&b.setAttribute("nonce",d),document.head.appendChild(b),f)return new Promise((p,v)=>{b.addEventListener("load",p),b.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${m}`)))})}))}function i(o){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=o,window.dispatchEvent(d),!d.defaultPrevented)throw o}return n.then(o=>{for(const d of o||[])d.status==="rejected"&&i(d.reason);return r().catch(i)})};function Gr(t){"@babel/helpers - typeof";return Gr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Gr(t)}var ql=Uint8Array,_i=Uint16Array,SN=Int32Array,_N=new ql([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),AN=new ql([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),H6=new ql([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),u9=function(t,r){for(var a=new _i(31),s=0;s<31;++s)a[s]=r+=1<<t[s-1];for(var n=new SN(a[30]),s=1;s<30;++s)for(var i=a[s];i<a[s+1];++i)n[i]=i-a[s]<<5|s;return{b:a,r:n}},m9=u9(_N,2),Lq=m9.b,sj=m9.r;Lq[28]=258,sj[258]=28;var Mq=u9(AN,0),G6=Mq.r,nj=new _i(32768);for(var fa=0;fa<32768;++fa){var vd=(fa&43690)>>1|(fa&21845)<<1;vd=(vd&52428)>>2|(vd&13107)<<2,vd=(vd&61680)>>4|(vd&3855)<<4,nj[fa]=((vd&65280)>>8|(vd&255)<<8)>>1}var ox=function(t,r,a){for(var s=t.length,n=0,i=new _i(r);n<s;++n)t[n]&&++i[t[n]-1];var o=new _i(r);for(n=1;n<r;++n)o[n]=o[n-1]+i[n-1]<<1;var d;if(a){d=new _i(1<<r);var u=15-r;for(n=0;n<s;++n)if(t[n])for(var m=n<<4|t[n],f=r-t[n],x=o[t[n]-1]++<<f,b=x|(1<<f)-1;x<=b;++x)d[nj[x]>>u]=m}else for(d=new _i(s),n=0;n<s;++n)t[n]&&(d[n]=nj[o[t[n]-1]++]>>15-t[n]);return d},Qu=new ql(288);for(var fa=0;fa<144;++fa)Qu[fa]=8;for(var fa=144;fa<256;++fa)Qu[fa]=9;for(var fa=256;fa<280;++fa)Qu[fa]=7;for(var fa=280;fa<288;++fa)Qu[fa]=8;var lg=new ql(32);for(var fa=0;fa<32;++fa)lg[fa]=5;var Rq=ox(Qu,9,0),$q=ox(lg,5,0),f9=function(t){return(t+7)/8|0},Iq=function(t,r,a){return(a==null||a>t.length)&&(a=t.length),new ql(t.subarray(r,a))},ic=function(t,r,a){a<<=r&7;var s=r/8|0;t[s]|=a,t[s+1]|=a>>8},Hh=function(t,r,a){a<<=r&7;var s=r/8|0;t[s]|=a,t[s+1]|=a>>8,t[s+2]|=a>>16},Av=function(t,r){for(var a=[],s=0;s<t.length;++s)t[s]&&a.push({s,f:t[s]});var n=a.length,i=a.slice();if(!n)return{t:x9,l:0};if(n==1){var o=new ql(a[0].s+1);return o[a[0].s]=1,{t:o,l:1}}a.sort(function(T,R){return T.f-R.f}),a.push({s:-1,f:25001});var d=a[0],u=a[1],m=0,f=1,x=2;for(a[0]={s:-1,f:d.f+u.f,l:d,r:u};f!=n-1;)d=a[a[m].f<a[x].f?m++:x++],u=a[m!=f&&a[m].f<a[x].f?m++:x++],a[f++]={s:-1,f:d.f+u.f,l:d,r:u};for(var b=i[0].s,s=1;s<n;++s)i[s].s>b&&(b=i[s].s);var p=new _i(b+1),v=ij(a[f-1],p,0);if(v>r){var s=0,j=0,w=v-r,N=1<<w;for(i.sort(function(R,E){return p[E.s]-p[R.s]||R.f-E.f});s<n;++s){var P=i[s].s;if(p[P]>r)j+=N-(1<<v-p[P]),p[P]=r;else break}for(j>>=w;j>0;){var A=i[s].s;p[A]<r?j-=1<<r-p[A]++-1:++s}for(;s>=0&&j;--s){var D=i[s].s;p[D]==r&&(--p[D],++j)}v=r}return{t:new ql(p),l:v}},ij=function(t,r,a){return t.s==-1?Math.max(ij(t.l,r,a+1),ij(t.r,r,a+1)):r[t.s]=a},Y6=function(t){for(var r=t.length;r&&!t[--r];);for(var a=new _i(++r),s=0,n=t[0],i=1,o=function(u){a[s++]=u},d=1;d<=r;++d)if(t[d]==n&&d!=r)++i;else{if(!n&&i>2){for(;i>138;i-=138)o(32754);i>2&&(o(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(o(n),--i;i>6;i-=6)o(8304);i>2&&(o(i-3<<5|8208),i=0)}for(;i--;)o(n);i=1,n=t[d]}return{c:a.subarray(0,s),n:r}},Gh=function(t,r){for(var a=0,s=0;s<r.length;++s)a+=t[s]*r[s];return a},h9=function(t,r,a){var s=a.length,n=f9(r+2);t[n]=s&255,t[n+1]=s>>8,t[n+2]=t[n]^255,t[n+3]=t[n+1]^255;for(var i=0;i<s;++i)t[n+i+4]=a[i];return(n+4+s)*8},V6=function(t,r,a,s,n,i,o,d,u,m,f){ic(r,f++,a),++n[256];for(var x=Av(n,15),b=x.t,p=x.l,v=Av(i,15),j=v.t,w=v.l,N=Y6(b),P=N.c,A=N.n,D=Y6(j),T=D.c,R=D.n,E=new _i(19),O=0;O<P.length;++O)++E[P[O]&31];for(var O=0;O<T.length;++O)++E[T[O]&31];for(var k=Av(E,7),Y=k.t,$=k.l,M=19;M>4&&!Y[H6[M-1]];--M);var F=m+5<<3,K=Gh(n,Qu)+Gh(i,lg)+o,q=Gh(n,b)+Gh(i,j)+o+14+3*M+Gh(E,Y)+2*E[16]+3*E[17]+7*E[18];if(u>=0&&F<=K&&F<=q)return h9(r,f,t.subarray(u,u+m));var U,V,Z,X;if(ic(r,f,1+(q<K)),f+=2,q<K){U=ox(b,p,0),V=b,Z=ox(j,w,0),X=j;var J=ox(Y,$,0);ic(r,f,A-257),ic(r,f+5,R-1),ic(r,f+10,M-4),f+=14;for(var O=0;O<M;++O)ic(r,f+3*O,Y[H6[O]]);f+=3*M;for(var be=[P,T],z=0;z<2;++z)for(var re=be[z],O=0;O<re.length;++O){var G=re[O]&31;ic(r,f,J[G]),f+=Y[G],G>15&&(ic(r,f,re[O]>>5&127),f+=re[O]>>12)}}else U=Rq,V=Qu,Z=$q,X=lg;for(var O=0;O<d;++O){var Q=s[O];if(Q>255){var G=Q>>18&31;Hh(r,f,U[G+257]),f+=V[G+257],G>7&&(ic(r,f,Q>>23&31),f+=_N[G]);var ve=Q&31;Hh(r,f,Z[ve]),f+=X[ve],ve>3&&(Hh(r,f,Q>>5&8191),f+=AN[ve])}else Hh(r,f,U[Q]),f+=V[Q]}return Hh(r,f,U[256]),f+V[256]},Fq=new SN([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),x9=new ql(0),Bq=function(t,r,a,s,n,i){var o=i.z||t.length,d=new ql(s+o+5*(1+Math.ceil(o/7e3))+n),u=d.subarray(s,d.length-n),m=i.l,f=(i.r||0)&7;if(r){f&&(u[0]=i.r>>3);for(var x=Fq[r-1],b=x>>13,p=x&8191,v=(1<<a)-1,j=i.p||new _i(32768),w=i.h||new _i(v+1),N=Math.ceil(a/3),P=2*N,A=function(oe){return(t[oe]^t[oe+1]<<N^t[oe+2]<<P)&v},D=new SN(25e3),T=new _i(288),R=new _i(32),E=0,O=0,k=i.i||0,Y=0,$=i.w||0,M=0;k+2<o;++k){var F=A(k),K=k&32767,q=w[F];if(j[K]=q,w[F]=K,$<=k){var U=o-k;if((E>7e3||Y>24576)&&(U>423||!m)){f=V6(t,u,0,D,T,R,O,Y,M,k-M,f),Y=E=O=0,M=k;for(var V=0;V<286;++V)T[V]=0;for(var V=0;V<30;++V)R[V]=0}var Z=2,X=0,J=p,be=K-q&32767;if(U>2&&F==A(k-be))for(var z=Math.min(b,U)-1,re=Math.min(32767,k),G=Math.min(258,U);be<=re&&--J&&K!=q;){if(t[k+Z]==t[k+Z-be]){for(var Q=0;Q<G&&t[k+Q]==t[k+Q-be];++Q);if(Q>Z){if(Z=Q,X=be,Q>z)break;for(var ve=Math.min(be,Q-2),ye=0,V=0;V<ve;++V){var ne=k-be+V&32767,te=j[ne],Ae=ne-te&32767;Ae>ye&&(ye=Ae,q=ne)}}}K=q,q=j[K],be+=K-q&32767}if(X){D[Y++]=268435456|sj[Z]<<18|G6[X];var we=sj[Z]&31,le=G6[X]&31;O+=_N[we]+AN[le],++T[257+we],++R[le],$=k+Z,++E}else D[Y++]=t[k],++T[t[k]]}}for(k=Math.max(k,$);k<o;++k)D[Y++]=t[k],++T[t[k]];f=V6(t,u,m,D,T,R,O,Y,M,k-M,f),m||(i.r=f&7|u[f/8|0]<<3,f-=7,i.h=w,i.p=j,i.i=k,i.w=$)}else{for(var k=i.w||0;k<o+m;k+=65535){var xe=k+65535;xe>=o&&(u[f/8|0]=m,xe=o),f=h9(u,f+1,t.subarray(k,xe))}i.i=o}return Iq(d,0,s+f9(f)+n)},p9=function(){var t=1,r=0;return{p:function(a){for(var s=t,n=r,i=a.length|0,o=0;o!=i;){for(var d=Math.min(o+2655,i);o<d;++o)n+=s+=a[o];s=(s&65535)+15*(s>>16),n=(n&65535)+15*(n>>16)}t=s,r=n},d:function(){return t%=65521,r%=65521,(t&255)<<24|(t&65280)<<8|(r&255)<<8|r>>8}}},zq=function(t,r,a,s,n){if(!n&&(n={l:1},r.dictionary)){var i=r.dictionary.subarray(-32768),o=new ql(i.length+t.length);o.set(i),o.set(t,i.length),t=o,n.w=i.length}return Bq(t,r.level==null?6:r.level,r.mem==null?n.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+r.mem,a,s,n)},g9=function(t,r,a){for(;a;++r)t[r]=a,a>>>=8},Uq=function(t,r){var a=r.level,s=a==0?0:a<6?1:a==9?3:2;if(t[0]=120,t[1]=s<<6|(r.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,r.dictionary){var n=p9();n.p(r.dictionary),g9(t,2,n.d())}};function lj(t,r){r||(r={});var a=p9();a.p(t);var s=zq(t,r,r.dictionary?6:2,4);return Uq(s,r),g9(s,s.length-4,a.d()),s}var qq=typeof TextDecoder<"u"&&new TextDecoder,Hq=0;try{qq.decode(x9,{stream:!0}),Hq=1}catch{}function Gq(t){if(Array.isArray(t))return t}function Yq(t,r){var a=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(a!=null){var s,n,i,o,d=[],u=!0,m=!1;try{if(i=(a=a.call(t)).next,r!==0)for(;!(u=(s=i.call(a)).done)&&(d.push(s.value),d.length!==r);u=!0);}catch(f){m=!0,n=f}finally{try{if(!u&&a.return!=null&&(o=a.return(),Object(o)!==o))return}finally{if(m)throw n}}return d}}function K6(t,r){(r==null||r>t.length)&&(r=t.length);for(var a=0,s=Array(r);a<r;a++)s[a]=t[a];return s}function Vq(t,r){if(t){if(typeof t=="string")return K6(t,r);var a={}.toString.call(t).slice(8,-1);return a==="Object"&&t.constructor&&(a=t.constructor.name),a==="Map"||a==="Set"?Array.from(t):a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?K6(t,r):void 0}}function Kq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function W6(t,r){return Gq(t)||Yq(t,r)||Vq(t,r)||Kq()}function X6(t,r="utf8"){return new TextDecoder(r).decode(t)}const Wq=new TextEncoder;function Xq(t){return Wq.encode(t)}const Jq=1024*8,Zq=(()=>{const t=new Uint8Array(4),r=new Uint32Array(t.buffer);return!((r[0]=1)&t[0])})(),kv={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class kN{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(r=Jq,a={}){let s=!1;typeof r=="number"?r=new ArrayBuffer(r):(s=!0,this.lastWrittenByte=r.byteLength);const n=a.offset?a.offset>>>0:0,i=r.byteLength-n;let o=n;(ArrayBuffer.isView(r)||r instanceof kN)&&(r.byteLength!==r.buffer.byteLength&&(o=r.byteOffset+n),r=r.buffer),s?this.lastWrittenByte=i:this.lastWrittenByte=0,this.buffer=r,this.length=i,this.byteLength=i,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,i),this._mark=0,this._marks=[]}available(r=1){return this.offset+r<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(r=1){return this.offset+=r,this}back(r=1){return this.offset-=r,this}seek(r){return this.offset=r,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const r=this._marks.pop();if(r===void 0)throw new Error("Mark stack empty");return this.seek(r),this}rewind(){return this.offset=0,this}ensureAvailable(r=1){if(!this.available(r)){const s=(this.offset+r)*2,n=new Uint8Array(s);n.set(new Uint8Array(this.buffer)),this.buffer=n.buffer,this.length=s,this.byteLength=s,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(r=1){return this.readArray(r,"uint8")}readArray(r,a){const s=kv[a].BYTES_PER_ELEMENT*r,n=this.byteOffset+this.offset,i=this.buffer.slice(n,n+s);if(this.littleEndian===Zq&&a!=="uint8"&&a!=="int8"){const d=new Uint8Array(this.buffer.slice(n,n+s));d.reverse();const u=new kv[a](d.buffer);return this.offset+=s,u.reverse(),u}const o=new kv[a](i);return this.offset+=s,o}readInt16(){const r=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,r}readUint16(){const r=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,r}readInt32(){const r=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,r}readUint32(){const r=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,r}readFloat32(){const r=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,r}readFloat64(){const r=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,r}readBigInt64(){const r=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,r}readBigUint64(){const r=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,r}readChar(){return String.fromCharCode(this.readInt8())}readChars(r=1){let a="";for(let s=0;s<r;s++)a+=this.readChar();return a}readUtf8(r=1){return X6(this.readBytes(r))}decodeText(r=1,a="utf8"){return X6(this.readBytes(r),a)}writeBoolean(r){return this.writeUint8(r?255:0),this}writeInt8(r){return this.ensureAvailable(1),this._data.setInt8(this.offset++,r),this._updateLastWrittenByte(),this}writeUint8(r){return this.ensureAvailable(1),this._data.setUint8(this.offset++,r),this._updateLastWrittenByte(),this}writeByte(r){return this.writeUint8(r)}writeBytes(r){this.ensureAvailable(r.length);for(let a=0;a<r.length;a++)this._data.setUint8(this.offset++,r[a]);return this._updateLastWrittenByte(),this}writeInt16(r){return this.ensureAvailable(2),this._data.setInt16(this.offset,r,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(r){return this.ensureAvailable(2),this._data.setUint16(this.offset,r,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(r){return this.ensureAvailable(4),this._data.setInt32(this.offset,r,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(r){return this.ensureAvailable(4),this._data.setUint32(this.offset,r,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(r){return this.ensureAvailable(4),this._data.setFloat32(this.offset,r,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(r){return this.ensureAvailable(8),this._data.setFloat64(this.offset,r,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(r){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,r,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(r){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,r,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(r){return this.writeUint8(r.charCodeAt(0))}writeChars(r){for(let a=0;a<r.length;a++)this.writeUint8(r.charCodeAt(a));return this}writeUtf8(r){return this.writeBytes(Xq(r))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function If(t){let r=t.length;for(;--r>=0;)t[r]=0}const Qq=3,eH=258,y9=29,tH=256,rH=tH+1+y9,b9=30,aH=512,sH=new Array((rH+2)*2);If(sH);const nH=new Array(b9*2);If(nH);const iH=new Array(aH);If(iH);const lH=new Array(eH-Qq+1);If(lH);const oH=new Array(y9);If(oH);const cH=new Array(b9);If(cH);const dH=(t,r,a,s)=>{let n=t&65535|0,i=t>>>16&65535|0,o=0;for(;a!==0;){o=a>2e3?2e3:a,a-=o;do n=n+r[s++]|0,i=i+n|0;while(--o);n%=65521,i%=65521}return n|i<<16|0};var oj=dH;const uH=()=>{let t,r=[];for(var a=0;a<256;a++){t=a;for(var s=0;s<8;s++)t=t&1?3988292384^t>>>1:t>>>1;r[a]=t}return r},mH=new Uint32Array(uH()),fH=(t,r,a,s)=>{const n=mH,i=s+a;t^=-1;for(let o=s;o<i;o++)t=t>>>8^n[(t^r[o])&255];return t^-1};var yo=fH,cj={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},v9={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const hH=(t,r)=>Object.prototype.hasOwnProperty.call(t,r);var xH=function(t){const r=Array.prototype.slice.call(arguments,1);for(;r.length;){const a=r.shift();if(a){if(typeof a!="object")throw new TypeError(a+"must be non-object");for(const s in a)hH(a,s)&&(t[s]=a[s])}}return t},pH=t=>{let r=0;for(let s=0,n=t.length;s<n;s++)r+=t[s].length;const a=new Uint8Array(r);for(let s=0,n=0,i=t.length;s<i;s++){let o=t[s];a.set(o,n),n+=o.length}return a},j9={assign:xH,flattenChunks:pH};let N9=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{N9=!1}const bx=new Uint8Array(256);for(let t=0;t<256;t++)bx[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;bx[254]=bx[254]=1;var gH=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let r,a,s,n,i,o=t.length,d=0;for(n=0;n<o;n++)a=t.charCodeAt(n),(a&64512)===55296&&n+1<o&&(s=t.charCodeAt(n+1),(s&64512)===56320&&(a=65536+(a-55296<<10)+(s-56320),n++)),d+=a<128?1:a<2048?2:a<65536?3:4;for(r=new Uint8Array(d),i=0,n=0;i<d;n++)a=t.charCodeAt(n),(a&64512)===55296&&n+1<o&&(s=t.charCodeAt(n+1),(s&64512)===56320&&(a=65536+(a-55296<<10)+(s-56320),n++)),a<128?r[i++]=a:a<2048?(r[i++]=192|a>>>6,r[i++]=128|a&63):a<65536?(r[i++]=224|a>>>12,r[i++]=128|a>>>6&63,r[i++]=128|a&63):(r[i++]=240|a>>>18,r[i++]=128|a>>>12&63,r[i++]=128|a>>>6&63,r[i++]=128|a&63);return r};const yH=(t,r)=>{if(r<65534&&t.subarray&&N9)return String.fromCharCode.apply(null,t.length===r?t:t.subarray(0,r));let a="";for(let s=0;s<r;s++)a+=String.fromCharCode(t[s]);return a};var bH=(t,r)=>{const a=r||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,r));let s,n;const i=new Array(a*2);for(n=0,s=0;s<a;){let o=t[s++];if(o<128){i[n++]=o;continue}let d=bx[o];if(d>4){i[n++]=65533,s+=d-1;continue}for(o&=d===2?31:d===3?15:7;d>1&&s<a;)o=o<<6|t[s++]&63,d--;if(d>1){i[n++]=65533;continue}o<65536?i[n++]=o:(o-=65536,i[n++]=55296|o>>10&1023,i[n++]=56320|o&1023)}return yH(i,n)},vH=(t,r)=>{r=r||t.length,r>t.length&&(r=t.length);let a=r-1;for(;a>=0&&(t[a]&192)===128;)a--;return a<0||a===0?r:a+bx[t[a]]>r?a:r},dj={string2buf:gH,buf2string:bH,utf8border:vH};function jH(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var NH=jH;const op=16209,wH=16191;var SH=function(r,a){let s,n,i,o,d,u,m,f,x,b,p,v,j,w,N,P,A,D,T,R,E,O,k,Y;const $=r.state;s=r.next_in,k=r.input,n=s+(r.avail_in-5),i=r.next_out,Y=r.output,o=i-(a-r.avail_out),d=i+(r.avail_out-257),u=$.dmax,m=$.wsize,f=$.whave,x=$.wnext,b=$.window,p=$.hold,v=$.bits,j=$.lencode,w=$.distcode,N=(1<<$.lenbits)-1,P=(1<<$.distbits)-1;e:do{v<15&&(p+=k[s++]<<v,v+=8,p+=k[s++]<<v,v+=8),A=j[p&N];t:for(;;){if(D=A>>>24,p>>>=D,v-=D,D=A>>>16&255,D===0)Y[i++]=A&65535;else if(D&16){T=A&65535,D&=15,D&&(v<D&&(p+=k[s++]<<v,v+=8),T+=p&(1<<D)-1,p>>>=D,v-=D),v<15&&(p+=k[s++]<<v,v+=8,p+=k[s++]<<v,v+=8),A=w[p&P];r:for(;;){if(D=A>>>24,p>>>=D,v-=D,D=A>>>16&255,D&16){if(R=A&65535,D&=15,v<D&&(p+=k[s++]<<v,v+=8,v<D&&(p+=k[s++]<<v,v+=8)),R+=p&(1<<D)-1,R>u){r.msg="invalid distance too far back",$.mode=op;break e}if(p>>>=D,v-=D,D=i-o,R>D){if(D=R-D,D>f&&$.sane){r.msg="invalid distance too far back",$.mode=op;break e}if(E=0,O=b,x===0){if(E+=m-D,D<T){T-=D;do Y[i++]=b[E++];while(--D);E=i-R,O=Y}}else if(x<D){if(E+=m+x-D,D-=x,D<T){T-=D;do Y[i++]=b[E++];while(--D);if(E=0,x<T){D=x,T-=D;do Y[i++]=b[E++];while(--D);E=i-R,O=Y}}}else if(E+=x-D,D<T){T-=D;do Y[i++]=b[E++];while(--D);E=i-R,O=Y}for(;T>2;)Y[i++]=O[E++],Y[i++]=O[E++],Y[i++]=O[E++],T-=3;T&&(Y[i++]=O[E++],T>1&&(Y[i++]=O[E++]))}else{E=i-R;do Y[i++]=Y[E++],Y[i++]=Y[E++],Y[i++]=Y[E++],T-=3;while(T>2);T&&(Y[i++]=Y[E++],T>1&&(Y[i++]=Y[E++]))}}else if((D&64)===0){A=w[(A&65535)+(p&(1<<D)-1)];continue r}else{r.msg="invalid distance code",$.mode=op;break e}break}}else if((D&64)===0){A=j[(A&65535)+(p&(1<<D)-1)];continue t}else if(D&32){$.mode=wH;break e}else{r.msg="invalid literal/length code",$.mode=op;break e}break}}while(s<n&&i<d);T=v>>3,s-=T,v-=T<<3,p&=(1<<v)-1,r.next_in=s,r.next_out=i,r.avail_in=s<n?5+(n-s):5-(s-n),r.avail_out=i<d?257+(d-i):257-(i-d),$.hold=p,$.bits=v};const Jm=15,J6=852,Z6=592,Q6=0,Cv=1,eS=2,_H=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),AH=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),kH=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),CH=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),EH=(t,r,a,s,n,i,o,d)=>{const u=d.bits;let m=0,f=0,x=0,b=0,p=0,v=0,j=0,w=0,N=0,P=0,A,D,T,R,E,O=null,k;const Y=new Uint16Array(Jm+1),$=new Uint16Array(Jm+1);let M=null,F,K,q;for(m=0;m<=Jm;m++)Y[m]=0;for(f=0;f<s;f++)Y[r[a+f]]++;for(p=u,b=Jm;b>=1&&Y[b]===0;b--);if(p>b&&(p=b),b===0)return n[i++]=1<<24|64<<16|0,n[i++]=1<<24|64<<16|0,d.bits=1,0;for(x=1;x<b&&Y[x]===0;x++);for(p<x&&(p=x),w=1,m=1;m<=Jm;m++)if(w<<=1,w-=Y[m],w<0)return-1;if(w>0&&(t===Q6||b!==1))return-1;for($[1]=0,m=1;m<Jm;m++)$[m+1]=$[m]+Y[m];for(f=0;f<s;f++)r[a+f]!==0&&(o[$[r[a+f]]++]=f);if(t===Q6?(O=M=o,k=20):t===Cv?(O=_H,M=AH,k=257):(O=kH,M=CH,k=0),P=0,f=0,m=x,E=i,v=p,j=0,T=-1,N=1<<p,R=N-1,t===Cv&&N>J6||t===eS&&N>Z6)return 1;for(;;){F=m-j,o[f]+1<k?(K=0,q=o[f]):o[f]>=k?(K=M[o[f]-k],q=O[o[f]-k]):(K=96,q=0),A=1<<m-j,D=1<<v,x=D;do D-=A,n[E+(P>>j)+D]=F<<24|K<<16|q|0;while(D!==0);for(A=1<<m-1;P&A;)A>>=1;if(A!==0?(P&=A-1,P+=A):P=0,f++,--Y[m]===0){if(m===b)break;m=r[a+o[f]]}if(m>p&&(P&R)!==T){for(j===0&&(j=p),E+=x,v=m-j,w=1<<v;v+j<b&&(w-=Y[v+j],!(w<=0));)v++,w<<=1;if(N+=1<<v,t===Cv&&N>J6||t===eS&&N>Z6)return 1;T=P&R,n[T]=p<<24|v<<16|E-i|0}}return P!==0&&(n[E+P]=m-j<<24|64<<16|0),d.bits=p,0};var cx=EH;const PH=0,w9=1,S9=2,{Z_FINISH:tS,Z_BLOCK:TH,Z_TREES:cp,Z_OK:em,Z_STREAM_END:OH,Z_NEED_DICT:DH,Z_STREAM_ERROR:cl,Z_DATA_ERROR:_9,Z_MEM_ERROR:A9,Z_BUF_ERROR:LH,Z_DEFLATED:rS}=v9,my=16180,aS=16181,sS=16182,nS=16183,iS=16184,lS=16185,oS=16186,cS=16187,dS=16188,uS=16189,og=16190,lc=16191,Ev=16192,mS=16193,Pv=16194,fS=16195,hS=16196,xS=16197,pS=16198,dp=16199,up=16200,gS=16201,yS=16202,bS=16203,vS=16204,jS=16205,Tv=16206,NS=16207,wS=16208,wa=16209,k9=16210,C9=16211,MH=852,RH=592,$H=15,IH=$H,SS=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function FH(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const im=t=>{if(!t)return 1;const r=t.state;return!r||r.strm!==t||r.mode<my||r.mode>C9?1:0},E9=t=>{if(im(t))return cl;const r=t.state;return t.total_in=t.total_out=r.total=0,t.msg="",r.wrap&&(t.adler=r.wrap&1),r.mode=my,r.last=0,r.havedict=0,r.flags=-1,r.dmax=32768,r.head=null,r.hold=0,r.bits=0,r.lencode=r.lendyn=new Int32Array(MH),r.distcode=r.distdyn=new Int32Array(RH),r.sane=1,r.back=-1,em},P9=t=>{if(im(t))return cl;const r=t.state;return r.wsize=0,r.whave=0,r.wnext=0,E9(t)},T9=(t,r)=>{let a;if(im(t))return cl;const s=t.state;return r<0?(a=0,r=-r):(a=(r>>4)+5,r<48&&(r&=15)),r&&(r<8||r>15)?cl:(s.window!==null&&s.wbits!==r&&(s.window=null),s.wrap=a,s.wbits=r,P9(t))},O9=(t,r)=>{if(!t)return cl;const a=new FH;t.state=a,a.strm=t,a.window=null,a.mode=my;const s=T9(t,r);return s!==em&&(t.state=null),s},BH=t=>O9(t,IH);let _S=!0,Ov,Dv;const zH=t=>{if(_S){Ov=new Int32Array(512),Dv=new Int32Array(32);let r=0;for(;r<144;)t.lens[r++]=8;for(;r<256;)t.lens[r++]=9;for(;r<280;)t.lens[r++]=7;for(;r<288;)t.lens[r++]=8;for(cx(w9,t.lens,0,288,Ov,0,t.work,{bits:9}),r=0;r<32;)t.lens[r++]=5;cx(S9,t.lens,0,32,Dv,0,t.work,{bits:5}),_S=!1}t.lencode=Ov,t.lenbits=9,t.distcode=Dv,t.distbits=5},D9=(t,r,a,s)=>{let n;const i=t.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),s>=i.wsize?(i.window.set(r.subarray(a-i.wsize,a),0),i.wnext=0,i.whave=i.wsize):(n=i.wsize-i.wnext,n>s&&(n=s),i.window.set(r.subarray(a-s,a-s+n),i.wnext),s-=n,s?(i.window.set(r.subarray(a-s,a),0),i.wnext=s,i.whave=i.wsize):(i.wnext+=n,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=n))),0},UH=(t,r)=>{let a,s,n,i,o,d,u,m,f,x,b,p,v,j,w=0,N,P,A,D,T,R,E,O;const k=new Uint8Array(4);let Y,$;const M=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(im(t)||!t.output||!t.input&&t.avail_in!==0)return cl;a=t.state,a.mode===lc&&(a.mode=Ev),o=t.next_out,n=t.output,u=t.avail_out,i=t.next_in,s=t.input,d=t.avail_in,m=a.hold,f=a.bits,x=d,b=u,O=em;e:for(;;)switch(a.mode){case my:if(a.wrap===0){a.mode=Ev;break}for(;f<16;){if(d===0)break e;d--,m+=s[i++]<<f,f+=8}if(a.wrap&2&&m===35615){a.wbits===0&&(a.wbits=15),a.check=0,k[0]=m&255,k[1]=m>>>8&255,a.check=yo(a.check,k,2,0),m=0,f=0,a.mode=aS;break}if(a.head&&(a.head.done=!1),!(a.wrap&1)||(((m&255)<<8)+(m>>8))%31){t.msg="incorrect header check",a.mode=wa;break}if((m&15)!==rS){t.msg="unknown compression method",a.mode=wa;break}if(m>>>=4,f-=4,E=(m&15)+8,a.wbits===0&&(a.wbits=E),E>15||E>a.wbits){t.msg="invalid window size",a.mode=wa;break}a.dmax=1<<a.wbits,a.flags=0,t.adler=a.check=1,a.mode=m&512?uS:lc,m=0,f=0;break;case aS:for(;f<16;){if(d===0)break e;d--,m+=s[i++]<<f,f+=8}if(a.flags=m,(a.flags&255)!==rS){t.msg="unknown compression method",a.mode=wa;break}if(a.flags&57344){t.msg="unknown header flags set",a.mode=wa;break}a.head&&(a.head.text=m>>8&1),a.flags&512&&a.wrap&4&&(k[0]=m&255,k[1]=m>>>8&255,a.check=yo(a.check,k,2,0)),m=0,f=0,a.mode=sS;case sS:for(;f<32;){if(d===0)break e;d--,m+=s[i++]<<f,f+=8}a.head&&(a.head.time=m),a.flags&512&&a.wrap&4&&(k[0]=m&255,k[1]=m>>>8&255,k[2]=m>>>16&255,k[3]=m>>>24&255,a.check=yo(a.check,k,4,0)),m=0,f=0,a.mode=nS;case nS:for(;f<16;){if(d===0)break e;d--,m+=s[i++]<<f,f+=8}a.head&&(a.head.xflags=m&255,a.head.os=m>>8),a.flags&512&&a.wrap&4&&(k[0]=m&255,k[1]=m>>>8&255,a.check=yo(a.check,k,2,0)),m=0,f=0,a.mode=iS;case iS:if(a.flags&1024){for(;f<16;){if(d===0)break e;d--,m+=s[i++]<<f,f+=8}a.length=m,a.head&&(a.head.extra_len=m),a.flags&512&&a.wrap&4&&(k[0]=m&255,k[1]=m>>>8&255,a.check=yo(a.check,k,2,0)),m=0,f=0}else a.head&&(a.head.extra=null);a.mode=lS;case lS:if(a.flags&1024&&(p=a.length,p>d&&(p=d),p&&(a.head&&(E=a.head.extra_len-a.length,a.head.extra||(a.head.extra=new Uint8Array(a.head.extra_len)),a.head.extra.set(s.subarray(i,i+p),E)),a.flags&512&&a.wrap&4&&(a.check=yo(a.check,s,p,i)),d-=p,i+=p,a.length-=p),a.length))break e;a.length=0,a.mode=oS;case oS:if(a.flags&2048){if(d===0)break e;p=0;do E=s[i+p++],a.head&&E&&a.length<65536&&(a.head.name+=String.fromCharCode(E));while(E&&p<d);if(a.flags&512&&a.wrap&4&&(a.check=yo(a.check,s,p,i)),d-=p,i+=p,E)break e}else a.head&&(a.head.name=null);a.length=0,a.mode=cS;case cS:if(a.flags&4096){if(d===0)break e;p=0;do E=s[i+p++],a.head&&E&&a.length<65536&&(a.head.comment+=String.fromCharCode(E));while(E&&p<d);if(a.flags&512&&a.wrap&4&&(a.check=yo(a.check,s,p,i)),d-=p,i+=p,E)break e}else a.head&&(a.head.comment=null);a.mode=dS;case dS:if(a.flags&512){for(;f<16;){if(d===0)break e;d--,m+=s[i++]<<f,f+=8}if(a.wrap&4&&m!==(a.check&65535)){t.msg="header crc mismatch",a.mode=wa;break}m=0,f=0}a.head&&(a.head.hcrc=a.flags>>9&1,a.head.done=!0),t.adler=a.check=0,a.mode=lc;break;case uS:for(;f<32;){if(d===0)break e;d--,m+=s[i++]<<f,f+=8}t.adler=a.check=SS(m),m=0,f=0,a.mode=og;case og:if(a.havedict===0)return t.next_out=o,t.avail_out=u,t.next_in=i,t.avail_in=d,a.hold=m,a.bits=f,DH;t.adler=a.check=1,a.mode=lc;case lc:if(r===TH||r===cp)break e;case Ev:if(a.last){m>>>=f&7,f-=f&7,a.mode=Tv;break}for(;f<3;){if(d===0)break e;d--,m+=s[i++]<<f,f+=8}switch(a.last=m&1,m>>>=1,f-=1,m&3){case 0:a.mode=mS;break;case 1:if(zH(a),a.mode=dp,r===cp){m>>>=2,f-=2;break e}break;case 2:a.mode=hS;break;case 3:t.msg="invalid block type",a.mode=wa}m>>>=2,f-=2;break;case mS:for(m>>>=f&7,f-=f&7;f<32;){if(d===0)break e;d--,m+=s[i++]<<f,f+=8}if((m&65535)!==(m>>>16^65535)){t.msg="invalid stored block lengths",a.mode=wa;break}if(a.length=m&65535,m=0,f=0,a.mode=Pv,r===cp)break e;case Pv:a.mode=fS;case fS:if(p=a.length,p){if(p>d&&(p=d),p>u&&(p=u),p===0)break e;n.set(s.subarray(i,i+p),o),d-=p,i+=p,u-=p,o+=p,a.length-=p;break}a.mode=lc;break;case hS:for(;f<14;){if(d===0)break e;d--,m+=s[i++]<<f,f+=8}if(a.nlen=(m&31)+257,m>>>=5,f-=5,a.ndist=(m&31)+1,m>>>=5,f-=5,a.ncode=(m&15)+4,m>>>=4,f-=4,a.nlen>286||a.ndist>30){t.msg="too many length or distance symbols",a.mode=wa;break}a.have=0,a.mode=xS;case xS:for(;a.have<a.ncode;){for(;f<3;){if(d===0)break e;d--,m+=s[i++]<<f,f+=8}a.lens[M[a.have++]]=m&7,m>>>=3,f-=3}for(;a.have<19;)a.lens[M[a.have++]]=0;if(a.lencode=a.lendyn,a.lenbits=7,Y={bits:a.lenbits},O=cx(PH,a.lens,0,19,a.lencode,0,a.work,Y),a.lenbits=Y.bits,O){t.msg="invalid code lengths set",a.mode=wa;break}a.have=0,a.mode=pS;case pS:for(;a.have<a.nlen+a.ndist;){for(;w=a.lencode[m&(1<<a.lenbits)-1],N=w>>>24,P=w>>>16&255,A=w&65535,!(N<=f);){if(d===0)break e;d--,m+=s[i++]<<f,f+=8}if(A<16)m>>>=N,f-=N,a.lens[a.have++]=A;else{if(A===16){for($=N+2;f<$;){if(d===0)break e;d--,m+=s[i++]<<f,f+=8}if(m>>>=N,f-=N,a.have===0){t.msg="invalid bit length repeat",a.mode=wa;break}E=a.lens[a.have-1],p=3+(m&3),m>>>=2,f-=2}else if(A===17){for($=N+3;f<$;){if(d===0)break e;d--,m+=s[i++]<<f,f+=8}m>>>=N,f-=N,E=0,p=3+(m&7),m>>>=3,f-=3}else{for($=N+7;f<$;){if(d===0)break e;d--,m+=s[i++]<<f,f+=8}m>>>=N,f-=N,E=0,p=11+(m&127),m>>>=7,f-=7}if(a.have+p>a.nlen+a.ndist){t.msg="invalid bit length repeat",a.mode=wa;break}for(;p--;)a.lens[a.have++]=E}}if(a.mode===wa)break;if(a.lens[256]===0){t.msg="invalid code -- missing end-of-block",a.mode=wa;break}if(a.lenbits=9,Y={bits:a.lenbits},O=cx(w9,a.lens,0,a.nlen,a.lencode,0,a.work,Y),a.lenbits=Y.bits,O){t.msg="invalid literal/lengths set",a.mode=wa;break}if(a.distbits=6,a.distcode=a.distdyn,Y={bits:a.distbits},O=cx(S9,a.lens,a.nlen,a.ndist,a.distcode,0,a.work,Y),a.distbits=Y.bits,O){t.msg="invalid distances set",a.mode=wa;break}if(a.mode=dp,r===cp)break e;case dp:a.mode=up;case up:if(d>=6&&u>=258){t.next_out=o,t.avail_out=u,t.next_in=i,t.avail_in=d,a.hold=m,a.bits=f,SH(t,b),o=t.next_out,n=t.output,u=t.avail_out,i=t.next_in,s=t.input,d=t.avail_in,m=a.hold,f=a.bits,a.mode===lc&&(a.back=-1);break}for(a.back=0;w=a.lencode[m&(1<<a.lenbits)-1],N=w>>>24,P=w>>>16&255,A=w&65535,!(N<=f);){if(d===0)break e;d--,m+=s[i++]<<f,f+=8}if(P&&(P&240)===0){for(D=N,T=P,R=A;w=a.lencode[R+((m&(1<<D+T)-1)>>D)],N=w>>>24,P=w>>>16&255,A=w&65535,!(D+N<=f);){if(d===0)break e;d--,m+=s[i++]<<f,f+=8}m>>>=D,f-=D,a.back+=D}if(m>>>=N,f-=N,a.back+=N,a.length=A,P===0){a.mode=jS;break}if(P&32){a.back=-1,a.mode=lc;break}if(P&64){t.msg="invalid literal/length code",a.mode=wa;break}a.extra=P&15,a.mode=gS;case gS:if(a.extra){for($=a.extra;f<$;){if(d===0)break e;d--,m+=s[i++]<<f,f+=8}a.length+=m&(1<<a.extra)-1,m>>>=a.extra,f-=a.extra,a.back+=a.extra}a.was=a.length,a.mode=yS;case yS:for(;w=a.distcode[m&(1<<a.distbits)-1],N=w>>>24,P=w>>>16&255,A=w&65535,!(N<=f);){if(d===0)break e;d--,m+=s[i++]<<f,f+=8}if((P&240)===0){for(D=N,T=P,R=A;w=a.distcode[R+((m&(1<<D+T)-1)>>D)],N=w>>>24,P=w>>>16&255,A=w&65535,!(D+N<=f);){if(d===0)break e;d--,m+=s[i++]<<f,f+=8}m>>>=D,f-=D,a.back+=D}if(m>>>=N,f-=N,a.back+=N,P&64){t.msg="invalid distance code",a.mode=wa;break}a.offset=A,a.extra=P&15,a.mode=bS;case bS:if(a.extra){for($=a.extra;f<$;){if(d===0)break e;d--,m+=s[i++]<<f,f+=8}a.offset+=m&(1<<a.extra)-1,m>>>=a.extra,f-=a.extra,a.back+=a.extra}if(a.offset>a.dmax){t.msg="invalid distance too far back",a.mode=wa;break}a.mode=vS;case vS:if(u===0)break e;if(p=b-u,a.offset>p){if(p=a.offset-p,p>a.whave&&a.sane){t.msg="invalid distance too far back",a.mode=wa;break}p>a.wnext?(p-=a.wnext,v=a.wsize-p):v=a.wnext-p,p>a.length&&(p=a.length),j=a.window}else j=n,v=o-a.offset,p=a.length;p>u&&(p=u),u-=p,a.length-=p;do n[o++]=j[v++];while(--p);a.length===0&&(a.mode=up);break;case jS:if(u===0)break e;n[o++]=a.length,u--,a.mode=up;break;case Tv:if(a.wrap){for(;f<32;){if(d===0)break e;d--,m|=s[i++]<<f,f+=8}if(b-=u,t.total_out+=b,a.total+=b,a.wrap&4&&b&&(t.adler=a.check=a.flags?yo(a.check,n,b,o-b):oj(a.check,n,b,o-b)),b=u,a.wrap&4&&(a.flags?m:SS(m))!==a.check){t.msg="incorrect data check",a.mode=wa;break}m=0,f=0}a.mode=NS;case NS:if(a.wrap&&a.flags){for(;f<32;){if(d===0)break e;d--,m+=s[i++]<<f,f+=8}if(a.wrap&4&&m!==(a.total&4294967295)){t.msg="incorrect length check",a.mode=wa;break}m=0,f=0}a.mode=wS;case wS:O=OH;break e;case wa:O=_9;break e;case k9:return A9;case C9:default:return cl}return t.next_out=o,t.avail_out=u,t.next_in=i,t.avail_in=d,a.hold=m,a.bits=f,(a.wsize||b!==t.avail_out&&a.mode<wa&&(a.mode<Tv||r!==tS))&&D9(t,t.output,t.next_out,b-t.avail_out),x-=t.avail_in,b-=t.avail_out,t.total_in+=x,t.total_out+=b,a.total+=b,a.wrap&4&&b&&(t.adler=a.check=a.flags?yo(a.check,n,b,t.next_out-b):oj(a.check,n,b,t.next_out-b)),t.data_type=a.bits+(a.last?64:0)+(a.mode===lc?128:0)+(a.mode===dp||a.mode===Pv?256:0),(x===0&&b===0||r===tS)&&O===em&&(O=LH),O},qH=t=>{if(im(t))return cl;let r=t.state;return r.window&&(r.window=null),t.state=null,em},HH=(t,r)=>{if(im(t))return cl;const a=t.state;return(a.wrap&2)===0?cl:(a.head=r,r.done=!1,em)},GH=(t,r)=>{const a=r.length;let s,n,i;return im(t)||(s=t.state,s.wrap!==0&&s.mode!==og)?cl:s.mode===og&&(n=1,n=oj(n,r,a,0),n!==s.check)?_9:(i=D9(t,r,a,a),i?(s.mode=k9,A9):(s.havedict=1,em))};var YH=P9,VH=T9,KH=E9,WH=BH,XH=O9,JH=UH,ZH=qH,QH=HH,eG=GH,tG="pako inflate (from Nodeca project)",oc={inflateReset:YH,inflateReset2:VH,inflateResetKeep:KH,inflateInit:WH,inflateInit2:XH,inflate:JH,inflateEnd:ZH,inflateGetHeader:QH,inflateSetDictionary:eG,inflateInfo:tG};function rG(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var aG=rG;const L9=Object.prototype.toString,{Z_NO_FLUSH:sG,Z_FINISH:nG,Z_OK:vx,Z_STREAM_END:Lv,Z_NEED_DICT:Mv,Z_STREAM_ERROR:iG,Z_DATA_ERROR:AS,Z_MEM_ERROR:lG}=v9;function zx(t){this.options=j9.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const r=this.options;r.raw&&r.windowBits>=0&&r.windowBits<16&&(r.windowBits=-r.windowBits,r.windowBits===0&&(r.windowBits=-15)),r.windowBits>=0&&r.windowBits<16&&!(t&&t.windowBits)&&(r.windowBits+=32),r.windowBits>15&&r.windowBits<48&&(r.windowBits&15)===0&&(r.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new NH,this.strm.avail_out=0;let a=oc.inflateInit2(this.strm,r.windowBits);if(a!==vx)throw new Error(cj[a]);if(this.header=new aG,oc.inflateGetHeader(this.strm,this.header),r.dictionary&&(typeof r.dictionary=="string"?r.dictionary=dj.string2buf(r.dictionary):L9.call(r.dictionary)==="[object ArrayBuffer]"&&(r.dictionary=new Uint8Array(r.dictionary)),r.raw&&(a=oc.inflateSetDictionary(this.strm,r.dictionary),a!==vx)))throw new Error(cj[a])}zx.prototype.push=function(t,r){const a=this.strm,s=this.options.chunkSize,n=this.options.dictionary;let i,o,d;if(this.ended)return!1;for(r===~~r?o=r:o=r===!0?nG:sG,L9.call(t)==="[object ArrayBuffer]"?a.input=new Uint8Array(t):a.input=t,a.next_in=0,a.avail_in=a.input.length;;){for(a.avail_out===0&&(a.output=new Uint8Array(s),a.next_out=0,a.avail_out=s),i=oc.inflate(a,o),i===Mv&&n&&(i=oc.inflateSetDictionary(a,n),i===vx?i=oc.inflate(a,o):i===AS&&(i=Mv));a.avail_in>0&&i===Lv&&a.state.wrap>0&&t[a.next_in]!==0;)oc.inflateReset(a),i=oc.inflate(a,o);switch(i){case iG:case AS:case Mv:case lG:return this.onEnd(i),this.ended=!0,!1}if(d=a.avail_out,a.next_out&&(a.avail_out===0||i===Lv))if(this.options.to==="string"){let u=dj.utf8border(a.output,a.next_out),m=a.next_out-u,f=dj.buf2string(a.output,u);a.next_out=m,a.avail_out=s-m,m&&a.output.set(a.output.subarray(u,u+m),0),this.onData(f)}else this.onData(a.output.length===a.next_out?a.output:a.output.subarray(0,a.next_out));if(!(i===vx&&d===0)){if(i===Lv)return i=oc.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(a.avail_in===0)break}}return!0};zx.prototype.onData=function(t){this.chunks.push(t)};zx.prototype.onEnd=function(t){t===vx&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=j9.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function oG(t,r){const a=new zx(r);if(a.push(t),a.err)throw a.msg||cj[a.err];return a.result}var cG=zx,dG=oG,uG={Inflate:cG,inflate:dG};const{Inflate:mG,inflate:fG}=uG;var kS=mG,hG=fG;const M9=[];for(let t=0;t<256;t++){let r=t;for(let a=0;a<8;a++)r&1?r=3988292384^r>>>1:r=r>>>1;M9[t]=r}const CS=4294967295;function xG(t,r,a){let s=t;for(let n=0;n<a;n++)s=M9[(s^r[n])&255]^s>>>8;return s}function pG(t,r){return(xG(CS,t,r)^CS)>>>0}function ES(t,r,a){const s=t.readUint32(),n=pG(new Uint8Array(t.buffer,t.byteOffset+t.offset-r-4,r),r);if(n!==s)throw new Error(`CRC mismatch for chunk ${a}. Expected ${s}, found ${n}`)}function R9(t,r,a){for(let s=0;s<a;s++)r[s]=t[s]}function $9(t,r,a,s){let n=0;for(;n<s;n++)r[n]=t[n];for(;n<a;n++)r[n]=t[n]+r[n-s]&255}function I9(t,r,a,s){let n=0;if(a.length===0)for(;n<s;n++)r[n]=t[n];else for(;n<s;n++)r[n]=t[n]+a[n]&255}function F9(t,r,a,s,n){let i=0;if(a.length===0){for(;i<n;i++)r[i]=t[i];for(;i<s;i++)r[i]=t[i]+(r[i-n]>>1)&255}else{for(;i<n;i++)r[i]=t[i]+(a[i]>>1)&255;for(;i<s;i++)r[i]=t[i]+(r[i-n]+a[i]>>1)&255}}function B9(t,r,a,s,n){let i=0;if(a.length===0){for(;i<n;i++)r[i]=t[i];for(;i<s;i++)r[i]=t[i]+r[i-n]&255}else{for(;i<n;i++)r[i]=t[i]+a[i]&255;for(;i<s;i++)r[i]=t[i]+gG(r[i-n],a[i],a[i-n])&255}}function gG(t,r,a){const s=t+r-a,n=Math.abs(s-t),i=Math.abs(s-r),o=Math.abs(s-a);return n<=i&&n<=o?t:i<=o?r:a}function yG(t,r,a,s,n,i){switch(t){case 0:R9(r,a,n);break;case 1:$9(r,a,n,i);break;case 2:I9(r,a,s,n);break;case 3:F9(r,a,s,n,i);break;case 4:B9(r,a,s,n,i);break;default:throw new Error(`Unsupported filter: ${t}`)}}const bG=new Uint16Array([255]),vG=new Uint8Array(bG.buffer),jG=vG[0]===255;function NG(t){const{data:r,width:a,height:s,channels:n,depth:i}=t,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],d=Math.ceil(i/8)*n,u=new Uint8Array(s*a*d);let m=0;for(let f=0;f<7;f++){const x=o[f],b=Math.ceil((a-x.x)/x.xStep),p=Math.ceil((s-x.y)/x.yStep);if(b<=0||p<=0)continue;const v=b*d,j=new Uint8Array(v);for(let w=0;w<p;w++){const N=r[m++],P=r.subarray(m,m+v);m+=v;const A=new Uint8Array(v);yG(N,P,A,j,v,d),j.set(A);for(let D=0;D<b;D++){const T=x.x+D*x.xStep,R=x.y+w*x.yStep;if(!(T>=a||R>=s))for(let E=0;E<d;E++)u[(R*a+T)*d+E]=A[D*d+E]}}}if(i===16){const f=new Uint16Array(u.buffer);if(jG)for(let x=0;x<f.length;x++)f[x]=wG(f[x]);return f}else return u}function wG(t){return(t&255)<<8|t>>8&255}const SG=new Uint16Array([255]),_G=new Uint8Array(SG.buffer),AG=_G[0]===255,kG=new Uint8Array(0);function PS(t){const{data:r,width:a,height:s,channels:n,depth:i}=t,o=Math.ceil(i/8)*n,d=Math.ceil(i/8*n*a),u=new Uint8Array(s*d);let m=kG,f=0,x,b;for(let p=0;p<s;p++){switch(x=r.subarray(f+1,f+1+d),b=u.subarray(p*d,(p+1)*d),r[f]){case 0:R9(x,b,d);break;case 1:$9(x,b,d,o);break;case 2:I9(x,b,m,d);break;case 3:F9(x,b,m,d,o);break;case 4:B9(x,b,m,d,o);break;default:throw new Error(`Unsupported filter: ${r[f]}`)}m=b,f+=d+1}if(i===16){const p=new Uint16Array(u.buffer);if(AG)for(let v=0;v<p.length;v++)p[v]=CG(p[v]);return p}else return u}function CG(t){return(t&255)<<8|t>>8&255}const Bp=Uint8Array.of(137,80,78,71,13,10,26,10);function TS(t){if(!EG(t.readBytes(Bp.length)))throw new Error("wrong PNG signature")}function EG(t){if(t.length<Bp.length)return!1;for(let r=0;r<Bp.length;r++)if(t[r]!==Bp[r])return!1;return!0}const PG="tEXt",TG=0,z9=new TextDecoder("latin1");function OG(t){if(LG(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const DG=/^[\u0000-\u00FF]*$/;function LG(t){if(!DG.test(t))throw new Error("invalid latin1 text")}function MG(t,r,a){const s=U9(r);t[s]=RG(r,a-s.length-1)}function U9(t){for(t.mark();t.readByte()!==TG;);const r=t.offset;t.reset();const a=z9.decode(t.readBytes(r-t.offset-1));return t.skip(1),OG(a),a}function RG(t,r){return z9.decode(t.readBytes(r))}const bi={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},Rv={UNKNOWN:-1,DEFLATE:0},OS={UNKNOWN:-1,ADAPTIVE:0},$v={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},mp={NONE:0,BACKGROUND:1,PREVIOUS:2},Iv={SOURCE:0,OVER:1};class $G extends kN{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(r,a={}){super(r);const{checkCrc:s=!1}=a;this._checkCrc=s,this._inflator=new kS,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=Rv.UNKNOWN,this._filterMethod=OS.UNKNOWN,this._interlaceMethod=$v.UNKNOWN,this._colorType=bi.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(TS(this);!this._end;){const r=this.readUint32(),a=this.readChars(4);this.decodeChunk(r,a)}return this.decodeImage(),this._png}decodeApng(){for(TS(this);!this._end;){const r=this.readUint32(),a=this.readChars(4);this.decodeApngChunk(r,a)}return this.decodeApngImage(),this._apng}decodeChunk(r,a){const s=this.offset;switch(a){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(r);break;case"IDAT":this.decodeIDAT(r);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(r);break;case"iCCP":this.decodeiCCP(r);break;case PG:MG(this._png.text,this,r);break;case"pHYs":this.decodepHYs();break;default:this.skip(r);break}if(this.offset-s!==r)throw new Error(`Length mismatch while decoding chunk ${a}`);this._checkCrc?ES(this,r+4,a):this.skip(4)}decodeApngChunk(r,a){const s=this.offset;switch(a!=="fdAT"&&a!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),a){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(r);break;default:this.decodeChunk(r,a),this.offset=s+r;break}if(this.offset-s!==r)throw new Error(`Length mismatch while decoding chunk ${a}`);this._checkCrc?ES(this,r+4,a):this.skip(4)}decodeIHDR(){const r=this._png;r.width=this.readUint32(),r.height=this.readUint32(),r.depth=IG(this.readUint8());const a=this.readUint8();this._colorType=a;let s;switch(a){case bi.GREYSCALE:s=1;break;case bi.TRUECOLOUR:s=3;break;case bi.INDEXED_COLOUR:s=1;break;case bi.GREYSCALE_ALPHA:s=2;break;case bi.TRUECOLOUR_ALPHA:s=4;break;case bi.UNKNOWN:default:throw new Error(`Unknown color type: ${a}`)}if(this._png.channels=s,this._compressionMethod=this.readUint8(),this._compressionMethod!==Rv.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const r={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(r)}decodePLTE(r){if(r%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`);const a=r/3;this._hasPalette=!0;const s=[];this._palette=s;for(let n=0;n<a;n++)s.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(r){this._writingDataChunks=!0;const a=r,s=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,s,a)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodeFDAT(r){this._writingDataChunks=!0;let a=r,s=this.offset+this.byteOffset;if(s+=4,a-=4,this._inflator.push(new Uint8Array(this.buffer,s,a)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodetRNS(r){switch(this._colorType){case bi.GREYSCALE:case bi.TRUECOLOUR:{if(r%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`);if(r/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(r/2);for(let a=0;a<r/2;a++)this._transparency[a]=this.readUint16();break}case bi.INDEXED_COLOUR:{if(r>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`);let a=0;for(;a<r;a++){const s=this.readByte();this._palette[a].push(s)}for(;a<this._palette.length;a++)this._palette[a].push(255);break}case bi.UNKNOWN:case bi.GREYSCALE_ALPHA:case bi.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(r){const a=U9(this),s=this.readUint8();if(s!==Rv.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${s}`);const n=this.readBytes(r-a.length-2);this._png.iccEmbeddedProfile={name:a,profile:hG(n)}}decodepHYs(){const r=this.readUint32(),a=this.readUint32(),s=this.readByte();this._png.resolution={x:r,y:a,unit:s}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let r=0;r<this._numberOfFrames;r++){const a={sequenceNumber:this._frames[r].sequenceNumber,delayNumber:this._frames[r].delayNumber,delayDenominator:this._frames[r].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},s=this._frames.at(r);if(s){if(s.data=PS({data:s.data,width:s.width,height:s.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),r===0||s.xOffset===0&&s.yOffset===0&&s.width===this._png.width&&s.height===this._png.height)a.data=s.data;else{const n=this._apng.frames.at(r-1);this.disposeFrame(s,n,a),this.addFrameDataToCanvas(a,s)}this._apng.frames.push(a)}}return this._apng}disposeFrame(r,a,s){switch(r.disposeOp){case mp.NONE:break;case mp.BACKGROUND:for(let n=0;n<this._png.height;n++)for(let i=0;i<this._png.width;i++){const o=(n*r.width+i)*this._png.channels;for(let d=0;d<this._png.channels;d++)s.data[o+d]=0}break;case mp.PREVIOUS:s.data.set(a.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(r,a){const s=1<<this._png.depth,n=(i,o)=>{const d=((i+a.yOffset)*this._png.width+a.xOffset+o)*this._png.channels,u=(i*a.width+o)*this._png.channels;return{index:d,frameIndex:u}};switch(a.blendOp){case Iv.SOURCE:for(let i=0;i<a.height;i++)for(let o=0;o<a.width;o++){const{index:d,frameIndex:u}=n(i,o);for(let m=0;m<this._png.channels;m++)r.data[d+m]=a.data[u+m]}break;case Iv.OVER:for(let i=0;i<a.height;i++)for(let o=0;o<a.width;o++){const{index:d,frameIndex:u}=n(i,o);for(let m=0;m<this._png.channels;m++){const f=a.data[u+this._png.channels-1]/s,x=m%(this._png.channels-1)===0?1:a.data[u+m],b=Math.floor(f*x+(1-f)*r.data[d+m]);r.data[d+m]+=b}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const r=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==OS.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===$v.NO_INTERLACE)this._png.data=PS({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===$v.ADAM7)this._png.data=NG({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const r=this._inflator.result,a=this._frames.at(-1);a?a.data=r:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:mp.NONE,blendOp:Iv.SOURCE,data:r}),this._inflator=new kS,this._writingDataChunks=!1}}function IG(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var DS;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(DS||(DS={}));function FG(t,r){return new $G(t,r).decode()}var Gt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Fv(){Gt.console&&typeof Gt.console.log=="function"&&Gt.console.log.apply(Gt.console,arguments)}var ea={log:Fv,warn:function(t){Gt.console&&(typeof Gt.console.warn=="function"?Gt.console.warn.apply(Gt.console,arguments):Fv.call(null,arguments))},error:function(t){Gt.console&&(typeof Gt.console.error=="function"?Gt.console.error.apply(Gt.console,arguments):Fv(t))}};function Bv(t,r,a){var s=new XMLHttpRequest;s.open("GET",t),s.responseType="blob",s.onload=function(){ku(s.response,r,a)},s.onerror=function(){ea.error("could not download file")},s.send()}function LS(t){var r=new XMLHttpRequest;r.open("HEAD",t,!1);try{r.send()}catch{}return r.status>=200&&r.status<=299}function fp(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var r=document.createEvent("MouseEvents");r.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(r)}}var ku=Gt.saveAs||((typeof window>"u"?"undefined":Gr(window))!=="object"||window!==Gt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,r,a){var s=Gt.URL||Gt.webkitURL,n=document.createElement("a");r=r||t.name||"download",n.download=r,n.rel="noopener",typeof t=="string"?(n.href=t,n.origin!==location.origin?LS(n.href)?Bv(t,r,a):fp(n,n.target="_blank"):fp(n)):(n.href=s.createObjectURL(t),setTimeout(function(){s.revokeObjectURL(n.href)},4e4),setTimeout(function(){fp(n)},0))}:"msSaveOrOpenBlob"in navigator?function(t,r,a){if(r=r||t.name||"download",typeof t=="string")if(LS(t))Bv(t,r,a);else{var s=document.createElement("a");s.href=t,s.target="_blank",setTimeout(function(){fp(s)})}else navigator.msSaveOrOpenBlob(function(n,i){return i===void 0?i={autoBom:!1}:Gr(i)!=="object"&&(ea.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(n.type)?new Blob(["\uFEFF",n],{type:n.type}):n}(t,a),r)}:function(t,r,a,s){if((s=s||open("","_blank"))&&(s.document.title=s.document.body.innerText="downloading..."),typeof t=="string")return Bv(t,r,a);var n=t.type==="application/octet-stream",i=/constructor/i.test(Gt.HTMLElement)||Gt.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||n&&i)&&(typeof FileReader>"u"?"undefined":Gr(FileReader))==="object"){var d=new FileReader;d.onloadend=function(){var f=d.result;f=o?f:f.replace(/^data:[^;]*;/,"data:attachment/file;"),s?s.location.href=f:location=f,s=null},d.readAsDataURL(t)}else{var u=Gt.URL||Gt.webkitURL,m=u.createObjectURL(t);s?s.location=m:location.href=m,s=null,setTimeout(function(){u.revokeObjectURL(m)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function q9(t){var r;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var a=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(d){return[parseInt(d[1]),parseInt(d[2]),parseInt(d[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(d){return[parseInt(d[1],16),parseInt(d[2],16),parseInt(d[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(d){return[parseInt(d[1]+d[1],16),parseInt(d[2]+d[2],16),parseInt(d[3]+d[3],16)]}}],s=0;s<a.length;s++){var n=a[s].re,i=a[s].process,o=n.exec(t);o&&(r=i(o),this.r=r[0],this.g=r[1],this.b=r[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var d=this.r.toString(16),u=this.g.toString(16),m=this.b.toString(16);return d.length==1&&(d="0"+d),u.length==1&&(u="0"+u),m.length==1&&(m="0"+m),"#"+d+u+m}}var zp=Gt.atob.bind(Gt),MS=Gt.btoa.bind(Gt);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function zv(t,r){var a=t[0],s=t[1],n=t[2],i=t[3];a=cn(a,s,n,i,r[0],7,-680876936),i=cn(i,a,s,n,r[1],12,-389564586),n=cn(n,i,a,s,r[2],17,606105819),s=cn(s,n,i,a,r[3],22,-1044525330),a=cn(a,s,n,i,r[4],7,-176418897),i=cn(i,a,s,n,r[5],12,1200080426),n=cn(n,i,a,s,r[6],17,-1473231341),s=cn(s,n,i,a,r[7],22,-45705983),a=cn(a,s,n,i,r[8],7,1770035416),i=cn(i,a,s,n,r[9],12,-1958414417),n=cn(n,i,a,s,r[10],17,-42063),s=cn(s,n,i,a,r[11],22,-1990404162),a=cn(a,s,n,i,r[12],7,1804603682),i=cn(i,a,s,n,r[13],12,-40341101),n=cn(n,i,a,s,r[14],17,-1502002290),a=dn(a,s=cn(s,n,i,a,r[15],22,1236535329),n,i,r[1],5,-165796510),i=dn(i,a,s,n,r[6],9,-1069501632),n=dn(n,i,a,s,r[11],14,643717713),s=dn(s,n,i,a,r[0],20,-373897302),a=dn(a,s,n,i,r[5],5,-701558691),i=dn(i,a,s,n,r[10],9,38016083),n=dn(n,i,a,s,r[15],14,-660478335),s=dn(s,n,i,a,r[4],20,-405537848),a=dn(a,s,n,i,r[9],5,568446438),i=dn(i,a,s,n,r[14],9,-1019803690),n=dn(n,i,a,s,r[3],14,-187363961),s=dn(s,n,i,a,r[8],20,1163531501),a=dn(a,s,n,i,r[13],5,-1444681467),i=dn(i,a,s,n,r[2],9,-51403784),n=dn(n,i,a,s,r[7],14,1735328473),a=un(a,s=dn(s,n,i,a,r[12],20,-1926607734),n,i,r[5],4,-378558),i=un(i,a,s,n,r[8],11,-2022574463),n=un(n,i,a,s,r[11],16,1839030562),s=un(s,n,i,a,r[14],23,-35309556),a=un(a,s,n,i,r[1],4,-1530992060),i=un(i,a,s,n,r[4],11,1272893353),n=un(n,i,a,s,r[7],16,-155497632),s=un(s,n,i,a,r[10],23,-1094730640),a=un(a,s,n,i,r[13],4,681279174),i=un(i,a,s,n,r[0],11,-358537222),n=un(n,i,a,s,r[3],16,-722521979),s=un(s,n,i,a,r[6],23,76029189),a=un(a,s,n,i,r[9],4,-640364487),i=un(i,a,s,n,r[12],11,-421815835),n=un(n,i,a,s,r[15],16,530742520),a=mn(a,s=un(s,n,i,a,r[2],23,-995338651),n,i,r[0],6,-198630844),i=mn(i,a,s,n,r[7],10,1126891415),n=mn(n,i,a,s,r[14],15,-1416354905),s=mn(s,n,i,a,r[5],21,-57434055),a=mn(a,s,n,i,r[12],6,1700485571),i=mn(i,a,s,n,r[3],10,-1894986606),n=mn(n,i,a,s,r[10],15,-1051523),s=mn(s,n,i,a,r[1],21,-2054922799),a=mn(a,s,n,i,r[8],6,1873313359),i=mn(i,a,s,n,r[15],10,-30611744),n=mn(n,i,a,s,r[6],15,-1560198380),s=mn(s,n,i,a,r[13],21,1309151649),a=mn(a,s,n,i,r[4],6,-145523070),i=mn(i,a,s,n,r[11],10,-1120210379),n=mn(n,i,a,s,r[2],15,718787259),s=mn(s,n,i,a,r[9],21,-343485551),t[0]=kd(a,t[0]),t[1]=kd(s,t[1]),t[2]=kd(n,t[2]),t[3]=kd(i,t[3])}function fy(t,r,a,s,n,i){return r=kd(kd(r,t),kd(s,i)),kd(r<<n|r>>>32-n,a)}function cn(t,r,a,s,n,i,o){return fy(r&a|~r&s,t,r,n,i,o)}function dn(t,r,a,s,n,i,o){return fy(r&s|a&~s,t,r,n,i,o)}function un(t,r,a,s,n,i,o){return fy(r^a^s,t,r,n,i,o)}function mn(t,r,a,s,n,i,o){return fy(a^(r|~s),t,r,n,i,o)}function H9(t){var r,a=t.length,s=[1732584193,-271733879,-1732584194,271733878];for(r=64;r<=t.length;r+=64)zv(s,BG(t.substring(r-64,r)));t=t.substring(r-64);var n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(r=0;r<t.length;r++)n[r>>2]|=t.charCodeAt(r)<<(r%4<<3);if(n[r>>2]|=128<<(r%4<<3),r>55)for(zv(s,n),r=0;r<16;r++)n[r]=0;return n[14]=8*a,zv(s,n),s}function BG(t){var r,a=[];for(r=0;r<64;r+=4)a[r>>2]=t.charCodeAt(r)+(t.charCodeAt(r+1)<<8)+(t.charCodeAt(r+2)<<16)+(t.charCodeAt(r+3)<<24);return a}var RS="0123456789abcdef".split("");function zG(t){for(var r="",a=0;a<4;a++)r+=RS[t>>8*a+4&15]+RS[t>>8*a&15];return r}function UG(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function uj(t){return H9(t).map(UG).join("")}var qG=function(t){for(var r=0;r<t.length;r++)t[r]=zG(t[r]);return t.join("")}(H9("hello"))!="5d41402abc4b2a76b9719d911017c592";function kd(t,r){if(qG){var a=(65535&t)+(65535&r);return(t>>16)+(r>>16)+(a>>16)<<16|65535&a}return t+r&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function mj(t,r){var a,s,n,i;if(t!==a){for(var o=(n=t,i=1+(256/t.length|0),new Array(i+1).join(n)),d=[],u=0;u<256;u++)d[u]=u;var m=0;for(u=0;u<256;u++){var f=d[u];m=(m+f+o.charCodeAt(u))%256,d[u]=d[m],d[m]=f}a=t,s=d}else d=s;var x=r.length,b=0,p=0,v="";for(u=0;u<x;u++)p=(p+(f=d[b=(b+1)%256]))%256,d[b]=d[p],d[p]=f,o=d[(d[b]+d[p])%256],v+=String.fromCharCode(r.charCodeAt(u)^o);return v}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var $S={print:4,modify:8,copy:16,"annot-forms":32};function tf(t,r,a,s){this.v=1,this.r=2;var n=192;t.forEach(function(d){if($S.perm!==void 0)throw new Error("Invalid permission: "+d);n+=$S[d]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var i=(r+this.padding).substr(0,32),o=(a+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,o),this.P=-(1+(255^n)),this.encryptionKey=uj(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(s)).substr(0,5),this.U=mj(this.encryptionKey,this.padding)}function rf(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var r="",a=t.length,s=0;s<a;s++){var n=t.charCodeAt(s);r+=n<33||n===35||n===37||n===40||n===41||n===47||n===60||n===62||n===91||n===93||n===123||n===125||n>126?"#"+("0"+n.toString(16)).slice(-2):t[s]}return r}function IS(t){if(Gr(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var r={};this.subscribe=function(a,s,n){if(n=n||!1,typeof a!="string"||typeof s!="function"||typeof n!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");r.hasOwnProperty(a)||(r[a]={});var i=Math.random().toString(35);return r[a][i]=[s,!!n],i},this.unsubscribe=function(a){for(var s in r)if(r[s][a])return delete r[s][a],Object.keys(r[s]).length===0&&delete r[s],!0;return!1},this.publish=function(a){if(r.hasOwnProperty(a)){var s=Array.prototype.slice.call(arguments,1),n=[];for(var i in r[a]){var o=r[a][i];try{o[0].apply(t,s)}catch(d){Gt.console&&ea.error("jsPDF PubSub Error",d.message,d)}o[1]&&n.push(i)}n.length&&n.forEach(this.unsubscribe)}},this.getTopics=function(){return r}}function cg(t){if(!(this instanceof cg))return new cg(t);var r="opacity,stroke-opacity".split(",");for(var a in t)t.hasOwnProperty(a)&&r.indexOf(a)>=0&&(this[a]=t[a]);this.id="",this.objectNumber=-1}function G9(t,r){this.gState=t,this.matrix=r,this.id="",this.objectNumber=-1}function Tu(t,r,a,s,n){if(!(this instanceof Tu))return new Tu(t,r,a,s,n);this.type=t==="axial"?2:3,this.coords=r,this.colors=a,G9.call(this,s,n)}function nf(t,r,a,s,n){if(!(this instanceof nf))return new nf(t,r,a,s,n);this.boundingBox=t,this.xStep=r,this.yStep=a,this.stream="",this.cloneIndex=0,G9.call(this,s,n)}function Nt(t){var r,a=typeof arguments[0]=="string"?arguments[0]:"p",s=arguments[1],n=arguments[2],i=arguments[3],o=[],d=1,u=16,m="S",f=null;Gr(t=t||{})==="object"&&(a=t.orientation,s=t.unit||s,n=t.format||n,i=t.compress||t.compressPdf||i,(f=t.encryption||null)!==null&&(f.userPassword=f.userPassword||"",f.ownerPassword=f.ownerPassword||"",f.userPermissions=f.userPermissions||[]),d=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(r=t.precision),t.floatPrecision!==void 0&&(u=t.floatPrecision),m=t.defaultPathOperation||"S"),o=t.filters||(i===!0?["FlateEncode"]:o),s=s||"mm",a=(""+(a||"P")).toLowerCase();var x=t.putOnlyUsedFonts||!1,b={},p={internal:{},__private__:{}};p.__private__.PubSub=IS;var v="1.3",j=p.__private__.getPdfVersion=function(){return v};p.__private__.setPdfVersion=function(B){v=B};var w={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return w};var N=p.__private__.getPageFormat=function(B){return w[B]};n=n||"a4";var P="compat",A="advanced",D=P;function T(){this.saveGraphicsState(),me(new Et($t,0,0,-$t,0,Nn()*$t).toString()+" cm"),this.setFontSize(this.getFontSize()/$t),m="n",D=A}function R(){this.restoreGraphicsState(),m="S",D=P}var E=p.__private__.combineFontStyleAndFontWeight=function(B,se){if(B=="bold"&&se=="normal"||B=="bold"&&se==400||B=="normal"&&se=="italic"||B=="bold"&&se=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return se&&(B=se==400||se==="normal"?B==="italic"?"italic":"normal":se!=700&&se!=="bold"||B!=="normal"?(se==700?"bold":se)+""+B:"bold"),B};p.advancedAPI=function(B){var se=D===P;return se&&T.call(this),typeof B!="function"||(B(this),se&&R.call(this)),this},p.compatAPI=function(B){var se=D===A;return se&&R.call(this),typeof B!="function"||(B(this),se&&T.call(this)),this},p.isAdvancedAPI=function(){return D===A};var O,k=function(B){if(D!==A)throw new Error(B+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},Y=p.roundToPrecision=p.__private__.roundToPrecision=function(B,se){var Se=r||se;if(isNaN(B)||isNaN(Se))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return B.toFixed(Se).replace(/0+$/,"")};O=p.hpf=p.__private__.hpf=typeof u=="number"?function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.hpf");return Y(B,u)}:u==="smart"?function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.hpf");return Y(B,B>-1&&B<1?16:5)}:function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.hpf");return Y(B,16)};var $=p.f2=p.__private__.f2=function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.f2");return Y(B,2)},M=p.__private__.f3=function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.f3");return Y(B,3)},F=p.scale=p.__private__.scale=function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.scale");return D===P?B*$t:D===A?B:void 0},K=function(B){return F(function(se){return D===P?Nn()-se:D===A?se:void 0}(B))};p.__private__.setPrecision=p.setPrecision=function(B){typeof parseInt(B,10)=="number"&&(r=parseInt(B,10))};var q,U="00000000000000000000000000000000",V=p.__private__.getFileId=function(){return U},Z=p.__private__.setFileId=function(B){return U=B!==void 0&&/^[a-fA-F0-9]{32}$/.test(B)?B.toUpperCase():U.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),f!==null&&(vr=new tf(f.userPermissions,f.userPassword,f.ownerPassword,U)),U};p.setFileId=function(B){return Z(B),this},p.getFileId=function(){return V()};var X=p.__private__.convertDateToPDFDate=function(B){var se=B.getTimezoneOffset(),Se=se<0?"+":"-",ke=Math.floor(Math.abs(se/60)),Oe=Math.abs(se%60),Ye=[Se,G(ke),"'",G(Oe),"'"].join("");return["D:",B.getFullYear(),G(B.getMonth()+1),G(B.getDate()),G(B.getHours()),G(B.getMinutes()),G(B.getSeconds()),Ye].join("")},J=p.__private__.convertPDFDateToDate=function(B){var se=parseInt(B.substr(2,4),10),Se=parseInt(B.substr(6,2),10)-1,ke=parseInt(B.substr(8,2),10),Oe=parseInt(B.substr(10,2),10),Ye=parseInt(B.substr(12,2),10),Je=parseInt(B.substr(14,2),10);return new Date(se,Se,ke,Oe,Ye,Je,0)},be=p.__private__.setCreationDate=function(B){var se;if(B===void 0&&(B=new Date),B instanceof Date)se=X(B);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(B))throw new Error("Invalid argument passed to jsPDF.setCreationDate");se=B}return q=se},z=p.__private__.getCreationDate=function(B){var se=q;return B==="jsDate"&&(se=J(q)),se};p.setCreationDate=function(B){return be(B),this},p.getCreationDate=function(B){return z(B)};var re,G=p.__private__.padd2=function(B){return("0"+parseInt(B)).slice(-2)},Q=p.__private__.padd2Hex=function(B){return("00"+(B=B.toString())).substr(B.length)},ve=0,ye=[],ne=[],te=0,Ae=[],we=[],le=!1,xe=ne;p.__private__.setCustomOutputDestination=function(B){le=!0,xe=B};var oe=function(B){le||(xe=B)};p.__private__.resetCustomOutputDestination=function(){le=!1,xe=ne};var me=p.__private__.out=function(B){return B=B.toString(),te+=B.length+1,xe.push(B),xe},tt=p.__private__.write=function(B){return me(arguments.length===1?B.toString():Array.prototype.join.call(arguments," "))},rt=p.__private__.getArrayBuffer=function(B){for(var se=B.length,Se=new ArrayBuffer(se),ke=new Uint8Array(Se);se--;)ke[se]=B.charCodeAt(se);return Se},it=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return it};var pe=t.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(B){return pe=D===A?B/$t:B,this};var Ie,Qe=p.__private__.getFontSize=p.getFontSize=function(){return D===P?pe:pe*$t},xt=t.R2L||!1;p.__private__.setR2L=p.setR2L=function(B){return xt=B,this},p.__private__.getR2L=p.getR2L=function(){return xt};var dt,xr=p.__private__.setZoomMode=function(B){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(B))Ie=B;else if(isNaN(B)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(B)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+B+'" is not recognized.');Ie=B}else Ie=parseInt(B,10)};p.__private__.getZoomMode=function(){return Ie};var Xt,Rt=p.__private__.setPageMode=function(B){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(B)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+B+'" is not recognized.');dt=B};p.__private__.getPageMode=function(){return dt};var er=p.__private__.setLayoutMode=function(B){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(B)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+B+'" is not recognized.');Xt=B};p.__private__.getLayoutMode=function(){return Xt},p.__private__.setDisplayMode=p.setDisplayMode=function(B,se,Se){return xr(B),er(se),Rt(Se),this};var Pt={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(B){if(Object.keys(Pt).indexOf(B)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Pt[B]},p.__private__.getDocumentProperties=function(){return Pt},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(B){for(var se in Pt)Pt.hasOwnProperty(se)&&B[se]&&(Pt[se]=B[se]);return this},p.__private__.setDocumentProperty=function(B,se){if(Object.keys(Pt).indexOf(B)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Pt[B]=se};var lt,$t,wt,Yr,mr,yt={},Tt={},Er=[],At={},or={},Kt={},pa={},Ea=null,Sr=0,Ut=[],_r=new IS(p),Kl=t.hotfixes||[],ss={},ri={},ai=[],Et=function B(se,Se,ke,Oe,Ye,Je){if(!(this instanceof B))return new B(se,Se,ke,Oe,Ye,Je);isNaN(se)&&(se=1),isNaN(Se)&&(Se=0),isNaN(ke)&&(ke=0),isNaN(Oe)&&(Oe=1),isNaN(Ye)&&(Ye=0),isNaN(Je)&&(Je=0),this._matrix=[se,Se,ke,Oe,Ye,Je]};Object.defineProperty(Et.prototype,"sx",{get:function(){return this._matrix[0]},set:function(B){this._matrix[0]=B}}),Object.defineProperty(Et.prototype,"shy",{get:function(){return this._matrix[1]},set:function(B){this._matrix[1]=B}}),Object.defineProperty(Et.prototype,"shx",{get:function(){return this._matrix[2]},set:function(B){this._matrix[2]=B}}),Object.defineProperty(Et.prototype,"sy",{get:function(){return this._matrix[3]},set:function(B){this._matrix[3]=B}}),Object.defineProperty(Et.prototype,"tx",{get:function(){return this._matrix[4]},set:function(B){this._matrix[4]=B}}),Object.defineProperty(Et.prototype,"ty",{get:function(){return this._matrix[5]},set:function(B){this._matrix[5]=B}}),Object.defineProperty(Et.prototype,"a",{get:function(){return this._matrix[0]},set:function(B){this._matrix[0]=B}}),Object.defineProperty(Et.prototype,"b",{get:function(){return this._matrix[1]},set:function(B){this._matrix[1]=B}}),Object.defineProperty(Et.prototype,"c",{get:function(){return this._matrix[2]},set:function(B){this._matrix[2]=B}}),Object.defineProperty(Et.prototype,"d",{get:function(){return this._matrix[3]},set:function(B){this._matrix[3]=B}}),Object.defineProperty(Et.prototype,"e",{get:function(){return this._matrix[4]},set:function(B){this._matrix[4]=B}}),Object.defineProperty(Et.prototype,"f",{get:function(){return this._matrix[5]},set:function(B){this._matrix[5]=B}}),Object.defineProperty(Et.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Et.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Et.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Et.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Et.prototype.join=function(B){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(O).join(B)},Et.prototype.multiply=function(B){var se=B.sx*this.sx+B.shy*this.shx,Se=B.sx*this.shy+B.shy*this.sy,ke=B.shx*this.sx+B.sy*this.shx,Oe=B.shx*this.shy+B.sy*this.sy,Ye=B.tx*this.sx+B.ty*this.shx+this.tx,Je=B.tx*this.shy+B.ty*this.sy+this.ty;return new Et(se,Se,ke,Oe,Ye,Je)},Et.prototype.decompose=function(){var B=this.sx,se=this.shy,Se=this.shx,ke=this.sy,Oe=this.tx,Ye=this.ty,Je=Math.sqrt(B*B+se*se),ft=(B/=Je)*Se+(se/=Je)*ke;Se-=B*ft,ke-=se*ft;var vt=Math.sqrt(Se*Se+ke*ke);return ft/=vt,B*(ke/=vt)<se*(Se/=vt)&&(B=-B,se=-se,ft=-ft,Je=-Je),{scale:new Et(Je,0,0,vt,0,0),translate:new Et(1,0,0,1,Oe,Ye),rotate:new Et(B,se,-se,B,0,0),skew:new Et(1,0,ft,1,0,0)}},Et.prototype.toString=function(B){return this.join(" ")},Et.prototype.inversed=function(){var B=this.sx,se=this.shy,Se=this.shx,ke=this.sy,Oe=this.tx,Ye=this.ty,Je=1/(B*ke-se*Se),ft=ke*Je,vt=-se*Je,It=-Se*Je,Jt=B*Je;return new Et(ft,vt,It,Jt,-ft*Oe-It*Ye,-vt*Oe-Jt*Ye)},Et.prototype.applyToPoint=function(B){var se=B.x*this.sx+B.y*this.shx+this.tx,Se=B.x*this.shy+B.y*this.sy+this.ty;return new Io(se,Se)},Et.prototype.applyToRectangle=function(B){var se=this.applyToPoint(B),Se=this.applyToPoint(new Io(B.x+B.w,B.y+B.h));return new Fo(se.x,se.y,Se.x-se.x,Se.y-se.y)},Et.prototype.clone=function(){var B=this.sx,se=this.shy,Se=this.shx,ke=this.sy,Oe=this.tx,Ye=this.ty;return new Et(B,se,Se,ke,Oe,Ye)},p.Matrix=Et;var _s=p.matrixMult=function(B,se){return se.multiply(B)},sa=new Et(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=sa;var Xr=function(B,se){if(!or[B]){var Se=(se instanceof Tu?"Sh":"P")+(Object.keys(At).length+1).toString(10);se.id=Se,or[B]=Se,At[Se]=se,_r.publish("addPattern",se)}};p.ShadingPattern=Tu,p.TilingPattern=nf,p.addShadingPattern=function(B,se){return k("addShadingPattern()"),Xr(B,se),this},p.beginTilingPattern=function(B){k("beginTilingPattern()"),gl(B.boundingBox[0],B.boundingBox[1],B.boundingBox[2]-B.boundingBox[0],B.boundingBox[3]-B.boundingBox[1],B.matrix)},p.endTilingPattern=function(B,se){k("endTilingPattern()"),se.stream=we[re].join(`
`),Xr(B,se),_r.publish("endTilingPattern",se),ai.pop().restore()};var ms,na=p.__private__.newObject=function(){var B=ns();return fs(B,!0),B},ns=p.__private__.newObjectDeferred=function(){return ve++,ye[ve]=function(){return te},ve},fs=function(B,se){return se=typeof se=="boolean"&&se,ye[B]=te,se&&me(B+" 0 obj"),B},Wl=p.__private__.newAdditionalObject=function(){var B={objId:ns(),content:""};return Ae.push(B),B},Ln=ns(),bn=ns(),Us=p.__private__.decodeColorString=function(B){var se=B.split(" ");if(se.length!==2||se[1]!=="g"&&se[1]!=="G")se.length!==5||se[4]!=="k"&&se[4]!=="K"||(se=[(1-se[0])*(1-se[3]),(1-se[1])*(1-se[3]),(1-se[2])*(1-se[3]),"r"]);else{var Se=parseFloat(se[0]);se=[Se,Se,Se,"r"]}for(var ke="#",Oe=0;Oe<3;Oe++)ke+=("0"+Math.floor(255*parseFloat(se[Oe])).toString(16)).slice(-2);return ke},As=p.__private__.encodeColorString=function(B){var se;typeof B=="string"&&(B={ch1:B});var Se=B.ch1,ke=B.ch2,Oe=B.ch3,Ye=B.ch4,Je=B.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Se=="string"&&Se.charAt(0)!=="#"){var ft=new q9(Se);if(ft.ok)Se=ft.toHex();else if(!/^\d*\.?\d*$/.test(Se))throw new Error('Invalid color "'+Se+'" passed to jsPDF.encodeColorString.')}if(typeof Se=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Se)&&(Se="#"+Se[1]+Se[1]+Se[2]+Se[2]+Se[3]+Se[3]),typeof Se=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Se)){var vt=parseInt(Se.substr(1),16);Se=vt>>16&255,ke=vt>>8&255,Oe=255&vt}if(ke===void 0||Ye===void 0&&Se===ke&&ke===Oe)se=typeof Se=="string"?Se+" "+Je[0]:B.precision===2?$(Se/255)+" "+Je[0]:M(Se/255)+" "+Je[0];else if(Ye===void 0||Gr(Ye)==="object"){if(Ye&&!isNaN(Ye.a)&&Ye.a===0)return["1.","1.","1.",Je[1]].join(" ");se=typeof Se=="string"?[Se,ke,Oe,Je[1]].join(" "):B.precision===2?[$(Se/255),$(ke/255),$(Oe/255),Je[1]].join(" "):[M(Se/255),M(ke/255),M(Oe/255),Je[1]].join(" ")}else se=typeof Se=="string"?[Se,ke,Oe,Ye,Je[2]].join(" "):B.precision===2?[$(Se),$(ke),$(Oe),$(Ye),Je[2]].join(" "):[M(Se),M(ke),M(Oe),M(Ye),Je[2]].join(" ");return se},qs=p.__private__.getFilters=function(){return o},hs=p.__private__.putStream=function(B){var se=(B=B||{}).data||"",Se=B.filters||qs(),ke=B.alreadyAppliedFilters||[],Oe=B.addLength1||!1,Ye=se.length,Je=B.objectId,ft=function($a){return $a};if(f!==null&&Je===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");f!==null&&(ft=vr.encryptor(Je,0));var vt={};Se===!0&&(Se=["FlateEncode"]);var It=B.additionalKeyValues||[],Jt=(vt=Nt.API.processDataByFilters!==void 0?Nt.API.processDataByFilters(se,Se):{data:se,reverseChain:[]}).reverseChain+(Array.isArray(ke)?ke.join(" "):ke.toString());if(vt.data.length!==0&&(It.push({key:"Length",value:vt.data.length}),Oe===!0&&It.push({key:"Length1",value:Ye})),Jt.length!=0)if(Jt.split("/").length-1==1)It.push({key:"Filter",value:Jt});else{It.push({key:"Filter",value:"["+Jt+"]"});for(var pr=0;pr<It.length;pr+=1)if(It[pr].key==="DecodeParms"){for(var ca=[],Ra=0;Ra<vt.reverseChain.split("/").length-1;Ra+=1)ca.push("null");ca.push(It[pr].value),It[pr].value="["+ca.join(" ")+"]"}}me("<<");for(var Lr=0;Lr<It.length;Lr++)me("/"+It[Lr].key+" "+It[Lr].value);me(">>"),vt.data.length!==0&&(me("stream"),me(ft(vt.data)),me("endstream"))},ia=p.__private__.putPage=function(B){var se=B.number,Se=B.data,ke=B.objId,Oe=B.contentsObjId;fs(ke,!0),me("<</Type /Page"),me("/Parent "+B.rootDictionaryObjId+" 0 R"),me("/Resources "+B.resourceDictionaryObjId+" 0 R"),me("/MediaBox ["+parseFloat(O(B.mediaBox.bottomLeftX))+" "+parseFloat(O(B.mediaBox.bottomLeftY))+" "+O(B.mediaBox.topRightX)+" "+O(B.mediaBox.topRightY)+"]"),B.cropBox!==null&&me("/CropBox ["+O(B.cropBox.bottomLeftX)+" "+O(B.cropBox.bottomLeftY)+" "+O(B.cropBox.topRightX)+" "+O(B.cropBox.topRightY)+"]"),B.bleedBox!==null&&me("/BleedBox ["+O(B.bleedBox.bottomLeftX)+" "+O(B.bleedBox.bottomLeftY)+" "+O(B.bleedBox.topRightX)+" "+O(B.bleedBox.topRightY)+"]"),B.trimBox!==null&&me("/TrimBox ["+O(B.trimBox.bottomLeftX)+" "+O(B.trimBox.bottomLeftY)+" "+O(B.trimBox.topRightX)+" "+O(B.trimBox.topRightY)+"]"),B.artBox!==null&&me("/ArtBox ["+O(B.artBox.bottomLeftX)+" "+O(B.artBox.bottomLeftY)+" "+O(B.artBox.topRightX)+" "+O(B.artBox.topRightY)+"]"),typeof B.userUnit=="number"&&B.userUnit!==1&&me("/UserUnit "+B.userUnit),_r.publish("putPage",{objId:ke,pageContext:Ut[se],pageNumber:se,page:Se}),me("/Contents "+Oe+" 0 R"),me(">>"),me("endobj");var Ye=Se.join(`
`);return D===A&&(Ye+=`
Q`),fs(Oe,!0),hs({data:Ye,filters:qs(),objectId:Oe}),me("endobj"),ke},si=p.__private__.putPages=function(){var B,se,Se=[];for(B=1;B<=Sr;B++)Ut[B].objId=ns(),Ut[B].contentsObjId=ns();for(B=1;B<=Sr;B++)Se.push(ia({number:B,data:we[B],objId:Ut[B].objId,contentsObjId:Ut[B].contentsObjId,mediaBox:Ut[B].mediaBox,cropBox:Ut[B].cropBox,bleedBox:Ut[B].bleedBox,trimBox:Ut[B].trimBox,artBox:Ut[B].artBox,userUnit:Ut[B].userUnit,rootDictionaryObjId:Ln,resourceDictionaryObjId:bn}));fs(Ln,!0),me("<</Type /Pages");var ke="/Kids [";for(se=0;se<Sr;se++)ke+=Se[se]+" 0 R ";me(ke+"]"),me("/Count "+Sr),me(">>"),me("endobj"),_r.publish("postPutPages")},Xl=function(B){_r.publish("putFont",{font:B,out:me,newObject:na,putStream:hs}),B.isAlreadyPutted!==!0&&(B.objectNumber=na(),me("<<"),me("/Type /Font"),me("/BaseFont /"+rf(B.postScriptName)),me("/Subtype /Type1"),typeof B.encoding=="string"&&me("/Encoding /"+B.encoding),me("/FirstChar 32"),me("/LastChar 255"),me(">>"),me("endobj"))},Mn=function(B){B.objectNumber=na();var se=[];se.push({key:"Type",value:"/XObject"}),se.push({key:"Subtype",value:"/Form"}),se.push({key:"BBox",value:"["+[O(B.x),O(B.y),O(B.x+B.width),O(B.y+B.height)].join(" ")+"]"}),se.push({key:"Matrix",value:"["+B.matrix.toString()+"]"});var Se=B.pages[1].join(`
`);hs({data:Se,additionalKeyValues:se,objectId:B.objectNumber}),me("endobj")},ni=function(B,se){se||(se=21);var Se=na(),ke=function(Je,ft){var vt,It=[],Jt=1/(ft-1);for(vt=0;vt<1;vt+=Jt)It.push(vt);if(It.push(1),Je[0].offset!=0){var pr={offset:0,color:Je[0].color};Je.unshift(pr)}if(Je[Je.length-1].offset!=1){var ca={offset:1,color:Je[Je.length-1].color};Je.push(ca)}for(var Ra="",Lr=0,$a=0;$a<It.length;$a++){for(vt=It[$a];vt>Je[Lr+1].offset;)Lr++;var Ia=Je[Lr].offset,xs=(vt-Ia)/(Je[Lr+1].offset-Ia),yl=Je[Lr].color,ro=Je[Lr+1].color;Ra+=Q(Math.round((1-xs)*yl[0]+xs*ro[0]).toString(16))+Q(Math.round((1-xs)*yl[1]+xs*ro[1]).toString(16))+Q(Math.round((1-xs)*yl[2]+xs*ro[2]).toString(16))}return Ra.trim()}(B.colors,se),Oe=[];Oe.push({key:"FunctionType",value:"0"}),Oe.push({key:"Domain",value:"[0.0 1.0]"}),Oe.push({key:"Size",value:"["+se+"]"}),Oe.push({key:"BitsPerSample",value:"8"}),Oe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Oe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),hs({data:ke,additionalKeyValues:Oe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Se}),me("endobj"),B.objectNumber=na(),me("<< /ShadingType "+B.type),me("/ColorSpace /DeviceRGB");var Ye="/Coords ["+O(parseFloat(B.coords[0]))+" "+O(parseFloat(B.coords[1]))+" ";B.type===2?Ye+=O(parseFloat(B.coords[2]))+" "+O(parseFloat(B.coords[3])):Ye+=O(parseFloat(B.coords[2]))+" "+O(parseFloat(B.coords[3]))+" "+O(parseFloat(B.coords[4]))+" "+O(parseFloat(B.coords[5])),me(Ye+="]"),B.matrix&&me("/Matrix ["+B.matrix.toString()+"]"),me("/Function "+Se+" 0 R"),me("/Extend [true true]"),me(">>"),me("endobj")},Oc=function(B,se){var Se=ns(),ke=na();se.push({resourcesOid:Se,objectOid:ke}),B.objectNumber=ke;var Oe=[];Oe.push({key:"Type",value:"/Pattern"}),Oe.push({key:"PatternType",value:"1"}),Oe.push({key:"PaintType",value:"1"}),Oe.push({key:"TilingType",value:"1"}),Oe.push({key:"BBox",value:"["+B.boundingBox.map(O).join(" ")+"]"}),Oe.push({key:"XStep",value:O(B.xStep)}),Oe.push({key:"YStep",value:O(B.yStep)}),Oe.push({key:"Resources",value:Se+" 0 R"}),B.matrix&&Oe.push({key:"Matrix",value:"["+B.matrix.toString()+"]"}),hs({data:B.stream,additionalKeyValues:Oe,objectId:B.objectNumber}),me("endobj")},mm=function(B){for(var se in B.objectNumber=na(),me("<<"),B)switch(se){case"opacity":me("/ca "+$(B[se]));break;case"stroke-opacity":me("/CA "+$(B[se]))}me(">>"),me("endobj")},Dc=function(B){fs(B.resourcesOid,!0),me("<<"),me("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var se in me("/Font <<"),yt)yt.hasOwnProperty(se)&&(x===!1||x===!0&&b.hasOwnProperty(se))&&me("/"+se+" "+yt[se].objectNumber+" 0 R");me(">>")}(),function(){if(Object.keys(At).length>0){for(var se in me("/Shading <<"),At)At.hasOwnProperty(se)&&At[se]instanceof Tu&&At[se].objectNumber>=0&&me("/"+se+" "+At[se].objectNumber+" 0 R");_r.publish("putShadingPatternDict"),me(">>")}}(),function(se){if(Object.keys(At).length>0){for(var Se in me("/Pattern <<"),At)At.hasOwnProperty(Se)&&At[Se]instanceof p.TilingPattern&&At[Se].objectNumber>=0&&At[Se].objectNumber<se&&me("/"+Se+" "+At[Se].objectNumber+" 0 R");_r.publish("putTilingPatternDict"),me(">>")}}(B.objectOid),function(){if(Object.keys(Kt).length>0){var se;for(se in me("/ExtGState <<"),Kt)Kt.hasOwnProperty(se)&&Kt[se].objectNumber>=0&&me("/"+se+" "+Kt[se].objectNumber+" 0 R");_r.publish("putGStateDict"),me(">>")}}(),function(){for(var se in me("/XObject <<"),ss)ss.hasOwnProperty(se)&&ss[se].objectNumber>=0&&me("/"+se+" "+ss[se].objectNumber+" 0 R");_r.publish("putXobjectDict"),me(">>")}(),me(">>"),me("endobj")},fm=function(B){Tt[B.fontName]=Tt[B.fontName]||{},Tt[B.fontName][B.fontStyle]=B.id},Do=function(B,se,Se,ke,Oe){var Ye={id:"F"+(Object.keys(yt).length+1).toString(10),postScriptName:B,fontName:se,fontStyle:Se,encoding:ke,isStandardFont:Oe||!1,metadata:{}};return _r.publish("addFont",{font:Ye,instance:this}),yt[Ye.id]=Ye,fm(Ye),Ye.id},Hs=p.__private__.pdfEscape=p.pdfEscape=function(B,se){return function(Se,ke){var Oe,Ye,Je,ft,vt,It,Jt,pr,ca;if(Je=(ke=ke||{}).sourceEncoding||"Unicode",vt=ke.outputEncoding,(ke.autoencode||vt)&&yt[lt].metadata&&yt[lt].metadata[Je]&&yt[lt].metadata[Je].encoding&&(ft=yt[lt].metadata[Je].encoding,!vt&&yt[lt].encoding&&(vt=yt[lt].encoding),!vt&&ft.codePages&&(vt=ft.codePages[0]),typeof vt=="string"&&(vt=ft[vt]),vt)){for(Jt=!1,It=[],Oe=0,Ye=Se.length;Oe<Ye;Oe++)(pr=vt[Se.charCodeAt(Oe)])?It.push(String.fromCharCode(pr)):It.push(Se[Oe]),It[Oe].charCodeAt(0)>>8&&(Jt=!0);Se=It.join("")}for(Oe=Se.length;Jt===void 0&&Oe!==0;)Se.charCodeAt(Oe-1)>>8&&(Jt=!0),Oe--;if(!Jt)return Se;for(It=ke.noBOM?[]:[254,255],Oe=0,Ye=Se.length;Oe<Ye;Oe++){if((ca=(pr=Se.charCodeAt(Oe))>>8)>>8)throw new Error("Character at position "+Oe+" of string '"+Se+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");It.push(ca),It.push(pr-(ca<<8))}return String.fromCharCode.apply(void 0,It)}(B,se).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},vn=p.__private__.beginPage=function(B){we[++Sr]=[],Ut[Sr]={objId:0,contentsObjId:0,userUnit:Number(d),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(B[0]),topRightY:Number(B[1])}},fl(Sr),oe(we[re])},Lc=function(B,se){var Se,ke,Oe;switch(a=se||a,typeof B=="string"&&(Se=N(B.toLowerCase()),Array.isArray(Se)&&(ke=Se[0],Oe=Se[1])),Array.isArray(B)&&(ke=B[0]*$t,Oe=B[1]*$t),isNaN(ke)&&(ke=n[0],Oe=n[1]),(ke>14400||Oe>14400)&&(ea.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ke=Math.min(14400,ke),Oe=Math.min(14400,Oe)),n=[ke,Oe],a.substr(0,1)){case"l":Oe>ke&&(n=[Oe,ke]);break;case"p":ke>Oe&&(n=[Oe,ke])}vn(n),tu(Li),me(xl),ci!==0&&me(ci+" J"),eo!==0&&me(eo+" j"),_r.publish("addPage",{pageNumber:Sr})},Mc=function(B){B>0&&B<=Sr&&(we.splice(B,1),Ut.splice(B,1),Sr--,re>Sr&&(re=Sr),this.setPage(re))},fl=function(B){B>0&&B<=Sr&&(re=B)},Rc=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return we.length-1},$c=function(B,se,Se){var ke,Oe=void 0;return Se=Se||{},B=B!==void 0?B:yt[lt].fontName,se=se!==void 0?se:yt[lt].fontStyle,ke=B.toLowerCase(),Tt[ke]!==void 0&&Tt[ke][se]!==void 0?Oe=Tt[ke][se]:Tt[B]!==void 0&&Tt[B][se]!==void 0?Oe=Tt[B][se]:Se.disableWarning===!1&&ea.warn("Unable to look up font label for font '"+B+"', '"+se+"'. Refer to getFontList() for available fonts."),Oe||Se.noFallback||(Oe=Tt.times[se])==null&&(Oe=Tt.times.normal),Oe},Ic=p.__private__.putInfo=function(){var B=na(),se=function(ke){return ke};for(var Se in f!==null&&(se=vr.encryptor(B,0)),me("<<"),me("/Producer ("+Hs(se("jsPDF "+Nt.version))+")"),Pt)Pt.hasOwnProperty(Se)&&Pt[Se]&&me("/"+Se.substr(0,1).toUpperCase()+Se.substr(1)+" ("+Hs(se(Pt[Se]))+")");me("/CreationDate ("+Hs(se(q))+")"),me(">>"),me("endobj")},hm=p.__private__.putCatalog=function(B){var se=(B=B||{}).rootDictionaryObjId||Ln;switch(na(),me("<<"),me("/Type /Catalog"),me("/Pages "+se+" 0 R"),Ie||(Ie="fullwidth"),Ie){case"fullwidth":me("/OpenAction [3 0 R /FitH null]");break;case"fullheight":me("/OpenAction [3 0 R /FitV null]");break;case"fullpage":me("/OpenAction [3 0 R /Fit]");break;case"original":me("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Se=""+Ie;Se.substr(Se.length-1)==="%"&&(Ie=parseInt(Ie)/100),typeof Ie=="number"&&me("/OpenAction [3 0 R /XYZ null null "+$(Ie)+"]")}switch(Xt||(Xt="continuous"),Xt){case"continuous":me("/PageLayout /OneColumn");break;case"single":me("/PageLayout /SinglePage");break;case"two":case"twoleft":me("/PageLayout /TwoColumnLeft");break;case"tworight":me("/PageLayout /TwoColumnRight")}dt&&me("/PageMode /"+dt),_r.publish("putCatalog"),me(">>"),me("endobj")},Ar=p.__private__.putTrailer=function(){me("trailer"),me("<<"),me("/Size "+(ve+1)),me("/Root "+ve+" 0 R"),me("/Info "+(ve-1)+" 0 R"),f!==null&&me("/Encrypt "+vr.oid+" 0 R"),me("/ID [ <"+U+"> <"+U+"> ]"),me(">>")},Wd=p.__private__.putHeader=function(){me("%PDF-"+v),me("%ºß¬à")},xm=p.__private__.putXRef=function(){var B="0000000000";me("xref"),me("0 "+(ve+1)),me("0000000000 65535 f ");for(var se=1;se<=ve;se++)typeof ye[se]=="function"?me((B+ye[se]()).slice(-10)+" 00000 n "):ye[se]!==void 0?me((B+ye[se]).slice(-10)+" 00000 n "):me("0000000000 00000 n ")},Rn=p.__private__.buildDocument=function(){var B;ve=0,te=0,ne=[],ye=[],Ae=[],Ln=ns(),bn=ns(),oe(ne),_r.publish("buildDocument"),Wd(),si(),function(){_r.publish("putAdditionalObjects");for(var Se=0;Se<Ae.length;Se++){var ke=Ae[Se];fs(ke.objId,!0),me(ke.content),me("endobj")}_r.publish("postPutAdditionalObjects")}(),B=[],function(){for(var Se in yt)yt.hasOwnProperty(Se)&&(x===!1||x===!0&&b.hasOwnProperty(Se))&&Xl(yt[Se])}(),function(){var Se;for(Se in Kt)Kt.hasOwnProperty(Se)&&mm(Kt[Se])}(),function(){for(var Se in ss)ss.hasOwnProperty(Se)&&Mn(ss[Se])}(),function(Se){var ke;for(ke in At)At.hasOwnProperty(ke)&&(At[ke]instanceof Tu?ni(At[ke]):At[ke]instanceof nf&&Oc(At[ke],Se))}(B),_r.publish("putResources"),B.forEach(Dc),Dc({resourcesOid:bn,objectOid:Number.MAX_SAFE_INTEGER}),_r.publish("postPutResources"),f!==null&&(vr.oid=na(),me("<<"),me("/Filter /Standard"),me("/V "+vr.v),me("/R "+vr.r),me("/U <"+vr.toHexString(vr.U)+">"),me("/O <"+vr.toHexString(vr.O)+">"),me("/P "+vr.P),me(">>"),me("endobj")),Ic(),hm();var se=te;return xm(),Ar(),me("startxref"),me(""+se),me("%%EOF"),oe(we[re]),ne.join(`
`)},Jl=p.__private__.getBlob=function(B){return new Blob([rt(B)],{type:"application/pdf"})},ln=p.output=p.__private__.output=(ms=function(B,se){switch(typeof(se=se||{})=="string"?se={filename:se}:se.filename=se.filename||"generated.pdf",B){case void 0:return Rn();case"save":p.save(se.filename);break;case"arraybuffer":return rt(Rn());case"blob":return Jl(Rn());case"bloburi":case"bloburl":if(Gt.URL!==void 0&&typeof Gt.URL.createObjectURL=="function")return Gt.URL&&Gt.URL.createObjectURL(Jl(Rn()))||void 0;ea.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Se="",ke=Rn();try{Se=MS(ke)}catch{Se=MS(unescape(encodeURIComponent(ke)))}return"data:application/pdf;filename="+se.filename+";base64,"+Se;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Gt)==="[object Window]"){var Oe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ye=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';se.pdfObjectUrl&&(Oe=se.pdfObjectUrl,Ye="");var Je='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Oe+'"'+Ye+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(se)+");<\/script></body></html>",ft=Gt.open();return ft!==null&&ft.document.write(Je),ft}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Gt)==="[object Window]"){var vt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(se.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+se.filename+'" width="500px" height="400px" /></body></html>',It=Gt.open();if(It!==null){It.document.write(vt);var Jt=this;It.document.documentElement.querySelector("#pdfViewer").onload=function(){It.document.title=se.filename,It.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Jt.output("bloburl"))}}return It}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Gt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var pr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",se)+'"></iframe></body></html>',ca=Gt.open();if(ca!==null&&(ca.document.write(pr),ca.document.title=se.filename),ca||typeof safari>"u")return ca;break;case"datauri":case"dataurl":return Gt.document.location.href=this.output("datauristring",se);default:return null}},ms.foo=function(){try{return ms.apply(this,arguments)}catch(Se){var B=Se.stack||"";~B.indexOf(" at ")&&(B=B.split(" at ")[1]);var se="Error in function "+B.split(`
`)[0].split("<")[0]+": "+Se.message;if(!Gt.console)throw new Error(se);Gt.console.error(se,Se),Gt.alert&&alert(se)}},ms.foo.bar=ms,ms.foo),Lo=function(B){return Array.isArray(Kl)===!0&&Kl.indexOf(B)>-1};switch(s){case"pt":$t=1;break;case"mm":$t=72/25.4;break;case"cm":$t=72/2.54;break;case"in":$t=72;break;case"px":$t=Lo("px_scaling")==1?.75:96/72;break;case"pc":case"em":$t=12;break;case"ex":$t=6;break;default:if(typeof s!="number")throw new Error("Invalid unit: "+s);$t=s}var vr=null;be(),Z();var Mo=p.__private__.getPageInfo=p.getPageInfo=function(B){if(isNaN(B)||B%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Ut[B].objId,pageNumber:B,pageContext:Ut[B]}},pm=p.__private__.getPageInfoByObjId=function(B){if(isNaN(B)||B%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var se in Ut)if(Ut[se].objId===B)break;return Mo(se)},Xd=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:Ut[re].objId,pageNumber:re,pageContext:Ut[re]}};p.addPage=function(){return Lc.apply(this,arguments),this},p.setPage=function(){return fl.apply(this,arguments),oe.call(this,we[re]),this},p.insertPage=function(B){return this.addPage(),this.movePage(re,B),this},p.movePage=function(B,se){var Se,ke;if(B>se){Se=we[B],ke=Ut[B];for(var Oe=B;Oe>se;Oe--)we[Oe]=we[Oe-1],Ut[Oe]=Ut[Oe-1];we[se]=Se,Ut[se]=ke,this.setPage(se)}else if(B<se){Se=we[B],ke=Ut[B];for(var Ye=B;Ye<se;Ye++)we[Ye]=we[Ye+1],Ut[Ye]=Ut[Ye+1];we[se]=Se,Ut[se]=ke,this.setPage(se)}return this},p.deletePage=function(){return Mc.apply(this,arguments),this},p.__private__.text=p.text=function(B,se,Se,ke,Oe){var Ye,Je,ft,vt,It,Jt,pr,ca,Ra,Lr=(ke=ke||{}).scope||this;if(typeof B=="number"&&typeof se=="number"&&(typeof Se=="string"||Array.isArray(Se))){var $a=Se;Se=se,se=B,B=$a}if(arguments[3]instanceof Et==0?(ft=arguments[4],vt=arguments[5],Gr(pr=arguments[3])==="object"&&pr!==null||(typeof ft=="string"&&(vt=ft,ft=null),typeof pr=="string"&&(vt=pr,pr=null),typeof pr=="number"&&(ft=pr,pr=null),ke={flags:pr,angle:ft,align:vt})):(k("The transform parameter of text() with a Matrix value"),Ra=Oe),isNaN(se)||isNaN(Se)||B==null)throw new Error("Invalid arguments passed to jsPDF.text");if(B.length===0)return Lr;var Ia,xs="",yl=typeof ke.lineHeightFactor=="number"?ke.lineHeightFactor:$n,ro=Lr.internal.scaleFactor;function Xf(kr){return kr=kr.split("	").join(Array(ke.TabLen||9).join(" ")),Hs(kr,pr)}function bm(kr){for(var Mr,Jr=kr.concat(),da=[],Vi=Jr.length;Vi--;)typeof(Mr=Jr.shift())=="string"?da.push(Mr):Array.isArray(kr)&&(Mr.length===1||Mr[1]===void 0&&Mr[2]===void 0)?da.push(Mr[0]):da.push([Mr[0],Mr[1],Mr[2]]);return da}function Bo(kr,Mr){var Jr;if(typeof kr=="string")Jr=Mr(kr)[0];else if(Array.isArray(kr)){for(var da,Vi,zn=kr.concat(),Vs=[],Uo=zn.length;Uo--;)typeof(da=zn.shift())=="string"?Vs.push(Mr(da)[0]):Array.isArray(da)&&typeof da[0]=="string"&&(Vi=Mr(da[0],da[1],da[2]),Vs.push([Vi[0],Vi[1],Vi[2]]));Jr=Vs}return Jr}var ui=!1,su=!0;if(typeof B=="string")ui=!0;else if(Array.isArray(B)){var ao=B.concat();Je=[];for(var In,is=ao.length;is--;)(typeof(In=ao.shift())!="string"||Array.isArray(In)&&typeof In[0]!="string")&&(su=!1);ui=su}if(ui===!1)throw new Error('Type of text must be string or Array. "'+B+'" is not recognized.');typeof B=="string"&&(B=B.match(/[\r?\n]/)?B.split(/\r\n|\r|\n/g):[B]);var Fi=pe/Lr.internal.scaleFactor,Bi=Fi*(yl-1);switch(ke.baseline){case"bottom":Se-=Bi;break;case"top":Se+=Fi-Bi;break;case"hanging":Se+=Fi-2*Bi;break;case"middle":Se+=Fi/2-Bi}if((Jt=ke.maxWidth||0)>0&&(typeof B=="string"?B=Lr.splitTextToSize(B,Jt):Object.prototype.toString.call(B)==="[object Array]"&&(B=B.reduce(function(kr,Mr){return kr.concat(Lr.splitTextToSize(Mr,Jt))},[]))),Ye={text:B,x:se,y:Se,options:ke,mutex:{pdfEscape:Hs,activeFontKey:lt,fonts:yt,activeFontSize:pe}},_r.publish("preProcessText",Ye),B=Ye.text,ft=(ke=Ye.options).angle,Ra instanceof Et==0&&ft&&typeof ft=="number"){ft*=Math.PI/180,ke.rotationDirection===0&&(ft=-ft),D===A&&(ft=-ft);var zo=Math.cos(ft),Uc=Math.sin(ft);Ra=new Et(zo,Uc,-Uc,zo,0,0)}else ft&&ft instanceof Et&&(Ra=ft);D!==A||Ra||(Ra=sa),(It=ke.charSpace||$o)!==void 0&&(xs+=O(F(It))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(ca=ke.horizontalScale)!==void 0&&(xs+=O(100*ca)+` Tz
`),ke.lang;var Cs=-1,bl=ke.renderingMode!==void 0?ke.renderingMode:ke.stroke,qc=Lr.internal.getCurrentPageInfo().pageContext;switch(bl){case 0:case!1:case"fill":Cs=0;break;case 1:case!0:case"stroke":Cs=1;break;case 2:case"fillThenStroke":Cs=2;break;case 3:case"invisible":Cs=3;break;case 4:case"fillAndAddForClipping":Cs=4;break;case 5:case"strokeAndAddPathForClipping":Cs=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Cs=6;break;case 7:case"addToPathForClipping":Cs=7}var vm=qc.usedRenderingMode!==void 0?qc.usedRenderingMode:-1;Cs!==-1?xs+=Cs+` Tr
`:vm!==-1&&(xs+=`0 Tr
`),Cs!==-1&&(qc.usedRenderingMode=Cs),vt=ke.align||"left";var qa,wn=pe*yl,Hc=Lr.internal.pageSize.getWidth(),vl=yt[lt];It=ke.charSpace||$o,Jt=ke.maxWidth||0,pr=Object.assign({autoencode:!0,noBOM:!0},ke.flags);var Fn=[],Gc=function(kr){return Lr.getStringUnitWidth(kr,{font:vl,charSpace:It,fontSize:pe,doKerning:!1})*pe/ro};if(Object.prototype.toString.call(B)==="[object Array]"){var ps;Je=bm(B),vt!=="left"&&(qa=Je.map(Gc));var Gs,so=0;if(vt==="right"){se-=qa[0],B=[],is=Je.length;for(var Bn=0;Bn<is;Bn++)Bn===0?(Gs=oi(se),ps=jn(Se)):(Gs=F(so-qa[Bn]),ps=-wn),B.push([Je[Bn],Gs,ps]),so=qa[Bn]}else if(vt==="center"){se-=qa[0]/2,B=[],is=Je.length;for(var zi=0;zi<is;zi++)zi===0?(Gs=oi(se),ps=jn(Se)):(Gs=F((so-qa[zi])/2),ps=-wn),B.push([Je[zi],Gs,ps]),so=qa[zi]}else if(vt==="left"){B=[],is=Je.length;for(var Yc=0;Yc<is;Yc++)B.push(Je[Yc])}else if(vt==="justify"&&vl.encoding==="Identity-H"){B=[],is=Je.length,Jt=Jt!==0?Jt:Hc;for(var jl=0,ga=0;ga<is;ga++)if(ps=ga===0?jn(Se):-wn,Gs=ga===0?oi(se):jl,ga<is-1){var Jf=F((Jt-qa[ga])/(Je[ga].split(" ").length-1)),Ui=Je[ga].split(" ");B.push([Ui[0]+" ",Gs,ps]),jl=0;for(var qi=1;qi<Ui.length;qi++){var Vc=(Gc(Ui[qi-1]+" "+Ui[qi])-Gc(Ui[qi]))*ro+Jf;qi==Ui.length-1?B.push([Ui[qi],Vc,0]):B.push([Ui[qi]+" ",Vc,0]),jl-=Vc}}else B.push([Je[ga],Gs,ps]);B.push(["",jl,0])}else{if(vt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(B=[],is=Je.length,Jt=Jt!==0?Jt:Hc,ga=0;ga<is;ga++)ps=ga===0?jn(Se):-wn,Gs=ga===0?oi(se):0,ga<is-1?Fn.push(O(F((Jt-qa[ga])/(Je[ga].split(" ").length-1)))):Fn.push(0),B.push([Je[ga],Gs,ps])}}(typeof ke.R2L=="boolean"?ke.R2L:xt)===!0&&(B=Bo(B,function(kr,Mr,Jr){return[kr.split("").reverse().join(""),Mr,Jr]})),Ye={text:B,x:se,y:Se,options:ke,mutex:{pdfEscape:Hs,activeFontKey:lt,fonts:yt,activeFontSize:pe}},_r.publish("postProcessText",Ye),B=Ye.text,Ia=Ye.mutex.isHex||!1;var nu=yt[lt].encoding;nu!=="WinAnsiEncoding"&&nu!=="StandardEncoding"||(B=Bo(B,function(kr,Mr,Jr){return[Xf(kr),Mr,Jr]})),Je=bm(B),B=[];for(var ls,Hi,no,io=Array.isArray(Je[0])?1:0,Gi="",Kc=function(kr,Mr,Jr){var da="";return Jr instanceof Et?(Jr=typeof ke.angle=="number"?_s(Jr,new Et(1,0,0,1,kr,Mr)):_s(new Et(1,0,0,1,kr,Mr),Jr),D===A&&(Jr=_s(new Et(1,0,0,-1,0,0),Jr)),da=Jr.join(" ")+` Tm
`):da=O(kr)+" "+O(Mr)+` Td
`,da},Ys=0;Ys<Je.length;Ys++){switch(Gi="",io){case 1:no=(Ia?"<":"(")+Je[Ys][0]+(Ia?">":")"),ls=parseFloat(Je[Ys][1]),Hi=parseFloat(Je[Ys][2]);break;case 0:no=(Ia?"<":"(")+Je[Ys]+(Ia?">":")"),ls=oi(se),Hi=jn(Se)}Fn!==void 0&&Fn[Ys]!==void 0&&(Gi=Fn[Ys]+` Tw
`),Ys===0?B.push(Gi+Kc(ls,Hi,Ra)+no):io===0?B.push(Gi+no):io===1&&B.push(Gi+Kc(ls,Hi,Ra)+no)}B=io===0?B.join(` Tj
T* `):B.join(` Tj
`),B+=` Tj
`;var Yi=`BT
/`;return Yi+=lt+" "+pe+` Tf
`,Yi+=O(pe*yl)+` TL
`,Yi+=Ri+`
`,Yi+=xs,Yi+=B,me(Yi+="ET"),b[lt]=!0,Lr};var Zl=p.__private__.clip=p.clip=function(B){return me(B==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return Zl("evenodd")},p.__private__.discardPath=p.discardPath=function(){return me("n"),this};var ii=p.__private__.isValidStyle=function(B){var se=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(B)!==-1&&(se=!0),se};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(B){return ii(B)&&(m=B),this};var Jd=p.__private__.getStyle=p.getStyle=function(B){var se=m;switch(B){case"D":case"S":se="S";break;case"F":se="f";break;case"FD":case"DF":se="B";break;case"f":case"f*":case"B":case"B*":se=B}return se},hl=p.close=function(){return me("h"),this};p.stroke=function(){return me("S"),this},p.fill=function(B){return Ql("f",B),this},p.fillEvenOdd=function(B){return Ql("f*",B),this},p.fillStroke=function(B){return Ql("B",B),this},p.fillStrokeEvenOdd=function(B){return Ql("B*",B),this};var Ql=function(B,se){Gr(se)==="object"?Zd(se,B):me(B)},Fc=function(B){B===null||D===A&&B===void 0||(B=Jd(B),me(B))};function gm(B,se,Se,ke,Oe){var Ye=new nf(se||this.boundingBox,Se||this.xStep,ke||this.yStep,this.gState,Oe||this.matrix);Ye.stream=this.stream;var Je=B+"$$"+this.cloneIndex+++"$$";return Xr(Je,Ye),Ye}var Zd=function(B,se){var Se=or[B.key],ke=At[Se];if(ke instanceof Tu)me("q"),me(Wf(se)),ke.gState&&p.setGState(ke.gState),me(B.matrix.toString()+" cm"),me("/"+Se+" sh"),me("Q");else if(ke instanceof nf){var Oe=new Et(1,0,0,-1,0,Nn());B.matrix&&(Oe=Oe.multiply(B.matrix||sa),Se=gm.call(ke,B.key,B.boundingBox,B.xStep,B.yStep,Oe).id),me("q"),me("/Pattern cs"),me("/"+Se+" scn"),ke.gState&&p.setGState(ke.gState),me(se),me("Q")}},Wf=function(B){switch(B){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Qd=p.moveTo=function(B,se){return me(O(F(B))+" "+O(K(se))+" m"),this},Oi=p.lineTo=function(B,se){return me(O(F(B))+" "+O(K(se))+" l"),this},Di=p.curveTo=function(B,se,Se,ke,Oe,Ye){return me([O(F(B)),O(K(se)),O(F(Se)),O(K(ke)),O(F(Oe)),O(K(Ye)),"c"].join(" ")),this};p.__private__.line=p.line=function(B,se,Se,ke,Oe){if(isNaN(B)||isNaN(se)||isNaN(Se)||isNaN(ke)||!ii(Oe))throw new Error("Invalid arguments passed to jsPDF.line");return D===P?this.lines([[Se-B,ke-se]],B,se,[1,1],Oe||"S"):this.lines([[Se-B,ke-se]],B,se,[1,1]).stroke()},p.__private__.lines=p.lines=function(B,se,Se,ke,Oe,Ye){var Je,ft,vt,It,Jt,pr,ca,Ra,Lr,$a,Ia,xs;if(typeof B=="number"&&(xs=Se,Se=se,se=B,B=xs),ke=ke||[1,1],Ye=Ye||!1,isNaN(se)||isNaN(Se)||!Array.isArray(B)||!Array.isArray(ke)||!ii(Oe)||typeof Ye!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Qd(se,Se),Je=ke[0],ft=ke[1],It=B.length,$a=se,Ia=Se,vt=0;vt<It;vt++)(Jt=B[vt]).length===2?($a=Jt[0]*Je+$a,Ia=Jt[1]*ft+Ia,Oi($a,Ia)):(pr=Jt[0]*Je+$a,ca=Jt[1]*ft+Ia,Ra=Jt[2]*Je+$a,Lr=Jt[3]*ft+Ia,$a=Jt[4]*Je+$a,Ia=Jt[5]*ft+Ia,Di(pr,ca,Ra,Lr,$a,Ia));return Ye&&hl(),Fc(Oe),this},p.path=function(B){for(var se=0;se<B.length;se++){var Se=B[se],ke=Se.c;switch(Se.op){case"m":Qd(ke[0],ke[1]);break;case"l":Oi(ke[0],ke[1]);break;case"c":Di.apply(this,ke);break;case"h":hl()}}return this},p.__private__.rect=p.rect=function(B,se,Se,ke,Oe){if(isNaN(B)||isNaN(se)||isNaN(Se)||isNaN(ke)||!ii(Oe))throw new Error("Invalid arguments passed to jsPDF.rect");return D===P&&(ke=-ke),me([O(F(B)),O(K(se)),O(F(Se)),O(F(ke)),"re"].join(" ")),Fc(Oe),this},p.__private__.triangle=p.triangle=function(B,se,Se,ke,Oe,Ye,Je){if(isNaN(B)||isNaN(se)||isNaN(Se)||isNaN(ke)||isNaN(Oe)||isNaN(Ye)||!ii(Je))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Se-B,ke-se],[Oe-Se,Ye-ke],[B-Oe,se-Ye]],B,se,[1,1],Je,!0),this},p.__private__.roundedRect=p.roundedRect=function(B,se,Se,ke,Oe,Ye,Je){if(isNaN(B)||isNaN(se)||isNaN(Se)||isNaN(ke)||isNaN(Oe)||isNaN(Ye)||!ii(Je))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var ft=4/3*(Math.SQRT2-1);return Oe=Math.min(Oe,.5*Se),Ye=Math.min(Ye,.5*ke),this.lines([[Se-2*Oe,0],[Oe*ft,0,Oe,Ye-Ye*ft,Oe,Ye],[0,ke-2*Ye],[0,Ye*ft,-Oe*ft,Ye,-Oe,Ye],[2*Oe-Se,0],[-Oe*ft,0,-Oe,-Ye*ft,-Oe,-Ye],[0,2*Ye-ke],[0,-Ye*ft,Oe*ft,-Ye,Oe,-Ye]],B+Oe,se,[1,1],Je,!0),this},p.__private__.ellipse=p.ellipse=function(B,se,Se,ke,Oe){if(isNaN(B)||isNaN(se)||isNaN(Se)||isNaN(ke)||!ii(Oe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ye=4/3*(Math.SQRT2-1)*Se,Je=4/3*(Math.SQRT2-1)*ke;return Qd(B+Se,se),Di(B+Se,se-Je,B+Ye,se-ke,B,se-ke),Di(B-Ye,se-ke,B-Se,se-Je,B-Se,se),Di(B-Se,se+Je,B-Ye,se+ke,B,se+ke),Di(B+Ye,se+ke,B+Se,se+Je,B+Se,se),Fc(Oe),this},p.__private__.circle=p.circle=function(B,se,Se,ke){if(isNaN(B)||isNaN(se)||isNaN(Se)||!ii(ke))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(B,se,Se,Se,ke)},p.setFont=function(B,se,Se){return Se&&(se=E(se,Se)),lt=$c(B,se,{disableWarning:!1}),this};var eu=p.__private__.getFont=p.getFont=function(){return yt[$c.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var B,se,Se={};for(B in Tt)if(Tt.hasOwnProperty(B))for(se in Se[B]=[],Tt[B])Tt[B].hasOwnProperty(se)&&Se[B].push(se);return Se},p.addFont=function(B,se,Se,ke,Oe){var Ye=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ye.indexOf(arguments[3])!==-1?Oe=arguments[3]:arguments[3]&&Ye.indexOf(arguments[3])==-1&&(Se=E(Se,ke)),Do.call(this,B,se,Se,Oe=Oe||"Identity-H")};var $n,Li=t.lineWidth||.200025,Ft=p.__private__.getLineWidth=p.getLineWidth=function(){return Li},tu=p.__private__.setLineWidth=p.setLineWidth=function(B){return Li=B,me(O(F(B))+" w"),this};p.__private__.setLineDash=Nt.API.setLineDash=Nt.API.setLineDashPattern=function(B,se){if(B=B||[],se=se||0,isNaN(se)||!Array.isArray(B))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return B=B.map(function(Se){return O(F(Se))}).join(" "),se=O(F(se)),me("["+B+"] "+se+" d"),this};var ym=p.__private__.getLineHeight=p.getLineHeight=function(){return pe*$n};p.__private__.getLineHeight=p.getLineHeight=function(){return pe*$n};var Ro=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(B){return typeof(B=B||1.15)=="number"&&($n=B),this},li=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return $n};Ro(t.lineHeight);var oi=p.__private__.getHorizontalCoordinate=function(B){return F(B)},jn=p.__private__.getVerticalCoordinate=function(B){return D===A?B:Ut[re].mediaBox.topRightY-Ut[re].mediaBox.bottomLeftY-F(B)},Mi=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(B){return O(oi(B))},ru=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(B){return O(jn(B))},xl=t.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return Us(xl)},p.__private__.setStrokeColor=p.setDrawColor=function(B,se,Se,ke){return xl=As({ch1:B,ch2:se,ch3:Se,ch4:ke,pdfColorType:"draw",precision:2}),me(xl),this};var Bc=t.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return Us(Bc)},p.__private__.setFillColor=p.setFillColor=function(B,se,Se,ke){return Bc=As({ch1:B,ch2:se,ch3:Se,ch4:ke,pdfColorType:"fill",precision:2}),me(Bc),this};var Ri=t.textColor||"0 g",pl=p.__private__.getTextColor=p.getTextColor=function(){return Us(Ri)};p.__private__.setTextColor=p.setTextColor=function(B,se,Se,ke){return Ri=As({ch1:B,ch2:se,ch3:Se,ch4:ke,pdfColorType:"text",precision:3}),this};var $o=t.charSpace,ks=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat($o||0)};p.__private__.setCharSpace=p.setCharSpace=function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return $o=B,this};var ci=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(B){var se=p.CapJoinStyles[B];if(se===void 0)throw new Error("Line cap style of '"+B+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ci=se,me(se+" J"),this};var eo=0;p.__private__.setLineJoin=p.setLineJoin=function(B){var se=p.CapJoinStyles[B];if(se===void 0)throw new Error("Line join style of '"+B+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return eo=se,me(se+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(B){if(B=B||0,isNaN(B))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return me(O(F(B))+" M"),this},p.GState=cg,p.setGState=function(B){(B=typeof B=="string"?Kt[pa[B]]:di(null,B)).equals(Ea)||(me("/"+B.id+" gs"),Ea=B)};var di=function(B,se){if(!B||!pa[B]){var Se=!1;for(var ke in Kt)if(Kt.hasOwnProperty(ke)&&Kt[ke].equals(se)){Se=!0;break}if(Se)se=Kt[ke];else{var Oe="GS"+(Object.keys(Kt).length+1).toString(10);Kt[Oe]=se,se.id=Oe}return B&&(pa[B]=se.id),_r.publish("addGState",se),se}};p.addGState=function(B,se){return di(B,se),this},p.saveGraphicsState=function(){return me("q"),Er.push({key:lt,size:pe,color:Ri}),this},p.restoreGraphicsState=function(){me("Q");var B=Er.pop();return lt=B.key,pe=B.size,Ri=B.color,Ea=null,this},p.setCurrentTransformationMatrix=function(B){return me(B.toString()+" cm"),this},p.comment=function(B){return me("#"+B),this};var Io=function(B,se){var Se=B||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Se},set:function(Ye){isNaN(Ye)||(Se=parseFloat(Ye))}});var ke=se||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ke},set:function(Ye){isNaN(Ye)||(ke=parseFloat(Ye))}});var Oe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Oe},set:function(Ye){Oe=Ye.toString()}}),this},Fo=function(B,se,Se,ke){Io.call(this,B,se),this.type="rect";var Oe=Se||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Oe},set:function(Je){isNaN(Je)||(Oe=parseFloat(Je))}});var Ye=ke||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ye},set:function(Je){isNaN(Je)||(Ye=parseFloat(Je))}}),this},to=function(){this.page=Sr,this.currentPage=re,this.pages=we.slice(0),this.pagesContext=Ut.slice(0),this.x=wt,this.y=Yr,this.matrix=mr,this.width=zc(re),this.height=Nn(re),this.outputDestination=xe,this.id="",this.objectNumber=-1};to.prototype.restore=function(){Sr=this.page,re=this.currentPage,Ut=this.pagesContext,we=this.pages,wt=this.x,Yr=this.y,mr=this.matrix,au(re,this.width),Ii(re,this.height),xe=this.outputDestination};var gl=function(B,se,Se,ke,Oe){ai.push(new to),Sr=re=0,we=[],wt=B,Yr=se,mr=Oe,vn([Se,ke])};for(var $i in p.beginFormObject=function(B,se,Se,ke,Oe){return gl(B,se,Se,ke,Oe),this},p.endFormObject=function(B){return function(se){if(ri[se])ai.pop().restore();else{var Se=new to,ke="Xo"+(Object.keys(ss).length+1).toString(10);Se.id=ke,ri[se]=ke,ss[ke]=Se,_r.publish("addFormObject",Se),ai.pop().restore()}}(B),this},p.doFormObject=function(B,se){var Se=ss[ri[B]];return me("q"),me(se.toString()+" cm"),me("/"+Se.id+" Do"),me("Q"),this},p.getFormObject=function(B){var se=ss[ri[B]];return{x:se.x,y:se.y,width:se.width,height:se.height,matrix:se.matrix}},p.save=function(B,se){return B=B||"generated.pdf",(se=se||{}).returnPromise=se.returnPromise||!1,se.returnPromise===!1?(ku(Jl(Rn()),B),typeof ku.unload=="function"&&Gt.setTimeout&&setTimeout(ku.unload,911),this):new Promise(function(Se,ke){try{var Oe=ku(Jl(Rn()),B);typeof ku.unload=="function"&&Gt.setTimeout&&setTimeout(ku.unload,911),Se(Oe)}catch(Ye){ke(Ye.message)}})},Nt.API)Nt.API.hasOwnProperty($i)&&($i==="events"&&Nt.API.events.length?function(B,se){var Se,ke,Oe;for(Oe=se.length-1;Oe!==-1;Oe--)Se=se[Oe][0],ke=se[Oe][1],B.subscribe.apply(B,[Se].concat(typeof ke=="function"?[ke]:ke))}(_r,Nt.API.events):p[$i]=Nt.API[$i]);var zc=p.getPageWidth=function(B){return(Ut[B=B||re].mediaBox.topRightX-Ut[B].mediaBox.bottomLeftX)/$t},au=p.setPageWidth=function(B,se){Ut[B].mediaBox.topRightX=se*$t+Ut[B].mediaBox.bottomLeftX},Nn=p.getPageHeight=function(B){return(Ut[B=B||re].mediaBox.topRightY-Ut[B].mediaBox.bottomLeftY)/$t},Ii=p.setPageHeight=function(B,se){Ut[B].mediaBox.topRightY=se*$t+Ut[B].mediaBox.bottomLeftY};return p.internal={pdfEscape:Hs,getStyle:Jd,getFont:eu,getFontSize:Qe,getCharSpace:ks,getTextColor:pl,getLineHeight:ym,getLineHeightFactor:li,getLineWidth:Ft,write:tt,getHorizontalCoordinate:oi,getVerticalCoordinate:jn,getCoordinateString:Mi,getVerticalCoordinateString:ru,collections:{},newObject:na,newAdditionalObject:Wl,newObjectDeferred:ns,newObjectDeferredBegin:fs,getFilters:qs,putStream:hs,events:_r,scaleFactor:$t,pageSize:{getWidth:function(){return zc(re)},setWidth:function(B){au(re,B)},getHeight:function(){return Nn(re)},setHeight:function(B){Ii(re,B)}},encryptionOptions:f,encryption:vr,getEncryptor:function(B){return f!==null?vr.encryptor(B,0):function(se){return se}},output:ln,getNumberOfPages:Rc,pages:we,out:me,f2:$,f3:M,getPageInfo:Mo,getPageInfoByObjId:pm,getCurrentPageInfo:Xd,getPDFVersion:j,Point:Io,Rectangle:Fo,Matrix:Et,hasHotfix:Lo},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return zc(re)},set:function(B){au(re,B)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return Nn(re)},set:function(B){Ii(re,B)},enumerable:!0,configurable:!0}),(function(B){for(var se=0,Se=it.length;se<Se;se++){var ke=Do.call(this,B[se][0],B[se][1],B[se][2],it[se][3],!0);x===!1&&(b[ke]=!0);var Oe=B[se][0].split("-");fm({id:ke,fontName:Oe[0],fontStyle:Oe[1]||""})}_r.publish("addFonts",{fonts:yt,dictionary:Tt})}).call(p,it),lt="F1",Lc(n,a),_r.publish("initialized"),p}tf.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},tf.prototype.toHexString=function(t){return t.split("").map(function(r){return("0"+(255&r.charCodeAt(0)).toString(16)).slice(-2)}).join("")},tf.prototype.hexToBytes=function(t){for(var r=[],a=0;a<t.length;a+=2)r.push(String.fromCharCode(parseInt(t.substr(a,2),16)));return r.join("")},tf.prototype.processOwnerPassword=function(t,r){return mj(uj(r).substr(0,5),t)},tf.prototype.encryptor=function(t,r){var a=uj(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&r,r>>8&255)).substr(0,10);return function(s){return mj(a,s)}},cg.prototype.equals=function(t){var r,a="id,objectNumber,equals";if(!t||Gr(t)!==Gr(this))return!1;var s=0;for(r in this)if(!(a.indexOf(r)>=0)){if(this.hasOwnProperty(r)&&!t.hasOwnProperty(r)||this[r]!==t[r])return!1;s++}for(r in t)t.hasOwnProperty(r)&&a.indexOf(r)<0&&s--;return s===0},Nt.API={events:[]},Nt.version="3.0.2";var za=Nt.API,CN=1,lm=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Zm=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Zt=function(t){return t.toFixed(2)},jd=function(t){return t.toFixed(5)};za.__acroform__={};var Qn=function(t,r){t.prototype=Object.create(r.prototype),t.prototype.constructor=t},FS=function(t){return t*CN},bo=function(t){var r=new V9,a=gt.internal.getHeight(t)||0,s=gt.internal.getWidth(t)||0;return r.BBox=[0,0,Number(Zt(s)),Number(Zt(a))],r},HG=za.__acroform__.setBit=function(t,r){if(t=t||0,r=r||0,isNaN(t)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<r},GG=za.__acroform__.clearBit=function(t,r){if(t=t||0,r=r||0,isNaN(t)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<r)},YG=za.__acroform__.getBit=function(t,r){if(isNaN(t)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<r?1:0},Za=za.__acroform__.getBitForPdf=function(t,r){if(isNaN(t)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return YG(t,r-1)},Qa=za.__acroform__.setBitForPdf=function(t,r){if(isNaN(t)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return HG(t,r-1)},es=za.__acroform__.clearBitForPdf=function(t,r){if(isNaN(t)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return GG(t,r-1)},VG=za.__acroform__.calculateCoordinates=function(t,r){var a=r.internal.getHorizontalCoordinate,s=r.internal.getVerticalCoordinate,n=t[0],i=t[1],o=t[2],d=t[3],u={};return u.lowerLeft_X=a(n)||0,u.lowerLeft_Y=s(i+d)||0,u.upperRight_X=a(n+o)||0,u.upperRight_Y=s(i)||0,[Number(Zt(u.lowerLeft_X)),Number(Zt(u.lowerLeft_Y)),Number(Zt(u.upperRight_X)),Number(Zt(u.upperRight_Y))]},KG=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var r=[],a=t._V||t.DV,s=fj(t,a),n=t.scope.internal.getFont(t.fontName,t.fontStyle).id;r.push("/Tx BMC"),r.push("q"),r.push("BT"),r.push(t.scope.__private__.encodeColorString(t.color)),r.push("/"+n+" "+Zt(s.fontSize)+" Tf"),r.push("1 0 0 1 0 0 Tm"),r.push(s.text),r.push("ET"),r.push("Q"),r.push("EMC");var i=bo(t);return i.scope=t.scope,i.stream=r.join(`
`),i}},fj=function(t,r){var a=t.fontSize===0?t.maxFontSize:t.fontSize,s={text:"",fontSize:""},n=(r=(r=r.substr(0,1)=="("?r.substr(1):r).substr(r.length-1)==")"?r.substr(0,r.length-1):r).split(" ");n=t.multiline?n.map(function($){return $.split(`
`)}):n.map(function($){return[$]});var i=a,o=gt.internal.getHeight(t)||0;o=o<0?-o:o;var d=gt.internal.getWidth(t)||0;d=d<0?-d:d;var u=function($,M,F){if($+1<n.length){var K=M+" "+n[$+1][0];return hp(K,t,F).width<=d-4}return!1};i++;e:for(;i>0;){r="",i--;var m,f,x=hp("3",t,i).height,b=t.multiline?o-i:(o-x)/2,p=b+=2,v=0,j=0,w=0;if(i<=0){r=`(...) Tj
`,r+="% Width of Text: "+hp(r,t,i=12).width+", FieldWidth:"+d+`
`;break}for(var N="",P=0,A=0;A<n.length;A++)if(n.hasOwnProperty(A)){var D=!1;if(n[A].length!==1&&w!==n[A].length-1){if((x+2)*(P+2)+2>o)continue e;N+=n[A][w],D=!0,j=A,A--}else{N=(N+=n[A][w]+" ").substr(N.length-1)==" "?N.substr(0,N.length-1):N;var T=parseInt(A),R=u(T,N,i),E=A>=n.length-1;if(R&&!E){N+=" ",w=0;continue}if(R||E){if(E)j=T;else if(t.multiline&&(x+2)*(P+2)+2>o)continue e}else{if(!t.multiline||(x+2)*(P+2)+2>o)continue e;j=T}}for(var O="",k=v;k<=j;k++){var Y=n[k];if(t.multiline){if(k===j){O+=Y[w]+" ",w=(w+1)%Y.length;continue}if(k===v){O+=Y[Y.length-1]+" ";continue}}O+=Y[0]+" "}switch(O=O.substr(O.length-1)==" "?O.substr(0,O.length-1):O,f=hp(O,t,i).width,t.textAlign){case"right":m=d-f-2;break;case"center":m=(d-f)/2;break;default:m=2}r+=Zt(m)+" "+Zt(p)+` Td
`,r+="("+lm(O)+`) Tj
`,r+=-Zt(m)+` 0 Td
`,p=-(i+2),f=0,v=D?j:j+1,P++,N=""}break}return s.text=r,s.fontSize=i,s},hp=function(t,r,a){var s=r.scope.internal.getFont(r.fontName,r.fontStyle),n=r.scope.getStringUnitWidth(t,{font:s,fontSize:parseFloat(a),charSpace:0})*parseFloat(a);return{height:r.scope.getStringUnitWidth("3",{font:s,fontSize:parseFloat(a),charSpace:0})*parseFloat(a)*1.5,width:n}},WG={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},XG=function(t,r){var a={type:"reference",object:t};r.internal.getPageInfo(t.page).pageContext.annotations.find(function(s){return s.type===a.type&&s.object===a.object})===void 0&&r.internal.getPageInfo(t.page).pageContext.annotations.push(a)},JG=function(t,r){if(r.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Gl.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(WG)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");CN=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new K9,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(a){a.internal.events.unsubscribe(a.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete a.internal.acroformPlugin.acroFormDictionaryRoot._eventID,a.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(a){a.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var s=a.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var n in s)if(s.hasOwnProperty(n)){var i=s[n];i.objId=void 0,i.hasAnnotation&&XG(i,a)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(a){if(a.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");a.internal.write("/AcroForm "+a.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(a){(function(s,n){var i=!s;for(var o in s||(n.internal.newObjectDeferredBegin(n.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),n.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),s=s||n.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(s.hasOwnProperty(o)){var d=s[o],u=[],m=d.Rect;if(d.Rect&&(d.Rect=VG(d.Rect,n)),n.internal.newObjectDeferredBegin(d.objId,!0),d.DA=gt.createDefaultAppearanceStream(d),Gr(d)==="object"&&typeof d.getKeyValueListForStream=="function"&&(u=d.getKeyValueListForStream()),d.Rect=m,d.hasAppearanceStream&&!d.appearanceStreamContent){var f=KG(d);u.push({key:"AP",value:"<</N "+f+">>"}),n.internal.acroformPlugin.xForms.push(f)}if(d.appearanceStreamContent){var x="";for(var b in d.appearanceStreamContent)if(d.appearanceStreamContent.hasOwnProperty(b)){var p=d.appearanceStreamContent[b];if(x+="/"+b+" ",x+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var o in p)if(p.hasOwnProperty(o)){var v=p[o];typeof v=="function"&&(v=v.call(n,d)),x+="/"+o+" "+v+" ",n.internal.acroformPlugin.xForms.indexOf(v)>=0||n.internal.acroformPlugin.xForms.push(v)}}else typeof(v=p)=="function"&&(v=v.call(n,d)),x+="/"+o+" "+v,n.internal.acroformPlugin.xForms.indexOf(v)>=0||n.internal.acroformPlugin.xForms.push(v);x+=">>"}u.push({key:"AP",value:`<<
`+x+">>"})}n.internal.putStream({additionalKeyValues:u,objectId:d.objId}),n.internal.out("endobj")}i&&function(j,w){for(var N in j)if(j.hasOwnProperty(N)){var P=N,A=j[N];w.internal.newObjectDeferredBegin(A.objId,!0),Gr(A)==="object"&&typeof A.putStream=="function"&&A.putStream(),delete j[P]}}(n.internal.acroformPlugin.xForms,n)})(a,t)}),t.internal.acroformPlugin.isInitialized=!0}},Y9=za.__acroform__.arrayToPdfArray=function(t,r,a){var s=function(o){return o};if(Array.isArray(t)){for(var n="[",i=0;i<t.length;i++)switch(i!==0&&(n+=" "),Gr(t[i])){case"boolean":case"number":case"object":n+=t[i].toString();break;case"string":t[i].substr(0,1)!=="/"?(r!==void 0&&a&&(s=a.internal.getEncryptor(r)),n+="("+lm(s(t[i].toString()))+")"):n+=t[i].toString()}return n+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Uv=function(t,r,a){var s=function(n){return n};return r!==void 0&&a&&(s=a.internal.getEncryptor(r)),(t=t||"").toString(),"("+lm(s(t))+")"},No=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};No.prototype.toString=function(){return this.objId+" 0 R"},No.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},No.prototype.getKeyValueListForStream=function(){var t=[],r=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var a in r)if(Object.getOwnPropertyDescriptor(this,r[a]).configurable===!1){var s=r[a],n=this[s];n&&(Array.isArray(n)?t.push({key:s,value:Y9(n,this.objId,this.scope)}):n instanceof No?(n.scope=this.scope,t.push({key:s,value:n.objId+" 0 R"})):typeof n!="function"&&t.push({key:s,value:n}))}return t};var V9=function(){No.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,r=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(a){t=a.trim()},get:function(){return t||null}})};Qn(V9,No);var K9=function(){No.call(this);var t,r=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return r.length>0?r:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return r}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var a=function(s){return s};return this.scope&&(a=this.scope.internal.getEncryptor(this.objId)),"("+lm(a(t))+")"}},set:function(a){t=a}})};Qn(K9,No);var Gl=function t(){No.call(this);var r=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return r},set:function(N){if(isNaN(N))throw new Error('Invalid value "'+N+'" for attribute F supplied.');r=N}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Za(r,3)},set:function(N){N?this.F=Qa(r,3):this.F=es(r,3)}});var a=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return a},set:function(N){if(isNaN(N))throw new Error('Invalid value "'+N+'" for attribute Ff supplied.');a=N}});var s=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(s.length!==0)return s},set:function(N){s=N!==void 0?N:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[0])?0:s[0]},set:function(N){s[0]=N}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[1])?0:s[1]},set:function(N){s[1]=N}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[2])?0:s[2]},set:function(N){s[2]=N}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[3])?0:s[3]},set:function(N){s[3]=N}});var n="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return n},set:function(N){switch(N){case"/Btn":case"/Tx":case"/Ch":case"/Sig":n=N;break;default:throw new Error('Invalid value "'+N+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof dg)return;i="FieldObject"+t.FieldNum++}var N=function(P){return P};return this.scope&&(N=this.scope.internal.getEncryptor(this.objId)),"("+lm(N(i))+")"},set:function(N){i=N.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(N){i=N}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(N){o=N}});var d="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return d},set:function(N){d=N}});var u=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return u},set:function(N){u=N}});var m=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return m===void 0?50/CN:m},set:function(N){m=N}});var f="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return f},set:function(N){f=N}});var x="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!x||this instanceof dg||this instanceof zu))return Uv(x,this.objId,this.scope)},set:function(N){N=N.toString(),x=N}});var b=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(b)return this instanceof Rs==0?Uv(b,this.objId,this.scope):b},set:function(N){N=N.toString(),b=this instanceof Rs==0?N.substr(0,1)==="("?Zm(N.substr(1,N.length-2)):Zm(N):N}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Rs==1?Zm(b.substr(1,b.length-1)):b},set:function(N){N=N.toString(),b=this instanceof Rs==1?"/"+N:N}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(N){this.V=N}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof Rs==0?Uv(p,this.objId,this.scope):p},set:function(N){N=N.toString(),p=this instanceof Rs==0?N.substr(0,1)==="("?Zm(N.substr(1,N.length-2)):Zm(N):N}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Rs==1?Zm(p.substr(1,p.length-1)):p},set:function(N){N=N.toString(),p=this instanceof Rs==1?"/"+N:N}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var v,j=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return j},set:function(N){N=!!N,j=N}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(v)return v},set:function(N){v=N}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Za(this.Ff,1)},set:function(N){N?this.Ff=Qa(this.Ff,1):this.Ff=es(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Za(this.Ff,2)},set:function(N){N?this.Ff=Qa(this.Ff,2):this.Ff=es(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Za(this.Ff,3)},set:function(N){N?this.Ff=Qa(this.Ff,3):this.Ff=es(this.Ff,3)}});var w=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(w!==null)return w},set:function(N){if([0,1,2].indexOf(N)===-1)throw new Error('Invalid value "'+N+'" for attribute Q supplied.');w=N}}),Object.defineProperty(this,"textAlign",{get:function(){var N;switch(w){case 0:default:N="left";break;case 1:N="center";break;case 2:N="right"}return N},configurable:!0,enumerable:!0,set:function(N){switch(N){case"right":case 2:w=2;break;case"center":case 1:w=1;break;default:w=0}}})};Qn(Gl,No);var mf=function(){Gl.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(a){t=a}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(a){t=a}});var r=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Y9(r,this.objId,this.scope)},set:function(a){var s,n;n=[],typeof(s=a)=="string"&&(n=function(i,o,d){d||(d=1);for(var u,m=[];u=o.exec(i);)m.push(u[d]);return m}(s,/\((.*?)\)/g)),r=n}}),this.getOptions=function(){return r},this.setOptions=function(a){r=a,this.sort&&r.sort()},this.addOption=function(a){a=(a=a||"").toString(),r.push(a),this.sort&&r.sort()},this.removeOption=function(a,s){for(s=s||!1,a=(a=a||"").toString();r.indexOf(a)!==-1&&(r.splice(r.indexOf(a),1),s!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Za(this.Ff,18)},set:function(a){a?this.Ff=Qa(this.Ff,18):this.Ff=es(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Za(this.Ff,19)},set:function(a){this.combo===!0&&(a?this.Ff=Qa(this.Ff,19):this.Ff=es(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Za(this.Ff,20)},set:function(a){a?(this.Ff=Qa(this.Ff,20),r.sort()):this.Ff=es(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Za(this.Ff,22)},set:function(a){a?this.Ff=Qa(this.Ff,22):this.Ff=es(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Za(this.Ff,23)},set:function(a){a?this.Ff=Qa(this.Ff,23):this.Ff=es(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Za(this.Ff,27)},set:function(a){a?this.Ff=Qa(this.Ff,27):this.Ff=es(this.Ff,27)}}),this.hasAppearanceStream=!1};Qn(mf,Gl);var ff=function(){mf.call(this),this.fontName="helvetica",this.combo=!1};Qn(ff,mf);var hf=function(){ff.call(this),this.combo=!0};Qn(hf,ff);var Up=function(){hf.call(this),this.edit=!0};Qn(Up,hf);var Rs=function(){Gl.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Za(this.Ff,15)},set:function(a){a?this.Ff=Qa(this.Ff,15):this.Ff=es(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Za(this.Ff,16)},set:function(a){a?this.Ff=Qa(this.Ff,16):this.Ff=es(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Za(this.Ff,17)},set:function(a){a?this.Ff=Qa(this.Ff,17):this.Ff=es(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Za(this.Ff,26)},set:function(a){a?this.Ff=Qa(this.Ff,26):this.Ff=es(this.Ff,26)}});var t,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(i){return i};if(this.scope&&(a=this.scope.internal.getEncryptor(this.objId)),Object.keys(r).length!==0){var s,n=[];for(s in n.push("<<"),r)n.push("/"+s+" ("+lm(a(r[s]))+")");return n.push(">>"),n.join(`
`)}},set:function(a){Gr(a)==="object"&&(r=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(a){typeof a=="string"&&(r.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(a){t=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(a){t="/"+a}})};Qn(Rs,Gl);var qp=function(){Rs.call(this),this.pushButton=!0};Qn(qp,Rs);var xf=function(){Rs.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r!==void 0?r:[]}})};Qn(xf,Rs);var dg=function(){var t,r;Gl.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return r},set:function(n){r=n}});var a,s={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(d){return d};this.scope&&(n=this.scope.internal.getEncryptor(this.objId));var i,o=[];for(i in o.push("<<"),s)o.push("/"+i+" ("+lm(n(s[i]))+")");return o.push(">>"),o.join(`
`)},set:function(n){Gr(n)==="object"&&(s=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return s.CA||""},set:function(n){typeof n=="string"&&(s.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return a},set:function(n){a=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return a.substr(1,a.length-1)},set:function(n){a="/"+n}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=gt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Qn(dg,Gl),xf.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var r in this.Kids)if(this.Kids.hasOwnProperty(r)){var a=this.Kids[r];a.appearanceStreamContent=t.createAppearanceStream(a.optionName),a.caption=t.getCA()}},xf.prototype.createOption=function(t){var r=new dg;return r.Parent=this,r.optionName=t,this.Kids.push(r),ZG.call(this.scope,r),r};var Hp=function(){Rs.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=gt.CheckBox.createAppearanceStream()};Qn(Hp,Rs);var zu=function(){Gl.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Za(this.Ff,13)},set:function(r){r?this.Ff=Qa(this.Ff,13):this.Ff=es(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Za(this.Ff,21)},set:function(r){r?this.Ff=Qa(this.Ff,21):this.Ff=es(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Za(this.Ff,23)},set:function(r){r?this.Ff=Qa(this.Ff,23):this.Ff=es(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Za(this.Ff,24)},set:function(r){r?this.Ff=Qa(this.Ff,24):this.Ff=es(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Za(this.Ff,25)},set:function(r){r?this.Ff=Qa(this.Ff,25):this.Ff=es(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Za(this.Ff,26)},set:function(r){r?this.Ff=Qa(this.Ff,26):this.Ff=es(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){Number.isInteger(r)&&(t=r)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Qn(zu,Gl);var Gp=function(){zu.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Za(this.Ff,14)},set:function(t){t?this.Ff=Qa(this.Ff,14):this.Ff=es(this.Ff,14)}}),this.password=!0};Qn(Gp,zu);var gt={CheckBox:{createAppearanceStream:function(){return{N:{On:gt.CheckBox.YesNormal},D:{On:gt.CheckBox.YesPushDown,Off:gt.CheckBox.OffPushDown}}},YesPushDown:function(t){var r=bo(t);r.scope=t.scope;var a=[],s=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),i=fj(t,t.caption);return a.push("0.749023 g"),a.push("0 0 "+Zt(gt.internal.getWidth(t))+" "+Zt(gt.internal.getHeight(t))+" re"),a.push("f"),a.push("BMC"),a.push("q"),a.push("0 0 1 rg"),a.push("/"+s+" "+Zt(i.fontSize)+" Tf "+n),a.push("BT"),a.push(i.text),a.push("ET"),a.push("Q"),a.push("EMC"),r.stream=a.join(`
`),r},YesNormal:function(t){var r=bo(t);r.scope=t.scope;var a=t.scope.internal.getFont(t.fontName,t.fontStyle).id,s=t.scope.__private__.encodeColorString(t.color),n=[],i=gt.internal.getHeight(t),o=gt.internal.getWidth(t),d=fj(t,t.caption);return n.push("1 g"),n.push("0 0 "+Zt(o)+" "+Zt(i)+" re"),n.push("f"),n.push("q"),n.push("0 0 1 rg"),n.push("0 0 "+Zt(o-1)+" "+Zt(i-1)+" re"),n.push("W"),n.push("n"),n.push("0 g"),n.push("BT"),n.push("/"+a+" "+Zt(d.fontSize)+" Tf "+s),n.push(d.text),n.push("ET"),n.push("Q"),r.stream=n.join(`
`),r},OffPushDown:function(t){var r=bo(t);r.scope=t.scope;var a=[];return a.push("0.749023 g"),a.push("0 0 "+Zt(gt.internal.getWidth(t))+" "+Zt(gt.internal.getHeight(t))+" re"),a.push("f"),r.stream=a.join(`
`),r}},RadioButton:{Circle:{createAppearanceStream:function(t){var r={D:{Off:gt.RadioButton.Circle.OffPushDown},N:{}};return r.N[t]=gt.RadioButton.Circle.YesNormal,r.D[t]=gt.RadioButton.Circle.YesPushDown,r},getCA:function(){return"l"},YesNormal:function(t){var r=bo(t);r.scope=t.scope;var a=[],s=gt.internal.getWidth(t)<=gt.internal.getHeight(t)?gt.internal.getWidth(t)/4:gt.internal.getHeight(t)/4;s=Number((.9*s).toFixed(5));var n=gt.internal.Bezier_C,i=Number((s*n).toFixed(5));return a.push("q"),a.push("1 0 0 1 "+jd(gt.internal.getWidth(t)/2)+" "+jd(gt.internal.getHeight(t)/2)+" cm"),a.push(s+" 0 m"),a.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),a.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),a.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),a.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),a.push("f"),a.push("Q"),r.stream=a.join(`
`),r},YesPushDown:function(t){var r=bo(t);r.scope=t.scope;var a=[],s=gt.internal.getWidth(t)<=gt.internal.getHeight(t)?gt.internal.getWidth(t)/4:gt.internal.getHeight(t)/4;s=Number((.9*s).toFixed(5));var n=Number((2*s).toFixed(5)),i=Number((n*gt.internal.Bezier_C).toFixed(5)),o=Number((s*gt.internal.Bezier_C).toFixed(5));return a.push("0.749023 g"),a.push("q"),a.push("1 0 0 1 "+jd(gt.internal.getWidth(t)/2)+" "+jd(gt.internal.getHeight(t)/2)+" cm"),a.push(n+" 0 m"),a.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),a.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),a.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),a.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),a.push("f"),a.push("Q"),a.push("0 g"),a.push("q"),a.push("1 0 0 1 "+jd(gt.internal.getWidth(t)/2)+" "+jd(gt.internal.getHeight(t)/2)+" cm"),a.push(s+" 0 m"),a.push(s+" "+o+" "+o+" "+s+" 0 "+s+" c"),a.push("-"+o+" "+s+" -"+s+" "+o+" -"+s+" 0 c"),a.push("-"+s+" -"+o+" -"+o+" -"+s+" 0 -"+s+" c"),a.push(o+" -"+s+" "+s+" -"+o+" "+s+" 0 c"),a.push("f"),a.push("Q"),r.stream=a.join(`
`),r},OffPushDown:function(t){var r=bo(t);r.scope=t.scope;var a=[],s=gt.internal.getWidth(t)<=gt.internal.getHeight(t)?gt.internal.getWidth(t)/4:gt.internal.getHeight(t)/4;s=Number((.9*s).toFixed(5));var n=Number((2*s).toFixed(5)),i=Number((n*gt.internal.Bezier_C).toFixed(5));return a.push("0.749023 g"),a.push("q"),a.push("1 0 0 1 "+jd(gt.internal.getWidth(t)/2)+" "+jd(gt.internal.getHeight(t)/2)+" cm"),a.push(n+" 0 m"),a.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),a.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),a.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),a.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),a.push("f"),a.push("Q"),r.stream=a.join(`
`),r}},Cross:{createAppearanceStream:function(t){var r={D:{Off:gt.RadioButton.Cross.OffPushDown},N:{}};return r.N[t]=gt.RadioButton.Cross.YesNormal,r.D[t]=gt.RadioButton.Cross.YesPushDown,r},getCA:function(){return"8"},YesNormal:function(t){var r=bo(t);r.scope=t.scope;var a=[],s=gt.internal.calculateCross(t);return a.push("q"),a.push("1 1 "+Zt(gt.internal.getWidth(t)-2)+" "+Zt(gt.internal.getHeight(t)-2)+" re"),a.push("W"),a.push("n"),a.push(Zt(s.x1.x)+" "+Zt(s.x1.y)+" m"),a.push(Zt(s.x2.x)+" "+Zt(s.x2.y)+" l"),a.push(Zt(s.x4.x)+" "+Zt(s.x4.y)+" m"),a.push(Zt(s.x3.x)+" "+Zt(s.x3.y)+" l"),a.push("s"),a.push("Q"),r.stream=a.join(`
`),r},YesPushDown:function(t){var r=bo(t);r.scope=t.scope;var a=gt.internal.calculateCross(t),s=[];return s.push("0.749023 g"),s.push("0 0 "+Zt(gt.internal.getWidth(t))+" "+Zt(gt.internal.getHeight(t))+" re"),s.push("f"),s.push("q"),s.push("1 1 "+Zt(gt.internal.getWidth(t)-2)+" "+Zt(gt.internal.getHeight(t)-2)+" re"),s.push("W"),s.push("n"),s.push(Zt(a.x1.x)+" "+Zt(a.x1.y)+" m"),s.push(Zt(a.x2.x)+" "+Zt(a.x2.y)+" l"),s.push(Zt(a.x4.x)+" "+Zt(a.x4.y)+" m"),s.push(Zt(a.x3.x)+" "+Zt(a.x3.y)+" l"),s.push("s"),s.push("Q"),r.stream=s.join(`
`),r},OffPushDown:function(t){var r=bo(t);r.scope=t.scope;var a=[];return a.push("0.749023 g"),a.push("0 0 "+Zt(gt.internal.getWidth(t))+" "+Zt(gt.internal.getHeight(t))+" re"),a.push("f"),r.stream=a.join(`
`),r}}},createDefaultAppearanceStream:function(t){var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,a=t.scope.__private__.encodeColorString(t.color);return"/"+r+" "+t.fontSize+" Tf "+a}};gt.internal={Bezier_C:.551915024494,calculateCross:function(t){var r=gt.internal.getWidth(t),a=gt.internal.getHeight(t),s=Math.min(r,a);return{x1:{x:(r-s)/2,y:(a-s)/2+s},x2:{x:(r-s)/2+s,y:(a-s)/2},x3:{x:(r-s)/2,y:(a-s)/2},x4:{x:(r-s)/2+s,y:(a-s)/2+s}}}},gt.internal.getWidth=function(t){var r=0;return Gr(t)==="object"&&(r=FS(t.Rect[2])),r},gt.internal.getHeight=function(t){var r=0;return Gr(t)==="object"&&(r=FS(t.Rect[3])),r};var ZG=za.addField=function(t){if(JG(this,t),!(t instanceof Gl))throw new Error("Invalid argument passed to jsPDF.addField.");var r;return(r=t).scope.internal.acroformPlugin.printedOut&&(r.scope.internal.acroformPlugin.printedOut=!1,r.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),r.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(r),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};za.AcroFormChoiceField=mf,za.AcroFormListBox=ff,za.AcroFormComboBox=hf,za.AcroFormEditBox=Up,za.AcroFormButton=Rs,za.AcroFormPushButton=qp,za.AcroFormRadioButton=xf,za.AcroFormCheckBox=Hp,za.AcroFormTextField=zu,za.AcroFormPasswordField=Gp,za.AcroFormAppearance=gt,za.AcroForm={ChoiceField:mf,ListBox:ff,ComboBox:hf,EditBox:Up,Button:Rs,PushButton:qp,RadioButton:xf,CheckBox:Hp,TextField:zu,PasswordField:Gp,Appearance:gt},Nt.AcroForm={ChoiceField:mf,ListBox:ff,ComboBox:hf,EditBox:Up,Button:Rs,PushButton:qp,RadioButton:xf,CheckBox:Hp,TextField:zu,PasswordField:Gp,Appearance:gt};Nt.AcroForm;function W9(t){return t.reduce(function(r,a,s){return r[a]=s,r},{})}(function(t){var r="addImage_";t.__addimage__={};var a="UNKNOWN",s={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=t.__addimage__.getImageFileTypeByImageData=function($,M){var F,K,q,U,V,Z=a;if((M=M||a)==="RGBA"||$.data!==void 0&&$.data instanceof Uint8ClampedArray&&"height"in $&&"width"in $)return"RGBA";if(R($))for(V in s)for(q=s[V],F=0;F<q.length;F+=1){for(U=!0,K=0;K<q[F].length;K+=1)if(q[F][K]!==void 0&&q[F][K]!==$[K]){U=!1;break}if(U===!0){Z=V;break}}else for(V in s)for(q=s[V],F=0;F<q.length;F+=1){for(U=!0,K=0;K<q[F].length;K+=1)if(q[F][K]!==void 0&&q[F][K]!==$.charCodeAt(K)){U=!1;break}if(U===!0){Z=V;break}}return Z===a&&M!==a&&(Z=M),Z},i=function $(M){for(var F=this.internal.write,K=this.internal.putStream,q=(0,this.internal.getFilters)();q.indexOf("FlateEncode")!==-1;)q.splice(q.indexOf("FlateEncode"),1);M.objectId=this.internal.newObject();var U=[];if(U.push({key:"Type",value:"/XObject"}),U.push({key:"Subtype",value:"/Image"}),U.push({key:"Width",value:M.width}),U.push({key:"Height",value:M.height}),M.colorSpace===N.INDEXED?U.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(M.palette.length/3-1)+" "+("sMask"in M&&M.sMask!==void 0?M.objectId+2:M.objectId+1)+" 0 R]"}):(U.push({key:"ColorSpace",value:"/"+M.colorSpace}),M.colorSpace===N.DEVICE_CMYK&&U.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),U.push({key:"BitsPerComponent",value:M.bitsPerComponent}),"decodeParameters"in M&&M.decodeParameters!==void 0&&U.push({key:"DecodeParms",value:"<<"+M.decodeParameters+">>"}),"transparency"in M&&Array.isArray(M.transparency)){for(var V="",Z=0,X=M.transparency.length;Z<X;Z++)V+=M.transparency[Z]+" "+M.transparency[Z]+" ";U.push({key:"Mask",value:"["+V+"]"})}M.sMask!==void 0&&U.push({key:"SMask",value:M.objectId+1+" 0 R"});var J=M.filter!==void 0?["/"+M.filter]:void 0;if(K({data:M.data,additionalKeyValues:U,alreadyAppliedFilters:J,objectId:M.objectId}),F("endobj"),"sMask"in M&&M.sMask!==void 0){var be=(M.predictor!=null?"/Predictor "+M.predictor:"")+" /Colors 1 /BitsPerComponent 8 /Columns "+M.width,z={width:M.width,height:M.height,colorSpace:"DeviceGray",bitsPerComponent:M.bitsPerComponent,decodeParameters:be,data:M.sMask};"filter"in M&&(z.filter=M.filter),$.call(this,z)}if(M.colorSpace===N.INDEXED){var re=this.internal.newObject();K({data:O(new Uint8Array(M.palette)),objectId:re}),F("endobj")}},o=function(){var $=this.internal.collections[r+"images"];for(var M in $)i.call(this,$[M])},d=function(){var $,M=this.internal.collections[r+"images"],F=this.internal.write;for(var K in M)F("/I"+($=M[K]).index,$.objectId,"0","R")},u=function(){this.internal.collections[r+"images"]||(this.internal.collections[r+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",d))},m=function(){var $=this.internal.collections[r+"images"];return u.call(this),$},f=function(){return Object.keys(this.internal.collections[r+"images"]).length},x=function($){return typeof t["process"+$.toUpperCase()]=="function"},b=function($){return Gr($)==="object"&&$.nodeType===1},p=function($,M){if($.nodeName==="IMG"&&$.hasAttribute("src")){var F=""+$.getAttribute("src");if(F.indexOf("data:image/")===0)return zp(unescape(F).split("base64,").pop());var K=t.loadFile(F,!0);if(K!==void 0)return K}if($.nodeName==="CANVAS"){if($.width===0||$.height===0)throw new Error("Given canvas must have data. Canvas width: "+$.width+", height: "+$.height);var q;switch(M){case"PNG":q="image/png";break;case"WEBP":q="image/webp";break;default:q="image/jpeg"}return zp($.toDataURL(q,1).split("base64,").pop())}},v=function($){var M=this.internal.collections[r+"images"];if(M){for(var F in M)if($===M[F].alias)return M[F]}},j=function($,M,F){return $||M||($=-96,M=-96),$<0&&($=-1*F.width*72/$/this.internal.scaleFactor),M<0&&(M=-1*F.height*72/M/this.internal.scaleFactor),$===0&&($=M*F.width/F.height),M===0&&(M=$*F.height/F.width),[$,M]},w=function($,M,F,K,q,U){var V=j.call(this,F,K,q),Z=this.internal.getCoordinateString,X=this.internal.getVerticalCoordinateString,J=m.call(this);if(F=V[0],K=V[1],J[q.index]=q,U){U*=Math.PI/180;var be=Math.cos(U),z=Math.sin(U),re=function(Q){return Q.toFixed(4)},G=[re(be),re(z),re(-1*z),re(be),0,0,"cm"]}this.internal.write("q"),U?(this.internal.write([1,"0","0",1,Z($),X(M+K),"cm"].join(" ")),this.internal.write(G.join(" ")),this.internal.write([Z(F),"0","0",Z(K),"0","0","cm"].join(" "))):this.internal.write([Z(F),"0","0",Z(K),Z($),X(M+K),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+q.index+" Do"),this.internal.write("Q")},N=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var P=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},A=t.__addimage__.sHashCode=function($){var M,F,K=0;if(typeof $=="string")for(F=$.length,M=0;M<F;M++)K=(K<<5)-K+$.charCodeAt(M),K|=0;else if(R($))for(F=$.byteLength/2,M=0;M<F;M++)K=(K<<5)-K+$[M],K|=0;return K},D=t.__addimage__.validateStringAsBase64=function($){($=$||"").toString().trim();var M=!0;return $.length===0&&(M=!1),$.length%4!=0&&(M=!1),/^[A-Za-z0-9+/]+$/.test($.substr(0,$.length-2))===!1&&(M=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test($.substr(-2))===!1&&(M=!1),M},T=t.__addimage__.extractImageFromDataUrl=function($){if($==null||!($=$.trim()).startsWith("data:"))return null;var M=$.indexOf(",");return M<0?null:$.substring(0,M).trim().endsWith("base64")?$.substring(M+1):null};t.__addimage__.isArrayBuffer=function($){return $ instanceof ArrayBuffer};var R=t.__addimage__.isArrayBufferView=function($){return $ instanceof Int8Array||$ instanceof Uint8Array||$ instanceof Uint8ClampedArray||$ instanceof Int16Array||$ instanceof Uint16Array||$ instanceof Int32Array||$ instanceof Uint32Array||$ instanceof Float32Array||$ instanceof Float64Array},E=t.__addimage__.binaryStringToUint8Array=function($){for(var M=$.length,F=new Uint8Array(M),K=0;K<M;K++)F[K]=$.charCodeAt(K);return F},O=t.__addimage__.arrayBufferToBinaryString=function($){for(var M="",F=R($)?$:new Uint8Array($),K=0;K<F.length;K+=8192)M+=String.fromCharCode.apply(null,F.subarray(K,K+8192));return M};t.addImage=function(){var $,M,F,K,q,U,V,Z,X;if(typeof arguments[1]=="number"?(M=a,F=arguments[1],K=arguments[2],q=arguments[3],U=arguments[4],V=arguments[5],Z=arguments[6],X=arguments[7]):(M=arguments[1],F=arguments[2],K=arguments[3],q=arguments[4],U=arguments[5],V=arguments[6],Z=arguments[7],X=arguments[8]),Gr($=arguments[0])==="object"&&!b($)&&"imageData"in $){var J=$;$=J.imageData,M=J.format||M||a,F=J.x||F||0,K=J.y||K||0,q=J.w||J.width||q,U=J.h||J.height||U,V=J.alias||V,Z=J.compression||Z,X=J.rotation||J.angle||X}var be=this.internal.getFilters();if(Z===void 0&&be.indexOf("FlateEncode")!==-1&&(Z="SLOW"),isNaN(F)||isNaN(K))throw new Error("Invalid coordinates passed to jsPDF.addImage");u.call(this);var z=k.call(this,$,M,V,Z);return w.call(this,F,K,q,U,z,X),this};var k=function($,M,F,K){var q,U,V;if(typeof $=="string"&&n($)===a){$=unescape($);var Z=Y($,!1);(Z!==""||(Z=t.loadFile($,!0))!==void 0)&&($=Z)}if(b($)&&($=p($,M)),M=n($,M),!x(M))throw new Error("addImage does not support files of type '"+M+"', please ensure that a plugin for '"+M+"' support is added.");if(((V=F)==null||V.length===0)&&(F=function(X){return typeof X=="string"||R(X)?A(X):R(X.data)?A(X.data):null}($)),(q=v.call(this,F))||($ instanceof Uint8Array||M==="RGBA"||(U=$,$=E($)),q=this["process"+M.toUpperCase()]($,f.call(this),F,function(X){return X&&typeof X=="string"&&(X=X.toUpperCase()),X in t.image_compression?X:P.NONE}(K),U)),!q)throw new Error("An unknown error occurred whilst processing the image.");return q},Y=t.__addimage__.convertBase64ToBinaryString=function($,M){M=typeof M!="boolean"||M;var F,K="";if(typeof $=="string"){var q;F=(q=T($))!==null&&q!==void 0?q:$;try{K=zp(F)}catch(U){if(M)throw D(F)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+U.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return K};t.getImageProperties=function($){var M,F,K="";if(b($)&&($=p($)),typeof $=="string"&&n($)===a&&((K=Y($,!1))===""&&(K=t.loadFile($)||""),$=K),F=n($),!x(F))throw new Error("addImage does not support files of type '"+F+"', please ensure that a plugin for '"+F+"' support is added.");if($ instanceof Uint8Array||($=E($)),!(M=this["process"+F.toUpperCase()]($)))throw new Error("An unknown error occurred whilst processing the image");return M.fileType=F,M}})(Nt.API),function(t){var r=function(a){if(a!==void 0&&a!="")return!0};Nt.API.events.push(["addPage",function(a){this.internal.getPageInfo(a.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(a){for(var s,n,i,o=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString,u=this.internal.getPageInfoByObjId(a.objId),m=a.pageContext.annotations,f=!1,x=0;x<m.length&&!f;x++)switch((s=m[x]).type){case"link":(r(s.options.url)||r(s.options.pageNumber))&&(f=!0);break;case"reference":case"text":case"freetext":f=!0}if(f!=0){this.internal.write("/Annots [");for(var b=0;b<m.length;b++){s=m[b];var p=this.internal.pdfEscape,v=this.internal.getEncryptor(a.objId);switch(s.type){case"reference":this.internal.write(" "+s.object.objId+" 0 R ");break;case"text":var j=this.internal.newAdditionalObject(),w=this.internal.newAdditionalObject(),N=this.internal.getEncryptor(j.objId),P=s.title||"Note";i="<</Type /Annot /Subtype /Text "+(n="/Rect ["+o(s.bounds.x)+" "+d(s.bounds.y+s.bounds.h)+" "+o(s.bounds.x+s.bounds.w)+" "+d(s.bounds.y)+"] ")+"/Contents ("+p(N(s.contents))+")",i+=" /Popup "+w.objId+" 0 R",i+=" /P "+u.objId+" 0 R",i+=" /T ("+p(N(P))+") >>",j.content=i;var A=j.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(n="/Rect ["+o(s.bounds.x+30)+" "+d(s.bounds.y+s.bounds.h)+" "+o(s.bounds.x+s.bounds.w+30)+" "+d(s.bounds.y)+"] ")+" /Parent "+A,s.open&&(i+=" /Open true"),i+=" >>",w.content=i,this.internal.write(j.objId,"0 R",w.objId,"0 R");break;case"freetext":n="/Rect ["+o(s.bounds.x)+" "+d(s.bounds.y)+" "+o(s.bounds.x+s.bounds.w)+" "+d(s.bounds.y+s.bounds.h)+"] ";var D=s.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+n+"/Contents ("+p(v(s.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+D+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(s.options.name){var T=this.annotations._nameMap[s.options.name];s.options.pageNumber=T.page,s.options.top=T.y}else s.options.top||(s.options.top=0);if(n="/Rect ["+s.finalBounds.x+" "+s.finalBounds.y+" "+s.finalBounds.w+" "+s.finalBounds.h+"] ",i="",s.options.url)i="<</Type /Annot /Subtype /Link "+n+"/Border [0 0 0] /A <</S /URI /URI ("+p(v(s.options.url))+") >>";else if(s.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+n+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(s.options.pageNumber).objId+" 0 R",s.options.magFactor=s.options.magFactor||"XYZ",s.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+s.options.top+"]";break;case"FitV":s.options.left=s.options.left||0,i+=" /FitV "+s.options.left+"]";break;default:var R=d(s.options.top);s.options.left=s.options.left||0,s.options.zoom===void 0&&(s.options.zoom=0),i+=" /XYZ "+s.options.left+" "+R+" "+s.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),t.createAnnotation=function(a){var s=this.internal.getCurrentPageInfo();switch(a.type){case"link":this.link(a.bounds.x,a.bounds.y,a.bounds.w,a.bounds.h,a);break;case"text":case"freetext":s.pageContext.annotations.push(a)}},t.link=function(a,s,n,i,o){var d=this.internal.getCurrentPageInfo(),u=this.internal.getCoordinateString,m=this.internal.getVerticalCoordinateString;d.pageContext.annotations.push({finalBounds:{x:u(a),y:m(s),w:u(a+n),h:m(s+i)},options:o,type:"link"})},t.textWithLink=function(a,s,n,i){var o,d,u=this.getTextWidth(a),m=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){d=i.maxWidth;var f=this.splitTextToSize(a,d).length;o=Math.ceil(m*f)}else d=u,o=m;return this.text(a,s,n,i),n+=.2*m,i.align==="center"&&(s-=u/2),i.align==="right"&&(s-=u),this.link(s,n-m,d,o,i),u},t.getTextWidth=function(a){var s=this.internal.getFontSize();return this.getStringUnitWidth(a)*s/this.internal.scaleFactor}}(Nt.API),function(t){var r={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},a={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},s={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},n=[1570,1571,1573,1575];t.__arabicParser__={};var i=t.__arabicParser__.isInArabicSubstitutionA=function(j){return r[j.charCodeAt(0)]!==void 0},o=t.__arabicParser__.isArabicLetter=function(j){return typeof j=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(j)},d=t.__arabicParser__.isArabicEndLetter=function(j){return o(j)&&i(j)&&r[j.charCodeAt(0)].length<=2},u=t.__arabicParser__.isArabicAlfLetter=function(j){return o(j)&&n.indexOf(j.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(j){return o(j)&&i(j)&&r[j.charCodeAt(0)].length>=1};var m=t.__arabicParser__.arabicLetterHasFinalForm=function(j){return o(j)&&i(j)&&r[j.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(j){return o(j)&&i(j)&&r[j.charCodeAt(0)].length>=3};var f=t.__arabicParser__.arabicLetterHasMedialForm=function(j){return o(j)&&i(j)&&r[j.charCodeAt(0)].length==4},x=t.__arabicParser__.resolveLigatures=function(j){var w=0,N=a,P="",A=0;for(w=0;w<j.length;w+=1)N[j.charCodeAt(w)]!==void 0?(A++,typeof(N=N[j.charCodeAt(w)])=="number"&&(P+=String.fromCharCode(N),N=a,A=0),w===j.length-1&&(N=a,P+=j.charAt(w-(A-1)),w-=A-1,A=0)):(N=a,P+=j.charAt(w-A),w-=A,A=0);return P};t.__arabicParser__.isArabicDiacritic=function(j){return j!==void 0&&s[j.charCodeAt(0)]!==void 0};var b=t.__arabicParser__.getCorrectForm=function(j,w,N){return o(j)?i(j)===!1?-1:!m(j)||!o(w)&&!o(N)||!o(N)&&d(w)||d(j)&&!o(w)||d(j)&&u(w)||d(j)&&d(w)?0:f(j)&&o(w)&&!d(w)&&o(N)&&m(N)?3:d(j)||!o(N)?1:2:-1},p=function(j){var w=0,N=0,P=0,A="",D="",T="",R=(j=j||"").split("\\s+"),E=[];for(w=0;w<R.length;w+=1){for(E.push(""),N=0;N<R[w].length;N+=1)A=R[w][N],D=R[w][N-1],T=R[w][N+1],o(A)?(P=b(A,D,T),E[w]+=P!==-1?String.fromCharCode(r[A.charCodeAt(0)][P]):A):E[w]+=A;E[w]=x(E[w])}return E.join(" ")},v=t.__arabicParser__.processArabic=t.processArabic=function(){var j,w=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,N=[];if(Array.isArray(w)){var P=0;for(N=[],P=0;P<w.length;P+=1)Array.isArray(w[P])?N.push([p(w[P][0]),w[P][1],w[P][2]]):N.push([p(w[P])]);j=N}else j=p(w);return typeof arguments[0]=="string"?j:(arguments[0].text=j,arguments[0])};t.events.push(["preProcessText",v])}(Nt.API),Nt.API.autoPrint=function(t){var r;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){r=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+r+" 0 R")})),this},function(t){var r=function(){var a=void 0;Object.defineProperty(this,"pdf",{get:function(){return a},set:function(d){a=d}});var s=150;Object.defineProperty(this,"width",{get:function(){return s},set:function(d){s=isNaN(d)||Number.isInteger(d)===!1||d<0?150:d,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=s+1)}});var n=300;Object.defineProperty(this,"height",{get:function(){return n},set:function(d){n=isNaN(d)||Number.isInteger(d)===!1||d<0?300:d,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=n+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(d){i=d}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(d){o=d}}),Object.defineProperty(this,"parentNode",{})};r.prototype.getContext=function(a,s){var n;if((a=a||"2d")!=="2d")return null;for(n in s)this.pdf.context2d.hasOwnProperty(n)&&(this.pdf.context2d[n]=s[n]);return this.pdf.context2d._canvas=this,this.pdf.context2d},r.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new r,this.canvas.pdf=this}])}(Nt.API),function(t){var r={left:0,top:0,bottom:0,right:0},a=!1,s=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},r),this.internal.__cell__.margins.width=this.getPageWidth(),n.call(this))},n=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var u=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return u},set:function(j){u=j}});var m=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return m},set:function(j){m=j}});var f=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return f},set:function(j){f=j}});var x=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return x},set:function(j){x=j}});var b=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return b},set:function(j){b=j}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(j){p=j}});var v=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return v},set:function(j){v=j}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(u){return s.call(this),this.internal.__cell__.headerFunction=typeof u=="function"?u:void 0,this},t.getTextDimensions=function(u,m){s.call(this);var f=(m=m||{}).fontSize||this.getFontSize(),x=m.font||this.getFont(),b=m.scaleFactor||this.internal.scaleFactor,p=0,v=0,j=0,w=this;if(!Array.isArray(u)&&typeof u!="string"){if(typeof u!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");u=String(u)}var N=m.maxWidth;N>0?typeof u=="string"?u=this.splitTextToSize(u,N):Object.prototype.toString.call(u)==="[object Array]"&&(u=u.reduce(function(A,D){return A.concat(w.splitTextToSize(D,N))},[])):u=Array.isArray(u)?u:[u];for(var P=0;P<u.length;P++)p<(j=this.getStringUnitWidth(u[P],{font:x})*f)&&(p=j);return p!==0&&(v=u.length),{w:p/=b,h:Math.max((v*f*this.getLineHeightFactor()-f*(this.getLineHeightFactor()-1))/b,0)}},t.cellAddPage=function(){s.call(this),this.addPage();var u=this.internal.__cell__.margins||r;return this.internal.__cell__.lastCell=new i(u.left,u.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=t.cell=function(){var u;u=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),s.call(this);var m=this.internal.__cell__.lastCell,f=this.internal.__cell__.padding,x=this.internal.__cell__.margins||r,b=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return m.lineNumber!==void 0&&(m.lineNumber===u.lineNumber?(u.x=(m.x||0)+(m.width||0),u.y=m.y||0):m.y+m.height+u.height+x.bottom>this.getPageHeight()?(this.cellAddPage(),u.y=x.top,p&&b&&(this.printHeaderRow(u.lineNumber,!0),u.y+=b[0].height)):u.y=m.y+m.height||u.y),u.text[0]!==void 0&&(this.rect(u.x,u.y,u.width,u.height,a===!0?"FD":void 0),u.align==="right"?this.text(u.text,u.x+u.width-f,u.y+f,{align:"right",baseline:"top"}):u.align==="center"?this.text(u.text,u.x+u.width/2,u.y+f,{align:"center",baseline:"top",maxWidth:u.width-f-f}):this.text(u.text,u.x+f,u.y+f,{align:"left",baseline:"top",maxWidth:u.width-f-f})),this.internal.__cell__.lastCell=u,this};t.table=function(u,m,f,x,b){if(s.call(this),!f)throw new Error("No data for PDF table.");var p,v,j,w,N=[],P=[],A=[],D={},T={},R=[],E=[],O=(b=b||{}).autoSize||!1,k=b.printHeaders!==!1,Y=b.css&&b.css["font-size"]!==void 0?16*b.css["font-size"]:b.fontSize||12,$=b.margins||Object.assign({width:this.getPageWidth()},r),M=typeof b.padding=="number"?b.padding:3,F=b.headerBackgroundColor||"#c8c8c8",K=b.headerTextColor||"#000";if(n.call(this),this.internal.__cell__.printHeaders=k,this.internal.__cell__.margins=$,this.internal.__cell__.table_font_size=Y,this.internal.__cell__.padding=M,this.internal.__cell__.headerBackgroundColor=F,this.internal.__cell__.headerTextColor=K,this.setFontSize(Y),x==null)P=N=Object.keys(f[0]),A=N.map(function(){return"left"});else if(Array.isArray(x)&&Gr(x[0])==="object")for(N=x.map(function(J){return J.name}),P=x.map(function(J){return J.prompt||J.name||""}),A=x.map(function(J){return J.align||"left"}),p=0;p<x.length;p+=1)T[x[p].name]=.7499990551181103*x[p].width;else Array.isArray(x)&&typeof x[0]=="string"&&(P=N=x,A=N.map(function(){return"left"}));if(O||Array.isArray(x)&&typeof x[0]=="string")for(p=0;p<N.length;p+=1){for(D[w=N[p]]=f.map(function(J){return J[w]}),this.setFont(void 0,"bold"),R.push(this.getTextDimensions(P[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),v=D[w],this.setFont(void 0,"normal"),j=0;j<v.length;j+=1)R.push(this.getTextDimensions(v[j],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);T[w]=Math.max.apply(null,R)+M+M,R=[]}if(k){var q={};for(p=0;p<N.length;p+=1)q[N[p]]={},q[N[p]].text=P[p],q[N[p]].align=A[p];var U=d.call(this,q,T);E=N.map(function(J){return new i(u,m,T[J],U,q[J].text,void 0,q[J].align)}),this.setTableHeaderRow(E),this.printHeaderRow(1,!1)}var V=x.reduce(function(J,be){return J[be.name]=be.align,J},{});for(p=0;p<f.length;p+=1){"rowStart"in b&&b.rowStart instanceof Function&&b.rowStart({row:p,data:f[p]},this);var Z=d.call(this,f[p],T);for(j=0;j<N.length;j+=1){var X=f[p][N[j]];"cellStart"in b&&b.cellStart instanceof Function&&b.cellStart({row:p,col:j,data:X},this),o.call(this,new i(u,m,T[N[j]],Z,X,p+2,V[N[j]]))}}return this.internal.__cell__.table_x=u,this.internal.__cell__.table_y=m,this};var d=function(u,m){var f=this.internal.__cell__.padding,x=this.internal.__cell__.table_font_size,b=this.internal.scaleFactor;return Object.keys(u).map(function(p){var v=u[p];return this.splitTextToSize(v.hasOwnProperty("text")?v.text:v,m[p]-f-f)},this).map(function(p){return this.getLineHeightFactor()*p.length*x/b+f+f},this).reduce(function(p,v){return Math.max(p,v)},0)};t.setTableHeaderRow=function(u){s.call(this),this.internal.__cell__.tableHeaderRow=u},t.printHeaderRow=function(u,m){if(s.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var f;if(a=!0,typeof this.internal.__cell__.headerFunction=="function"){var x=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(x[0],x[1],x[2],x[3],void 0,-1)}this.setFont(void 0,"bold");for(var b=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){f=this.internal.__cell__.tableHeaderRow[p].clone(),m&&(f.y=this.internal.__cell__.margins.top||0,b.push(f)),f.lineNumber=u;var v=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,f),this.setTextColor(v)}b.length>0&&this.setTableHeaderRow(b),this.setFont(void 0,"normal"),a=!1}}(Nt.API);var X9={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},J9=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],hj=W9(J9),Z9=[100,200,300,400,500,600,700,800,900],QG=W9(Z9);function qv(t){var r=t.family.replace(/"|'/g,"").toLowerCase(),a=function(i){return X9[i=i||"normal"]?i:"normal"}(t.style),s=function(i){return i?typeof i=="number"?i>=100&&i<=900&&i%100==0?i:400:/^\d00$/.test(i)?parseInt(i):i==="bold"?700:400:400}(t.weight),n=function(i){return typeof hj[i=i||"normal"]=="number"?i:"normal"}(t.stretch);return{family:r,style:a,weight:s,stretch:n,src:t.src||[],ref:t.ref||{name:r,style:[n,a,s].join(" ")}}}function BS(t,r,a,s){var n;for(n=a;n>=0&&n<r.length;n+=s)if(t[r[n]])return t[r[n]];for(n=a;n>=0&&n<r.length;n-=s)if(t[r[n]])return t[r[n]]}var eY={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},zS={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function US(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function qS(t){return t.trimLeft()}function tY(t,r){for(var a=0;a<t.length;){if(t.charAt(a)===r)return[t.substring(0,a),t.substring(a+1)];a+=1}return null}function rY(t){var r=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return r===null?null:[r[0],t.substring(r[0].length)]}var xp,HS,GS,Qm,pp,YS,VS,KS,Hv=["times"];function WS(t,r,a,s){var n=4,i=JS;switch(s){case Nt.API.image_compression.FAST:n=1,i=XS;break;case Nt.API.image_compression.MEDIUM:n=6,i=ZS;break;case Nt.API.image_compression.SLOW:n=9,i=QS}t=function(d,u,m,f){for(var x,b=d.length/u,p=new Uint8Array(d.length+b),v=[aY,XS,JS,ZS,QS],j=0;j<b;j+=1){var w=j*u,N=d.subarray(w,w+u);if(f)p.set(f(N,m,x),w+j);else{for(var P=v.length,A=[],D=0;D<P;D+=1)A[D]=v[D](N,m,x);var T=nY(A.concat());p.set(A[T],w+j)}x=N}return p}(t,r,a,i);var o=lj(t,{level:n});return Nt.API.__addimage__.arrayBufferToBinaryString(o)}function aY(t){var r=Array.apply([],t);return r.unshift(0),r}function XS(t,r){var a=t.length,s=[];s[0]=1;for(var n=0;n<a;n+=1){var i=t[n-r]||0;s[n+1]=t[n]-i+256&255}return s}function JS(t,r,a){var s=t.length,n=[];n[0]=2;for(var i=0;i<s;i+=1){var o=a&&a[i]||0;n[i+1]=t[i]-o+256&255}return n}function ZS(t,r,a){var s=t.length,n=[];n[0]=3;for(var i=0;i<s;i+=1){var o=t[i-r]||0,d=a&&a[i]||0;n[i+1]=t[i]+256-(o+d>>>1)&255}return n}function QS(t,r,a){var s=t.length,n=[];n[0]=4;for(var i=0;i<s;i+=1){var o=sY(t[i-r]||0,a&&a[i]||0,a&&a[i-r]||0);n[i+1]=t[i]-o+256&255}return n}function sY(t,r,a){if(t===r&&r===a)return t;var s=Math.abs(r-a),n=Math.abs(t-a),i=Math.abs(t+r-a-a);return s<=n&&s<=i?t:n<=i?r:a}function nY(t){var r=t.map(function(a){return a.reduce(function(s,n){return s+Math.abs(n)},0)});return r.indexOf(Math.min.apply(null,r))}function Gv(t,r,a){var s=r*a,n=Math.floor(s/8),i=16-(s-8*n+a),o=(1<<a)-1;return Q9(t,n)>>i&o}function e_(t,r,a,s){var n=a*s,i=Math.floor(n/8),o=16-(n-8*i+s),d=(1<<s)-1,u=(r&d)<<o;(function(m,f,x){if(f+1<m.byteLength)m.setUint16(f,x,!1);else{var b=x>>8&255;m.setUint8(f,b)}})(t,i,Q9(t,i)&~(d<<o)&65535|u)}function Q9(t,r){return r+1<t.byteLength?t.getUint16(r,!1):t.getUint8(r)<<8}function iY(t){var r=0;if(t[r++]!==71||t[r++]!==73||t[r++]!==70||t[r++]!==56||(t[r++]+1&253)!=56||t[r++]!==97)throw new Error("Invalid GIF 87a/89a header.");var a=t[r++]|t[r++]<<8,s=t[r++]|t[r++]<<8,n=t[r++],i=n>>7,o=1<<1+(7&n);t[r++],t[r++];var d=null,u=null;i&&(d=r,u=o,r+=3*o);var m=!0,f=[],x=0,b=null,p=0,v=null;for(this.width=a,this.height=s;m&&r<t.length;)switch(t[r++]){case 33:switch(t[r++]){case 255:if(t[r]!==11||t[r+1]==78&&t[r+2]==69&&t[r+3]==84&&t[r+4]==83&&t[r+5]==67&&t[r+6]==65&&t[r+7]==80&&t[r+8]==69&&t[r+9]==50&&t[r+10]==46&&t[r+11]==48&&t[r+12]==3&&t[r+13]==1&&t[r+16]==0)r+=14,v=t[r++]|t[r++]<<8,r++;else for(r+=12;;){if(!(($=t[r++])>=0))throw Error("Invalid block size");if($===0)break;r+=$}break;case 249:if(t[r++]!==4||t[r+4]!==0)throw new Error("Invalid graphics extension block.");var j=t[r++];x=t[r++]|t[r++]<<8,b=t[r++],1&j||(b=null),p=j>>2&7,r++;break;case 254:for(;;){if(!(($=t[r++])>=0))throw Error("Invalid block size");if($===0)break;r+=$}break;default:throw new Error("Unknown graphic control label: 0x"+t[r-1].toString(16))}break;case 44:var w=t[r++]|t[r++]<<8,N=t[r++]|t[r++]<<8,P=t[r++]|t[r++]<<8,A=t[r++]|t[r++]<<8,D=t[r++],T=D>>6&1,R=1<<1+(7&D),E=d,O=u,k=!1;D>>7&&(k=!0,E=r,O=R,r+=3*R);var Y=r;for(r++;;){var $;if(!(($=t[r++])>=0))throw Error("Invalid block size");if($===0)break;r+=$}f.push({x:w,y:N,width:P,height:A,has_local_palette:k,palette_offset:E,palette_size:O,data_offset:Y,data_length:r-Y,transparent_index:b,interlaced:!!T,delay:x,disposal:p});break;case 59:m=!1;break;default:throw new Error("Unknown gif block: 0x"+t[r-1].toString(16))}this.numFrames=function(){return f.length},this.loopCount=function(){return v},this.frameInfo=function(M){if(M<0||M>=f.length)throw new Error("Frame index out of range.");return f[M]},this.decodeAndBlitFrameBGRA=function(M,F){var K=this.frameInfo(M),q=K.width*K.height,U=new Uint8Array(q);t_(t,K.data_offset,U,q);var V=K.palette_offset,Z=K.transparent_index;Z===null&&(Z=256);var X=K.width,J=a-X,be=X,z=4*(K.y*a+K.x),re=4*((K.y+K.height)*a+K.x),G=z,Q=4*J;K.interlaced===!0&&(Q+=4*a*7);for(var ve=8,ye=0,ne=U.length;ye<ne;++ye){var te=U[ye];if(be===0&&(be=X,(G+=Q)>=re&&(Q=4*J+4*a*(ve-1),G=z+(X+J)*(ve<<1),ve>>=1)),te===Z)G+=4;else{var Ae=t[V+3*te],we=t[V+3*te+1],le=t[V+3*te+2];F[G++]=le,F[G++]=we,F[G++]=Ae,F[G++]=255}--be}},this.decodeAndBlitFrameRGBA=function(M,F){var K=this.frameInfo(M),q=K.width*K.height,U=new Uint8Array(q);t_(t,K.data_offset,U,q);var V=K.palette_offset,Z=K.transparent_index;Z===null&&(Z=256);var X=K.width,J=a-X,be=X,z=4*(K.y*a+K.x),re=4*((K.y+K.height)*a+K.x),G=z,Q=4*J;K.interlaced===!0&&(Q+=4*a*7);for(var ve=8,ye=0,ne=U.length;ye<ne;++ye){var te=U[ye];if(be===0&&(be=X,(G+=Q)>=re&&(Q=4*J+4*a*(ve-1),G=z+(X+J)*(ve<<1),ve>>=1)),te===Z)G+=4;else{var Ae=t[V+3*te],we=t[V+3*te+1],le=t[V+3*te+2];F[G++]=Ae,F[G++]=we,F[G++]=le,F[G++]=255}--be}}}function t_(t,r,a,s){for(var n=t[r++],i=1<<n,o=i+1,d=o+1,u=n+1,m=(1<<u)-1,f=0,x=0,b=0,p=t[r++],v=new Int32Array(4096),j=null;;){for(;f<16&&p!==0;)x|=t[r++]<<f,f+=8,p===1?p=t[r++]:--p;if(f<u)break;var w=x&m;if(x>>=u,f-=u,w!==i){if(w===o)break;for(var N=w<d?w:j,P=0,A=N;A>i;)A=v[A]>>8,++P;var D=A;if(b+P+(N!==w?1:0)>s)return void ea.log("Warning, gif stream longer than expected.");a[b++]=D;var T=b+=P;for(N!==w&&(a[b++]=D),A=N;P--;)A=v[A],a[--T]=255&A,A>>=8;j!==null&&d<4096&&(v[d++]=j<<8|D,d>=m+1&&u<12&&(++u,m=m<<1|1)),j=w}else d=o+1,m=(1<<(u=n+1))-1,j=null}return b!==s&&ea.log("Warning, gif stream shorter than expected."),a}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Yv(t){var r,a,s,n,i,o=Math.floor,d=new Array(64),u=new Array(64),m=new Array(64),f=new Array(64),x=new Array(65535),b=new Array(65535),p=new Array(64),v=new Array(64),j=[],w=0,N=7,P=new Array(64),A=new Array(64),D=new Array(64),T=new Array(256),R=new Array(2048),E=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],O=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],k=[0,1,2,3,4,5,6,7,8,9,10,11],Y=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],$=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],M=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],F=[0,1,2,3,4,5,6,7,8,9,10,11],K=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],q=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function U(z,re){for(var G=0,Q=0,ve=new Array,ye=1;ye<=16;ye++){for(var ne=1;ne<=z[ye];ne++)ve[re[Q]]=[],ve[re[Q]][0]=G,ve[re[Q]][1]=ye,Q++,G++;G*=2}return ve}function V(z){for(var re=z[0],G=z[1]-1;G>=0;)re&1<<G&&(w|=1<<N),G--,--N<0&&(w==255?(Z(255),Z(0)):Z(w),N=7,w=0)}function Z(z){j.push(z)}function X(z){Z(z>>8&255),Z(255&z)}function J(z,re,G,Q,ve){for(var ye,ne=ve[0],te=ve[240],Ae=function(pe,Ie){var Qe,xt,dt,xr,Xt,Rt,er,Pt,lt,$t,wt=0;for(lt=0;lt<8;++lt){Qe=pe[wt],xt=pe[wt+1],dt=pe[wt+2],xr=pe[wt+3],Xt=pe[wt+4],Rt=pe[wt+5],er=pe[wt+6];var Yr=Qe+(Pt=pe[wt+7]),mr=Qe-Pt,yt=xt+er,Tt=xt-er,Er=dt+Rt,At=dt-Rt,or=xr+Xt,Kt=xr-Xt,pa=Yr+or,Ea=Yr-or,Sr=yt+Er,Ut=yt-Er;pe[wt]=pa+Sr,pe[wt+4]=pa-Sr;var _r=.707106781*(Ut+Ea);pe[wt+2]=Ea+_r,pe[wt+6]=Ea-_r;var Kl=.382683433*((pa=Kt+At)-(Ut=Tt+mr)),ss=.5411961*pa+Kl,ri=1.306562965*Ut+Kl,ai=.707106781*(Sr=At+Tt),Et=mr+ai,_s=mr-ai;pe[wt+5]=_s+ss,pe[wt+3]=_s-ss,pe[wt+1]=Et+ri,pe[wt+7]=Et-ri,wt+=8}for(wt=0,lt=0;lt<8;++lt){Qe=pe[wt],xt=pe[wt+8],dt=pe[wt+16],xr=pe[wt+24],Xt=pe[wt+32],Rt=pe[wt+40],er=pe[wt+48];var sa=Qe+(Pt=pe[wt+56]),Xr=Qe-Pt,ms=xt+er,na=xt-er,ns=dt+Rt,fs=dt-Rt,Wl=xr+Xt,Ln=xr-Xt,bn=sa+Wl,Us=sa-Wl,As=ms+ns,qs=ms-ns;pe[wt]=bn+As,pe[wt+32]=bn-As;var hs=.707106781*(qs+Us);pe[wt+16]=Us+hs,pe[wt+48]=Us-hs;var ia=.382683433*((bn=Ln+fs)-(qs=na+Xr)),si=.5411961*bn+ia,Xl=1.306562965*qs+ia,Mn=.707106781*(As=fs+na),ni=Xr+Mn,Oc=Xr-Mn;pe[wt+40]=Oc+si,pe[wt+24]=Oc-si,pe[wt+8]=ni+Xl,pe[wt+56]=ni-Xl,wt++}for(lt=0;lt<64;++lt)$t=pe[lt]*Ie[lt],p[lt]=$t>0?$t+.5|0:$t-.5|0;return p}(z,re),we=0;we<64;++we)v[E[we]]=Ae[we];var le=v[0]-G;G=v[0],le==0?V(Q[0]):(V(Q[b[ye=32767+le]]),V(x[ye]));for(var xe=63;xe>0&&v[xe]==0;)xe--;if(xe==0)return V(ne),G;for(var oe,me=1;me<=xe;){for(var tt=me;v[me]==0&&me<=xe;)++me;var rt=me-tt;if(rt>=16){oe=rt>>4;for(var it=1;it<=oe;++it)V(te);rt&=15}ye=32767+v[me],V(ve[(rt<<4)+b[ye]]),V(x[ye]),me++}return xe!=63&&V(ne),G}function be(z){z=Math.min(Math.max(z,1),100),i!=z&&(function(re){for(var G=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Q=0;Q<64;Q++){var ve=o((G[Q]*re+50)/100);ve=Math.min(Math.max(ve,1),255),d[E[Q]]=ve}for(var ye=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ne=0;ne<64;ne++){var te=o((ye[ne]*re+50)/100);te=Math.min(Math.max(te,1),255),u[E[ne]]=te}for(var Ae=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],we=0,le=0;le<8;le++)for(var xe=0;xe<8;xe++)m[we]=1/(d[E[we]]*Ae[le]*Ae[xe]*8),f[we]=1/(u[E[we]]*Ae[le]*Ae[xe]*8),we++}(z<50?Math.floor(5e3/z):Math.floor(200-2*z)),i=z)}this.encode=function(z,re){re&&be(re),j=new Array,w=0,N=7,X(65496),X(65504),X(16),Z(74),Z(70),Z(73),Z(70),Z(0),Z(1),Z(1),Z(0),X(1),X(1),Z(0),Z(0),function(){X(65499),X(132),Z(0);for(var xt=0;xt<64;xt++)Z(d[xt]);Z(1);for(var dt=0;dt<64;dt++)Z(u[dt])}(),function(xt,dt){X(65472),X(17),Z(8),X(dt),X(xt),Z(3),Z(1),Z(17),Z(0),Z(2),Z(17),Z(1),Z(3),Z(17),Z(1)}(z.width,z.height),function(){X(65476),X(418),Z(0);for(var xt=0;xt<16;xt++)Z(O[xt+1]);for(var dt=0;dt<=11;dt++)Z(k[dt]);Z(16);for(var xr=0;xr<16;xr++)Z(Y[xr+1]);for(var Xt=0;Xt<=161;Xt++)Z($[Xt]);Z(1);for(var Rt=0;Rt<16;Rt++)Z(M[Rt+1]);for(var er=0;er<=11;er++)Z(F[er]);Z(17);for(var Pt=0;Pt<16;Pt++)Z(K[Pt+1]);for(var lt=0;lt<=161;lt++)Z(q[lt])}(),X(65498),X(12),Z(3),Z(1),Z(0),Z(2),Z(17),Z(3),Z(17),Z(0),Z(63),Z(0);var G=0,Q=0,ve=0;w=0,N=7,this.encode.displayName="_encode_";for(var ye,ne,te,Ae,we,le,xe,oe,me,tt=z.data,rt=z.width,it=z.height,pe=4*rt,Ie=0;Ie<it;){for(ye=0;ye<pe;){for(we=pe*Ie+ye,xe=-1,oe=0,me=0;me<64;me++)le=we+(oe=me>>3)*pe+(xe=4*(7&me)),Ie+oe>=it&&(le-=pe*(Ie+1+oe-it)),ye+xe>=pe&&(le-=ye+xe-pe+4),ne=tt[le++],te=tt[le++],Ae=tt[le++],P[me]=(R[ne]+R[te+256|0]+R[Ae+512|0]>>16)-128,A[me]=(R[ne+768|0]+R[te+1024|0]+R[Ae+1280|0]>>16)-128,D[me]=(R[ne+1280|0]+R[te+1536|0]+R[Ae+1792|0]>>16)-128;G=J(P,m,G,r,s),Q=J(A,f,Q,a,n),ve=J(D,f,ve,a,n),ye+=32}Ie+=8}if(N>=0){var Qe=[];Qe[1]=N+1,Qe[0]=(1<<N+1)-1,V(Qe)}return X(65497),new Uint8Array(j)},t=t||50,function(){for(var z=String.fromCharCode,re=0;re<256;re++)T[re]=z(re)}(),r=U(O,k),a=U(M,F),s=U(Y,$),n=U(K,q),function(){for(var z=1,re=2,G=1;G<=15;G++){for(var Q=z;Q<re;Q++)b[32767+Q]=G,x[32767+Q]=[],x[32767+Q][1]=G,x[32767+Q][0]=Q;for(var ve=-(re-1);ve<=-z;ve++)b[32767+ve]=G,x[32767+ve]=[],x[32767+ve][1]=G,x[32767+ve][0]=re-1+ve;z<<=1,re<<=1}}(),function(){for(var z=0;z<256;z++)R[z]=19595*z,R[z+256|0]=38470*z,R[z+512|0]=7471*z+32768,R[z+768|0]=-11059*z,R[z+1024|0]=-21709*z,R[z+1280|0]=32768*z+8421375,R[z+1536|0]=-27439*z,R[z+1792|0]=-5329*z}(),be(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Ml(t,r){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!r,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function r_(t){function r(k){if(!k)throw Error("assert :P")}function a(k,Y,$){for(var M=0;4>M;M++)if(k[Y+M]!=$.charCodeAt(M))return!0;return!1}function s(k,Y,$,M,F){for(var K=0;K<F;K++)k[Y+K]=$[M+K]}function n(k,Y,$,M){for(var F=0;F<M;F++)k[Y+F]=$}function i(k){return new Int32Array(k)}function o(k,Y){for(var $=[],M=0;M<k;M++)$.push(new Y);return $}function d(k,Y){var $=[];return function M(F,K,q){for(var U=q[K],V=0;V<U&&(F.push(q.length>K+1?[]:new Y),!(q.length<K+1));V++)M(F[V],K+1,q)}($,0,k),$}var u=function(){var k=this;function Y(S,C){for(var H=1<<C-1>>>0;S&H;)H>>>=1;return H?(S&H-1)+H:S}function $(S,C,H,W,ae){r(!(W%H));do S[C+(W-=H)]=ae;while(0<W)}function M(S,C,H,W,ae){if(r(2328>=ae),512>=ae)var ie=i(512);else if((ie=i(ae))==null)return 0;return function(ue,he,ge,Ne,Ce,Re){var je,Pe,De=he,qe=1<<ge,Me=i(16),Ge=i(16);for(r(Ce!=0),r(Ne!=null),r(ue!=null),r(0<ge),Pe=0;Pe<Ce;++Pe){if(15<Ne[Pe])return 0;++Me[Ne[Pe]]}if(Me[0]==Ce)return 0;for(Ge[1]=0,je=1;15>je;++je){if(Me[je]>1<<je)return 0;Ge[je+1]=Ge[je]+Me[je]}for(Pe=0;Pe<Ce;++Pe)je=Ne[Pe],0<Ne[Pe]&&(Re[Ge[je]++]=Pe);if(Ge[15]==1)return(Ne=new F).g=0,Ne.value=Re[0],$(ue,De,1,qe,Ne),qe;var He,Ze=-1,We=qe-1,bt=0,ot=1,qt=1,ct=1<<ge;for(Pe=0,je=1,Ce=2;je<=ge;++je,Ce<<=1){if(ot+=qt<<=1,0>(qt-=Me[je]))return 0;for(;0<Me[je];--Me[je])(Ne=new F).g=je,Ne.value=Re[Pe++],$(ue,De+bt,Ce,ct,Ne),bt=Y(bt,je)}for(je=ge+1,Ce=2;15>=je;++je,Ce<<=1){if(ot+=qt<<=1,0>(qt-=Me[je]))return 0;for(;0<Me[je];--Me[je]){if(Ne=new F,(bt&We)!=Ze){for(De+=ct,He=1<<(Ze=je)-ge;15>Ze&&!(0>=(He-=Me[Ze]));)++Ze,He<<=1;qe+=ct=1<<(He=Ze-ge),ue[he+(Ze=bt&We)].g=He+ge,ue[he+Ze].value=De-he-Ze}Ne.g=je-ge,Ne.value=Re[Pe++],$(ue,De+(bt>>ge),Ce,ct,Ne),bt=Y(bt,je)}}return ot!=2*Ge[15]-1?0:qe}(S,C,H,W,ae,ie)}function F(){this.value=this.g=0}function K(){this.value=this.g=0}function q(){this.G=o(5,F),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Bn,K)}function U(S,C,H,W){r(S!=null),r(C!=null),r(2147483648>W),S.Ca=254,S.I=0,S.b=-8,S.Ka=0,S.oa=C,S.pa=H,S.Jd=C,S.Yc=H+W,S.Zc=4<=W?H+W-4+1:H,ne(S)}function V(S,C){for(var H=0;0<C--;)H|=Ae(S,128)<<C;return H}function Z(S,C){var H=V(S,C);return te(S)?-H:H}function X(S,C,H,W){var ae,ie=0;for(r(S!=null),r(C!=null),r(4294967288>W),S.Sb=W,S.Ra=0,S.u=0,S.h=0,4<W&&(W=4),ae=0;ae<W;++ae)ie+=C[H+ae]<<8*ae;S.Ra=ie,S.bb=W,S.oa=C,S.pa=H}function J(S){for(;8<=S.u&&S.bb<S.Sb;)S.Ra>>>=8,S.Ra+=S.oa[S.pa+S.bb]<<jl-8>>>0,++S.bb,S.u-=8;Q(S)&&(S.h=1,S.u=0)}function be(S,C){if(r(0<=C),!S.h&&C<=Yc){var H=G(S)&zi[C];return S.u+=C,J(S),H}return S.h=1,S.u=0}function z(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function re(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function G(S){return S.Ra>>>(S.u&jl-1)>>>0}function Q(S){return r(S.bb<=S.Sb),S.h||S.bb==S.Sb&&S.u>jl}function ve(S,C){S.u=C,S.h=Q(S)}function ye(S){S.u>=ga&&(r(S.u>=ga),J(S))}function ne(S){r(S!=null&&S.oa!=null),S.pa<S.Zc?(S.I=(S.oa[S.pa++]|S.I<<8)>>>0,S.b+=8):(r(S!=null&&S.oa!=null),S.pa<S.Yc?(S.b+=8,S.I=S.oa[S.pa++]|S.I<<8):S.Ka?S.b=0:(S.I<<=8,S.b+=8,S.Ka=1))}function te(S){return V(S,1)}function Ae(S,C){var H=S.Ca;0>S.b&&ne(S);var W=S.b,ae=H*C>>>8,ie=(S.I>>>W>ae)+0;for(ie?(H-=ae,S.I-=ae+1<<W>>>0):H=ae+1,W=H,ae=0;256<=W;)ae+=8,W>>=8;return W=7^ae+Jf[W],S.b-=W,S.Ca=(H<<W)-1,ie}function we(S,C,H){S[C+0]=H>>24&255,S[C+1]=H>>16&255,S[C+2]=H>>8&255,S[C+3]=255&H}function le(S,C){return S[C+0]|S[C+1]<<8}function xe(S,C){return le(S,C)|S[C+2]<<16}function oe(S,C){return le(S,C)|le(S,C+2)<<16}function me(S,C){var H=1<<C;return r(S!=null),r(0<C),S.X=i(H),S.X==null?0:(S.Mb=32-C,S.Xa=C,1)}function tt(S,C){r(S!=null),r(C!=null),r(S.Xa==C.Xa),s(C.X,0,S.X,0,1<<C.Xa)}function rt(){this.X=[],this.Xa=this.Mb=0}function it(S,C,H,W){r(H!=null),r(W!=null);var ae=H[0],ie=W[0];return ae==0&&(ae=(S*ie+C/2)/C),ie==0&&(ie=(C*ae+S/2)/S),0>=ae||0>=ie?0:(H[0]=ae,W[0]=ie,1)}function pe(S,C){return S+(1<<C)-1>>>C}function Ie(S,C){return((4278255360&S)+(4278255360&C)>>>0&4278255360)+((16711935&S)+(16711935&C)>>>0&16711935)>>>0}function Qe(S,C){k[C]=function(H,W,ae,ie,ue,he,ge){var Ne;for(Ne=0;Ne<ue;++Ne){var Ce=k[S](he[ge+Ne-1],ae,ie+Ne);he[ge+Ne]=Ie(H[W+Ne],Ce)}}}function xt(){this.ud=this.hd=this.jd=0}function dt(S,C){return((4278124286&(S^C))>>>1)+(S&C)>>>0}function xr(S){return 0<=S&&256>S?S:0>S?0:255<S?255:void 0}function Xt(S,C){return xr(S+(S-C+.5>>1))}function Rt(S,C,H){return Math.abs(C-H)-Math.abs(S-H)}function er(S,C,H,W,ae,ie,ue){for(W=ie[ue-1],H=0;H<ae;++H)ie[ue+H]=W=Ie(S[C+H],W)}function Pt(S,C,H,W,ae){var ie;for(ie=0;ie<H;++ie){var ue=S[C+ie],he=ue>>8&255,ge=16711935&(ge=(ge=16711935&ue)+((he<<16)+he));W[ae+ie]=(4278255360&ue)+ge>>>0}}function lt(S,C){C.jd=255&S,C.hd=S>>8&255,C.ud=S>>16&255}function $t(S,C,H,W,ae,ie){var ue;for(ue=0;ue<W;++ue){var he=C[H+ue],ge=he>>>8,Ne=he,Ce=255&(Ce=(Ce=he>>>16)+((S.jd<<24>>24)*(ge<<24>>24)>>>5));Ne=255&(Ne=(Ne+=(S.hd<<24>>24)*(ge<<24>>24)>>>5)+((S.ud<<24>>24)*(Ce<<24>>24)>>>5)),ae[ie+ue]=(4278255360&he)+(Ce<<16)+Ne}}function wt(S,C,H,W,ae){k[C]=function(ie,ue,he,ge,Ne,Ce,Re,je,Pe){for(ge=Re;ge<je;++ge)for(Re=0;Re<Pe;++Re)Ne[Ce++]=ae(he[W(ie[ue++])])},k[S]=function(ie,ue,he,ge,Ne,Ce,Re){var je=8>>ie.b,Pe=ie.Ea,De=ie.K[0],qe=ie.w;if(8>je)for(ie=(1<<ie.b)-1,qe=(1<<je)-1;ue<he;++ue){var Me,Ge=0;for(Me=0;Me<Pe;++Me)Me&ie||(Ge=W(ge[Ne++])),Ce[Re++]=ae(De[Ge&qe]),Ge>>=je}else k["VP8LMapColor"+H](ge,Ne,De,qe,Ce,Re,ue,he,Pe)}}function Yr(S,C,H,W,ae){for(H=C+H;C<H;){var ie=S[C++];W[ae++]=ie>>16&255,W[ae++]=ie>>8&255,W[ae++]=255&ie}}function mr(S,C,H,W,ae){for(H=C+H;C<H;){var ie=S[C++];W[ae++]=ie>>16&255,W[ae++]=ie>>8&255,W[ae++]=255&ie,W[ae++]=ie>>24&255}}function yt(S,C,H,W,ae){for(H=C+H;C<H;){var ie=(ue=S[C++])>>16&240|ue>>12&15,ue=240&ue|ue>>28&15;W[ae++]=ie,W[ae++]=ue}}function Tt(S,C,H,W,ae){for(H=C+H;C<H;){var ie=(ue=S[C++])>>16&248|ue>>13&7,ue=ue>>5&224|ue>>3&31;W[ae++]=ie,W[ae++]=ue}}function Er(S,C,H,W,ae){for(H=C+H;C<H;){var ie=S[C++];W[ae++]=255&ie,W[ae++]=ie>>8&255,W[ae++]=ie>>16&255}}function At(S,C,H,W,ae,ie){if(ie==0)for(H=C+H;C<H;)we(W,((ie=S[C++])[0]>>24|ie[1]>>8&65280|ie[2]<<8&16711680|ie[3]<<24)>>>0),ae+=32;else s(W,ae,S,C,H)}function or(S,C){k[C][0]=k[S+"0"],k[C][1]=k[S+"1"],k[C][2]=k[S+"2"],k[C][3]=k[S+"3"],k[C][4]=k[S+"4"],k[C][5]=k[S+"5"],k[C][6]=k[S+"6"],k[C][7]=k[S+"7"],k[C][8]=k[S+"8"],k[C][9]=k[S+"9"],k[C][10]=k[S+"10"],k[C][11]=k[S+"11"],k[C][12]=k[S+"12"],k[C][13]=k[S+"13"],k[C][14]=k[S+"0"],k[C][15]=k[S+"0"]}function Kt(S){return S==cu||S==oo||S==wl||S==Jc}function pa(){this.eb=[],this.size=this.A=this.fb=0}function Ea(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Sr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new pa,this.f.kb=new Ea,this.sd=null}function Ut(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function _r(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Kl(S){return alert("todo:WebPSamplerProcessPlane"),S.T}function ss(S,C){var H=S.T,W=C.ba.f.RGBA,ae=W.eb,ie=W.fb+S.ka*W.A,ue=cs[C.ba.S],he=S.y,ge=S.O,Ne=S.f,Ce=S.N,Re=S.ea,je=S.W,Pe=C.cc,De=C.dc,qe=C.Mc,Me=C.Nc,Ge=S.ka,He=S.ka+S.T,Ze=S.U,We=Ze+1>>1;for(Ge==0?ue(he,ge,null,null,Ne,Ce,Re,je,Ne,Ce,Re,je,ae,ie,null,null,Ze):(ue(C.ec,C.fc,he,ge,Pe,De,qe,Me,Ne,Ce,Re,je,ae,ie-W.A,ae,ie,Ze),++H);Ge+2<He;Ge+=2)Pe=Ne,De=Ce,qe=Re,Me=je,Ce+=S.Rc,je+=S.Rc,ie+=2*W.A,ue(he,(ge+=2*S.fa)-S.fa,he,ge,Pe,De,qe,Me,Ne,Ce,Re,je,ae,ie-W.A,ae,ie,Ze);return ge+=S.fa,S.j+He<S.o?(s(C.ec,C.fc,he,ge,Ze),s(C.cc,C.dc,Ne,Ce,We),s(C.Mc,C.Nc,Re,je,We),H--):1&He||ue(he,ge,null,null,Ne,Ce,Re,je,Ne,Ce,Re,je,ae,ie+W.A,null,null,Ze),H}function ri(S,C,H){var W=S.F,ae=[S.J];if(W!=null){var ie=S.U,ue=C.ba.S,he=ue==Yo||ue==wl;C=C.ba.f.RGBA;var ge=[0],Ne=S.ka;ge[0]=S.T,S.Kb&&(Ne==0?--ge[0]:(--Ne,ae[0]-=S.width),S.j+S.ka+S.T==S.o&&(ge[0]=S.o-S.j-Ne));var Ce=C.eb;Ne=C.fb+Ne*C.A,S=_n(W,ae[0],S.width,ie,ge,Ce,Ne+(he?0:3),C.A),r(H==ge),S&&Kt(ue)&&Wc(Ce,Ne,he,ie,ge,C.A)}return 0}function ai(S){var C=S.ma,H=C.ba.S,W=11>H,ae=H==Xc||H==ou||H==Yo||H==Nl||H==12||Kt(H);if(C.memory=null,C.Ib=null,C.Jb=null,C.Nd=null,!ps(C.Oa,S,ae?11:12))return 0;if(ae&&Kt(H)&&su(),S.da)alert("todo:use_scaling");else{if(W){if(C.Ib=Kl,S.Kb){if(H=S.U+1>>1,C.memory=i(S.U+2*H),C.memory==null)return 0;C.ec=C.memory,C.fc=0,C.cc=C.ec,C.dc=C.fc+S.U,C.Mc=C.cc,C.Nc=C.dc+H,C.Ib=ss,su()}}else alert("todo:EmitYUV");ae&&(C.Jb=ri,W&&Bo())}if(W&&!m0){for(S=0;256>S;++S)Wy[S]=89858*(S-128)+Ga>>Zi,mu[S]=-22014*(S-128)+Ga,nh[S]=-45773*(S-128),Ya[S]=113618*(S-128)+Ga>>Zi;for(S=mo;S<Pm;++S)C=76283*(S-16)+Ga>>Zi,fu[S-mo]=qa(C,255),ih[S-mo]=qa(C+8>>4,15);m0=1}return 1}function Et(S){var C=S.ma,H=S.U,W=S.T;return r(!(1&S.ka)),0>=H||0>=W?0:(H=C.Ib(S,C),C.Jb!=null&&C.Jb(S,C,H),C.Dc+=H,1)}function _s(S){S.ma.memory=null}function sa(S,C,H,W){return be(S,8)!=47?0:(C[0]=be(S,14)+1,H[0]=be(S,14)+1,W[0]=be(S,1),be(S,3)!=0?0:!S.h)}function Xr(S,C){if(4>S)return S+1;var H=S-2>>1;return(2+(1&S)<<H)+be(C,H)+1}function ms(S,C){return 120<C?C-120:1<=(H=((H=_l[C-1])>>4)*S+(8-(15&H)))?H:1;var H}function na(S,C,H){var W=G(H),ae=S[C+=255&W].g-8;return 0<ae&&(ve(H,H.u+8),W=G(H),C+=S[C].value,C+=W&(1<<ae)-1),ve(H,H.u+S[C].g),S[C].value}function ns(S,C,H){return H.g+=S.g,H.value+=S.value<<C>>>0,r(8>=H.g),S.g}function fs(S,C,H){var W=S.xc;return r((C=W==0?0:S.vc[S.md*(H>>W)+(C>>W)])<S.Wb),S.Ya[C]}function Wl(S,C,H,W){var ae=S.ab,ie=S.c*C,ue=S.C;C=ue+C;var he=H,ge=W;for(W=S.Ta,H=S.Ua;0<ae--;){var Ne=S.gc[ae],Ce=ue,Re=C,je=he,Pe=ge,De=(ge=W,he=H,Ne.Ea);switch(r(Ce<Re),r(Re<=Ne.nc),Ne.hc){case 2:Vc(je,Pe,(Re-Ce)*De,ge,he);break;case 0:var qe=Ce,Me=Re,Ge=ge,He=he,Ze=(ct=Ne).Ea;qe==0&&(Ui(je,Pe,null,null,1,Ge,He),er(je,Pe+1,0,0,Ze-1,Ge,He+1),Pe+=Ze,He+=Ze,++qe);for(var We=1<<ct.b,bt=We-1,ot=pe(Ze,ct.b),qt=ct.K,ct=ct.w+(qe>>ct.b)*ot;qe<Me;){var nr=qt,Fa=ct,Bt=1;for(qi(je,Pe,Ge,He-Ze,1,Ge,He);Bt<Ze;){var ut=(Bt&~bt)+We;ut>Ze&&(ut=Ze),(0,io[nr[Fa++]>>8&15])(je,Pe+ +Bt,Ge,He+Bt-Ze,ut-Bt,Ge,He+Bt),Bt=ut}Pe+=Ze,He+=Ze,++qe&bt||(ct+=ot)}Re!=Ne.nc&&s(ge,he-De,ge,he+(Re-Ce-1)*De,De);break;case 1:for(De=je,Me=Pe,Ze=(je=Ne.Ea)-(He=je&~(Ge=(Pe=1<<Ne.b)-1)),qe=pe(je,Ne.b),We=Ne.K,Ne=Ne.w+(Ce>>Ne.b)*qe;Ce<Re;){for(bt=We,ot=Ne,qt=new xt,ct=Me+He,nr=Me+je;Me<ct;)lt(bt[ot++],qt),Gi(qt,De,Me,Pe,ge,he),Me+=Pe,he+=Pe;Me<nr&&(lt(bt[ot++],qt),Gi(qt,De,Me,Ze,ge,he),Me+=Ze,he+=Ze),++Ce&Ge||(Ne+=qe)}break;case 3:if(je==ge&&Pe==he&&0<Ne.b){for(Me=ge,je=De=he+(Re-Ce)*De-(He=(Re-Ce)*pe(Ne.Ea,Ne.b)),Pe=ge,Ge=he,qe=[],He=(Ze=He)-1;0<=He;--He)qe[He]=Pe[Ge+He];for(He=Ze-1;0<=He;--He)Me[je+He]=qe[He];nu(Ne,Ce,Re,ge,De,ge,he)}else nu(Ne,Ce,Re,je,Pe,ge,he)}he=W,ge=H}ge!=H&&s(W,H,he,ge,ie)}function Ln(S,C){var H=S.V,W=S.Ba+S.c*S.C,ae=C-S.C;if(r(C<=S.l.o),r(16>=ae),0<ae){var ie=S.l,ue=S.Ta,he=S.Ua,ge=ie.width;if(Wl(S,ae,H,W),ae=he=[he],r((H=S.C)<(W=C)),r(ie.v<ie.va),W>ie.o&&(W=ie.o),H<ie.j){var Ne=ie.j-H;H=ie.j,ae[0]+=Ne*ge}if(H>=W?H=0:(ae[0]+=4*ie.v,ie.ka=H-ie.j,ie.U=ie.va-ie.v,ie.T=W-H,H=1),H){if(he=he[0],11>(H=S.ca).S){var Ce=H.f.RGBA,Re=(W=H.S,ae=ie.U,ie=ie.T,Ne=Ce.eb,Ce.A),je=ie;for(Ce=Ce.fb+S.Ma*Ce.A;0<je--;){var Pe=ue,De=he,qe=ae,Me=Ne,Ge=Ce;switch(W){case Es:Kc(Pe,De,qe,Me,Ge);break;case Xc:Ys(Pe,De,qe,Me,Ge);break;case cu:Ys(Pe,De,qe,Me,Ge),Wc(Me,Ge,0,qe,1,0);break;case Ki:Mr(Pe,De,qe,Me,Ge);break;case ou:At(Pe,De,qe,Me,Ge,1);break;case oo:At(Pe,De,qe,Me,Ge,1),Wc(Me,Ge,0,qe,1,0);break;case Yo:At(Pe,De,qe,Me,Ge,0);break;case wl:At(Pe,De,qe,Me,Ge,0),Wc(Me,Ge,1,qe,1,0);break;case Nl:Yi(Pe,De,qe,Me,Ge);break;case Jc:Yi(Pe,De,qe,Me,Ge),Sn(Me,Ge,qe,1,0);break;case _m:kr(Pe,De,qe,Me,Ge);break;default:r(0)}he+=ge,Ce+=Re}S.Ma+=ie}else alert("todo:EmitRescaledRowsYUVA");r(S.Ma<=H.height)}}S.C=C,r(S.C<=S.i)}function bn(S){var C;if(0<S.ua)return 0;for(C=0;C<S.Wb;++C){var H=S.Ya[C].G,W=S.Ya[C].H;if(0<H[1][W[1]+0].g||0<H[2][W[2]+0].g||0<H[3][W[3]+0].g)return 0}return 1}function Us(S,C,H,W,ae,ie){if(S.Z!=0){var ue=S.qd,he=S.rd;for(r(Xi[S.Z]!=null);C<H;++C)Xi[S.Z](ue,he,W,ae,W,ae,ie),ue=W,he=ae,ae+=ie;S.qd=ue,S.rd=he}}function As(S,C){var H=S.l.ma,W=H.Z==0||H.Z==1?S.l.j:S.C;if(W=S.C<W?W:S.C,r(C<=S.l.o),C>W){var ae=S.l.width,ie=H.ca,ue=H.tb+ae*W,he=S.V,ge=S.Ba+S.c*W,Ne=S.gc;r(S.ab==1),r(Ne[0].hc==3),Hi(Ne[0],W,C,he,ge,ie,ue),Us(H,W,C,ie,ue,ae)}S.C=S.Ma=C}function qs(S,C,H,W,ae,ie,ue){var he=S.$/W,ge=S.$%W,Ne=S.m,Ce=S.s,Re=H+S.$,je=Re;ae=H+W*ae;var Pe=H+W*ie,De=280+Ce.ua,qe=S.Pb?he:16777216,Me=0<Ce.ua?Ce.Wa:null,Ge=Ce.wc,He=Re<Pe?fs(Ce,ge,he):null;r(S.C<ie),r(Pe<=ae);var Ze=!1;e:for(;;){for(;Ze||Re<Pe;){var We=0;if(he>=qe){var bt=Re-H;r((qe=S).Pb),qe.wd=qe.m,qe.xd=bt,0<qe.s.ua&&tt(qe.s.Wa,qe.s.vb),qe=he+c0}if(ge&Ge||(He=fs(Ce,ge,he)),r(He!=null),He.Qb&&(C[Re]=He.qb,Ze=!0),!Ze)if(ye(Ne),He.jc){We=Ne,bt=C;var ot=Re,qt=He.pd[G(We)&Bn-1];r(He.jc),256>qt.g?(ve(We,We.u+qt.g),bt[ot]=qt.value,We=0):(ve(We,We.u+qt.g-256),r(256<=qt.value),We=qt.value),We==0&&(Ze=!0)}else We=na(He.G[0],He.H[0],Ne);if(Ne.h)break;if(Ze||256>We){if(!Ze)if(He.nd)C[Re]=(He.qb|We<<8)>>>0;else{if(ye(Ne),Ze=na(He.G[1],He.H[1],Ne),ye(Ne),bt=na(He.G[2],He.H[2],Ne),ot=na(He.G[3],He.H[3],Ne),Ne.h)break;C[Re]=(ot<<24|Ze<<16|We<<8|bt)>>>0}if(Ze=!1,++Re,++ge>=W&&(ge=0,++he,ue!=null&&he<=ie&&!(he%16)&&ue(S,he),Me!=null))for(;je<Re;)We=C[je++],Me.X[(506832829*We&4294967295)>>>Me.Mb]=We}else if(280>We){if(We=Xr(We-256,Ne),bt=na(He.G[4],He.H[4],Ne),ye(Ne),bt=ms(W,bt=Xr(bt,Ne)),Ne.h)break;if(Re-H<bt||ae-Re<We)break e;for(ot=0;ot<We;++ot)C[Re+ot]=C[Re+ot-bt];for(Re+=We,ge+=We;ge>=W;)ge-=W,++he,ue!=null&&he<=ie&&!(he%16)&&ue(S,he);if(r(Re<=ae),ge&Ge&&(He=fs(Ce,ge,he)),Me!=null)for(;je<Re;)We=C[je++],Me.X[(506832829*We&4294967295)>>>Me.Mb]=We}else{if(!(We<De))break e;for(Ze=We-280,r(Me!=null);je<Re;)We=C[je++],Me.X[(506832829*We&4294967295)>>>Me.Mb]=We;We=Re,r(!(Ze>>>(bt=Me).Xa)),C[We]=bt.X[Ze],Ze=!0}Ze||r(Ne.h==Q(Ne))}if(S.Pb&&Ne.h&&Re<ae)r(S.m.h),S.a=5,S.m=S.wd,S.$=S.xd,0<S.s.ua&&tt(S.s.vb,S.s.Wa);else{if(Ne.h)break e;ue?.(S,he>ie?ie:he),S.a=0,S.$=Re-H}return 1}return S.a=3,0}function hs(S){r(S!=null),S.vc=null,S.yc=null,S.Ya=null;var C=S.Wa;C!=null&&(C.X=null),S.vb=null,r(S!=null)}function ia(){var S=new ca;return S==null?null:(S.a=0,S.xb=Zc,or("Predictor","VP8LPredictors"),or("Predictor","VP8LPredictors_C"),or("PredictorAdd","VP8LPredictorsAdd"),or("PredictorAdd","VP8LPredictorsAdd_C"),Vc=Pt,Gi=$t,Kc=Yr,Ys=mr,Yi=yt,kr=Tt,Mr=Er,k.VP8LMapColor32b=ls,k.VP8LMapColor8b=no,S)}function si(S,C,H,W,ae){var ie=1,ue=[S],he=[C],ge=W.m,Ne=W.s,Ce=null,Re=0;e:for(;;){if(H)for(;ie&&be(ge,1);){var je=ue,Pe=he,De=W,qe=1,Me=De.m,Ge=De.gc[De.ab],He=be(Me,2);if(De.Oc&1<<He)ie=0;else{switch(De.Oc|=1<<He,Ge.hc=He,Ge.Ea=je[0],Ge.nc=Pe[0],Ge.K=[null],++De.ab,r(4>=De.ab),He){case 0:case 1:Ge.b=be(Me,3)+2,qe=si(pe(Ge.Ea,Ge.b),pe(Ge.nc,Ge.b),0,De,Ge.K),Ge.K=Ge.K[0];break;case 3:var Ze,We=be(Me,8)+1,bt=16<We?0:4<We?1:2<We?2:3;if(je[0]=pe(Ge.Ea,bt),Ge.b=bt,Ze=qe=si(We,1,0,De,Ge.K)){var ot,qt=We,ct=Ge,nr=1<<(8>>ct.b),Fa=i(nr);if(Fa==null)Ze=0;else{var Bt=ct.K[0],ut=ct.w;for(Fa[0]=ct.K[0][0],ot=1;ot<1*qt;++ot)Fa[ot]=Ie(Bt[ut+ot],Fa[ot-1]);for(;ot<4*nr;++ot)Fa[ot]=0;ct.K[0]=null,ct.K[0]=Fa,Ze=1}}qe=Ze;break;case 2:break;default:r(0)}ie=qe}}if(ue=ue[0],he=he[0],ie&&be(ge,1)&&!(ie=1<=(Re=be(ge,4))&&11>=Re)){W.a=3;break e}var nt;if(nt=ie)t:{var ua,Ht,Qt,ht=W,Wt=ue,fr=he,Zr=Re,Pa=H,Ta=ht.m,ba=ht.s,ar=[null],hr=1,va=0,Ot=Ko[Zr];r:for(;;){if(Pa&&be(Ta,1)){var Va=be(Ta,3)+2,Cn=pe(Wt,Va),ja=pe(fr,Va),Ws=Cn*ja;if(!si(Cn,ja,0,ht,ar))break r;for(ar=ar[0],ba.xc=Va,ua=0;ua<Ws;++ua){var zr=ar[ua]>>8&65535;ar[ua]=zr,zr>=hr&&(hr=zr+1)}}if(Ta.h)break r;for(Ht=0;5>Ht;++Ht){var Oa=An[Ht];!Ht&&0<Zr&&(Oa+=1<<Zr),va<Oa&&(va=Oa)}var Xs=o(hr*Ot,F),gs=hr,Vr=o(gs,q);if(Vr==null)var jr=null;else r(65536>=gs),jr=Vr;var Ps=i(va);if(jr==null||Ps==null||Xs==null){ht.a=1;break r}var ys=Xs;for(ua=Qt=0;ua<hr;++ua){var Or=jr[ua],Js=Or.G,Ka=Or.H,Qi=0,mi=1,Wa=0;for(Ht=0;5>Ht;++Ht){Oa=An[Ht],Js[Ht]=ys,Ka[Ht]=Qt,!Ht&&0<Zr&&(Oa+=1<<Zr);s:{var hu,Tm=Oa,xu=ht,ed=Ps,x0=ys,p0=Qt,pu=0,El=xu.m,Jy=be(El,1);if(n(ed,0,0,Tm),Jy){var g0=be(El,1)+1,y0=be(El,1),lh=be(El,y0==0?1:8);ed[lh]=1,g0==2&&(ed[lh=be(El,8)]=1);var td=1}else{var oh=i(19),ch=be(El,4)+4;if(19<ch){xu.a=3;var gu=0;break s}for(hu=0;hu<ch;++hu)oh[Sl[hu]]=be(El,3);var Om=void 0,rd=void 0,b0=xu,v0=oh,Pl=Tm,yu=ed,Dm=0,fi=b0.m,ad=8,dh=o(128,F);a:for(;M(dh,0,7,v0,19);){if(be(fi,1)){var j0=2+2*be(fi,3);if((Om=2+be(fi,j0))>Pl)break a}else Om=Pl;for(rd=0;rd<Pl&&Om--;){ye(fi);var uh=dh[0+(127&G(fi))];ve(fi,fi.u+uh.g);var Jo=uh.value;if(16>Jo)yu[rd++]=Jo,Jo!=0&&(ad=Jo);else{var N0=Jo==16,mh=Jo-16,fh=Hn[mh],hh=be(fi,Am[mh])+fh;if(rd+hh>Pl)break a;for(var w0=N0?ad:0;0<hh--;)yu[rd++]=w0}}Dm=1;break a}Dm||(b0.a=3),td=Dm}(td=td&&!El.h)&&(pu=M(x0,p0,8,ed,Tm)),td&&pu!=0?gu=pu:(xu.a=3,gu=0)}if(gu==0)break r;if(mi&&Vo[Ht]==1&&(mi=ys[Qt].g==0),Qi+=ys[Qt].g,Qt+=gu,3>=Ht){var Zo,Lm=Ps[0];for(Zo=1;Zo<Oa;++Zo)Ps[Zo]>Lm&&(Lm=Ps[Zo]);Wa+=Lm}}if(Or.nd=mi,Or.Qb=0,mi&&(Or.qb=(Js[3][Ka[3]+0].value<<24|Js[1][Ka[1]+0].value<<16|Js[2][Ka[2]+0].value)>>>0,Qi==0&&256>Js[0][Ka[0]+0].value&&(Or.Qb=1,Or.qb+=Js[0][Ka[0]+0].value<<8)),Or.jc=!Or.Qb&&6>Wa,Or.jc){var bu,Tl=Or;for(bu=0;bu<Bn;++bu){var el=bu,Ol=Tl.pd[el],vu=Tl.G[0][Tl.H[0]+el];256<=vu.value?(Ol.g=vu.g+256,Ol.value=vu.value):(Ol.g=0,Ol.value=0,el>>=ns(vu,8,Ol),el>>=ns(Tl.G[1][Tl.H[1]+el],16,Ol),el>>=ns(Tl.G[2][Tl.H[2]+el],0,Ol),ns(Tl.G[3][Tl.H[3]+el],24,Ol))}}}ba.vc=ar,ba.Wb=hr,ba.Ya=jr,ba.yc=Xs,nt=1;break t}nt=0}if(!(ie=nt)){W.a=3;break e}if(0<Re){if(Ne.ua=1<<Re,!me(Ne.Wa,Re)){W.a=1,ie=0;break e}}else Ne.ua=0;var ju=W,xh=ue,S0=he,ph=ju.s,gh=ph.xc;if(ju.c=xh,ju.i=S0,ph.md=pe(xh,gh),ph.wc=gh==0?-1:(1<<gh)-1,H){W.xb=u0;break e}if((Ce=i(ue*he))==null){W.a=1,ie=0;break e}ie=(ie=qs(W,Ce,0,ue,he,he,null))&&!ge.h;break e}return ie?(ae!=null?ae[0]=Ce:(r(Ce==null),r(H)),W.$=0,H||hs(Ne)):hs(Ne),ie}function Xl(S,C){var H=S.c*S.i,W=H+C+16*C;return r(S.c<=C),S.V=i(W),S.V==null?(S.Ta=null,S.Ua=0,S.a=1,0):(S.Ta=S.V,S.Ua=S.Ba+H+C,1)}function Mn(S,C){var H=S.C,W=C-H,ae=S.V,ie=S.Ba+S.c*H;for(r(C<=S.l.o);0<W;){var ue=16<W?16:W,he=S.l.ma,ge=S.l.width,Ne=ge*ue,Ce=he.ca,Re=he.tb+ge*H,je=S.Ta,Pe=S.Ua;Wl(S,ue,ae,ie),qo(je,Pe,Ce,Re,Ne),Us(he,H,H+ue,Ce,Re,ge),W-=ue,ae+=ue*S.c,H+=ue}r(H==C),S.C=S.Ma=C}function ni(){this.ub=this.yd=this.td=this.Rb=0}function Oc(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function mm(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function Dc(){this.Yb=function(){var S=[];return function C(H,W,ae){for(var ie=ae[W],ue=0;ue<ie&&(H.push(ae.length>W+1?[]:0),!(ae.length<W+1));ue++)C(H[ue],W+1,ae)}(S,0,[3,11]),S}()}function fm(){this.jb=i(3),this.Wc=d([4,8],Dc),this.Xc=d([4,17],Dc)}function Do(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function Hs(){this.ld=this.La=this.dd=this.tc=0}function vn(){this.Na=this.la=0}function Lc(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Mc(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function fl(){this.uc=this.M=this.Nb=0,this.wa=Array(new Hs),this.Y=0,this.ya=Array(new Mc),this.aa=0,this.l=new Ic}function Rc(){this.y=i(16),this.f=i(8),this.ea=i(8)}function $c(){this.cb=this.a=0,this.sc="",this.m=new z,this.Od=new ni,this.Kc=new Oc,this.ed=new Do,this.Qa=new mm,this.Ic=this.$c=this.Aa=0,this.D=new fl,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,z),this.ia=0,this.pb=o(4,Lc),this.Pa=new fm,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Rc),this.Hd=0,this.rb=Array(new vn),this.sb=0,this.wa=Array(new Hs),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Mc),this.L=this.aa=0,this.gd=d([4,2],Hs),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Ic(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function hm(){var S=new $c;return S!=null&&(S.a=0,S.sc="OK",S.cb=0,S.Xb=0,Ha||(Ha=Rn)),S}function Ar(S,C,H){return S.a==0&&(S.a=C,S.sc=H,S.cb=0),0}function Wd(S,C,H){return 3<=H&&S[C+0]==157&&S[C+1]==1&&S[C+2]==42}function xm(S,C){if(S==null)return 0;if(S.a=0,S.sc="OK",C==null)return Ar(S,2,"null VP8Io passed to VP8GetHeaders()");var H=C.data,W=C.w,ae=C.ha;if(4>ae)return Ar(S,7,"Truncated header.");var ie=H[W+0]|H[W+1]<<8|H[W+2]<<16,ue=S.Od;if(ue.Rb=!(1&ie),ue.td=ie>>1&7,ue.yd=ie>>4&1,ue.ub=ie>>5,3<ue.td)return Ar(S,3,"Incorrect keyframe parameters.");if(!ue.yd)return Ar(S,4,"Frame not displayable.");W+=3,ae-=3;var he=S.Kc;if(ue.Rb){if(7>ae)return Ar(S,7,"cannot parse picture header");if(!Wd(H,W,ae))return Ar(S,3,"Bad code word");he.c=16383&(H[W+4]<<8|H[W+3]),he.Td=H[W+4]>>6,he.i=16383&(H[W+6]<<8|H[W+5]),he.Ud=H[W+6]>>6,W+=7,ae-=7,S.za=he.c+15>>4,S.Ub=he.i+15>>4,C.width=he.c,C.height=he.i,C.Da=0,C.j=0,C.v=0,C.va=C.width,C.o=C.height,C.da=0,C.ib=C.width,C.hb=C.height,C.U=C.width,C.T=C.height,n((ie=S.Pa).jb,0,255,ie.jb.length),r((ie=S.Qa)!=null),ie.Cb=0,ie.Bb=0,ie.Fb=1,n(ie.Zb,0,0,ie.Zb.length),n(ie.Lb,0,0,ie.Lb)}if(ue.ub>ae)return Ar(S,7,"bad partition length");U(ie=S.m,H,W,ue.ub),W+=ue.ub,ae-=ue.ub,ue.Rb&&(he.Ld=te(ie),he.Kd=te(ie)),he=S.Qa;var ge,Ne=S.Pa;if(r(ie!=null),r(he!=null),he.Cb=te(ie),he.Cb){if(he.Bb=te(ie),te(ie)){for(he.Fb=te(ie),ge=0;4>ge;++ge)he.Zb[ge]=te(ie)?Z(ie,7):0;for(ge=0;4>ge;++ge)he.Lb[ge]=te(ie)?Z(ie,6):0}if(he.Bb)for(ge=0;3>ge;++ge)Ne.jb[ge]=te(ie)?V(ie,8):255}else he.Bb=0;if(ie.Ka)return Ar(S,3,"cannot parse segment header");if((he=S.ed).zd=te(ie),he.Tb=V(ie,6),he.wb=V(ie,3),he.Pc=te(ie),he.Pc&&te(ie)){for(Ne=0;4>Ne;++Ne)te(ie)&&(he.vd[Ne]=Z(ie,6));for(Ne=0;4>Ne;++Ne)te(ie)&&(he.od[Ne]=Z(ie,6))}if(S.L=he.Tb==0?0:he.zd?1:2,ie.Ka)return Ar(S,3,"cannot parse filter header");var Ce=ae;if(ae=ge=W,W=ge+Ce,he=Ce,S.Xb=(1<<V(S.m,2))-1,Ce<3*(Ne=S.Xb))H=7;else{for(ge+=3*Ne,he-=3*Ne,Ce=0;Ce<Ne;++Ce){var Re=H[ae+0]|H[ae+1]<<8|H[ae+2]<<16;Re>he&&(Re=he),U(S.Jc[+Ce],H,ge,Re),ge+=Re,he-=Re,ae+=3}U(S.Jc[+Ne],H,ge,he),H=ge<W?0:5}if(H!=0)return Ar(S,H,"cannot parse partitions");for(H=V(ge=S.m,7),ae=te(ge)?Z(ge,4):0,W=te(ge)?Z(ge,4):0,he=te(ge)?Z(ge,4):0,Ne=te(ge)?Z(ge,4):0,ge=te(ge)?Z(ge,4):0,Ce=S.Qa,Re=0;4>Re;++Re){if(Ce.Cb){var je=Ce.Zb[Re];Ce.Fb||(je+=H)}else{if(0<Re){S.pb[Re]=S.pb[0];continue}je=H}var Pe=S.pb[Re];Pe.Sc[0]=du[qa(je+ae,127)],Pe.Sc[1]=uu[qa(je+0,127)],Pe.Eb[0]=2*du[qa(je+W,127)],Pe.Eb[1]=101581*uu[qa(je+he,127)]>>16,8>Pe.Eb[1]&&(Pe.Eb[1]=8),Pe.Qc[0]=du[qa(je+Ne,117)],Pe.Qc[1]=uu[qa(je+ge,127)],Pe.lc=je+ge}if(!ue.Rb)return Ar(S,4,"Not a key frame.");for(te(ie),ue=S.Pa,H=0;4>H;++H){for(ae=0;8>ae;++ae)for(W=0;3>W;++W)for(he=0;11>he;++he)Ne=Ae(ie,Wo[H][ae][W][he])?V(ie,8):Wi[H][ae][W][he],ue.Wc[H][ae].Yb[W][he]=Ne;for(ae=0;17>ae;++ae)ue.Xc[H][ae]=ue.Wc[H][d0[ae]]}return S.kc=te(ie),S.kc&&(S.Bd=V(ie,8)),S.cb=1}function Rn(S,C,H,W,ae,ie,ue){var he=C[ae].Yb[H];for(H=0;16>ae;++ae){if(!Ae(S,he[H+0]))return ae;for(;!Ae(S,he[H+1]);)if(he=C[++ae].Yb[0],H=0,ae==16)return 16;var ge=C[ae+1].Yb;if(Ae(S,he[H+2])){var Ne=S,Ce=0;if(Ae(Ne,(je=he)[(Re=H)+3]))if(Ae(Ne,je[Re+6])){for(he=0,Re=2*(Ce=Ae(Ne,je[Re+8]))+(je=Ae(Ne,je[Re+9+Ce])),Ce=0,je=ya[Re];je[he];++he)Ce+=Ce+Ae(Ne,je[he]);Ce+=3+(8<<Re)}else Ae(Ne,je[Re+7])?(Ce=7+2*Ae(Ne,165),Ce+=Ae(Ne,145)):Ce=5+Ae(Ne,159);else Ce=Ae(Ne,je[Re+4])?3+Ae(Ne,je[Re+5]):2;he=ge[2]}else Ce=1,he=ge[1];ge=ue+Cr[ae],0>(Ne=S).b&&ne(Ne);var Re,je=Ne.b,Pe=(Re=Ne.Ca>>1)-(Ne.I>>je)>>31;--Ne.b,Ne.Ca+=Pe,Ne.Ca|=1,Ne.I-=(Re+1&Pe)<<je,ie[ge]=((Ce^Pe)-Pe)*W[(0<ae)+0]}return 16}function Jl(S){var C=S.rb[S.sb-1];C.la=0,C.Na=0,n(S.zc,0,0,S.zc.length),S.ja=0}function ln(S,C,H,W,ae){ae=S[C+H+32*W]+(ae>>3),S[C+H+32*W]=-256&ae?0>ae?0:255:ae}function Lo(S,C,H,W,ae,ie){ln(S,C,0,H,W+ae),ln(S,C,1,H,W+ie),ln(S,C,2,H,W-ie),ln(S,C,3,H,W-ae)}function vr(S){return(20091*S>>16)+S}function Mo(S,C,H,W){var ae,ie=0,ue=i(16);for(ae=0;4>ae;++ae){var he=S[C+0]+S[C+8],ge=S[C+0]-S[C+8],Ne=(35468*S[C+4]>>16)-vr(S[C+12]),Ce=vr(S[C+4])+(35468*S[C+12]>>16);ue[ie+0]=he+Ce,ue[ie+1]=ge+Ne,ue[ie+2]=ge-Ne,ue[ie+3]=he-Ce,ie+=4,C++}for(ae=ie=0;4>ae;++ae)he=(S=ue[ie+0]+4)+ue[ie+8],ge=S-ue[ie+8],Ne=(35468*ue[ie+4]>>16)-vr(ue[ie+12]),ln(H,W,0,0,he+(Ce=vr(ue[ie+4])+(35468*ue[ie+12]>>16))),ln(H,W,1,0,ge+Ne),ln(H,W,2,0,ge-Ne),ln(H,W,3,0,he-Ce),ie++,W+=32}function pm(S,C,H,W){var ae=S[C+0]+4,ie=35468*S[C+4]>>16,ue=vr(S[C+4]),he=35468*S[C+1]>>16;Lo(H,W,0,ae+ue,S=vr(S[C+1]),he),Lo(H,W,1,ae+ie,S,he),Lo(H,W,2,ae-ie,S,he),Lo(H,W,3,ae-ue,S,he)}function Xd(S,C,H,W,ae){Mo(S,C,H,W),ae&&Mo(S,C+16,H,W+4)}function Zl(S,C,H,W){da(S,C+0,H,W,1),da(S,C+32,H,W+128,1)}function ii(S,C,H,W){var ae;for(S=S[C+0]+4,ae=0;4>ae;++ae)for(C=0;4>C;++C)ln(H,W,C,ae,S)}function Jd(S,C,H,W){S[C+0]&&Vs(S,C+0,H,W),S[C+16]&&Vs(S,C+16,H,W+4),S[C+32]&&Vs(S,C+32,H,W+128),S[C+48]&&Vs(S,C+48,H,W+128+4)}function hl(S,C,H,W){var ae,ie=i(16);for(ae=0;4>ae;++ae){var ue=S[C+0+ae]+S[C+12+ae],he=S[C+4+ae]+S[C+8+ae],ge=S[C+4+ae]-S[C+8+ae],Ne=S[C+0+ae]-S[C+12+ae];ie[0+ae]=ue+he,ie[8+ae]=ue-he,ie[4+ae]=Ne+ge,ie[12+ae]=Ne-ge}for(ae=0;4>ae;++ae)ue=(S=ie[0+4*ae]+3)+ie[3+4*ae],he=ie[1+4*ae]+ie[2+4*ae],ge=ie[1+4*ae]-ie[2+4*ae],Ne=S-ie[3+4*ae],H[W+0]=ue+he>>3,H[W+16]=Ne+ge>>3,H[W+32]=ue-he>>3,H[W+48]=Ne-ge>>3,W+=64}function Ql(S,C,H){var W,ae=C-32,ie=os,ue=255-S[ae-1];for(W=0;W<H;++W){var he,ge=ie,Ne=ue+S[C-1];for(he=0;he<H;++he)S[C+he]=ge[Ne+S[ae+he]];C+=32}}function Fc(S,C){Ql(S,C,4)}function gm(S,C){Ql(S,C,8)}function Zd(S,C){Ql(S,C,16)}function Wf(S,C){var H;for(H=0;16>H;++H)s(S,C+32*H,S,C-32,16)}function Qd(S,C){var H;for(H=16;0<H;--H)n(S,C,S[C-1],16),C+=32}function Oi(S,C,H){var W;for(W=0;16>W;++W)n(C,H+32*W,S,16)}function Di(S,C){var H,W=16;for(H=0;16>H;++H)W+=S[C-1+32*H]+S[C+H-32];Oi(W>>5,S,C)}function eu(S,C){var H,W=8;for(H=0;16>H;++H)W+=S[C-1+32*H];Oi(W>>4,S,C)}function $n(S,C){var H,W=8;for(H=0;16>H;++H)W+=S[C+H-32];Oi(W>>4,S,C)}function Li(S,C){Oi(128,S,C)}function Ft(S,C,H){return S+2*C+H+2>>2}function tu(S,C){var H,W=C-32;for(W=new Uint8Array([Ft(S[W-1],S[W+0],S[W+1]),Ft(S[W+0],S[W+1],S[W+2]),Ft(S[W+1],S[W+2],S[W+3]),Ft(S[W+2],S[W+3],S[W+4])]),H=0;4>H;++H)s(S,C+32*H,W,0,W.length)}function ym(S,C){var H=S[C-1],W=S[C-1+32],ae=S[C-1+64],ie=S[C-1+96];we(S,C+0,16843009*Ft(S[C-1-32],H,W)),we(S,C+32,16843009*Ft(H,W,ae)),we(S,C+64,16843009*Ft(W,ae,ie)),we(S,C+96,16843009*Ft(ae,ie,ie))}function Ro(S,C){var H,W=4;for(H=0;4>H;++H)W+=S[C+H-32]+S[C-1+32*H];for(W>>=3,H=0;4>H;++H)n(S,C+32*H,W,4)}function li(S,C){var H=S[C-1+0],W=S[C-1+32],ae=S[C-1+64],ie=S[C-1-32],ue=S[C+0-32],he=S[C+1-32],ge=S[C+2-32],Ne=S[C+3-32];S[C+0+96]=Ft(W,ae,S[C-1+96]),S[C+1+96]=S[C+0+64]=Ft(H,W,ae),S[C+2+96]=S[C+1+64]=S[C+0+32]=Ft(ie,H,W),S[C+3+96]=S[C+2+64]=S[C+1+32]=S[C+0+0]=Ft(ue,ie,H),S[C+3+64]=S[C+2+32]=S[C+1+0]=Ft(he,ue,ie),S[C+3+32]=S[C+2+0]=Ft(ge,he,ue),S[C+3+0]=Ft(Ne,ge,he)}function oi(S,C){var H=S[C+1-32],W=S[C+2-32],ae=S[C+3-32],ie=S[C+4-32],ue=S[C+5-32],he=S[C+6-32],ge=S[C+7-32];S[C+0+0]=Ft(S[C+0-32],H,W),S[C+1+0]=S[C+0+32]=Ft(H,W,ae),S[C+2+0]=S[C+1+32]=S[C+0+64]=Ft(W,ae,ie),S[C+3+0]=S[C+2+32]=S[C+1+64]=S[C+0+96]=Ft(ae,ie,ue),S[C+3+32]=S[C+2+64]=S[C+1+96]=Ft(ie,ue,he),S[C+3+64]=S[C+2+96]=Ft(ue,he,ge),S[C+3+96]=Ft(he,ge,ge)}function jn(S,C){var H=S[C-1+0],W=S[C-1+32],ae=S[C-1+64],ie=S[C-1-32],ue=S[C+0-32],he=S[C+1-32],ge=S[C+2-32],Ne=S[C+3-32];S[C+0+0]=S[C+1+64]=ie+ue+1>>1,S[C+1+0]=S[C+2+64]=ue+he+1>>1,S[C+2+0]=S[C+3+64]=he+ge+1>>1,S[C+3+0]=ge+Ne+1>>1,S[C+0+96]=Ft(ae,W,H),S[C+0+64]=Ft(W,H,ie),S[C+0+32]=S[C+1+96]=Ft(H,ie,ue),S[C+1+32]=S[C+2+96]=Ft(ie,ue,he),S[C+2+32]=S[C+3+96]=Ft(ue,he,ge),S[C+3+32]=Ft(he,ge,Ne)}function Mi(S,C){var H=S[C+0-32],W=S[C+1-32],ae=S[C+2-32],ie=S[C+3-32],ue=S[C+4-32],he=S[C+5-32],ge=S[C+6-32],Ne=S[C+7-32];S[C+0+0]=H+W+1>>1,S[C+1+0]=S[C+0+64]=W+ae+1>>1,S[C+2+0]=S[C+1+64]=ae+ie+1>>1,S[C+3+0]=S[C+2+64]=ie+ue+1>>1,S[C+0+32]=Ft(H,W,ae),S[C+1+32]=S[C+0+96]=Ft(W,ae,ie),S[C+2+32]=S[C+1+96]=Ft(ae,ie,ue),S[C+3+32]=S[C+2+96]=Ft(ie,ue,he),S[C+3+64]=Ft(ue,he,ge),S[C+3+96]=Ft(he,ge,Ne)}function ru(S,C){var H=S[C-1+0],W=S[C-1+32],ae=S[C-1+64],ie=S[C-1+96];S[C+0+0]=H+W+1>>1,S[C+2+0]=S[C+0+32]=W+ae+1>>1,S[C+2+32]=S[C+0+64]=ae+ie+1>>1,S[C+1+0]=Ft(H,W,ae),S[C+3+0]=S[C+1+32]=Ft(W,ae,ie),S[C+3+32]=S[C+1+64]=Ft(ae,ie,ie),S[C+3+64]=S[C+2+64]=S[C+0+96]=S[C+1+96]=S[C+2+96]=S[C+3+96]=ie}function xl(S,C){var H=S[C-1+0],W=S[C-1+32],ae=S[C-1+64],ie=S[C-1+96],ue=S[C-1-32],he=S[C+0-32],ge=S[C+1-32],Ne=S[C+2-32];S[C+0+0]=S[C+2+32]=H+ue+1>>1,S[C+0+32]=S[C+2+64]=W+H+1>>1,S[C+0+64]=S[C+2+96]=ae+W+1>>1,S[C+0+96]=ie+ae+1>>1,S[C+3+0]=Ft(he,ge,Ne),S[C+2+0]=Ft(ue,he,ge),S[C+1+0]=S[C+3+32]=Ft(H,ue,he),S[C+1+32]=S[C+3+64]=Ft(W,H,ue),S[C+1+64]=S[C+3+96]=Ft(ae,W,H),S[C+1+96]=Ft(ie,ae,W)}function Bc(S,C){var H;for(H=0;8>H;++H)s(S,C+32*H,S,C-32,8)}function Ri(S,C){var H;for(H=0;8>H;++H)n(S,C,S[C-1],8),C+=32}function pl(S,C,H){var W;for(W=0;8>W;++W)n(C,H+32*W,S,8)}function $o(S,C){var H,W=8;for(H=0;8>H;++H)W+=S[C+H-32]+S[C-1+32*H];pl(W>>4,S,C)}function ks(S,C){var H,W=4;for(H=0;8>H;++H)W+=S[C+H-32];pl(W>>3,S,C)}function ci(S,C){var H,W=4;for(H=0;8>H;++H)W+=S[C-1+32*H];pl(W>>3,S,C)}function eo(S,C){pl(128,S,C)}function di(S,C,H){var W=S[C-H],ae=S[C+0],ie=3*(ae-W)+Sm[1020+S[C-2*H]-S[C+H]],ue=Go[112+(ie+4>>3)];S[C-H]=os[255+W+Go[112+(ie+3>>3)]],S[C+0]=os[255+ae-ue]}function Io(S,C,H,W){var ae=S[C+0],ie=S[C+H];return qn[255+S[C-2*H]-S[C-H]]>W||qn[255+ie-ae]>W}function Fo(S,C,H,W){return 4*qn[255+S[C-H]-S[C+0]]+qn[255+S[C-2*H]-S[C+H]]<=W}function to(S,C,H,W,ae){var ie=S[C-3*H],ue=S[C-2*H],he=S[C-H],ge=S[C+0],Ne=S[C+H],Ce=S[C+2*H],Re=S[C+3*H];return 4*qn[255+he-ge]+qn[255+ue-Ne]>W?0:qn[255+S[C-4*H]-ie]<=ae&&qn[255+ie-ue]<=ae&&qn[255+ue-he]<=ae&&qn[255+Re-Ce]<=ae&&qn[255+Ce-Ne]<=ae&&qn[255+Ne-ge]<=ae}function gl(S,C,H,W){var ae=2*W+1;for(W=0;16>W;++W)Fo(S,C+W,H,ae)&&di(S,C+W,H)}function $i(S,C,H,W){var ae=2*W+1;for(W=0;16>W;++W)Fo(S,C+W*H,1,ae)&&di(S,C+W*H,1)}function zc(S,C,H,W){var ae;for(ae=3;0<ae;--ae)gl(S,C+=4*H,H,W)}function au(S,C,H,W){var ae;for(ae=3;0<ae;--ae)$i(S,C+=4,H,W)}function Nn(S,C,H,W,ae,ie,ue,he){for(ie=2*ie+1;0<ae--;){if(to(S,C,H,ie,ue))if(Io(S,C,H,he))di(S,C,H);else{var ge=S,Ne=C,Ce=H,Re=ge[Ne-2*Ce],je=ge[Ne-Ce],Pe=ge[Ne+0],De=ge[Ne+Ce],qe=ge[Ne+2*Ce],Me=27*(He=Sm[1020+3*(Pe-je)+Sm[1020+Re-De]])+63>>7,Ge=18*He+63>>7,He=9*He+63>>7;ge[Ne-3*Ce]=os[255+ge[Ne-3*Ce]+He],ge[Ne-2*Ce]=os[255+Re+Ge],ge[Ne-Ce]=os[255+je+Me],ge[Ne+0]=os[255+Pe-Me],ge[Ne+Ce]=os[255+De-Ge],ge[Ne+2*Ce]=os[255+qe-He]}C+=W}}function Ii(S,C,H,W,ae,ie,ue,he){for(ie=2*ie+1;0<ae--;){if(to(S,C,H,ie,ue))if(Io(S,C,H,he))di(S,C,H);else{var ge=S,Ne=C,Ce=H,Re=ge[Ne-Ce],je=ge[Ne+0],Pe=ge[Ne+Ce],De=Go[112+(4+(qe=3*(je-Re))>>3)],qe=Go[112+(qe+3>>3)],Me=De+1>>1;ge[Ne-2*Ce]=os[255+ge[Ne-2*Ce]+Me],ge[Ne-Ce]=os[255+Re+qe],ge[Ne+0]=os[255+je-De],ge[Ne+Ce]=os[255+Pe-Me]}C+=W}}function B(S,C,H,W,ae,ie){Nn(S,C,H,1,16,W,ae,ie)}function se(S,C,H,W,ae,ie){Nn(S,C,1,H,16,W,ae,ie)}function Se(S,C,H,W,ae,ie){var ue;for(ue=3;0<ue;--ue)Ii(S,C+=4*H,H,1,16,W,ae,ie)}function ke(S,C,H,W,ae,ie){var ue;for(ue=3;0<ue;--ue)Ii(S,C+=4,1,H,16,W,ae,ie)}function Oe(S,C,H,W,ae,ie,ue,he){Nn(S,C,ae,1,8,ie,ue,he),Nn(H,W,ae,1,8,ie,ue,he)}function Ye(S,C,H,W,ae,ie,ue,he){Nn(S,C,1,ae,8,ie,ue,he),Nn(H,W,1,ae,8,ie,ue,he)}function Je(S,C,H,W,ae,ie,ue,he){Ii(S,C+4*ae,ae,1,8,ie,ue,he),Ii(H,W+4*ae,ae,1,8,ie,ue,he)}function ft(S,C,H,W,ae,ie,ue,he){Ii(S,C+4,1,ae,8,ie,ue,he),Ii(H,W+4,1,ae,8,ie,ue,he)}function vt(){this.ba=new Sr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new _r,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function It(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Jt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function pr(){this.ua=0,this.Wa=new rt,this.vb=new rt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new q,this.yc=new F}function ca(){this.xb=this.a=0,this.l=new Ic,this.ca=new Sr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new re,this.Pb=0,this.wd=new re,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new pr,this.ab=0,this.gc=o(4,Jt),this.Oc=0}function Ra(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ic,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Lr(S,C,H,W,ae,ie,ue){for(S=S==null?0:S[C+0],C=0;C<ue;++C)ae[ie+C]=S+H[W+C]&255,S=ae[ie+C]}function $a(S,C,H,W,ae,ie,ue){var he;if(S==null)Lr(null,null,H,W,ae,ie,ue);else for(he=0;he<ue;++he)ae[ie+he]=S[C+he]+H[W+he]&255}function Ia(S,C,H,W,ae,ie,ue){if(S==null)Lr(null,null,H,W,ae,ie,ue);else{var he,ge=S[C+0],Ne=ge,Ce=ge;for(he=0;he<ue;++he)Ne=Ce+(ge=S[C+he])-Ne,Ce=H[W+he]+(-256&Ne?0>Ne?0:255:Ne)&255,Ne=ge,ae[ie+he]=Ce}}function xs(S,C,H,W){var ae=C.width,ie=C.o;if(r(S!=null&&C!=null),0>H||0>=W||H+W>ie)return null;if(!S.Cc){if(S.ga==null){var ue;if(S.ga=new Ra,(ue=S.ga==null)||(ue=C.width*C.o,r(S.Gb.length==0),S.Gb=i(ue),S.Uc=0,S.Gb==null?ue=0:(S.mb=S.Gb,S.nb=S.Uc,S.rc=null,ue=1),ue=!ue),!ue){ue=S.ga;var he=S.Fa,ge=S.P,Ne=S.qc,Ce=S.mb,Re=S.nb,je=ge+1,Pe=Ne-1,De=ue.l;if(r(he!=null&&Ce!=null&&C!=null),Xi[0]=null,Xi[1]=Lr,Xi[2]=$a,Xi[3]=Ia,ue.ca=Ce,ue.tb=Re,ue.c=C.width,ue.i=C.height,r(0<ue.c&&0<ue.i),1>=Ne)C=0;else if(ue.$a=3&he[ge+0],ue.Z=he[ge+0]>>2&3,ue.Lc=he[ge+0]>>4&3,ge=he[ge+0]>>6&3,0>ue.$a||1<ue.$a||4<=ue.Z||1<ue.Lc||ge)C=0;else if(De.put=Et,De.ac=ai,De.bc=_s,De.ma=ue,De.width=C.width,De.height=C.height,De.Da=C.Da,De.v=C.v,De.va=C.va,De.j=C.j,De.o=C.o,ue.$a)e:{r(ue.$a==1),C=ia();t:for(;;){if(C==null){C=0;break e}if(r(ue!=null),ue.mc=C,C.c=ue.c,C.i=ue.i,C.l=ue.l,C.l.ma=ue,C.l.width=ue.c,C.l.height=ue.i,C.a=0,X(C.m,he,je,Pe),!si(ue.c,ue.i,1,C,null)||(C.ab==1&&C.gc[0].hc==3&&bn(C.s)?(ue.ic=1,he=C.c*C.i,C.Ta=null,C.Ua=0,C.V=i(he),C.Ba=0,C.V==null?(C.a=1,C=0):C=1):(ue.ic=0,C=Xl(C,ue.c)),!C))break t;C=1;break e}ue.mc=null,C=0}else C=Pe>=ue.c*ue.i;ue=!C}if(ue)return null;S.ga.Lc!=1?S.Ga=0:W=ie-H}r(S.ga!=null),r(H+W<=ie);e:{if(C=(he=S.ga).c,ie=he.l.o,he.$a==0){if(je=S.rc,Pe=S.Vc,De=S.Fa,ge=S.P+1+H*C,Ne=S.mb,Ce=S.nb+H*C,r(ge<=S.P+S.qc),he.Z!=0)for(r(Xi[he.Z]!=null),ue=0;ue<W;++ue)Xi[he.Z](je,Pe,De,ge,Ne,Ce,C),je=Ne,Pe=Ce,Ce+=C,ge+=C;else for(ue=0;ue<W;++ue)s(Ne,Ce,De,ge,C),je=Ne,Pe=Ce,Ce+=C,ge+=C;S.rc=je,S.Vc=Pe}else{if(r(he.mc!=null),C=H+W,r((ue=he.mc)!=null),r(C<=ue.i),ue.C>=C)C=1;else if(he.ic||Bo(),he.ic){he=ue.V,je=ue.Ba,Pe=ue.c;var qe=ue.i,Me=(De=1,ge=ue.$/Pe,Ne=ue.$%Pe,Ce=ue.m,Re=ue.s,ue.$),Ge=Pe*qe,He=Pe*C,Ze=Re.wc,We=Me<He?fs(Re,Ne,ge):null;r(Me<=Ge),r(C<=qe),r(bn(Re));t:for(;;){for(;!Ce.h&&Me<He;){if(Ne&Ze||(We=fs(Re,Ne,ge)),r(We!=null),ye(Ce),256>(qe=na(We.G[0],We.H[0],Ce)))he[je+Me]=qe,++Me,++Ne>=Pe&&(Ne=0,++ge<=C&&!(ge%16)&&As(ue,ge));else{if(!(280>qe)){De=0;break t}qe=Xr(qe-256,Ce);var bt,ot=na(We.G[4],We.H[4],Ce);if(ye(Ce),!(Me>=(ot=ms(Pe,ot=Xr(ot,Ce)))&&Ge-Me>=qe)){De=0;break t}for(bt=0;bt<qe;++bt)he[je+Me+bt]=he[je+Me+bt-ot];for(Me+=qe,Ne+=qe;Ne>=Pe;)Ne-=Pe,++ge<=C&&!(ge%16)&&As(ue,ge);Me<He&&Ne&Ze&&(We=fs(Re,Ne,ge))}r(Ce.h==Q(Ce))}As(ue,ge>C?C:ge);break t}!De||Ce.h&&Me<Ge?(De=0,ue.a=Ce.h?5:3):ue.$=Me,C=De}else C=qs(ue,ue.V,ue.Ba,ue.c,ue.i,C,Mn);if(!C){W=0;break e}}H+W>=ie&&(S.Cc=1),W=1}if(!W)return null;if(S.Cc&&((W=S.ga)!=null&&(W.mc=null),S.ga=null,0<S.Ga))return alert("todo:WebPDequantizeLevels"),null}return S.nb+H*ae}function yl(S,C,H,W,ae,ie){for(;0<ae--;){var ue,he=S,ge=C+(H?1:0),Ne=S,Ce=C+(H?0:3);for(ue=0;ue<W;++ue){var Re=Ne[Ce+4*ue];Re!=255&&(Re*=32897,he[ge+4*ue+0]=he[ge+4*ue+0]*Re>>23,he[ge+4*ue+1]=he[ge+4*ue+1]*Re>>23,he[ge+4*ue+2]=he[ge+4*ue+2]*Re>>23)}C+=ie}}function ro(S,C,H,W,ae){for(;0<W--;){var ie;for(ie=0;ie<H;++ie){var ue=S[C+2*ie+0],he=15&(Ne=S[C+2*ie+1]),ge=4369*he,Ne=(240&Ne|Ne>>4)*ge>>16;S[C+2*ie+0]=(240&ue|ue>>4)*ge>>16&240|(15&ue|ue<<4)*ge>>16>>4&15,S[C+2*ie+1]=240&Ne|he}C+=ae}}function Xf(S,C,H,W,ae,ie,ue,he){var ge,Ne,Ce=255;for(Ne=0;Ne<ae;++Ne){for(ge=0;ge<W;++ge){var Re=S[C+ge];ie[ue+4*ge]=Re,Ce&=Re}C+=H,ue+=he}return Ce!=255}function bm(S,C,H,W,ae){var ie;for(ie=0;ie<ae;++ie)H[W+ie]=S[C+ie]>>8}function Bo(){Wc=yl,Sn=ro,_n=Xf,qo=bm}function ui(S,C,H){k[S]=function(W,ae,ie,ue,he,ge,Ne,Ce,Re,je,Pe,De,qe,Me,Ge,He,Ze){var We,bt=Ze-1>>1,ot=he[ge+0]|Ne[Ce+0]<<16,qt=Re[je+0]|Pe[De+0]<<16;r(W!=null);var ct=3*ot+qt+131074>>2;for(C(W[ae+0],255&ct,ct>>16,qe,Me),ie!=null&&(ct=3*qt+ot+131074>>2,C(ie[ue+0],255&ct,ct>>16,Ge,He)),We=1;We<=bt;++We){var nr=he[ge+We]|Ne[Ce+We]<<16,Fa=Re[je+We]|Pe[De+We]<<16,Bt=ot+nr+qt+Fa+524296,ut=Bt+2*(nr+qt)>>3;ct=ut+ot>>1,ot=(Bt=Bt+2*(ot+Fa)>>3)+nr>>1,C(W[ae+2*We-1],255&ct,ct>>16,qe,Me+(2*We-1)*H),C(W[ae+2*We-0],255&ot,ot>>16,qe,Me+(2*We-0)*H),ie!=null&&(ct=Bt+qt>>1,ot=ut+Fa>>1,C(ie[ue+2*We-1],255&ct,ct>>16,Ge,He+(2*We-1)*H),C(ie[ue+2*We+0],255&ot,ot>>16,Ge,He+(2*We+0)*H)),ot=nr,qt=Fa}1&Ze||(ct=3*ot+qt+131074>>2,C(W[ae+Ze-1],255&ct,ct>>16,qe,Me+(Ze-1)*H),ie!=null&&(ct=3*qt+ot+131074>>2,C(ie[ue+Ze-1],255&ct,ct>>16,Ge,He+(Ze-1)*H)))}}function su(){cs[Es]=kl,cs[Xc]=Ji,cs[Ki]=uo,cs[ou]=km,cs[Yo]=Cm,cs[Nl]=Qc,cs[_m]=Em,cs[cu]=Ji,cs[oo]=km,cs[wl]=Cm,cs[Jc]=Qc}function ao(S){return S&-16384?0>S?0:255:S>>Ky}function In(S,C){return ao((19077*S>>8)+(26149*C>>8)-14234)}function is(S,C,H){return ao((19077*S>>8)-(6419*C>>8)-(13320*H>>8)+8708)}function Fi(S,C){return ao((19077*S>>8)+(33050*C>>8)-17685)}function Bi(S,C,H,W,ae){W[ae+0]=In(S,H),W[ae+1]=is(S,C,H),W[ae+2]=Fi(S,C)}function zo(S,C,H,W,ae){W[ae+0]=Fi(S,C),W[ae+1]=is(S,C,H),W[ae+2]=In(S,H)}function Uc(S,C,H,W,ae){var ie=is(S,C,H);C=ie<<3&224|Fi(S,C)>>3,W[ae+0]=248&In(S,H)|ie>>5,W[ae+1]=C}function Cs(S,C,H,W,ae){var ie=240&Fi(S,C)|15;W[ae+0]=240&In(S,H)|is(S,C,H)>>4,W[ae+1]=ie}function bl(S,C,H,W,ae){W[ae+0]=255,Bi(S,C,H,W,ae+1)}function qc(S,C,H,W,ae){zo(S,C,H,W,ae),W[ae+3]=255}function vm(S,C,H,W,ae){Bi(S,C,H,W,ae),W[ae+3]=255}function qa(S,C){return 0>S?0:S>C?C:S}function wn(S,C,H){k[S]=function(W,ae,ie,ue,he,ge,Ne,Ce,Re){for(var je=Ce+(-2&Re)*H;Ce!=je;)C(W[ae+0],ie[ue+0],he[ge+0],Ne,Ce),C(W[ae+1],ie[ue+0],he[ge+0],Ne,Ce+H),ae+=2,++ue,++ge,Ce+=2*H;1&Re&&C(W[ae+0],ie[ue+0],he[ge+0],Ne,Ce)}}function Hc(S,C,H){return H==0?S==0?C==0?6:5:C==0?4:0:H}function vl(S,C,H,W,ae){switch(S>>>30){case 3:da(C,H,W,ae,0);break;case 2:Vi(C,H,W,ae);break;case 1:Vs(C,H,W,ae)}}function Fn(S,C){var H,W,ae=C.M,ie=C.Nb,ue=S.oc,he=S.pc+40,ge=S.oc,Ne=S.pc+584,Ce=S.oc,Re=S.pc+600;for(H=0;16>H;++H)ue[he+32*H-1]=129;for(H=0;8>H;++H)ge[Ne+32*H-1]=129,Ce[Re+32*H-1]=129;for(0<ae?ue[he-1-32]=ge[Ne-1-32]=Ce[Re-1-32]=129:(n(ue,he-32-1,127,21),n(ge,Ne-32-1,127,9),n(Ce,Re-32-1,127,9)),W=0;W<S.za;++W){var je=C.ya[C.aa+W];if(0<W){for(H=-1;16>H;++H)s(ue,he+32*H-4,ue,he+32*H+12,4);for(H=-1;8>H;++H)s(ge,Ne+32*H-4,ge,Ne+32*H+4,4),s(Ce,Re+32*H-4,Ce,Re+32*H+4,4)}var Pe=S.Gd,De=S.Hd+W,qe=je.ad,Me=je.Hc;if(0<ae&&(s(ue,he-32,Pe[De].y,0,16),s(ge,Ne-32,Pe[De].f,0,8),s(Ce,Re-32,Pe[De].ea,0,8)),je.Za){var Ge=ue,He=he-32+16;for(0<ae&&(W>=S.za-1?n(Ge,He,Pe[De].y[15],4):s(Ge,He,Pe[De+1].y,0,4)),H=0;4>H;H++)Ge[He+128+H]=Ge[He+256+H]=Ge[He+384+H]=Ge[He+0+H];for(H=0;16>H;++H,Me<<=2)Ge=ue,He=he+Xo[H],Ks[je.Ob[H]](Ge,He),vl(Me,qe,16*+H,Ge,He)}else if(Ge=Hc(W,ae,je.Ob[0]),Al[Ge](ue,he),Me!=0)for(H=0;16>H;++H,Me<<=2)vl(Me,qe,16*+H,ue,he+Xo[H]);for(H=je.Gc,Ge=Hc(W,ae,je.Dd),kn[Ge](ge,Ne),kn[Ge](Ce,Re),Me=qe,Ge=ge,He=Ne,255&(je=0|H)&&(170&je?zn(Me,256,Ge,He):Uo(Me,256,Ge,He)),je=Ce,Me=Re,255&(H>>=8)&&(170&H?zn(qe,320,je,Me):Uo(qe,320,je,Me)),ae<S.Ub-1&&(s(Pe[De].y,0,ue,he+480,16),s(Pe[De].f,0,ge,Ne+224,8),s(Pe[De].ea,0,Ce,Re+224,8)),H=8*ie*S.B,Pe=S.sa,De=S.ta+16*W+16*ie*S.R,qe=S.qa,je=S.ra+8*W+H,Me=S.Ha,Ge=S.Ia+8*W+H,H=0;16>H;++H)s(Pe,De+H*S.R,ue,he+32*H,16);for(H=0;8>H;++H)s(qe,je+H*S.B,ge,Ne+32*H,8),s(Me,Ge+H*S.B,Ce,Re+32*H,8)}}function Gc(S,C,H,W,ae,ie,ue,he,ge){var Ne=[0],Ce=[0],Re=0,je=ge!=null?ge.kd:0,Pe=ge??new It;if(S==null||12>H)return 7;Pe.data=S,Pe.w=C,Pe.ha=H,C=[C],H=[H],Pe.gb=[Pe.gb];e:{var De=C,qe=H,Me=Pe.gb;if(r(S!=null),r(qe!=null),r(Me!=null),Me[0]=0,12<=qe[0]&&!a(S,De[0],"RIFF")){if(a(S,De[0]+8,"WEBP")){Me=3;break e}var Ge=oe(S,De[0]+4);if(12>Ge||4294967286<Ge){Me=3;break e}if(je&&Ge>qe[0]-8){Me=7;break e}Me[0]=Ge,De[0]+=12,qe[0]-=12}Me=0}if(Me!=0)return Me;for(Ge=0<Pe.gb[0],H=H[0];;){e:{var He=S;qe=C,Me=H;var Ze=Ne,We=Ce,bt=De=[0];if((ct=Re=[Re])[0]=0,8>Me[0])Me=7;else{if(!a(He,qe[0],"VP8X")){if(oe(He,qe[0]+4)!=10){Me=3;break e}if(18>Me[0]){Me=7;break e}var ot=oe(He,qe[0]+8),qt=1+xe(He,qe[0]+12);if(2147483648<=qt*(He=1+xe(He,qe[0]+15))){Me=3;break e}bt!=null&&(bt[0]=ot),Ze!=null&&(Ze[0]=qt),We!=null&&(We[0]=He),qe[0]+=18,Me[0]-=18,ct[0]=1}Me=0}}if(Re=Re[0],De=De[0],Me!=0)return Me;if(qe=!!(2&De),!Ge&&Re)return 3;if(ie!=null&&(ie[0]=!!(16&De)),ue!=null&&(ue[0]=qe),he!=null&&(he[0]=0),ue=Ne[0],De=Ce[0],Re&&qe&&ge==null){Me=0;break}if(4>H){Me=7;break}if(Ge&&Re||!Ge&&!Re&&!a(S,C[0],"ALPH")){H=[H],Pe.na=[Pe.na],Pe.P=[Pe.P],Pe.Sa=[Pe.Sa];e:{ot=S,Me=C,Ge=H;var ct=Pe.gb;Ze=Pe.na,We=Pe.P,bt=Pe.Sa,qt=22,r(ot!=null),r(Ge!=null),He=Me[0];var nr=Ge[0];for(r(Ze!=null),r(bt!=null),Ze[0]=null,We[0]=null,bt[0]=0;;){if(Me[0]=He,Ge[0]=nr,8>nr){Me=7;break e}var Fa=oe(ot,He+4);if(4294967286<Fa){Me=3;break e}var Bt=8+Fa+1&-2;if(qt+=Bt,0<ct&&qt>ct){Me=3;break e}if(!a(ot,He,"VP8 ")||!a(ot,He,"VP8L")){Me=0;break e}if(nr[0]<Bt){Me=7;break e}a(ot,He,"ALPH")||(Ze[0]=ot,We[0]=He+8,bt[0]=Fa),He+=Bt,nr-=Bt}}if(H=H[0],Pe.na=Pe.na[0],Pe.P=Pe.P[0],Pe.Sa=Pe.Sa[0],Me!=0)break}H=[H],Pe.Ja=[Pe.Ja],Pe.xa=[Pe.xa];e:if(ct=S,Me=C,Ge=H,Ze=Pe.gb[0],We=Pe.Ja,bt=Pe.xa,ot=Me[0],He=!a(ct,ot,"VP8 "),qt=!a(ct,ot,"VP8L"),r(ct!=null),r(Ge!=null),r(We!=null),r(bt!=null),8>Ge[0])Me=7;else{if(He||qt){if(ct=oe(ct,ot+4),12<=Ze&&ct>Ze-12){Me=3;break e}if(je&&ct>Ge[0]-8){Me=7;break e}We[0]=ct,Me[0]+=8,Ge[0]-=8,bt[0]=qt}else bt[0]=5<=Ge[0]&&ct[ot+0]==47&&!(ct[ot+4]>>5),We[0]=Ge[0];Me=0}if(H=H[0],Pe.Ja=Pe.Ja[0],Pe.xa=Pe.xa[0],C=C[0],Me!=0)break;if(4294967286<Pe.Ja)return 3;if(he==null||qe||(he[0]=Pe.xa?2:1),ue=[ue],De=[De],Pe.xa){if(5>H){Me=7;break}he=ue,je=De,qe=ie,S==null||5>H?S=0:5<=H&&S[C+0]==47&&!(S[C+4]>>5)?(Ge=[0],ct=[0],Ze=[0],X(We=new re,S,C,H),sa(We,Ge,ct,Ze)?(he!=null&&(he[0]=Ge[0]),je!=null&&(je[0]=ct[0]),qe!=null&&(qe[0]=Ze[0]),S=1):S=0):S=0}else{if(10>H){Me=7;break}he=De,S==null||10>H||!Wd(S,C+3,H-3)?S=0:(je=S[C+0]|S[C+1]<<8|S[C+2]<<16,qe=16383&(S[C+7]<<8|S[C+6]),S=16383&(S[C+9]<<8|S[C+8]),1&je||3<(je>>1&7)||!(je>>4&1)||je>>5>=Pe.Ja||!qe||!S?S=0:(ue&&(ue[0]=qe),he&&(he[0]=S),S=1))}if(!S||(ue=ue[0],De=De[0],Re&&(Ne[0]!=ue||Ce[0]!=De)))return 3;ge!=null&&(ge[0]=Pe,ge.offset=C-ge.w,r(4294967286>C-ge.w),r(ge.offset==ge.ha-H));break}return Me==0||Me==7&&Re&&ge==null?(ie!=null&&(ie[0]|=Pe.na!=null&&0<Pe.na.length),W!=null&&(W[0]=ue),ae!=null&&(ae[0]=De),0):Me}function ps(S,C,H){var W=C.width,ae=C.height,ie=0,ue=0,he=W,ge=ae;if(C.Da=S!=null&&0<S.Da,C.Da&&(he=S.cd,ge=S.bd,ie=S.v,ue=S.j,11>H||(ie&=-2,ue&=-2),0>ie||0>ue||0>=he||0>=ge||ie+he>W||ue+ge>ae))return 0;if(C.v=ie,C.j=ue,C.va=ie+he,C.o=ue+ge,C.U=he,C.T=ge,C.da=S!=null&&0<S.da,C.da){if(!it(he,ge,H=[S.ib],ie=[S.hb]))return 0;C.ib=H[0],C.hb=ie[0]}return C.ob=S!=null&&S.ob,C.Kb=S==null||!S.Sd,C.da&&(C.ob=C.ib<3*W/4&&C.hb<3*ae/4,C.Kb=0),1}function Gs(S){if(S==null)return 2;if(11>S.S){var C=S.f.RGBA;C.fb+=(S.height-1)*C.A,C.A=-C.A}else C=S.f.kb,S=S.height,C.O+=(S-1)*C.fa,C.fa=-C.fa,C.N+=(S-1>>1)*C.Ab,C.Ab=-C.Ab,C.W+=(S-1>>1)*C.Db,C.Db=-C.Db,C.F!=null&&(C.J+=(S-1)*C.lb,C.lb=-C.lb);return 0}function so(S,C,H,W){if(W==null||0>=S||0>=C)return 2;if(H!=null){if(H.Da){var ae=H.cd,ie=H.bd,ue=-2&H.v,he=-2&H.j;if(0>ue||0>he||0>=ae||0>=ie||ue+ae>S||he+ie>C)return 2;S=ae,C=ie}if(H.da){if(!it(S,C,ae=[H.ib],ie=[H.hb]))return 2;S=ae[0],C=ie[0]}}W.width=S,W.height=C;e:{var ge=W.width,Ne=W.height;if(S=W.S,0>=ge||0>=Ne||!(S>=Es&&13>S))S=2;else{if(0>=W.Rd&&W.sd==null){ue=ie=ae=C=0;var Ce=(he=ge*h0[S])*Ne;if(11>S||(ie=(Ne+1)/2*(C=(ge+1)/2),S==12&&(ue=(ae=ge)*Ne)),(Ne=i(Ce+2*ie+ue))==null){S=1;break e}W.sd=Ne,11>S?((ge=W.f.RGBA).eb=Ne,ge.fb=0,ge.A=he,ge.size=Ce):((ge=W.f.kb).y=Ne,ge.O=0,ge.fa=he,ge.Fd=Ce,ge.f=Ne,ge.N=0+Ce,ge.Ab=C,ge.Cd=ie,ge.ea=Ne,ge.W=0+Ce+ie,ge.Db=C,ge.Ed=ie,S==12&&(ge.F=Ne,ge.J=0+Ce+2*ie),ge.Tc=ue,ge.lb=ae)}if(C=1,ae=W.S,ie=W.width,ue=W.height,ae>=Es&&13>ae)if(11>ae)S=W.f.RGBA,C&=(he=Math.abs(S.A))*(ue-1)+ie<=S.size,C&=he>=ie*h0[ae],C&=S.eb!=null;else{S=W.f.kb,he=(ie+1)/2,Ce=(ue+1)/2,ge=Math.abs(S.fa),Ne=Math.abs(S.Ab);var Re=Math.abs(S.Db),je=Math.abs(S.lb),Pe=je*(ue-1)+ie;C&=ge*(ue-1)+ie<=S.Fd,C&=Ne*(Ce-1)+he<=S.Cd,C=(C&=Re*(Ce-1)+he<=S.Ed)&ge>=ie&Ne>=he&Re>=he,C&=S.y!=null,C&=S.f!=null,C&=S.ea!=null,ae==12&&(C&=je>=ie,C&=Pe<=S.Tc,C&=S.F!=null)}else C=0;S=C?0:2}}return S!=0||H!=null&&H.fd&&(S=Gs(W)),S}var Bn=64,zi=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Yc=24,jl=32,ga=8,Jf=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Qe("Predictor0","PredictorAdd0"),k.Predictor0=function(){return 4278190080},k.Predictor1=function(S){return S},k.Predictor2=function(S,C,H){return C[H+0]},k.Predictor3=function(S,C,H){return C[H+1]},k.Predictor4=function(S,C,H){return C[H-1]},k.Predictor5=function(S,C,H){return dt(dt(S,C[H+1]),C[H+0])},k.Predictor6=function(S,C,H){return dt(S,C[H-1])},k.Predictor7=function(S,C,H){return dt(S,C[H+0])},k.Predictor8=function(S,C,H){return dt(C[H-1],C[H+0])},k.Predictor9=function(S,C,H){return dt(C[H+0],C[H+1])},k.Predictor10=function(S,C,H){return dt(dt(S,C[H-1]),dt(C[H+0],C[H+1]))},k.Predictor11=function(S,C,H){var W=C[H+0];return 0>=Rt(W>>24&255,S>>24&255,(C=C[H-1])>>24&255)+Rt(W>>16&255,S>>16&255,C>>16&255)+Rt(W>>8&255,S>>8&255,C>>8&255)+Rt(255&W,255&S,255&C)?W:S},k.Predictor12=function(S,C,H){var W=C[H+0];return(xr((S>>24&255)+(W>>24&255)-((C=C[H-1])>>24&255))<<24|xr((S>>16&255)+(W>>16&255)-(C>>16&255))<<16|xr((S>>8&255)+(W>>8&255)-(C>>8&255))<<8|xr((255&S)+(255&W)-(255&C)))>>>0},k.Predictor13=function(S,C,H){var W=C[H-1];return(Xt((S=dt(S,C[H+0]))>>24&255,W>>24&255)<<24|Xt(S>>16&255,W>>16&255)<<16|Xt(S>>8&255,W>>8&255)<<8|Xt(255&S,255&W))>>>0};var Ui=k.PredictorAdd0;k.PredictorAdd1=er,Qe("Predictor2","PredictorAdd2"),Qe("Predictor3","PredictorAdd3"),Qe("Predictor4","PredictorAdd4"),Qe("Predictor5","PredictorAdd5"),Qe("Predictor6","PredictorAdd6"),Qe("Predictor7","PredictorAdd7"),Qe("Predictor8","PredictorAdd8"),Qe("Predictor9","PredictorAdd9"),Qe("Predictor10","PredictorAdd10"),Qe("Predictor11","PredictorAdd11"),Qe("Predictor12","PredictorAdd12"),Qe("Predictor13","PredictorAdd13");var qi=k.PredictorAdd2;wt("ColorIndexInverseTransform","MapARGB","32b",function(S){return S>>8&255},function(S){return S}),wt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(S){return S},function(S){return S>>8&255});var Vc,nu=k.ColorIndexInverseTransform,ls=k.MapARGB,Hi=k.VP8LColorIndexInverseTransformAlpha,no=k.MapAlpha,io=k.VP8LPredictorsAdd=[];io.length=16,(k.VP8LPredictors=[]).length=16,(k.VP8LPredictorsAdd_C=[]).length=16,(k.VP8LPredictors_C=[]).length=16;var Gi,Kc,Ys,Yi,kr,Mr,Jr,da,Vi,zn,Vs,Uo,Zf,lo,Qf,eh,th,i0,l0,o0,rh,ah,jm,Un,Wc,Sn,_n,qo,Nm=i(511),iu=i(2041),lu=i(225),wm=i(767),Ho=0,Sm=iu,Go=lu,os=wm,qn=Nm,Es=0,Xc=1,Ki=2,ou=3,Yo=4,Nl=5,_m=6,cu=7,oo=8,wl=9,Jc=10,Am=[2,3,7],Hn=[3,3,11],An=[280,256,256,256,40],Vo=[0,1,1,1,0],Sl=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],_l=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Ko=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],c0=8,du=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],uu=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Ha=null,ya=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Cr=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],co=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Wi=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],sh=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Wo=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],d0=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Al=[],Ks=[],kn=[],u0=1,Zc=2,Xi=[],cs=[];ui("UpsampleRgbLinePair",Bi,3),ui("UpsampleBgrLinePair",zo,3),ui("UpsampleRgbaLinePair",vm,4),ui("UpsampleBgraLinePair",qc,4),ui("UpsampleArgbLinePair",bl,4),ui("UpsampleRgba4444LinePair",Cs,2),ui("UpsampleRgb565LinePair",Uc,2);var kl=k.UpsampleRgbLinePair,uo=k.UpsampleBgrLinePair,Ji=k.UpsampleRgbaLinePair,km=k.UpsampleBgraLinePair,Cm=k.UpsampleArgbLinePair,Qc=k.UpsampleRgba4444LinePair,Em=k.UpsampleRgb565LinePair,Zi=16,Ga=1<<Zi-1,mo=-227,Pm=482,Ky=6,m0=0,Wy=i(256),Ya=i(256),nh=i(256),mu=i(256),fu=i(Pm-mo),ih=i(Pm-mo);wn("YuvToRgbRow",Bi,3),wn("YuvToBgrRow",zo,3),wn("YuvToRgbaRow",vm,4),wn("YuvToBgraRow",qc,4),wn("YuvToArgbRow",bl,4),wn("YuvToRgba4444Row",Cs,2),wn("YuvToRgb565Row",Uc,2);var Xo=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Cl=[0,2,8],Xy=[8,7,6,4,4,2,2,2,1,1,1,1],f0=1;this.WebPDecodeRGBA=function(S,C,H,W,ae){var ie=Xc,ue=new vt,he=new Sr;ue.ba=he,he.S=ie,he.width=[he.width],he.height=[he.height];var ge=he.width,Ne=he.height,Ce=new Ut;if(Ce==null||S==null)var Re=2;else r(Ce!=null),Re=Gc(S,C,H,Ce.width,Ce.height,Ce.Pd,Ce.Qd,Ce.format,null);if(Re!=0?ge=0:(ge!=null&&(ge[0]=Ce.width[0]),Ne!=null&&(Ne[0]=Ce.height[0]),ge=1),ge){he.width=he.width[0],he.height=he.height[0],W!=null&&(W[0]=he.width),ae!=null&&(ae[0]=he.height);e:{if(W=new Ic,(ae=new It).data=S,ae.w=C,ae.ha=H,ae.kd=1,C=[0],r(ae!=null),((S=Gc(ae.data,ae.w,ae.ha,null,null,null,C,null,ae))==0||S==7)&&C[0]&&(S=4),(C=S)==0){if(r(ue!=null),W.data=ae.data,W.w=ae.w+ae.offset,W.ha=ae.ha-ae.offset,W.put=Et,W.ac=ai,W.bc=_s,W.ma=ue,ae.xa){if((S=ia())==null){ue=1;break e}if(function(je,Pe){var De=[0],qe=[0],Me=[0];t:for(;;){if(je==null)return 0;if(Pe==null)return je.a=2,0;if(je.l=Pe,je.a=0,X(je.m,Pe.data,Pe.w,Pe.ha),!sa(je.m,De,qe,Me)){je.a=3;break t}if(je.xb=Zc,Pe.width=De[0],Pe.height=qe[0],!si(De[0],qe[0],1,je,null))break t;return 1}return r(je.a!=0),0}(S,W)){if(W=(C=so(W.width,W.height,ue.Oa,ue.ba))==0){t:{W=S;r:for(;;){if(W==null){W=0;break t}if(r(W.s.yc!=null),r(W.s.Ya!=null),r(0<W.s.Wb),r((H=W.l)!=null),r((ae=H.ma)!=null),W.xb!=0){if(W.ca=ae.ba,W.tb=ae.tb,r(W.ca!=null),!ps(ae.Oa,H,ou)){W.a=2;break r}if(!Xl(W,H.width)||H.da)break r;if((H.da||Kt(W.ca.S))&&Bo(),11>W.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),W.ca.f.kb.F!=null&&Bo()),W.Pb&&0<W.s.ua&&W.s.vb.X==null&&!me(W.s.vb,W.s.Wa.Xa)){W.a=1;break r}W.xb=0}if(!qs(W,W.V,W.Ba,W.c,W.i,H.o,Ln))break r;ae.Dc=W.Ma,W=1;break t}r(W.a!=0),W=0}W=!W}W&&(C=S.a)}else C=S.a}else{if((S=new hm)==null){ue=1;break e}if(S.Fa=ae.na,S.P=ae.P,S.qc=ae.Sa,xm(S,W)){if((C=so(W.width,W.height,ue.Oa,ue.ba))==0){if(S.Aa=0,H=ue.Oa,r((ae=S)!=null),H!=null){if(0<(ge=0>(ge=H.Md)?0:100<ge?255:255*ge/100)){for(Ne=Ce=0;4>Ne;++Ne)12>(Re=ae.pb[Ne]).lc&&(Re.ia=ge*Xy[0>Re.lc?0:Re.lc]>>3),Ce|=Re.ia;Ce&&(alert("todo:VP8InitRandom"),ae.ia=1)}ae.Ga=H.Id,100<ae.Ga?ae.Ga=100:0>ae.Ga&&(ae.Ga=0)}(function(je,Pe){if(je==null)return 0;if(Pe==null)return Ar(je,2,"NULL VP8Io parameter in VP8Decode().");if(!je.cb&&!xm(je,Pe))return 0;if(r(je.cb),Pe.ac==null||Pe.ac(Pe)){Pe.ob&&(je.L=0);var De=Cl[je.L];if(je.L==2?(je.yb=0,je.zb=0):(je.yb=Pe.v-De>>4,je.zb=Pe.j-De>>4,0>je.yb&&(je.yb=0),0>je.zb&&(je.zb=0)),je.Va=Pe.o+15+De>>4,je.Hb=Pe.va+15+De>>4,je.Hb>je.za&&(je.Hb=je.za),je.Va>je.Ub&&(je.Va=je.Ub),0<je.L){var qe=je.ed;for(De=0;4>De;++De){var Me;if(je.Qa.Cb){var Ge=je.Qa.Lb[De];je.Qa.Fb||(Ge+=qe.Tb)}else Ge=qe.Tb;for(Me=0;1>=Me;++Me){var He=je.gd[De][Me],Ze=Ge;if(qe.Pc&&(Ze+=qe.vd[0],Me&&(Ze+=qe.od[0])),0<(Ze=0>Ze?0:63<Ze?63:Ze)){var We=Ze;0<qe.wb&&(We=4<qe.wb?We>>2:We>>1)>9-qe.wb&&(We=9-qe.wb),1>We&&(We=1),He.dd=We,He.tc=2*Ze+We,He.ld=40<=Ze?2:15<=Ze?1:0}else He.tc=0;He.La=Me}}}De=0}else Ar(je,6,"Frame setup failed"),De=je.a;if(De=De==0){if(De){je.$c=0,0<je.Aa||(je.Ic=f0);t:{De=je.Ic,qe=4*(We=je.za);var bt=32*We,ot=We+1,qt=0<je.L?We*(0<je.Aa?2:1):0,ct=(je.Aa==2?2:1)*We;if((He=qe+832+(Me=3*(16*De+Cl[je.L])/2*bt)+(Ge=je.Fa!=null&&0<je.Fa.length?je.Kc.c*je.Kc.i:0))!=He)De=0;else{if(He>je.Vb){if(je.Vb=0,je.Ec=i(He),je.Fc=0,je.Ec==null){De=Ar(je,1,"no memory during frame initialization.");break t}je.Vb=He}He=je.Ec,Ze=je.Fc,je.Ac=He,je.Bc=Ze,Ze+=qe,je.Gd=o(bt,Rc),je.Hd=0,je.rb=o(ot+1,vn),je.sb=1,je.wa=qt?o(qt,Hs):null,je.Y=0,je.D.Nb=0,je.D.wa=je.wa,je.D.Y=je.Y,0<je.Aa&&(je.D.Y+=We),r(!0),je.oc=He,je.pc=Ze,Ze+=832,je.ya=o(ct,Mc),je.aa=0,je.D.ya=je.ya,je.D.aa=je.aa,je.Aa==2&&(je.D.aa+=We),je.R=16*We,je.B=8*We,We=(bt=Cl[je.L])*je.R,bt=bt/2*je.B,je.sa=He,je.ta=Ze+We,je.qa=je.sa,je.ra=je.ta+16*De*je.R+bt,je.Ha=je.qa,je.Ia=je.ra+8*De*je.B+bt,je.$c=0,Ze+=Me,je.mb=Ge?He:null,je.nb=Ge?Ze:null,r(Ze+Ge<=je.Fc+je.Vb),Jl(je),n(je.Ac,je.Bc,0,qe),De=1}}if(De){if(Pe.ka=0,Pe.y=je.sa,Pe.O=je.ta,Pe.f=je.qa,Pe.N=je.ra,Pe.ea=je.Ha,Pe.Vd=je.Ia,Pe.fa=je.R,Pe.Rc=je.B,Pe.F=null,Pe.J=0,!Ho){for(De=-255;255>=De;++De)Nm[255+De]=0>De?-De:De;for(De=-1020;1020>=De;++De)iu[1020+De]=-128>De?-128:127<De?127:De;for(De=-112;112>=De;++De)lu[112+De]=-16>De?-16:15<De?15:De;for(De=-255;510>=De;++De)wm[255+De]=0>De?0:255<De?255:De;Ho=1}Jr=hl,da=Xd,zn=Zl,Vs=ii,Uo=Jd,Vi=pm,Zf=B,lo=se,Qf=Oe,eh=Ye,th=Se,i0=ke,l0=Je,o0=ft,rh=gl,ah=$i,jm=zc,Un=au,Ks[0]=Ro,Ks[1]=Fc,Ks[2]=tu,Ks[3]=ym,Ks[4]=li,Ks[5]=jn,Ks[6]=oi,Ks[7]=Mi,Ks[8]=xl,Ks[9]=ru,Al[0]=Di,Al[1]=Zd,Al[2]=Wf,Al[3]=Qd,Al[4]=eu,Al[5]=$n,Al[6]=Li,kn[0]=$o,kn[1]=gm,kn[2]=Bc,kn[3]=Ri,kn[4]=ci,kn[5]=ks,kn[6]=eo,De=1}else De=0}De&&(De=function(nr,Fa){for(nr.M=0;nr.M<nr.Va;++nr.M){var Bt,ut=nr.Jc[nr.M&nr.Xb],nt=nr.m,ua=nr;for(Bt=0;Bt<ua.za;++Bt){var Ht=nt,Qt=ua,ht=Qt.Ac,Wt=Qt.Bc+4*Bt,fr=Qt.zc,Zr=Qt.ya[Qt.aa+Bt];if(Qt.Qa.Bb?Zr.$b=Ae(Ht,Qt.Pa.jb[0])?2+Ae(Ht,Qt.Pa.jb[2]):Ae(Ht,Qt.Pa.jb[1]):Zr.$b=0,Qt.kc&&(Zr.Ad=Ae(Ht,Qt.Bd)),Zr.Za=!Ae(Ht,145)+0,Zr.Za){var Pa=Zr.Ob,Ta=0;for(Qt=0;4>Qt;++Qt){var ba,ar=fr[0+Qt];for(ba=0;4>ba;++ba){ar=sh[ht[Wt+ba]][ar];for(var hr=co[Ae(Ht,ar[0])];0<hr;)hr=co[2*hr+Ae(Ht,ar[hr])];ar=-hr,ht[Wt+ba]=ar}s(Pa,Ta,ht,Wt,4),Ta+=4,fr[0+Qt]=ar}}else ar=Ae(Ht,156)?Ae(Ht,128)?1:3:Ae(Ht,163)?2:0,Zr.Ob[0]=ar,n(ht,Wt,ar,4),n(fr,0,ar,4);Zr.Dd=Ae(Ht,142)?Ae(Ht,114)?Ae(Ht,183)?1:3:2:0}if(ua.m.Ka)return Ar(nr,7,"Premature end-of-partition0 encountered.");for(;nr.ja<nr.za;++nr.ja){if(ua=ut,Ht=(nt=nr).rb[nt.sb-1],ht=nt.rb[nt.sb+nt.ja],Bt=nt.ya[nt.aa+nt.ja],Wt=nt.kc?Bt.Ad:0)Ht.la=ht.la=0,Bt.Za||(Ht.Na=ht.Na=0),Bt.Hc=0,Bt.Gc=0,Bt.ia=0;else{var va,Ot;if(Ht=ht,ht=ua,Wt=nt.Pa.Xc,fr=nt.ya[nt.aa+nt.ja],Zr=nt.pb[fr.$b],Qt=fr.ad,Pa=0,Ta=nt.rb[nt.sb-1],ar=ba=0,n(Qt,Pa,0,384),fr.Za)var Va=0,Cn=Wt[3];else{hr=i(16);var ja=Ht.Na+Ta.Na;if(ja=Ha(ht,Wt[1],ja,Zr.Eb,0,hr,0),Ht.Na=Ta.Na=(0<ja)+0,1<ja)Jr(hr,0,Qt,Pa);else{var Ws=hr[0]+3>>3;for(hr=0;256>hr;hr+=16)Qt[Pa+hr]=Ws}Va=1,Cn=Wt[0]}var zr=15&Ht.la,Oa=15&Ta.la;for(hr=0;4>hr;++hr){var Xs=1&Oa;for(Ws=Ot=0;4>Ws;++Ws)zr=zr>>1|(Xs=(ja=Ha(ht,Cn,ja=Xs+(1&zr),Zr.Sc,Va,Qt,Pa))>Va)<<7,Ot=Ot<<2|(3<ja?3:1<ja?2:Qt[Pa+0]!=0),Pa+=16;zr>>=4,Oa=Oa>>1|Xs<<7,ba=(ba<<8|Ot)>>>0}for(Cn=zr,Va=Oa>>4,va=0;4>va;va+=2){for(Ot=0,zr=Ht.la>>4+va,Oa=Ta.la>>4+va,hr=0;2>hr;++hr){for(Xs=1&Oa,Ws=0;2>Ws;++Ws)ja=Xs+(1&zr),zr=zr>>1|(Xs=0<(ja=Ha(ht,Wt[2],ja,Zr.Qc,0,Qt,Pa)))<<3,Ot=Ot<<2|(3<ja?3:1<ja?2:Qt[Pa+0]!=0),Pa+=16;zr>>=2,Oa=Oa>>1|Xs<<5}ar|=Ot<<4*va,Cn|=zr<<4<<va,Va|=(240&Oa)<<va}Ht.la=Cn,Ta.la=Va,fr.Hc=ba,fr.Gc=ar,fr.ia=43690&ar?0:Zr.ia,Wt=!(ba|ar)}if(0<nt.L&&(nt.wa[nt.Y+nt.ja]=nt.gd[Bt.$b][Bt.Za],nt.wa[nt.Y+nt.ja].La|=!Wt),ua.Ka)return Ar(nr,7,"Premature end-of-file encountered.")}if(Jl(nr),nt=Fa,ua=1,Bt=(ut=nr).D,Ht=0<ut.L&&ut.M>=ut.zb&&ut.M<=ut.Va,ut.Aa==0)t:{if(Bt.M=ut.M,Bt.uc=Ht,Fn(ut,Bt),ua=1,Bt=(Ot=ut.D).Nb,Ht=(ar=Cl[ut.L])*ut.R,ht=ar/2*ut.B,hr=16*Bt*ut.R,Ws=8*Bt*ut.B,Wt=ut.sa,fr=ut.ta-Ht+hr,Zr=ut.qa,Qt=ut.ra-ht+Ws,Pa=ut.Ha,Ta=ut.Ia-ht+Ws,Oa=(zr=Ot.M)==0,ba=zr>=ut.Va-1,ut.Aa==2&&Fn(ut,Ot),Ot.uc)for(Xs=(ja=ut).D.M,r(ja.D.uc),Ot=ja.yb;Ot<ja.Hb;++Ot){Va=Ot,Cn=Xs;var gs=(Vr=(Wa=ja).D).Nb;va=Wa.R;var Vr=Vr.wa[Vr.Y+Va],jr=Wa.sa,Ps=Wa.ta+16*gs*va+16*Va,ys=Vr.dd,Or=Vr.tc;if(Or!=0)if(r(3<=Or),Wa.L==1)0<Va&&ah(jr,Ps,va,Or+4),Vr.La&&Un(jr,Ps,va,Or),0<Cn&&rh(jr,Ps,va,Or+4),Vr.La&&jm(jr,Ps,va,Or);else{var Js=Wa.B,Ka=Wa.qa,Qi=Wa.ra+8*gs*Js+8*Va,mi=Wa.Ha,Wa=Wa.Ia+8*gs*Js+8*Va;gs=Vr.ld,0<Va&&(lo(jr,Ps,va,Or+4,ys,gs),eh(Ka,Qi,mi,Wa,Js,Or+4,ys,gs)),Vr.La&&(i0(jr,Ps,va,Or,ys,gs),o0(Ka,Qi,mi,Wa,Js,Or,ys,gs)),0<Cn&&(Zf(jr,Ps,va,Or+4,ys,gs),Qf(Ka,Qi,mi,Wa,Js,Or+4,ys,gs)),Vr.La&&(th(jr,Ps,va,Or,ys,gs),l0(Ka,Qi,mi,Wa,Js,Or,ys,gs))}}if(ut.ia&&alert("todo:DitherRow"),nt.put!=null){if(Ot=16*zr,zr=16*(zr+1),Oa?(nt.y=ut.sa,nt.O=ut.ta+hr,nt.f=ut.qa,nt.N=ut.ra+Ws,nt.ea=ut.Ha,nt.W=ut.Ia+Ws):(Ot-=ar,nt.y=Wt,nt.O=fr,nt.f=Zr,nt.N=Qt,nt.ea=Pa,nt.W=Ta),ba||(zr-=ar),zr>nt.o&&(zr=nt.o),nt.F=null,nt.J=null,ut.Fa!=null&&0<ut.Fa.length&&Ot<zr&&(nt.J=xs(ut,nt,Ot,zr-Ot),nt.F=ut.mb,nt.F==null&&nt.F.length==0)){ua=Ar(ut,3,"Could not decode alpha data.");break t}Ot<nt.j&&(ar=nt.j-Ot,Ot=nt.j,r(!(1&ar)),nt.O+=ut.R*ar,nt.N+=ut.B*(ar>>1),nt.W+=ut.B*(ar>>1),nt.F!=null&&(nt.J+=nt.width*ar)),Ot<zr&&(nt.O+=nt.v,nt.N+=nt.v>>1,nt.W+=nt.v>>1,nt.F!=null&&(nt.J+=nt.v),nt.ka=Ot-nt.j,nt.U=nt.va-nt.v,nt.T=zr-Ot,ua=nt.put(nt))}Bt+1!=ut.Ic||ba||(s(ut.sa,ut.ta-Ht,Wt,fr+16*ut.R,Ht),s(ut.qa,ut.ra-ht,Zr,Qt+8*ut.B,ht),s(ut.Ha,ut.Ia-ht,Pa,Ta+8*ut.B,ht))}if(!ua)return Ar(nr,6,"Output aborted.")}return 1}(je,Pe)),Pe.bc!=null&&Pe.bc(Pe),De&=1}return De?(je.cb=0,De):0})(S,W)||(C=S.a)}}else C=S.a}C==0&&ue.Oa!=null&&ue.Oa.fd&&(C=Gs(ue.ba))}ue=C}ie=ue!=0?null:11>ie?he.f.RGBA.eb:he.f.kb.y}else ie=null;return ie};var h0=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function m(k,Y){for(var $="",M=0;M<4;M++)$+=String.fromCharCode(k[Y++]);return $}function f(k,Y){return k[Y+0]|k[Y+1]<<8}function x(k,Y){return(k[Y+0]|k[Y+1]<<8|k[Y+2]<<16)>>>0}function b(k,Y){return(k[Y+0]|k[Y+1]<<8|k[Y+2]<<16|k[Y+3]<<24)>>>0}new u;var p=[0],v=[0],j=[],w=new u,N=t,P=function(k,Y){var $={},M=0,F=!1,K=0,q=0;if($.frames=[],!function(z,re){for(var G=0;G<4;G++)if(z[re+G]!="RIFF".charCodeAt(G))return!0;return!1}(k,Y)){for(b(k,Y+=4),Y+=8;Y<k.length;){var U=m(k,Y),V=b(k,Y+=4);Y+=4;var Z=V+(1&V);switch(U){case"VP8 ":case"VP8L":$.frames[M]===void 0&&($.frames[M]={}),(be=$.frames[M]).src_off=F?q:Y-8,be.src_size=K+V+8,M++,F&&(F=!1,K=0,q=0);break;case"VP8X":(be=$.header={}).feature_flags=k[Y];var X=Y+4;be.canvas_width=1+x(k,X),X+=3,be.canvas_height=1+x(k,X),X+=3;break;case"ALPH":F=!0,K=Z+8,q=Y-8;break;case"ANIM":(be=$.header).bgcolor=b(k,Y),X=Y+4,be.loop_count=f(k,X),X+=2;break;case"ANMF":var J,be;(be=$.frames[M]={}).offset_x=2*x(k,Y),Y+=3,be.offset_y=2*x(k,Y),Y+=3,be.width=1+x(k,Y),Y+=3,be.height=1+x(k,Y),Y+=3,be.duration=x(k,Y),Y+=3,J=k[Y++],be.dispose=1&J,be.blend=J>>1&1}U!="ANMF"&&(Y+=Z)}return $}}(N,0);P.response=N,P.rgbaoutput=!0,P.dataurl=!1;var A=P.header?P.header:null,D=P.frames?P.frames:null;if(A){A.loop_counter=A.loop_count,p=[A.canvas_height],v=[A.canvas_width];for(var T=0;T<D.length&&D[T].blend!=0;T++);}var R=D[0],E=w.WebPDecodeRGBA(N,R.src_off,R.src_size,v,p);R.rgba=E,R.imgwidth=v[0],R.imgheight=p[0];for(var O=0;O<v[0]*p[0]*4;O++)j[O]=E[O];return this.width=v,this.height=p,this.data=j,this}(function(t){var r,a,s,n,i,o,d,u,m,f=function(z){return z=z||{},this.isStrokeTransparent=z.isStrokeTransparent||!1,this.strokeOpacity=z.strokeOpacity||1,this.strokeStyle=z.strokeStyle||"#000000",this.fillStyle=z.fillStyle||"#000000",this.isFillTransparent=z.isFillTransparent||!1,this.fillOpacity=z.fillOpacity||1,this.font=z.font||"10px sans-serif",this.textBaseline=z.textBaseline||"alphabetic",this.textAlign=z.textAlign||"left",this.lineWidth=z.lineWidth||1,this.lineJoin=z.lineJoin||"miter",this.lineCap=z.lineCap||"butt",this.path=z.path||[],this.transform=z.transform!==void 0?z.transform.clone():new u,this.globalCompositeOperation=z.globalCompositeOperation||"normal",this.globalAlpha=z.globalAlpha||1,this.clip_path=z.clip_path||[],this.currentPoint=z.currentPoint||new o,this.miterLimit=z.miterLimit||10,this.lastPoint=z.lastPoint||new o,this.lineDashOffset=z.lineDashOffset||0,this.lineDash=z.lineDash||[],this.margin=z.margin||[0,0,0,0],this.prevPageLastElemOffset=z.prevPageLastElemOffset||0,this.ignoreClearRect=typeof z.ignoreClearRect!="boolean"||z.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new x(this),r=this.internal.f2,a=this.internal.getCoordinateString,s=this.internal.getVerticalCoordinateString,n=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,o=this.internal.Point,d=this.internal.Rectangle,u=this.internal.Matrix,m=new f}]);var x=function(z){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var re=z;Object.defineProperty(this,"pdf",{get:function(){return re}});var G=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return G},set:function(oe){G=!!oe}});var Q=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Q},set:function(oe){Q=!!oe}});var ve=0;Object.defineProperty(this,"posX",{get:function(){return ve},set:function(oe){isNaN(oe)||(ve=oe)}});var ye=0;Object.defineProperty(this,"posY",{get:function(){return ye},set:function(oe){isNaN(oe)||(ye=oe)}}),Object.defineProperty(this,"margin",{get:function(){return m.margin},set:function(oe){var me;typeof oe=="number"?me=[oe,oe,oe,oe]:((me=new Array(4))[0]=oe[0],me[1]=oe.length>=2?oe[1]:me[0],me[2]=oe.length>=3?oe[2]:me[0],me[3]=oe.length>=4?oe[3]:me[1]),m.margin=me}});var ne=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ne},set:function(oe){ne=oe}});var te=0;Object.defineProperty(this,"lastBreak",{get:function(){return te},set:function(oe){te=oe}});var Ae=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ae},set:function(oe){Ae=oe}}),Object.defineProperty(this,"ctx",{get:function(){return m},set:function(oe){oe instanceof f&&(m=oe)}}),Object.defineProperty(this,"path",{get:function(){return m.path},set:function(oe){m.path=oe}});var we=[];Object.defineProperty(this,"ctxStack",{get:function(){return we},set:function(oe){we=oe}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(oe){var me;me=b(oe),this.ctx.fillStyle=me.style,this.ctx.isFillTransparent=me.a===0,this.ctx.fillOpacity=me.a,this.pdf.setFillColor(me.r,me.g,me.b,{a:me.a}),this.pdf.setTextColor(me.r,me.g,me.b,{a:me.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(oe){var me=b(oe);this.ctx.strokeStyle=me.style,this.ctx.isStrokeTransparent=me.a===0,this.ctx.strokeOpacity=me.a,me.a===0?this.pdf.setDrawColor(255,255,255):(me.a,this.pdf.setDrawColor(me.r,me.g,me.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(oe){["butt","round","square"].indexOf(oe)!==-1&&(this.ctx.lineCap=oe,this.pdf.setLineCap(oe))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(oe){isNaN(oe)||(this.ctx.lineWidth=oe,this.pdf.setLineWidth(oe))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(oe){["bevel","round","miter"].indexOf(oe)!==-1&&(this.ctx.lineJoin=oe,this.pdf.setLineJoin(oe))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(oe){isNaN(oe)||(this.ctx.miterLimit=oe,this.pdf.setMiterLimit(oe))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(oe){this.ctx.textBaseline=oe}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(oe){["right","end","center","left","start"].indexOf(oe)!==-1&&(this.ctx.textAlign=oe)}});var le=null,xe=null;Object.defineProperty(this,"fontFaces",{get:function(){return xe},set:function(oe){le=null,xe=oe}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(oe){var me;if(this.ctx.font=oe,(me=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(oe))!==null){var tt=me[1];me[2];var rt=me[3],it=me[4];me[5];var pe=me[6],Ie=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(it)[2];it=Math.floor(Ie==="px"?parseFloat(it)*this.pdf.internal.scaleFactor:Ie==="em"?parseFloat(it)*this.pdf.getFontSize():parseFloat(it)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(it);var Qe=function($t){var wt,Yr,mr=[],yt=$t.trim();if(yt==="")return Hv;if(yt in zS)return[zS[yt]];for(;yt!=="";){switch(Yr=null,wt=(yt=qS(yt)).charAt(0)){case'"':case"'":Yr=tY(yt.substring(1),wt);break;default:Yr=rY(yt)}if(Yr===null||(mr.push(Yr[0]),(yt=qS(Yr[1]))!==""&&yt.charAt(0)!==","))return Hv;yt=yt.replace(/^,/,"")}return mr}(pe);if(this.fontFaces){var xt=function($t,wt){if(le===null){var Yr=function(mr){var yt=[];return Object.keys(mr).forEach(function(Tt){mr[Tt].forEach(function(Er){var At=null;switch(Er){case"bold":At={family:Tt,weight:"bold"};break;case"italic":At={family:Tt,style:"italic"};break;case"bolditalic":At={family:Tt,weight:"bold",style:"italic"};break;case"":case"normal":At={family:Tt}}At!==null&&(At.ref={name:Tt,style:Er},yt.push(At))})}),yt}($t.getFontList());le=function(mr){for(var yt={},Tt=0;Tt<mr.length;++Tt){var Er=qv(mr[Tt]),At=Er.family,or=Er.stretch,Kt=Er.style,pa=Er.weight;yt[At]=yt[At]||{},yt[At][or]=yt[At][or]||{},yt[At][or][Kt]=yt[At][or][Kt]||{},yt[At][or][Kt][pa]=Er}return yt}(Yr.concat(wt))}return le}(this.pdf,this.fontFaces),dt=Qe.map(function($t){return{family:$t,stretch:"normal",weight:rt,style:tt}}),xr=function($t,wt,Yr){for(var mr=(Yr=Yr||{}).defaultFontFamily||"times",yt=Object.assign({},eY,Yr.genericFontFamilies||{}),Tt=null,Er=null,At=0;At<wt.length;++At)if(yt[(Tt=qv(wt[At])).family]&&(Tt.family=yt[Tt.family]),$t.hasOwnProperty(Tt.family)){Er=$t[Tt.family];break}if(!(Er=Er||$t[mr]))throw new Error("Could not find a font-family for the rule '"+US(Tt)+"' and default family '"+mr+"'.");if(Er=function(or,Kt){if(Kt[or])return Kt[or];var pa=hj[or],Ea=pa<=hj.normal?-1:1,Sr=BS(Kt,J9,pa,Ea);if(!Sr)throw new Error("Could not find a matching font-stretch value for "+or);return Sr}(Tt.stretch,Er),Er=function(or,Kt){if(Kt[or])return Kt[or];for(var pa=X9[or],Ea=0;Ea<pa.length;++Ea)if(Kt[pa[Ea]])return Kt[pa[Ea]];throw new Error("Could not find a matching font-style for "+or)}(Tt.style,Er),!(Er=function(or,Kt){if(Kt[or])return Kt[or];if(or===400&&Kt[500])return Kt[500];if(or===500&&Kt[400])return Kt[400];var pa=QG[or],Ea=BS(Kt,Z9,pa,or<400?-1:1);if(!Ea)throw new Error("Could not find a matching font-weight for value "+or);return Ea}(Tt.weight,Er)))throw new Error("Failed to resolve a font for the rule '"+US(Tt)+"'.");return Er}(xt,dt);this.pdf.setFont(xr.ref.name,xr.ref.style)}else{var Xt="";(rt==="bold"||parseInt(rt,10)>=700||tt==="bold")&&(Xt="bold"),tt==="italic"&&(Xt+="italic"),Xt.length===0&&(Xt="normal");for(var Rt="",er={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Pt=0;Pt<Qe.length;Pt++){if(this.pdf.internal.getFont(Qe[Pt],Xt,{noFallback:!0,disableWarning:!0})!==void 0){Rt=Qe[Pt];break}if(Xt==="bolditalic"&&this.pdf.internal.getFont(Qe[Pt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Rt=Qe[Pt],Xt="bold";else if(this.pdf.internal.getFont(Qe[Pt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Rt=Qe[Pt],Xt="normal";break}}if(Rt===""){for(var lt=0;lt<Qe.length;lt++)if(er[Qe[lt]]){Rt=er[Qe[lt]];break}}Rt=Rt===""?"Times":Rt,this.pdf.setFont(Rt,Xt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(oe){this.ctx.globalCompositeOperation=oe}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(oe){this.ctx.globalAlpha=oe}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(oe){this.ctx.lineDashOffset=oe,be.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(oe){this.ctx.lineDash=oe,be.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(oe){this.ctx.ignoreClearRect=!!oe}})};x.prototype.setLineDash=function(z){this.lineDash=z},x.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},x.prototype.fill=function(){D.call(this,"fill",!1)},x.prototype.stroke=function(){D.call(this,"stroke",!1)},x.prototype.beginPath=function(){this.path=[{type:"begin"}]},x.prototype.moveTo=function(z,re){if(isNaN(z)||isNaN(re))throw ea.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var G=this.ctx.transform.applyToPoint(new o(z,re));this.path.push({type:"mt",x:G.x,y:G.y}),this.ctx.lastPoint=new o(z,re)},x.prototype.closePath=function(){var z=new o(0,0),re=0;for(re=this.path.length-1;re!==-1;re--)if(this.path[re].type==="begin"&&Gr(this.path[re+1])==="object"&&typeof this.path[re+1].x=="number"){z=new o(this.path[re+1].x,this.path[re+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(z.x,z.y)},x.prototype.lineTo=function(z,re){if(isNaN(z)||isNaN(re))throw ea.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var G=this.ctx.transform.applyToPoint(new o(z,re));this.path.push({type:"lt",x:G.x,y:G.y}),this.ctx.lastPoint=new o(G.x,G.y)},x.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),D.call(this,null,!0)},x.prototype.quadraticCurveTo=function(z,re,G,Q){if(isNaN(G)||isNaN(Q)||isNaN(z)||isNaN(re))throw ea.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ve=this.ctx.transform.applyToPoint(new o(G,Q)),ye=this.ctx.transform.applyToPoint(new o(z,re));this.path.push({type:"qct",x1:ye.x,y1:ye.y,x:ve.x,y:ve.y}),this.ctx.lastPoint=new o(ve.x,ve.y)},x.prototype.bezierCurveTo=function(z,re,G,Q,ve,ye){if(isNaN(ve)||isNaN(ye)||isNaN(z)||isNaN(re)||isNaN(G)||isNaN(Q))throw ea.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ne=this.ctx.transform.applyToPoint(new o(ve,ye)),te=this.ctx.transform.applyToPoint(new o(z,re)),Ae=this.ctx.transform.applyToPoint(new o(G,Q));this.path.push({type:"bct",x1:te.x,y1:te.y,x2:Ae.x,y2:Ae.y,x:ne.x,y:ne.y}),this.ctx.lastPoint=new o(ne.x,ne.y)},x.prototype.arc=function(z,re,G,Q,ve,ye){if(isNaN(z)||isNaN(re)||isNaN(G)||isNaN(Q)||isNaN(ve))throw ea.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ye=!!ye,!this.ctx.transform.isIdentity){var ne=this.ctx.transform.applyToPoint(new o(z,re));z=ne.x,re=ne.y;var te=this.ctx.transform.applyToPoint(new o(0,G)),Ae=this.ctx.transform.applyToPoint(new o(0,0));G=Math.sqrt(Math.pow(te.x-Ae.x,2)+Math.pow(te.y-Ae.y,2))}Math.abs(ve-Q)>=2*Math.PI&&(Q=0,ve=2*Math.PI),this.path.push({type:"arc",x:z,y:re,radius:G,startAngle:Q,endAngle:ve,counterclockwise:ye})},x.prototype.arcTo=function(z,re,G,Q,ve){throw new Error("arcTo not implemented.")},x.prototype.rect=function(z,re,G,Q){if(isNaN(z)||isNaN(re)||isNaN(G)||isNaN(Q))throw ea.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(z,re),this.lineTo(z+G,re),this.lineTo(z+G,re+Q),this.lineTo(z,re+Q),this.lineTo(z,re),this.lineTo(z+G,re),this.lineTo(z,re)},x.prototype.fillRect=function(z,re,G,Q){if(isNaN(z)||isNaN(re)||isNaN(G)||isNaN(Q))throw ea.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var ve={};this.lineCap!=="butt"&&(ve.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ve.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(z,re,G,Q),this.fill(),ve.hasOwnProperty("lineCap")&&(this.lineCap=ve.lineCap),ve.hasOwnProperty("lineJoin")&&(this.lineJoin=ve.lineJoin)}},x.prototype.strokeRect=function(z,re,G,Q){if(isNaN(z)||isNaN(re)||isNaN(G)||isNaN(Q))throw ea.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");v.call(this)||(this.beginPath(),this.rect(z,re,G,Q),this.stroke())},x.prototype.clearRect=function(z,re,G,Q){if(isNaN(z)||isNaN(re)||isNaN(G)||isNaN(Q))throw ea.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(z,re,G,Q))},x.prototype.save=function(z){z=typeof z!="boolean"||z;for(var re=this.pdf.internal.getCurrentPageInfo().pageNumber,G=0;G<this.pdf.internal.getNumberOfPages();G++)this.pdf.setPage(G+1),this.pdf.internal.out("q");if(this.pdf.setPage(re),z){this.ctx.fontSize=this.pdf.internal.getFontSize();var Q=new f(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Q}},x.prototype.restore=function(z){z=typeof z!="boolean"||z;for(var re=this.pdf.internal.getCurrentPageInfo().pageNumber,G=0;G<this.pdf.internal.getNumberOfPages();G++)this.pdf.setPage(G+1),this.pdf.internal.out("Q");this.pdf.setPage(re),z&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},x.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var b=function(z){var re,G,Q,ve;if(z.isCanvasGradient===!0&&(z=z.getColor()),!z)return{r:0,g:0,b:0,a:0,style:z};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(z))re=0,G=0,Q=0,ve=0;else{var ye=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(z);if(ye!==null)re=parseInt(ye[1]),G=parseInt(ye[2]),Q=parseInt(ye[3]),ve=1;else if((ye=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(z))!==null)re=parseInt(ye[1]),G=parseInt(ye[2]),Q=parseInt(ye[3]),ve=parseFloat(ye[4]);else{if(ve=1,typeof z=="string"&&z.charAt(0)!=="#"){var ne=new q9(z);z=ne.ok?ne.toHex():"#000000"}z.length===4?(re=z.substring(1,2),re+=re,G=z.substring(2,3),G+=G,Q=z.substring(3,4),Q+=Q):(re=z.substring(1,3),G=z.substring(3,5),Q=z.substring(5,7)),re=parseInt(re,16),G=parseInt(G,16),Q=parseInt(Q,16)}}return{r:re,g:G,b:Q,a:ve,style:z}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},v=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};x.prototype.fillText=function(z,re,G,Q){if(isNaN(re)||isNaN(G)||typeof z!="string")throw ea.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Q=isNaN(Q)?void 0:Q,!p.call(this)){var ve=Z(this.ctx.transform.rotation),ye=this.ctx.transform.scaleX;M.call(this,{text:z,x:re,y:G,scale:ye,angle:ve,align:this.textAlign,maxWidth:Q})}},x.prototype.strokeText=function(z,re,G,Q){if(isNaN(re)||isNaN(G)||typeof z!="string")throw ea.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!v.call(this)){Q=isNaN(Q)?void 0:Q;var ve=Z(this.ctx.transform.rotation),ye=this.ctx.transform.scaleX;M.call(this,{text:z,x:re,y:G,scale:ye,renderingMode:"stroke",angle:ve,align:this.textAlign,maxWidth:Q})}},x.prototype.measureText=function(z){if(typeof z!="string")throw ea.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var re=this.pdf,G=this.pdf.internal.scaleFactor,Q=re.internal.getFontSize(),ve=re.getStringUnitWidth(z)*Q/re.internal.scaleFactor;return new function(ye){var ne=(ye=ye||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ne}}),this}({width:ve*=Math.round(96*G/72*1e4)/1e4})},x.prototype.scale=function(z,re){if(isNaN(z)||isNaN(re))throw ea.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var G=new u(z,0,0,re,0,0);this.ctx.transform=this.ctx.transform.multiply(G)},x.prototype.rotate=function(z){if(isNaN(z))throw ea.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var re=new u(Math.cos(z),Math.sin(z),-Math.sin(z),Math.cos(z),0,0);this.ctx.transform=this.ctx.transform.multiply(re)},x.prototype.translate=function(z,re){if(isNaN(z)||isNaN(re))throw ea.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var G=new u(1,0,0,1,z,re);this.ctx.transform=this.ctx.transform.multiply(G)},x.prototype.transform=function(z,re,G,Q,ve,ye){if(isNaN(z)||isNaN(re)||isNaN(G)||isNaN(Q)||isNaN(ve)||isNaN(ye))throw ea.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ne=new u(z,re,G,Q,ve,ye);this.ctx.transform=this.ctx.transform.multiply(ne)},x.prototype.setTransform=function(z,re,G,Q,ve,ye){z=isNaN(z)?1:z,re=isNaN(re)?0:re,G=isNaN(G)?0:G,Q=isNaN(Q)?1:Q,ve=isNaN(ve)?0:ve,ye=isNaN(ye)?0:ye,this.ctx.transform=new u(z,re,G,Q,ve,ye)};var j=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};x.prototype.drawImage=function(z,re,G,Q,ve,ye,ne,te,Ae){var we=this.pdf.getImageProperties(z),le=1,xe=1,oe=1,me=1;Q!==void 0&&te!==void 0&&(oe=te/Q,me=Ae/ve,le=we.width/Q*te/Q,xe=we.height/ve*Ae/ve),ye===void 0&&(ye=re,ne=G,re=0,G=0),Q!==void 0&&te===void 0&&(te=Q,Ae=ve),Q===void 0&&te===void 0&&(te=we.width,Ae=we.height);for(var tt,rt=this.ctx.transform.decompose(),it=Z(rt.rotate.shx),pe=new u,Ie=(pe=(pe=(pe=pe.multiply(rt.translate)).multiply(rt.skew)).multiply(rt.scale)).applyToRectangle(new d(ye-re*oe,ne-G*me,Q*le,ve*xe)),Qe=w.call(this,Ie),xt=[],dt=0;dt<Qe.length;dt+=1)xt.indexOf(Qe[dt])===-1&&xt.push(Qe[dt]);if(A(xt),this.autoPaging)for(var xr=xt[0],Xt=xt[xt.length-1],Rt=xr;Rt<Xt+1;Rt++){this.pdf.setPage(Rt);var er=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Pt=Rt===1?this.posY+this.margin[0]:this.margin[0],lt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],$t=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],wt=Rt===1?0:lt+(Rt-2)*$t;if(this.ctx.clip_path.length!==0){var Yr=this.path;tt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=P(tt,this.posX+this.margin[3],-wt+Pt+this.ctx.prevPageLastElemOffset),T.call(this,"fill",!0),this.path=Yr}var mr=JSON.parse(JSON.stringify(Ie));mr=P([mr],this.posX+this.margin[3],-wt+Pt+this.ctx.prevPageLastElemOffset)[0];var yt=(Rt>xr||Rt<Xt)&&j.call(this);yt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],er,$t,null).clip().discardPath()),this.pdf.addImage(z,"JPEG",mr.x,mr.y,mr.w,mr.h,null,null,it),yt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(z,"JPEG",Ie.x,Ie.y,Ie.w,Ie.h,null,null,it)};var w=function(z,re,G){var Q=[];re=re||this.pdf.internal.pageSize.width,G=G||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ve=this.posY+this.ctx.prevPageLastElemOffset;switch(z.type){default:case"mt":case"lt":Q.push(Math.floor((z.y+ve)/G)+1);break;case"arc":Q.push(Math.floor((z.y+ve-z.radius)/G)+1),Q.push(Math.floor((z.y+ve+z.radius)/G)+1);break;case"qct":var ye=X(this.ctx.lastPoint.x,this.ctx.lastPoint.y,z.x1,z.y1,z.x,z.y);Q.push(Math.floor((ye.y+ve)/G)+1),Q.push(Math.floor((ye.y+ye.h+ve)/G)+1);break;case"bct":var ne=J(this.ctx.lastPoint.x,this.ctx.lastPoint.y,z.x1,z.y1,z.x2,z.y2,z.x,z.y);Q.push(Math.floor((ne.y+ve)/G)+1),Q.push(Math.floor((ne.y+ne.h+ve)/G)+1);break;case"rect":Q.push(Math.floor((z.y+ve)/G)+1),Q.push(Math.floor((z.y+z.h+ve)/G)+1)}for(var te=0;te<Q.length;te+=1)for(;this.pdf.internal.getNumberOfPages()<Q[te];)N.call(this);return Q},N=function(){var z=this.fillStyle,re=this.strokeStyle,G=this.font,Q=this.lineCap,ve=this.lineWidth,ye=this.lineJoin;this.pdf.addPage(),this.fillStyle=z,this.strokeStyle=re,this.font=G,this.lineCap=Q,this.lineWidth=ve,this.lineJoin=ye},P=function(z,re,G){for(var Q=0;Q<z.length;Q++)switch(z[Q].type){case"bct":z[Q].x2+=re,z[Q].y2+=G;case"qct":z[Q].x1+=re,z[Q].y1+=G;default:z[Q].x+=re,z[Q].y+=G}return z},A=function(z){return z.sort(function(re,G){return re-G})},D=function(z,re){for(var G,Q,ve=this.fillStyle,ye=this.strokeStyle,ne=this.lineCap,te=this.lineWidth,Ae=Math.abs(te*this.ctx.transform.scaleX),we=this.lineJoin,le=JSON.parse(JSON.stringify(this.path)),xe=JSON.parse(JSON.stringify(this.path)),oe=[],me=0;me<xe.length;me++)if(xe[me].x!==void 0)for(var tt=w.call(this,xe[me]),rt=0;rt<tt.length;rt+=1)oe.indexOf(tt[rt])===-1&&oe.push(tt[rt]);for(var it=0;it<oe.length;it++)for(;this.pdf.internal.getNumberOfPages()<oe[it];)N.call(this);if(A(oe),this.autoPaging)for(var pe=oe[0],Ie=oe[oe.length-1],Qe=pe;Qe<Ie+1;Qe++){this.pdf.setPage(Qe),this.fillStyle=ve,this.strokeStyle=ye,this.lineCap=ne,this.lineWidth=Ae,this.lineJoin=we;var xt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],dt=Qe===1?this.posY+this.margin[0]:this.margin[0],xr=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Xt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Rt=Qe===1?0:xr+(Qe-2)*Xt;if(this.ctx.clip_path.length!==0){var er=this.path;G=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=P(G,this.posX+this.margin[3],-Rt+dt+this.ctx.prevPageLastElemOffset),T.call(this,z,!0),this.path=er}if(Q=JSON.parse(JSON.stringify(le)),this.path=P(Q,this.posX+this.margin[3],-Rt+dt+this.ctx.prevPageLastElemOffset),re===!1||Qe===0){var Pt=(Qe>pe||Qe<Ie)&&j.call(this);Pt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],xt,Xt,null).clip().discardPath()),T.call(this,z,re),Pt&&this.pdf.restoreGraphicsState()}this.lineWidth=te}else this.lineWidth=Ae,T.call(this,z,re),this.lineWidth=te;this.path=le},T=function(z,re){if((z!=="stroke"||re||!v.call(this))&&(z==="stroke"||re||!p.call(this))){for(var G,Q,ve=[],ye=this.path,ne=0;ne<ye.length;ne++){var te=ye[ne];switch(te.type){case"begin":ve.push({begin:!0});break;case"close":ve.push({close:!0});break;case"mt":ve.push({start:te,deltas:[],abs:[]});break;case"lt":var Ae=ve.length;if(ye[ne-1]&&!isNaN(ye[ne-1].x)&&(G=[te.x-ye[ne-1].x,te.y-ye[ne-1].y],Ae>0)){for(;Ae>=0;Ae--)if(ve[Ae-1].close!==!0&&ve[Ae-1].begin!==!0){ve[Ae-1].deltas.push(G),ve[Ae-1].abs.push(te);break}}break;case"bct":G=[te.x1-ye[ne-1].x,te.y1-ye[ne-1].y,te.x2-ye[ne-1].x,te.y2-ye[ne-1].y,te.x-ye[ne-1].x,te.y-ye[ne-1].y],ve[ve.length-1].deltas.push(G);break;case"qct":var we=ye[ne-1].x+2/3*(te.x1-ye[ne-1].x),le=ye[ne-1].y+2/3*(te.y1-ye[ne-1].y),xe=te.x+2/3*(te.x1-te.x),oe=te.y+2/3*(te.y1-te.y),me=te.x,tt=te.y;G=[we-ye[ne-1].x,le-ye[ne-1].y,xe-ye[ne-1].x,oe-ye[ne-1].y,me-ye[ne-1].x,tt-ye[ne-1].y],ve[ve.length-1].deltas.push(G);break;case"arc":ve.push({deltas:[],abs:[],arc:!0}),Array.isArray(ve[ve.length-1].abs)&&ve[ve.length-1].abs.push(te)}}Q=re?null:z==="stroke"?"stroke":"fill";for(var rt=!1,it=0;it<ve.length;it++)if(ve[it].arc)for(var pe=ve[it].abs,Ie=0;Ie<pe.length;Ie++){var Qe=pe[Ie];Qe.type==="arc"?O.call(this,Qe.x,Qe.y,Qe.radius,Qe.startAngle,Qe.endAngle,Qe.counterclockwise,void 0,re,!rt):F.call(this,Qe.x,Qe.y),rt=!0}else if(ve[it].close===!0)this.pdf.internal.out("h"),rt=!1;else if(ve[it].begin!==!0){var xt=ve[it].start.x,dt=ve[it].start.y;K.call(this,ve[it].deltas,xt,dt),rt=!0}Q&&k.call(this,Q),re&&Y.call(this)}},R=function(z){var re=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,G=re*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return z-G;case"top":return z+re-G;case"hanging":return z+re-2*G;case"middle":return z+re/2-G;default:return z}},E=function(z){return z+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};x.prototype.createLinearGradient=function(){var z=function(){};return z.colorStops=[],z.addColorStop=function(re,G){this.colorStops.push([re,G])},z.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},z.isCanvasGradient=!0,z},x.prototype.createPattern=function(){return this.createLinearGradient()},x.prototype.createRadialGradient=function(){return this.createLinearGradient()};var O=function(z,re,G,Q,ve,ye,ne,te,Ae){for(var we=U.call(this,G,Q,ve,ye),le=0;le<we.length;le++){var xe=we[le];le===0&&(Ae?$.call(this,xe.x1+z,xe.y1+re):F.call(this,xe.x1+z,xe.y1+re)),q.call(this,z,re,xe.x2,xe.y2,xe.x3,xe.y3,xe.x4,xe.y4)}te?Y.call(this):k.call(this,ne)},k=function(z){switch(z){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},Y=function(){this.pdf.clip(),this.pdf.discardPath()},$=function(z,re){this.pdf.internal.out(a(z)+" "+s(re)+" m")},M=function(z){var re;switch(z.align){case"right":case"end":re="right";break;case"center":re="center";break;default:re="left"}var G=this.pdf.getTextDimensions(z.text),Q=R.call(this,z.y),ve=E.call(this,Q)-G.h,ye=this.ctx.transform.applyToPoint(new o(z.x,Q)),ne=this.ctx.transform.decompose(),te=new u;te=(te=(te=te.multiply(ne.translate)).multiply(ne.skew)).multiply(ne.scale);for(var Ae,we,le,xe=this.ctx.transform.applyToRectangle(new d(z.x,Q,G.w,G.h)),oe=te.applyToRectangle(new d(z.x,ve,G.w,G.h)),me=w.call(this,oe),tt=[],rt=0;rt<me.length;rt+=1)tt.indexOf(me[rt])===-1&&tt.push(me[rt]);if(A(tt),this.autoPaging)for(var it=tt[0],pe=tt[tt.length-1],Ie=it;Ie<pe+1;Ie++){this.pdf.setPage(Ie);var Qe=Ie===1?this.posY+this.margin[0]:this.margin[0],xt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],dt=this.pdf.internal.pageSize.height-this.margin[2],xr=dt-this.margin[0],Xt=this.pdf.internal.pageSize.width-this.margin[1],Rt=Xt-this.margin[3],er=Ie===1?0:xt+(Ie-2)*xr;if(this.ctx.clip_path.length!==0){var Pt=this.path;Ae=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=P(Ae,this.posX+this.margin[3],-1*er+Qe),T.call(this,"fill",!0),this.path=Pt}var lt=P([JSON.parse(JSON.stringify(oe))],this.posX+this.margin[3],-er+Qe+this.ctx.prevPageLastElemOffset)[0];z.scale>=.01&&(we=this.pdf.internal.getFontSize(),this.pdf.setFontSize(we*z.scale),le=this.lineWidth,this.lineWidth=le*z.scale);var $t=this.autoPaging!=="text";if($t||lt.y+lt.h<=dt){if($t||lt.y>=Qe&&lt.x<=Xt){var wt=$t?z.text:this.pdf.splitTextToSize(z.text,z.maxWidth||Xt-lt.x)[0],Yr=P([JSON.parse(JSON.stringify(xe))],this.posX+this.margin[3],-er+Qe+this.ctx.prevPageLastElemOffset)[0],mr=$t&&(Ie>it||Ie<pe)&&j.call(this);mr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Rt,xr,null).clip().discardPath()),this.pdf.text(wt,Yr.x,Yr.y,{angle:z.angle,align:re,renderingMode:z.renderingMode}),mr&&this.pdf.restoreGraphicsState()}}else lt.y<dt&&(this.ctx.prevPageLastElemOffset+=dt-lt.y);z.scale>=.01&&(this.pdf.setFontSize(we),this.lineWidth=le)}else z.scale>=.01&&(we=this.pdf.internal.getFontSize(),this.pdf.setFontSize(we*z.scale),le=this.lineWidth,this.lineWidth=le*z.scale),this.pdf.text(z.text,ye.x+this.posX,ye.y+this.posY,{angle:z.angle,align:re,renderingMode:z.renderingMode,maxWidth:z.maxWidth}),z.scale>=.01&&(this.pdf.setFontSize(we),this.lineWidth=le)},F=function(z,re,G,Q){G=G||0,Q=Q||0,this.pdf.internal.out(a(z+G)+" "+s(re+Q)+" l")},K=function(z,re,G){return this.pdf.lines(z,re,G,null,null)},q=function(z,re,G,Q,ve,ye,ne,te){this.pdf.internal.out([r(n(G+z)),r(i(Q+re)),r(n(ve+z)),r(i(ye+re)),r(n(ne+z)),r(i(te+re)),"c"].join(" "))},U=function(z,re,G,Q){for(var ve=2*Math.PI,ye=Math.PI/2;re>G;)re-=ve;var ne=Math.abs(G-re);ne<ve&&Q&&(ne=ve-ne);for(var te=[],Ae=Q?-1:1,we=re;ne>1e-5;){var le=we+Ae*Math.min(ne,ye);te.push(V.call(this,z,we,le)),ne-=Math.abs(le-we),we=le}return te},V=function(z,re,G){var Q=(G-re)/2,ve=z*Math.cos(Q),ye=z*Math.sin(Q),ne=ve,te=-ye,Ae=ne*ne+te*te,we=Ae+ne*ve+te*ye,le=4/3*(Math.sqrt(2*Ae*we)-we)/(ne*ye-te*ve),xe=ne-le*te,oe=te+le*ne,me=xe,tt=-oe,rt=Q+re,it=Math.cos(rt),pe=Math.sin(rt);return{x1:z*Math.cos(re),y1:z*Math.sin(re),x2:xe*it-oe*pe,y2:xe*pe+oe*it,x3:me*it-tt*pe,y3:me*pe+tt*it,x4:z*Math.cos(G),y4:z*Math.sin(G)}},Z=function(z){return 180*z/Math.PI},X=function(z,re,G,Q,ve,ye){var ne=z+.5*(G-z),te=re+.5*(Q-re),Ae=ve+.5*(G-ve),we=ye+.5*(Q-ye),le=Math.min(z,ve,ne,Ae),xe=Math.max(z,ve,ne,Ae),oe=Math.min(re,ye,te,we),me=Math.max(re,ye,te,we);return new d(le,oe,xe-le,me-oe)},J=function(z,re,G,Q,ve,ye,ne,te){var Ae,we,le,xe,oe,me,tt,rt,it,pe,Ie,Qe,xt,dt,xr=G-z,Xt=Q-re,Rt=ve-G,er=ye-Q,Pt=ne-ve,lt=te-ye;for(we=0;we<41;we++)it=(tt=(le=z+(Ae=we/40)*xr)+Ae*((oe=G+Ae*Rt)-le))+Ae*(oe+Ae*(ve+Ae*Pt-oe)-tt),pe=(rt=(xe=re+Ae*Xt)+Ae*((me=Q+Ae*er)-xe))+Ae*(me+Ae*(ye+Ae*lt-me)-rt),we==0?(Ie=it,Qe=pe,xt=it,dt=pe):(Ie=Math.min(Ie,it),Qe=Math.min(Qe,pe),xt=Math.max(xt,it),dt=Math.max(dt,pe));return new d(Math.round(Ie),Math.round(Qe),Math.round(xt-Ie),Math.round(dt-Qe))},be=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var z,re,G=(z=this.ctx.lineDash,re=this.ctx.lineDashOffset,JSON.stringify({lineDash:z,lineDashOffset:re}));this.prevLineDash!==G&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=G)}}})(Nt.API),function(t){var r=function(o){var d,u,m,f,x,b,p,v,j,w;for(u=[],m=0,f=(o+=d="\0\0\0\0".slice(o.length%4||4)).length;f>m;m+=4)(x=(o.charCodeAt(m)<<24)+(o.charCodeAt(m+1)<<16)+(o.charCodeAt(m+2)<<8)+o.charCodeAt(m+3))!==0?(b=(x=((x=((x=((x=(x-(w=x%85))/85)-(j=x%85))/85)-(v=x%85))/85)-(p=x%85))/85)%85,u.push(b+33,p+33,v+33,j+33,w+33)):u.push(122);return function(N,P){for(var A=P;A>0;A--)N.pop()}(u,d.length),String.fromCharCode.apply(String,u)+"~>"},a=function(o){var d,u,m,f,x,b=String,p="length",v=255,j="charCodeAt",w="slice",N="replace";for(o[w](-2),o=o[w](0,-2)[N](/\s/g,"")[N]("z","!!!!!"),m=[],f=0,x=(o+=d="uuuuu"[w](o[p]%5||5))[p];x>f;f+=5)u=52200625*(o[j](f)-33)+614125*(o[j](f+1)-33)+7225*(o[j](f+2)-33)+85*(o[j](f+3)-33)+(o[j](f+4)-33),m.push(v&u>>24,v&u>>16,v&u>>8,v&u);return function(P,A){for(var D=A;D>0;D--)P.pop()}(m,d[p]),b.fromCharCode.apply(b,m)},s=function(o){return o.split("").map(function(d){return("0"+d.charCodeAt().toString(16)).slice(-2)}).join("")+">"},n=function(o){var d=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),d.test(o)===!1)return"";for(var u="",m=0;m<o.length;m+=2)u+=String.fromCharCode("0x"+(o[m]+o[m+1]));return u},i=function(o){for(var d=new Uint8Array(o.length),u=o.length;u--;)d[u]=o.charCodeAt(u);return(d=lj(d)).reduce(function(m,f){return m+String.fromCharCode(f)},"")};t.processDataByFilters=function(o,d){var u=0,m=o||"",f=[];for(typeof(d=d||[])=="string"&&(d=[d]),u=0;u<d.length;u+=1)switch(d[u]){case"ASCII85Decode":case"/ASCII85Decode":m=a(m),f.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":m=r(m),f.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":m=n(m),f.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":m=s(m),f.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":m=i(m),f.push("/FlateDecode");break;default:throw new Error('The filter: "'+d[u]+'" is not implemented')}return{data:m,reverseChain:f.reverse().join(" ")}}}(Nt.API),function(t){t.loadFile=function(r,a,s){return function(n,i,o){i=i!==!1,o=typeof o=="function"?o:function(){};var d=void 0;try{d=function(u,m,f){var x=new XMLHttpRequest,b=0,p=function(v){var j=v.length,w=[],N=String.fromCharCode;for(b=0;b<j;b+=1)w.push(N(255&v.charCodeAt(b)));return w.join("")};if(x.open("GET",u,!m),x.overrideMimeType("text/plain; charset=x-user-defined"),m===!1&&(x.onload=function(){x.status===200?f(p(this.responseText)):f(void 0)}),x.send(null),m&&x.status===200)return p(x.responseText)}(n,i,o)}catch{}return d}(r,a,s)},t.loadImageFile=t.loadFile}(Nt.API),function(t){function r(){return(Gt.html2canvas?Promise.resolve(Gt.html2canvas):_v(()=>import("./html2canvas.esm-BfxBtG_O.js"),[])).catch(function(d){return Promise.reject(new Error("Could not load html2canvas: "+d))}).then(function(d){return d.default?d.default:d})}function a(){return(Gt.DOMPurify?Promise.resolve(Gt.DOMPurify):_v(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(d){return Promise.reject(new Error("Could not load dompurify: "+d))}).then(function(d){return d.default?d.default:d})}var s=function(d){var u=Gr(d);return u==="undefined"?"undefined":u==="string"||d instanceof String?"string":u==="number"||d instanceof Number?"number":u==="function"||d instanceof Function?"function":d&&d.constructor===Array?"array":d&&d.nodeType===1?"element":u==="object"?"object":"unknown"},n=function(d,u){var m=document.createElement(d);for(var f in u.className&&(m.className=u.className),u.innerHTML&&u.dompurify&&(m.innerHTML=u.dompurify.sanitize(u.innerHTML)),u.style)m.style[f]=u.style[f];return m},i=function d(u,m){for(var f=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),x=u.firstChild;x;x=x.nextSibling)m!==!0&&x.nodeType===1&&x.nodeName==="SCRIPT"||f.appendChild(d(x,m));return u.nodeType===1&&(u.nodeName==="CANVAS"?(f.width=u.width,f.height=u.height,f.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(f.value=u.value),f.addEventListener("load",function(){f.scrollTop=u.scrollTop,f.scrollLeft=u.scrollLeft},!0)),f},o=function d(u){var m=Object.assign(d.convert(Promise.resolve()),JSON.parse(JSON.stringify(d.template))),f=d.convert(Promise.resolve(),m);return(f=f.setProgress(1,d,1,[d])).set(u)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(d,u){return d.__proto__=u||o.prototype,d},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(d,u){return this.then(function(){switch(u=u||function(m){switch(s(m)){case"string":return"string";case"element":return m.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(d),u){case"string":return this.then(a).then(function(m){return this.set({src:n("div",{innerHTML:d,dompurify:m})})});case"element":return this.set({src:d});case"canvas":return this.set({canvas:d});case"img":return this.set({img:d});default:return this.error("Unknown source type.")}})},o.prototype.to=function(d){switch(d){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var d={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},u=i(this.prop.src,this.opt.html2canvas.javascriptEnabled);u.tagName==="BODY"&&(d.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=n("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=n("div",{className:"html2pdf__container",style:d}),this.prop.container.appendChild(u),this.prop.container.firstChild.appendChild(n("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var d=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(d).then(r).then(function(u){var m=Object.assign({},this.opt.html2canvas);return delete m.onrendered,u(this.prop.container,m)}).then(function(u){(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var d=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(d).then(r).then(function(u){var m=this.opt.jsPDF,f=this.opt.fontFaces,x=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,b=Object.assign({async:!0,allowTaint:!0,scale:x,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete b.onrendered,m.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,m.context2d.posX=this.opt.x,m.context2d.posY=this.opt.y,m.context2d.margin=this.opt.margin,m.context2d.fontFaces=f,f)for(var p=0;p<f.length;++p){var v=f[p],j=v.src.find(function(w){return w.format==="truetype"});j&&m.addFont(j.url,v.ref.name,v.ref.style)}return b.windowHeight=b.windowHeight||0,b.windowHeight=b.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):b.windowHeight,m.context2d.save(!0),u(this.prop.container,b)}).then(function(u){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var d=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=d})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(d,u,m){return(m=m||"pdf").toLowerCase()==="img"||m.toLowerCase()==="image"?this.outputImg(d,u):this.outputPdf(d,u)},o.prototype.outputPdf=function(d,u){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(d,u)})},o.prototype.outputImg=function(d){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(d){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+d+'" is not supported.'}})},o.prototype.save=function(d){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(d?{filename:d}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(d){if(s(d)!=="object")return this;var u=Object.keys(d||{}).map(function(m){if(m in o.template.prop)return function(){this.prop[m]=d[m]};switch(m){case"margin":return this.setMargin.bind(this,d.margin);case"jsPDF":return function(){return this.opt.jsPDF=d.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,d.pageSize);default:return function(){this.opt[m]=d[m]}}},this);return this.then(function(){return this.thenList(u)})},o.prototype.get=function(d,u){return this.then(function(){var m=d in o.template.prop?this.prop[d]:this.opt[d];return u?u(m):m})},o.prototype.setMargin=function(d){return this.then(function(){switch(s(d)){case"number":d=[d,d,d,d];case"array":if(d.length===2&&(d=[d[0],d[1],d[0],d[1]]),d.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=d}).then(this.setPageSize)},o.prototype.setPageSize=function(d){function u(m,f){return Math.floor(m*f/72*96)}return this.then(function(){(d=d||Nt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(d.inner={width:d.width-this.opt.margin[1]-this.opt.margin[3],height:d.height-this.opt.margin[0]-this.opt.margin[2]},d.inner.px={width:u(d.inner.width,d.k),height:u(d.inner.height,d.k)},d.inner.ratio=d.inner.height/d.inner.width),this.prop.pageSize=d})},o.prototype.setProgress=function(d,u,m,f){return d!=null&&(this.progress.val=d),u!=null&&(this.progress.state=u),m!=null&&(this.progress.n=m),f!=null&&(this.progress.stack=f),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(d,u,m,f){return this.setProgress(d?this.progress.val+d:null,u||null,m?this.progress.n+m:null,f?this.progress.stack.concat(f):null)},o.prototype.then=function(d,u){var m=this;return this.thenCore(d,u,function(f,x){return m.updateProgress(null,null,1,[f]),Promise.prototype.then.call(this,function(b){return m.updateProgress(null,f),b}).then(f,x).then(function(b){return m.updateProgress(1),b})})},o.prototype.thenCore=function(d,u,m){m=m||Promise.prototype.then;var f=this;d&&(d=d.bind(f)),u&&(u=u.bind(f));var x=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?f:o.convert(Object.assign({},f),Promise.prototype),b=m.call(x,d,u);return o.convert(b,f.__proto__)},o.prototype.thenExternal=function(d,u){return Promise.prototype.then.call(this,d,u)},o.prototype.thenList=function(d){var u=this;return d.forEach(function(m){u=u.thenCore(m)}),u},o.prototype.catch=function(d){d&&(d=d.bind(this));var u=Promise.prototype.catch.call(this,d);return o.convert(u,this)},o.prototype.catchExternal=function(d){return Promise.prototype.catch.call(this,d)},o.prototype.error=function(d){return this.then(function(){throw new Error(d)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,Nt.getPageSize=function(d,u,m){if(Gr(d)==="object"){var f=d;d=f.orientation,u=f.unit||u,m=f.format||m}u=u||"mm",m=m||"a4",d=(""+(d||"P")).toLowerCase();var x,b=(""+m).toLowerCase(),p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(u){case"pt":x=1;break;case"mm":x=72/25.4;break;case"cm":x=72/2.54;break;case"in":x=72;break;case"px":x=.75;break;case"pc":case"em":x=12;break;case"ex":x=6;break;default:throw"Invalid unit: "+u}var v,j=0,w=0;if(p.hasOwnProperty(b))j=p[b][1]/x,w=p[b][0]/x;else try{j=m[1],w=m[0]}catch{throw new Error("Invalid format: "+m)}if(d==="p"||d==="portrait")d="p",w>j&&(v=w,w=j,j=v);else{if(d!=="l"&&d!=="landscape")throw"Invalid orientation: "+d;d="l",j>w&&(v=w,w=j,j=v)}return{width:w,height:j,unit:u,k:x,orientation:d}},t.html=function(d,u){(u=u||{}).callback=u.callback||function(){},u.html2canvas=u.html2canvas||{},u.html2canvas.canvas=u.html2canvas.canvas||this.canvas,u.jsPDF=u.jsPDF||this,u.fontFaces=u.fontFaces?u.fontFaces.map(qv):null;var m=new o(u);return u.worker?m:m.from(d).doCallback()}}(Nt.API),Nt.API.addJS=function(t){return GS=t,this.internal.events.subscribe("postPutResources",function(){xp=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(xp+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),HS=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+GS+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){xp!==void 0&&HS!==void 0&&this.internal.out("/Names <</JavaScript "+xp+" 0 R>>")}),this},function(t){var r;t.events.push(["postPutResources",function(){var a=this,s=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var n=a.outline.render().split(/\r\n/),i=0;i<n.length;i++){var o=n[i],d=s.exec(o);if(d!=null){var u=d[1];a.internal.newObjectDeferredBegin(u,!1)}a.internal.write(o)}if(this.outline.createNamedDestinations){var m=this.internal.pages.length,f=[];for(i=0;i<m;i++){var x=a.internal.newObject();f.push(x);var b=a.internal.getPageInfo(i+1);a.internal.write("<< /D["+b.objId+" 0 R /XYZ null null null]>> endobj")}var p=a.internal.newObject();for(a.internal.write("<< /Names [ "),i=0;i<f.length;i++)a.internal.write("(page_"+(i+1)+")"+f[i]+" 0 R");a.internal.write(" ] >>","endobj"),r=a.internal.newObject(),a.internal.write("<< /Dests "+p+" 0 R"),a.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var a=this;a.outline.root.children.length>0&&(a.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&a.internal.write("/Names "+r+" 0 R"))}]),t.events.push(["initialized",function(){var a=this;a.outline={createNamedDestinations:!1,root:{children:[]}},a.outline.add=function(s,n,i){var o={title:n,options:i,children:[]};return s==null&&(s=this.root),s.children.push(o),o},a.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=a,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},a.outline.genIds_r=function(s){s.id=a.internal.newObjectDeferred();for(var n=0;n<s.children.length;n++)this.genIds_r(s.children[n])},a.outline.renderRoot=function(s){this.objStart(s),this.line("/Type /Outlines"),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1]))),this.line("/Count "+this.count_r({count:0},s)),this.objEnd()},a.outline.renderItems=function(s){for(var n=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<s.children.length;i++){var o=s.children[i];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(s)),i>0&&this.line("/Prev "+this.makeRef(s.children[i-1])),i<s.children.length-1&&this.line("/Next "+this.makeRef(s.children[i+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var d=this.count=this.count_r({count:0},o);if(d>0&&this.line("/Count "+d),o.options&&o.options.pageNumber){var u=a.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+u.objId+" 0 R /XYZ 0 "+n(0)+" 0]")}this.objEnd()}for(var m=0;m<s.children.length;m++)this.renderItems(s.children[m])},a.outline.line=function(s){this.ctx.val+=s+`\r
`},a.outline.makeRef=function(s){return s.id+" 0 R"},a.outline.makeString=function(s){return"("+a.internal.pdfEscape(s)+")"},a.outline.objStart=function(s){this.ctx.val+=`\r
`+s.id+` 0 obj\r
<<\r
`},a.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},a.outline.count_r=function(s,n){for(var i=0;i<n.children.length;i++)s.count++,this.count_r(s,n.children[i]);return s.count}}])}(Nt.API),function(t){var r=[192,193,194,195,196,197,198,199];t.processJPEG=function(a,s,n,i,o,d){var u,m=this.decode.DCT_DECODE,f=null;if(typeof a=="string"||this.__addimage__.isArrayBuffer(a)||this.__addimage__.isArrayBufferView(a)){switch(a=o||a,a=this.__addimage__.isArrayBuffer(a)?new Uint8Array(a):a,u=function(x){for(var b,p=256*x.charCodeAt(4)+x.charCodeAt(5),v=x.length,j={width:0,height:0,numcomponents:1},w=4;w<v;w+=2){if(w+=p,r.indexOf(x.charCodeAt(w+1))!==-1){b=256*x.charCodeAt(w+5)+x.charCodeAt(w+6),j={width:256*x.charCodeAt(w+7)+x.charCodeAt(w+8),height:b,numcomponents:x.charCodeAt(w+9)};break}p=256*x.charCodeAt(w+2)+x.charCodeAt(w+3)}return j}(a=this.__addimage__.isArrayBufferView(a)?this.__addimage__.arrayBufferToBinaryString(a):a),u.numcomponents){case 1:d=this.color_spaces.DEVICE_GRAY;break;case 4:d=this.color_spaces.DEVICE_CMYK;break;case 3:d=this.color_spaces.DEVICE_RGB}f={data:a,width:u.width,height:u.height,colorSpace:d,bitsPerComponent:8,filter:m,index:s,alias:n}}return f}}(Nt.API),Nt.API.processPNG=function(t,r,a,s){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var n,i=FG(t,{checkCrc:!0}),o=i.width,d=i.height,u=i.channels,m=i.palette,f=i.depth;n=m&&u===1?function(E){for(var O=E.width,k=E.height,Y=E.data,$=E.palette,M=E.depth,F=!1,K=[],q=[],U=void 0,V=!1,Z=0,X=0;X<$.length;X++){var J=W6($[X],4),be=J[0],z=J[1],re=J[2],G=J[3];K.push(be,z,re),G!=null&&(G===0?(Z++,q.length<1&&q.push(X)):G<255&&(V=!0))}if(V||Z>1){F=!0,q=void 0;var Q=O*k;U=new Uint8Array(Q);for(var ve=new DataView(Y.buffer),ye=0;ye<Q;ye++){var ne=Gv(ve,ye,M),te=W6($[ne],4)[3];U[ye]=te}}return{colorSpace:"Indexed",colorsPerPixel:1,colorBytes:Y,alphaBytes:U,needSMask:F,palette:K,mask:q}}(i):u===2||u===4?function(E){for(var O=E.data,k=E.width,Y=E.height,$=E.channels,M=E.depth,F=$===2?"DeviceGray":"DeviceRGB",K=$-1,q=k*Y,U=K,V=q*U,Z=1*q,X=Math.ceil(V*M/8),J=Math.ceil(Z*M/8),be=new Uint8Array(X),z=new Uint8Array(J),re=new DataView(O.buffer),G=new DataView(be.buffer),Q=new DataView(z.buffer),ve=!1,ye=0;ye<q;ye++){for(var ne=ye*$,te=0;te<U;te++)e_(G,Gv(re,ne+te,M),ye*U+te,M);var Ae=Gv(re,ne+U,M);Ae<(1<<M)-1&&(ve=!0),e_(Q,Ae,1*ye,M)}return{colorSpace:F,colorsPerPixel:K,colorBytes:be,alphaBytes:z,needSMask:ve}}(i):function(E){var O=E.data,k=E.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:k,colorsPerPixel:k==="DeviceGray"?1:3,colorBytes:O instanceof Uint8Array?O:new Uint8Array(O.buffer),needSMask:!1}}(i);var x,b,p,v=n,j=v.colorSpace,w=v.colorsPerPixel,N=v.colorBytes,P=v.alphaBytes,A=v.needSMask,D=v.palette,T=v.mask,R=null;return s!==Nt.API.image_compression.NONE&&typeof lj=="function"?(R=function(E){var O;switch(E){case Nt.API.image_compression.FAST:O=11;break;case Nt.API.image_compression.MEDIUM:O=13;break;case Nt.API.image_compression.SLOW:O=14;break;default:O=12}return O}(s),x=this.decode.FLATE_DECODE,b="/Predictor ".concat(R," "),t=WS(N,o*w,w,s),A&&(p=WS(P,o,1,s))):(x=void 0,b="",t=N,A&&(p=P)),b+="/Colors ".concat(w," /BitsPerComponent ").concat(f," /Columns ").concat(o),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(p&&this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),{alias:a,data:t,index:r,filter:x,decodeParameters:b,transparency:T,palette:D,sMask:p,predictor:R,width:o,height:d,bitsPerComponent:f,colorSpace:j}}},function(t){t.processGIF89A=function(r,a,s,n){var i=new iY(r),o=i.width,d=i.height,u=[];i.decodeAndBlitFrameRGBA(0,u);var m={data:u,width:o,height:d},f=new Yv(100).encode(m,100);return t.processJPEG.call(this,f,a,s,n)},t.processGIF87A=t.processGIF89A}(Nt.API),Ml.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var r=0;r<t;r++){var a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[r]={red:n,green:s,blue:a,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ml.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,r=this.width*this.height*4;this.data=new Uint8Array(r),this[t]()}catch(a){ea.log("bit decode error:"+a)}},Ml.prototype.bit1=function(){var t,r=Math.ceil(this.width/8),a=r%4;for(t=this.height-1;t>=0;t--){for(var s=this.bottom_up?t:this.height-1-t,n=0;n<r;n++)for(var i=this.datav.getUint8(this.pos++,!0),o=s*this.width*4+8*n*4,d=0;d<8&&8*n+d<this.width;d++){var u=this.palette[i>>7-d&1];this.data[o+4*d]=u.blue,this.data[o+4*d+1]=u.green,this.data[o+4*d+2]=u.red,this.data[o+4*d+3]=255}a!==0&&(this.pos+=4-a)}},Ml.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),r=t%4,a=this.height-1;a>=0;a--){for(var s=this.bottom_up?a:this.height-1-a,n=0;n<t;n++){var i=this.datav.getUint8(this.pos++,!0),o=s*this.width*4+2*n*4,d=i>>4,u=15&i,m=this.palette[d];if(this.data[o]=m.blue,this.data[o+1]=m.green,this.data[o+2]=m.red,this.data[o+3]=255,2*n+1>=this.width)break;m=this.palette[u],this.data[o+4]=m.blue,this.data[o+4+1]=m.green,this.data[o+4+2]=m.red,this.data[o+4+3]=255}r!==0&&(this.pos+=4-r)}},Ml.prototype.bit8=function(){for(var t=this.width%4,r=this.height-1;r>=0;r--){for(var a=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var n=this.datav.getUint8(this.pos++,!0),i=a*this.width*4+4*s;if(n<this.palette.length){var o=this.palette[n];this.data[i]=o.red,this.data[i+1]=o.green,this.data[i+2]=o.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}t!==0&&(this.pos+=4-t)}},Ml.prototype.bit15=function(){for(var t=this.width%3,r=parseInt("11111",2),a=this.height-1;a>=0;a--){for(var s=this.bottom_up?a:this.height-1-a,n=0;n<this.width;n++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(i&r)/r*255|0,d=(i>>5&r)/r*255|0,u=(i>>10&r)/r*255|0,m=i>>15?255:0,f=s*this.width*4+4*n;this.data[f]=u,this.data[f+1]=d,this.data[f+2]=o,this.data[f+3]=m}this.pos+=t}},Ml.prototype.bit16=function(){for(var t=this.width%3,r=parseInt("11111",2),a=parseInt("111111",2),s=this.height-1;s>=0;s--){for(var n=this.bottom_up?s:this.height-1-s,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var d=(o&r)/r*255|0,u=(o>>5&a)/a*255|0,m=(o>>11)/r*255|0,f=n*this.width*4+4*i;this.data[f]=m,this.data[f+1]=u,this.data[f+2]=d,this.data[f+3]=255}this.pos+=t}},Ml.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,a=0;a<this.width;a++){var s=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+4*a;this.data[o]=i,this.data[o+1]=n,this.data[o+2]=s,this.data[o+3]=255}this.pos+=this.width%4}},Ml.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var r=this.bottom_up?t:this.height-1-t,a=0;a<this.width;a++){var s=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),d=r*this.width*4+4*a;this.data[d]=i,this.data[d+1]=n,this.data[d+2]=s,this.data[d+3]=o}},Ml.prototype.getData=function(){return this.data},function(t){t.processBMP=function(r,a,s,n){var i=new Ml(r,!1),o=i.width,d=i.height,u={data:i.getData(),width:o,height:d},m=new Yv(100).encode(u,100);return t.processJPEG.call(this,m,a,s,n)}}(Nt.API),r_.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(r,a,s,n){var i=new r_(r),o=i.width,d=i.height,u={data:i.getData(),width:o,height:d},m=new Yv(100).encode(u,100);return t.processJPEG.call(this,m,a,s,n)}}(Nt.API),Nt.API.processRGBA=function(t,r,a){for(var s=t.data,n=s.length,i=new Uint8Array(n/4*3),o=new Uint8Array(n/4),d=0,u=0,m=0;m<n;m+=4){var f=s[m],x=s[m+1],b=s[m+2],p=s[m+3];i[d++]=f,i[d++]=x,i[d++]=b,o[u++]=p}var v=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:v,index:r,alias:a,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},Nt.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Qm=Nt.API,pp=Qm.getCharWidthsArray=function(t,r){var a,s,n=(r=r||{}).font||this.internal.getFont(),i=r.fontSize||this.internal.getFontSize(),o=r.charSpace||this.internal.getCharSpace(),d=r.widths?r.widths:n.metadata.Unicode.widths,u=d.fof?d.fof:1,m=r.kerning?r.kerning:n.metadata.Unicode.kerning,f=m.fof?m.fof:1,x=r.doKerning!==!1,b=0,p=t.length,v=0,j=d[0]||u,w=[];for(a=0;a<p;a++)s=t.charCodeAt(a),typeof n.metadata.widthOfString=="function"?w.push((n.metadata.widthOfGlyph(n.metadata.characterToGlyph(s))+o*(1e3/i)||0)/1e3):(b=x&&Gr(m[s])==="object"&&!isNaN(parseInt(m[s][v],10))?m[s][v]/f:0,w.push((d[s]||j)/u+b)),v=s;return w},YS=Qm.getStringUnitWidth=function(t,r){var a=(r=r||{}).fontSize||this.internal.getFontSize(),s=r.font||this.internal.getFont(),n=r.charSpace||this.internal.getCharSpace();return Qm.processArabic&&(t=Qm.processArabic(t)),typeof s.metadata.widthOfString=="function"?s.metadata.widthOfString(t,a,n)/a:pp.apply(this,arguments).reduce(function(i,o){return i+o},0)},VS=function(t,r,a,s){for(var n=[],i=0,o=t.length,d=0;i!==o&&d+r[i]<a;)d+=r[i],i++;n.push(t.slice(0,i));var u=i;for(d=0;i!==o;)d+r[i]>s&&(n.push(t.slice(u,i)),d=0,u=i),d+=r[i],i++;return u!==i&&n.push(t.slice(u,i)),n},KS=function(t,r,a){a||(a={});var s,n,i,o,d,u,m,f=[],x=[f],b=a.textIndent||0,p=0,v=0,j=t.split(" "),w=pp.apply(this,[" ",a])[0];if(u=a.lineIndent===-1?j[0].length+2:a.lineIndent||0){var N=Array(u).join(" "),P=[];j.map(function(D){(D=D.split(/\s*\n/)).length>1?P=P.concat(D.map(function(T,R){return(R&&T.length?`
`:"")+T})):P.push(D[0])}),j=P,u=YS.apply(this,[N,a])}for(i=0,o=j.length;i<o;i++){var A=0;if(s=j[i],u&&s[0]==`
`&&(s=s.substr(1),A=1),b+p+(v=(n=pp.apply(this,[s,a])).reduce(function(D,T){return D+T},0))>r||A){if(v>r){for(d=VS.apply(this,[s,n,r-(b+p),r]),f.push(d.shift()),f=[d.pop()];d.length;)x.push([d.shift()]);v=n.slice(s.length-(f[0]?f[0].length:0)).reduce(function(D,T){return D+T},0)}else f=[s];x.push(f),b=v+u,p=w}else f.push(s),b+=p+v,p=w}return m=u?function(D,T){return(T?N:"")+D.join(" ")}:function(D){return D.join(" ")},x.map(m)},Qm.splitTextToSize=function(t,r,a){var s,n=(a=a||{}).fontSize||this.internal.getFontSize(),i=(function(f){if(f.widths&&f.kerning)return{widths:f.widths,kerning:f.kerning};var x=this.internal.getFont(f.fontName,f.fontStyle),b="Unicode";return x.metadata[b]?{widths:x.metadata[b].widths||{0:1},kerning:x.metadata[b].kerning||{}}:{font:x.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,a);s=Array.isArray(t)?t:String(t).split(/\r?\n/);var o=1*this.internal.scaleFactor*r/n;i.textIndent=a.textIndent?1*a.textIndent*this.internal.scaleFactor/n:0,i.lineIndent=a.lineIndent;var d,u,m=[];for(d=0,u=s.length;d<u;d++)m=m.concat(KS.apply(this,[s[d],o,i]));return m},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var r="0123456789abcdef",a="klmnopqrstuvwxyz",s={},n={},i=0;i<16;i++)s[a[i]]=r[i],n[r[i]]=a[i];var o=function(b){return"0x"+parseInt(b,10).toString(16)},d=t.__fontmetrics__.compress=function(b){var p,v,j,w,N=["{"];for(var P in b){if(p=b[P],isNaN(parseInt(P,10))?v="'"+P+"'":(P=parseInt(P,10),v=(v=o(P).slice(2)).slice(0,-1)+n[v.slice(-1)]),typeof p=="number")p<0?(j=o(p).slice(3),w="-"):(j=o(p).slice(2),w=""),j=w+j.slice(0,-1)+n[j.slice(-1)];else{if(Gr(p)!=="object")throw new Error("Don't know what to do with value type "+Gr(p)+".");j=d(p)}N.push(v+j)}return N.push("}"),N.join("")},u=t.__fontmetrics__.uncompress=function(b){if(typeof b!="string")throw new Error("Invalid argument passed to uncompress.");for(var p,v,j,w,N={},P=1,A=N,D=[],T="",R="",E=b.length-1,O=1;O<E;O+=1)(w=b[O])=="'"?p?(j=p.join(""),p=void 0):p=[]:p?p.push(w):w=="{"?(D.push([A,j]),A={},j=void 0):w=="}"?((v=D.pop())[0][v[1]]=A,j=void 0,A=v[0]):w=="-"?P=-1:j===void 0?s.hasOwnProperty(w)?(T+=s[w],j=parseInt(T,16)*P,P=1,T=""):T+=w:s.hasOwnProperty(w)?(R+=s[w],A[j]=parseInt(R,16)*P,P=1,j=void 0,R=""):R+=w;return N},m={codePages:["WinAnsiEncoding"],WinAnsiEncoding:u("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},f={Unicode:{Courier:m,"Courier-Bold":m,"Courier-BoldOblique":m,"Courier-Oblique":m,Helvetica:m,"Helvetica-Bold":m,"Helvetica-BoldOblique":m,"Helvetica-Oblique":m,"Times-Roman":m,"Times-Bold":m,"Times-BoldItalic":m,"Times-Italic":m}},x={Unicode:{"Courier-Oblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":u("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":u("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:u("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:u("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":u("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":u("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(b){var p=b.font,v=x.Unicode[p.postScriptName];v&&(p.metadata.Unicode={},p.metadata.Unicode.widths=v.widths,p.metadata.Unicode.kerning=v.kerning);var j=f.Unicode[p.postScriptName];j&&(p.metadata.Unicode.encoding=j,p.encoding=j.codePages[0])}])}(Nt.API),function(t){var r=function(a){for(var s=a.length,n=new Uint8Array(s),i=0;i<s;i++)n[i]=a.charCodeAt(i);return n};t.API.events.push(["addFont",function(a){var s=void 0,n=a.font,i=a.instance;if(!n.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+n.postScriptName+"').");if(typeof(s=i.existsFileInVFS(n.postScriptName)===!1?i.loadFile(n.postScriptName):i.getFileFromVFS(n.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+n.postScriptName+"').");(function(o,d){d=/^\x00\x01\x00\x00/.test(d)?r(d):r(zp(d)),o.metadata=t.API.TTFFont.open(d),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(n,s)}}])}(Nt),Nt.API.addSvgAsImage=function(t,r,a,s,n,i,o,d){if(isNaN(r)||isNaN(a))throw ea.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(n))throw ea.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=s,u.height=n;var m=u.getContext("2d");m.fillStyle="#fff",m.fillRect(0,0,u.width,u.height);var f={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},x=this;return(Gt.canvg?Promise.resolve(Gt.canvg):_v(()=>import("./index.es-Bs_6IqKZ.js"),[])).catch(function(b){return Promise.reject(new Error("Could not load canvg: "+b))}).then(function(b){return b.default?b.default:b}).then(function(b){return b.fromString(m,t,f)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(b){return b.render(f)}).then(function(){x.addImage(u.toDataURL("image/jpeg",1),r,a,s,n,o,d)})},Nt.API.putTotalPages=function(t){var r,a=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(r=new RegExp(t,"g"),a=this.internal.getNumberOfPages()):(r=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),a=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var s=1;s<=this.internal.getNumberOfPages();s++)for(var n=0;n<this.internal.pages[s].length;n++)this.internal.pages[s][n]=this.internal.pages[s][n].replace(r,a);return this},Nt.API.viewerPreferences=function(t,r){var a;t=t||{},r=r||!1;var s,n,i,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},d=Object.keys(o),u=[],m=0,f=0,x=0;function b(v,j){var w,N=!1;for(w=0;w<v.length;w+=1)v[w]===j&&(N=!0);return N}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),a=this.internal.viewerpreferences.configuration,t==="reset"||r===!0){var p=d.length;for(x=0;x<p;x+=1)a[d[x]].value=a[d[x]].defaultValue,a[d[x]].explicitSet=!1}if(Gr(t)==="object"){for(n in t)if(i=t[n],b(d,n)&&i!==void 0){if(a[n].type==="boolean"&&typeof i=="boolean")a[n].value=i;else if(a[n].type==="name"&&b(a[n].valueSet,i))a[n].value=i;else if(a[n].type==="integer"&&Number.isInteger(i))a[n].value=i;else if(a[n].type==="array"){for(m=0;m<i.length;m+=1)if(s=!0,i[m].length===1&&typeof i[m][0]=="number")u.push(String(i[m]-1));else if(i[m].length>1){for(f=0;f<i[m].length;f+=1)typeof i[m][f]!="number"&&(s=!1);s===!0&&u.push([i[m][0]-1,i[m][1]-1].join(" "))}a[n].value="["+u.join(" ")+"]"}else a[n].value=a[n].defaultValue;a[n].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var v,j=[];for(v in a)a[v].explicitSet===!0&&(a[v].type==="name"?j.push("/"+v+" /"+a[v].value):j.push("/"+v+" "+a[v].value));j.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+j.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=a,this},function(t){var r=function(){var s='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',n=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(s)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),d=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),u=unescape(encodeURIComponent("</x:xmpmeta>")),m=i.length+o.length+d.length+n.length+u.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+m+" >>"),this.internal.write("stream"),this.internal.write(n+i+o+d+u),this.internal.write("endstream"),this.internal.write("endobj")},a=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(s,n){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:s,namespaceuri:n||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",a),this.internal.events.subscribe("postPutResources",r)),this}}(Nt.API),function(t){var r=t.API,a=r.pdfEscape16=function(i,o){for(var d,u=o.metadata.Unicode.widths,m=["","0","00","000","0000"],f=[""],x=0,b=i.length;x<b;++x){if(d=o.metadata.characterToGlyph(i.charCodeAt(x)),o.metadata.glyIdsUsed.push(d),o.metadata.toUnicode[d]=i.charCodeAt(x),u.indexOf(d)==-1&&(u.push(d),u.push([parseInt(o.metadata.widthOfGlyph(d),10)])),d=="0")return f.join("");d=d.toString(16),f.push(m[4-d.length],d)}return f.join("")},s=function(i){var o,d,u,m,f,x,b;for(f=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,u=[],x=0,b=(d=Object.keys(i).sort(function(p,v){return p-v})).length;x<b;x++)o=d[x],u.length>=100&&(f+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar`,u=[]),i[o]!==void 0&&i[o]!==null&&typeof i[o].toString=="function"&&(m=("0000"+i[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),u.push("<"+o+"><"+m+">"));return u.length&&(f+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar
`),f+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};r.events.push(["putFont",function(i){(function(o){var d=o.font,u=o.out,m=o.newObject,f=o.putStream;if(d.metadata instanceof t.API.TTFFont&&d.encoding==="Identity-H"){for(var x=d.metadata.Unicode.widths,b=d.metadata.subset.encode(d.metadata.glyIdsUsed,1),p="",v=0;v<b.length;v++)p+=String.fromCharCode(b[v]);var j=m();f({data:p,addLength1:!0,objectId:j}),u("endobj");var w=m();f({data:s(d.metadata.toUnicode),addLength1:!0,objectId:w}),u("endobj");var N=m();u("<<"),u("/Type /FontDescriptor"),u("/FontName /"+rf(d.fontName)),u("/FontFile2 "+j+" 0 R"),u("/FontBBox "+t.API.PDFObject.convert(d.metadata.bbox)),u("/Flags "+d.metadata.flags),u("/StemV "+d.metadata.stemV),u("/ItalicAngle "+d.metadata.italicAngle),u("/Ascent "+d.metadata.ascender),u("/Descent "+d.metadata.decender),u("/CapHeight "+d.metadata.capHeight),u(">>"),u("endobj");var P=m();u("<<"),u("/Type /Font"),u("/BaseFont /"+rf(d.fontName)),u("/FontDescriptor "+N+" 0 R"),u("/W "+t.API.PDFObject.convert(x)),u("/CIDToGIDMap /Identity"),u("/DW 1000"),u("/Subtype /CIDFontType2"),u("/CIDSystemInfo"),u("<<"),u("/Supplement 0"),u("/Registry (Adobe)"),u("/Ordering ("+d.encoding+")"),u(">>"),u(">>"),u("endobj"),d.objectNumber=m(),u("<<"),u("/Type /Font"),u("/Subtype /Type0"),u("/ToUnicode "+w+" 0 R"),u("/BaseFont /"+rf(d.fontName)),u("/Encoding /"+d.encoding),u("/DescendantFonts ["+P+" 0 R]"),u(">>"),u("endobj"),d.isAlreadyPutted=!0}})(i)}]),r.events.push(["putFont",function(i){(function(o){var d=o.font,u=o.out,m=o.newObject,f=o.putStream;if(d.metadata instanceof t.API.TTFFont&&d.encoding==="WinAnsiEncoding"){for(var x=d.metadata.rawData,b="",p=0;p<x.length;p++)b+=String.fromCharCode(x[p]);var v=m();f({data:b,addLength1:!0,objectId:v}),u("endobj");var j=m();f({data:s(d.metadata.toUnicode),addLength1:!0,objectId:j}),u("endobj");var w=m();u("<<"),u("/Descent "+d.metadata.decender),u("/CapHeight "+d.metadata.capHeight),u("/StemV "+d.metadata.stemV),u("/Type /FontDescriptor"),u("/FontFile2 "+v+" 0 R"),u("/Flags 96"),u("/FontBBox "+t.API.PDFObject.convert(d.metadata.bbox)),u("/FontName /"+rf(d.fontName)),u("/ItalicAngle "+d.metadata.italicAngle),u("/Ascent "+d.metadata.ascender),u(">>"),u("endobj"),d.objectNumber=m();for(var N=0;N<d.metadata.hmtx.widths.length;N++)d.metadata.hmtx.widths[N]=parseInt(d.metadata.hmtx.widths[N]*(1e3/d.metadata.head.unitsPerEm));u("<</Subtype/TrueType/Type/Font/ToUnicode "+j+" 0 R/BaseFont/"+rf(d.fontName)+"/FontDescriptor "+w+" 0 R/Encoding/"+d.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(d.metadata.hmtx.widths)+">>"),u("endobj"),d.isAlreadyPutted=!0}})(i)}]);var n=function(i){var o,d=i.text||"",u=i.x,m=i.y,f=i.options||{},x=i.mutex||{},b=x.pdfEscape,p=x.activeFontKey,v=x.fonts,j=p,w="",N=0,P="",A=v[j].encoding;if(v[j].encoding!=="Identity-H")return{text:d,x:u,y:m,options:f,mutex:x};for(P=d,j=p,Array.isArray(d)&&(P=d[0]),N=0;N<P.length;N+=1)v[j].metadata.hasOwnProperty("cmap")&&(o=v[j].metadata.cmap.unicode.codeMap[P[N].charCodeAt(0)]),o||P[N].charCodeAt(0)<256&&v[j].metadata.hasOwnProperty("Unicode")?w+=P[N]:w+="";var D="";return parseInt(j.slice(1))<14||A==="WinAnsiEncoding"?D=b(w,j).split("").map(function(T){return T.charCodeAt(0).toString(16)}).join(""):A==="Identity-H"&&(D=a(w,v[j])),x.isHex=!0,{text:D,x:u,y:m,options:f,mutex:x}};r.events.push(["postProcessText",function(i){var o=i.text||"",d=[],u={text:o,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(o)){var m=0;for(m=0;m<o.length;m+=1)Array.isArray(o[m])&&o[m].length===3?d.push([n(Object.assign({},u,{text:o[m][0]})).text,o[m][1],o[m][2]]):d.push(n(Object.assign({},u,{text:o[m]})).text);i.text=d}else i.text=n(Object.assign({},u,{text:o})).text}])}(Nt),function(t){var r=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(a){return r.call(this),this.internal.vFS[a]!==void 0},t.addFileToVFS=function(a,s){return r.call(this),this.internal.vFS[a]=s,this},t.getFileFromVFS=function(a){return r.call(this),this.internal.vFS[a]!==void 0?this.internal.vFS[a]:null}}(Nt.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(s){var n,i,o,d,u,m,f,x=r,b=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],v={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},j={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},w=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],N=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),P=!1,A=0;this.__bidiEngine__={};var D=function($){var M=$.charCodeAt(),F=M>>8,K=j[F];return K!==void 0?x[256*K+(255&M)]:F===252||F===253?"AL":N.test(F)?"L":F===8?"R":"N"},T=function($){for(var M,F=0;F<$.length;F++){if((M=D($.charAt(F)))==="L")return!1;if(M==="R")return!0}return!1},R=function($,M,F,K){var q,U,V,Z,X=M[K];switch(X){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":P=!1;break;case"N":case"AN":break;case"EN":P&&(X="AN");break;case"AL":P=!0,X="R";break;case"WS":case"BN":X="N";break;case"CS":K<1||K+1>=M.length||(q=F[K-1])!=="EN"&&q!=="AN"||(U=M[K+1])!=="EN"&&U!=="AN"?X="N":P&&(U="AN"),X=U===q?U:"N";break;case"ES":X=(q=K>0?F[K-1]:"B")==="EN"&&K+1<M.length&&M[K+1]==="EN"?"EN":"N";break;case"ET":if(K>0&&F[K-1]==="EN"){X="EN";break}if(P){X="N";break}for(V=K+1,Z=M.length;V<Z&&M[V]==="ET";)V++;X=V<Z&&M[V]==="EN"?"EN":"N";break;case"NSM":if(o&&!d){for(Z=M.length,V=K+1;V<Z&&M[V]==="NSM";)V++;if(V<Z){var J=$[K],be=J>=1425&&J<=2303||J===64286;if(q=M[V],be&&(q==="R"||q==="AL")){X="R";break}}}X=K<1||(q=M[K-1])==="B"?"N":F[K-1];break;case"B":P=!1,n=!0,X=A;break;case"S":i=!0,X="N"}return X},E=function($,M,F){var K=$.split("");return F&&O(K,F,{hiLevel:A}),K.reverse(),M&&M.reverse(),K.join("")},O=function($,M,F){var K,q,U,V,Z,X=-1,J=$.length,be=0,z=[],re=A?p:b,G=[];for(P=!1,n=!1,i=!1,q=0;q<J;q++)G[q]=D($[q]);for(U=0;U<J;U++){if(Z=be,z[U]=R($,G,z,U),K=240&(be=re[Z][v[z[U]]]),be&=15,M[U]=V=re[be][5],K>0)if(K===16){for(q=X;q<U;q++)M[q]=1;X=-1}else X=-1;if(re[be][6])X===-1&&(X=U);else if(X>-1){for(q=X;q<U;q++)M[q]=V;X=-1}G[U]==="B"&&(M[U]=0),F.hiLevel|=V}i&&function(Q,ve,ye){for(var ne=0;ne<ye;ne++)if(Q[ne]==="S"){ve[ne]=A;for(var te=ne-1;te>=0&&Q[te]==="WS";te--)ve[te]=A}}(G,M,J)},k=function($,M,F,K,q){if(!(q.hiLevel<$)){if($===1&&A===1&&!n)return M.reverse(),void(F&&F.reverse());for(var U,V,Z,X,J=M.length,be=0;be<J;){if(K[be]>=$){for(Z=be+1;Z<J&&K[Z]>=$;)Z++;for(X=be,V=Z-1;X<V;X++,V--)U=M[X],M[X]=M[V],M[V]=U,F&&(U=F[X],F[X]=F[V],F[V]=U);be=Z}be++}}},Y=function($,M,F){var K=$.split(""),q={hiLevel:A};return F||(F=[]),O(K,F,q),function(U,V,Z){if(Z.hiLevel!==0&&f)for(var X,J=0;J<U.length;J++)V[J]===1&&(X=w.indexOf(U[J]))>=0&&(U[J]=w[X+1])}(K,F,q),k(2,K,M,F,q),k(1,K,M,F,q),K.join("")};return this.__bidiEngine__.doBidiReorder=function($,M,F){if(function(q,U){if(U)for(var V=0;V<q.length;V++)U[V]=V;d===void 0&&(d=T(q)),m===void 0&&(m=T(q))}($,M),o||!u||m)if(o&&u&&d^m)A=d?1:0,$=E($,M,F);else if(!o&&u&&m)A=d?1:0,$=Y($,M,F),$=E($,M);else if(!o||d||u||m){if(o&&!u&&d^m)$=E($,M),d?(A=0,$=Y($,M,F)):(A=1,$=Y($,M,F),$=E($,M));else if(o&&d&&!u&&m)A=1,$=Y($,M,F),$=E($,M);else if(!o&&!u&&d^m){var K=f;d?(A=1,$=Y($,M,F),A=0,f=!1,$=Y($,M,F),f=K):(A=0,$=Y($,M,F),$=E($,M),A=1,f=!1,$=Y($,M,F),f=K,$=E($,M))}}else A=0,$=Y($,M,F);else A=d?1:0,$=Y($,M,F);return $},this.__bidiEngine__.setOptions=function($){$&&(o=$.isInputVisual,u=$.isOutputVisual,d=$.isInputRtl,m=$.isOutputRtl,f=$.isSymmetricSwapping)},this.__bidiEngine__.setOptions(s),this.__bidiEngine__};var r=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],a=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(s){var n=s.text;s.x,s.y;var i=s.options||{};s.mutex,i.lang;var o=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,a.setOptions(i),Object.prototype.toString.call(n)==="[object Array]"){var d=0;for(o=[],d=0;d<n.length;d+=1)Object.prototype.toString.call(n[d])==="[object Array]"?o.push([a.doBidiReorder(n[d][0]),n[d][1],n[d][2]]):o.push([a.doBidiReorder(n[d])]);s.text=o}else s.text=a.doBidiReorder(n);a.setOptions({isInputVisual:!0})}])}(Nt),Nt.API.TTFFont=function(){function t(r){var a;if(this.rawData=r,a=this.contents=new Md(r),this.contents.pos=4,a.readString(4)==="ttcf")throw new Error("TTCF not supported.");a.pos=0,this.parse(),this.subset=new jY(this),this.registerTTF()}return t.open=function(r){return new t(r)},t.prototype.parse=function(){return this.directory=new lY(this.contents),this.head=new cY(this),this.name=new hY(this),this.cmap=new eE(this),this.toUnicode={},this.hhea=new dY(this),this.maxp=new xY(this),this.hmtx=new pY(this),this.post=new mY(this),this.os2=new uY(this),this.loca=new vY(this),this.glyf=new gY(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var r,a,s,n,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,d,u,m;for(m=[],o=0,d=(u=this.bbox).length;o<d;o++)r=u[o],m.push(Math.round(r*this.scaleFactor));return m}).call(this),this.stemV=0,this.post.exists?(s=255&(n=this.post.italic_angle),32768&(a=n>>16)&&(a=-(1+(65535^a))),this.italicAngle=+(a+"."+s)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(r){var a;return((a=this.cmap.unicode)!=null?a.codeMap[r]:void 0)||0},t.prototype.widthOfGlyph=function(r){var a;return a=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(r).advance*a},t.prototype.widthOfString=function(r,a,s){var n,i,o,d;for(o=0,i=0,d=(r=""+r).length;0<=d?i<d:i>d;i=0<=d?++i:--i)n=r.charCodeAt(i),o+=this.widthOfGlyph(this.characterToGlyph(n))+s*(1e3/a)||0;return o*(a/1e3)},t.prototype.lineHeight=function(r,a){var s;return a==null&&(a=!1),s=a?this.lineGap:0,(this.ascender+s-this.decender)/1e3*r},t}();var Yl,Md=function(){function t(r){this.data=r??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(r){return this.data[this.pos++]=r},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(r){return this.writeByte(r>>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt32=function(){var r;return(r=this.readUInt32())>=2147483648?r-4294967296:r},t.prototype.writeInt32=function(r){return r<0&&(r+=4294967296),this.writeUInt32(r)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(r){return this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt16=function(){var r;return(r=this.readUInt16())>=32768?r-65536:r},t.prototype.writeInt16=function(r){return r<0&&(r+=65536),this.writeUInt16(r)},t.prototype.readString=function(r){var a,s;for(s=[],a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)s[a]=String.fromCharCode(this.readByte());return s.join("")},t.prototype.writeString=function(r){var a,s,n;for(n=[],a=0,s=r.length;0<=s?a<s:a>s;a=0<=s?++a:--a)n.push(this.writeByte(r.charCodeAt(a)));return n},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(r){return this.writeInt16(r)},t.prototype.readLongLong=function(){var r,a,s,n,i,o,d,u;return r=this.readByte(),a=this.readByte(),s=this.readByte(),n=this.readByte(),i=this.readByte(),o=this.readByte(),d=this.readByte(),u=this.readByte(),128&r?-1*(72057594037927940*(255^r)+281474976710656*(255^a)+1099511627776*(255^s)+4294967296*(255^n)+16777216*(255^i)+65536*(255^o)+256*(255^d)+(255^u)+1):72057594037927940*r+281474976710656*a+1099511627776*s+4294967296*n+16777216*i+65536*o+256*d+u},t.prototype.writeLongLong=function(r){var a,s;return a=Math.floor(r/4294967296),s=4294967295&r,this.writeByte(a>>24&255),this.writeByte(a>>16&255),this.writeByte(a>>8&255),this.writeByte(255&a),this.writeByte(s>>24&255),this.writeByte(s>>16&255),this.writeByte(s>>8&255),this.writeByte(255&s)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(r){return this.writeInt32(r)},t.prototype.read=function(r){var a,s;for(a=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)a.push(this.readByte());return a},t.prototype.write=function(r){var a,s,n,i;for(i=[],s=0,n=r.length;s<n;s++)a=r[s],i.push(this.writeByte(a));return i},t}(),lY=function(){var t;function r(a){var s,n,i;for(this.scalarType=a.readInt(),this.tableCount=a.readShort(),this.searchRange=a.readShort(),this.entrySelector=a.readShort(),this.rangeShift=a.readShort(),this.tables={},n=0,i=this.tableCount;0<=i?n<i:n>i;n=0<=i?++n:--n)s={tag:a.readString(4),checksum:a.readInt(),offset:a.readInt(),length:a.readInt()},this.tables[s.tag]=s}return r.prototype.encode=function(a){var s,n,i,o,d,u,m,f,x,b,p,v,j;for(j in p=Object.keys(a).length,u=Math.log(2),x=16*Math.floor(Math.log(p)/u),o=Math.floor(x/u),f=16*p-x,(n=new Md).writeInt(this.scalarType),n.writeShort(p),n.writeShort(x),n.writeShort(o),n.writeShort(f),i=16*p,m=n.pos+i,d=null,v=[],a)for(b=a[j],n.writeString(j),n.writeInt(t(b)),n.writeInt(m),n.writeInt(b.length),v=v.concat(b),j==="head"&&(d=m),m+=b.length;m%4;)v.push(0),m++;return n.write(v),s=2981146554-t(n.data),n.pos=d+8,n.writeUInt32(s),n.data},t=function(a){var s,n,i,o;for(a=tE.call(a);a.length%4;)a.push(0);for(i=new Md(a),n=0,s=0,o=a.length;s<o;s=s+=4)n+=i.readUInt32();return 4294967295&n},r}(),oY={}.hasOwnProperty,Oo=function(t,r){for(var a in r)oY.call(r,a)&&(t[a]=r[a]);function s(){this.constructor=t}return s.prototype=r.prototype,t.prototype=new s,t.__super__=r.prototype,t};Yl=function(){function t(r){var a;this.file=r,a=this.file.directory.tables[this.tag],this.exists=!!a,a&&(this.offset=a.offset,this.length=a.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var cY=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Oo(t,Yl),t.prototype.tag="head",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},t.prototype.encode=function(r){var a;return(a=new Md).writeInt(this.version),a.writeInt(this.revision),a.writeInt(this.checkSumAdjustment),a.writeInt(this.magicNumber),a.writeShort(this.flags),a.writeShort(this.unitsPerEm),a.writeLongLong(this.created),a.writeLongLong(this.modified),a.writeShort(this.xMin),a.writeShort(this.yMin),a.writeShort(this.xMax),a.writeShort(this.yMax),a.writeShort(this.macStyle),a.writeShort(this.lowestRecPPEM),a.writeShort(this.fontDirectionHint),a.writeShort(r),a.writeShort(this.glyphDataFormat),a.data},t}(),a_=function(){function t(r,a){var s,n,i,o,d,u,m,f,x,b,p,v,j,w,N,P,A;switch(this.platformID=r.readUInt16(),this.encodingID=r.readShort(),this.offset=a+r.readInt(),x=r.pos,r.pos=this.offset,this.format=r.readUInt16(),this.length=r.readUInt16(),this.language=r.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(u=0;u<256;++u)this.codeMap[u]=r.readByte();break;case 4:for(p=r.readUInt16(),b=p/2,r.pos+=6,i=function(){var D,T;for(T=[],u=D=0;0<=b?D<b:D>b;u=0<=b?++D:--D)T.push(r.readUInt16());return T}(),r.pos+=2,j=function(){var D,T;for(T=[],u=D=0;0<=b?D<b:D>b;u=0<=b?++D:--D)T.push(r.readUInt16());return T}(),m=function(){var D,T;for(T=[],u=D=0;0<=b?D<b:D>b;u=0<=b?++D:--D)T.push(r.readUInt16());return T}(),f=function(){var D,T;for(T=[],u=D=0;0<=b?D<b:D>b;u=0<=b?++D:--D)T.push(r.readUInt16());return T}(),n=(this.length-r.pos+this.offset)/2,d=function(){var D,T;for(T=[],u=D=0;0<=n?D<n:D>n;u=0<=n?++D:--D)T.push(r.readUInt16());return T}(),u=N=0,A=i.length;N<A;u=++N)for(w=i[u],s=P=v=j[u];v<=w?P<=w:P>=w;s=v<=w?++P:--P)f[u]===0?o=s+m[u]:(o=d[f[u]/2+(s-v)-(b-u)]||0)!==0&&(o+=m[u]),this.codeMap[s]=65535&o}r.pos=x}return t.encode=function(r,a){var s,n,i,o,d,u,m,f,x,b,p,v,j,w,N,P,A,D,T,R,E,O,k,Y,$,M,F,K,q,U,V,Z,X,J,be,z,re,G,Q,ve,ye,ne,te,Ae,we,le;switch(K=new Md,o=Object.keys(r).sort(function(xe,oe){return xe-oe}),a){case"macroman":for(j=0,w=function(){var xe=[];for(v=0;v<256;++v)xe.push(0);return xe}(),P={0:0},i={},q=0,X=o.length;q<X;q++)P[te=r[n=o[q]]]==null&&(P[te]=++j),i[n]={old:r[n],new:P[r[n]]},w[n]=P[r[n]];return K.writeUInt16(1),K.writeUInt16(0),K.writeUInt32(12),K.writeUInt16(0),K.writeUInt16(262),K.writeUInt16(0),K.write(w),{charMap:i,subtable:K.data,maxGlyphID:j+1};case"unicode":for(M=[],x=[],A=0,P={},s={},N=m=null,U=0,J=o.length;U<J;U++)P[T=r[n=o[U]]]==null&&(P[T]=++A),s[n]={old:T,new:P[T]},d=P[T]-n,N!=null&&d===m||(N&&x.push(N),M.push(n),m=d),N=n;for(N&&x.push(N),x.push(65535),M.push(65535),Y=2*(k=M.length),O=2*Math.pow(Math.log(k)/Math.LN2,2),b=Math.log(O/2)/Math.LN2,E=2*k-O,u=[],R=[],p=[],v=V=0,be=M.length;V<be;v=++V){if($=M[v],f=x[v],$===65535){u.push(0),R.push(0);break}if($-(F=s[$].new)>=32768)for(u.push(0),R.push(2*(p.length+k-v)),n=Z=$;$<=f?Z<=f:Z>=f;n=$<=f?++Z:--Z)p.push(s[n].new);else u.push(F-$),R.push(0)}for(K.writeUInt16(3),K.writeUInt16(1),K.writeUInt32(12),K.writeUInt16(4),K.writeUInt16(16+8*k+2*p.length),K.writeUInt16(0),K.writeUInt16(Y),K.writeUInt16(O),K.writeUInt16(b),K.writeUInt16(E),ye=0,z=x.length;ye<z;ye++)n=x[ye],K.writeUInt16(n);for(K.writeUInt16(0),ne=0,re=M.length;ne<re;ne++)n=M[ne],K.writeUInt16(n);for(Ae=0,G=u.length;Ae<G;Ae++)d=u[Ae],K.writeUInt16(d);for(we=0,Q=R.length;we<Q;we++)D=R[we],K.writeUInt16(D);for(le=0,ve=p.length;le<ve;le++)j=p[le],K.writeUInt16(j);return{charMap:s,subtable:K.data,maxGlyphID:A+1}}},t}(),eE=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Oo(t,Yl),t.prototype.tag="cmap",t.prototype.parse=function(r){var a,s,n;for(r.pos=this.offset,this.version=r.readUInt16(),n=r.readUInt16(),this.tables=[],this.unicode=null,s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)a=new a_(r,this.offset),this.tables.push(a),a.isUnicode&&this.unicode==null&&(this.unicode=a);return!0},t.encode=function(r,a){var s,n;return a==null&&(a="macroman"),s=a_.encode(r,a),(n=new Md).writeUInt16(0),n.writeUInt16(1),s.table=n.data.concat(s.subtable),s},t}(),dY=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Oo(t,Yl),t.prototype.tag="hhea",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},t}(),uY=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Oo(t,Yl),t.prototype.tag="OS/2",t.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var a,s;for(s=[],a=0;a<10;++a)s.push(r.readByte());return s}(),this.charRange=function(){var a,s;for(s=[],a=0;a<4;++a)s.push(r.readInt());return s}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var a,s;for(s=[],a=0;a<2;a=++a)s.push(r.readInt());return s}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},t}(),mY=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Oo(t,Yl),t.prototype.tag="post",t.prototype.parse=function(r){var a,s,n;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:case 196608:break;case 131072:var i;for(s=r.readUInt16(),this.glyphNameIndex=[],i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],n=[];r.pos<this.offset+this.length;)a=r.readByte(),n.push(this.names.push(r.readString(a)));return n;case 151552:return s=r.readUInt16(),this.offsets=r.read(s);case 262144:return this.map=(function(){var o,d,u;for(u=[],i=o=0,d=this.file.maxp.numGlyphs;0<=d?o<d:o>d;i=0<=d?++o:--o)u.push(r.readUInt32());return u}).call(this)}},t}(),fY=function(t,r){this.raw=t,this.length=t.length,this.platformID=r.platformID,this.encodingID=r.encodingID,this.languageID=r.languageID},hY=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Oo(t,Yl),t.prototype.tag="name",t.prototype.parse=function(r){var a,s,n,i,o,d,u,m,f,x,b;for(r.pos=this.offset,r.readShort(),a=r.readShort(),d=r.readShort(),s=[],i=0;0<=a?i<a:i>a;i=0<=a?++i:--i)s.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+d+r.readShort()});for(u={},i=f=0,x=s.length;f<x;i=++f)n=s[i],r.pos=n.offset,m=r.readString(n.length),o=new fY(m,n),u[b=n.nameID]==null&&(u[b]=[]),u[n.nameID].push(o);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},t}(),xY=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Oo(t,Yl),t.prototype.tag="maxp",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},t}(),pY=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Oo(t,Yl),t.prototype.tag="hmtx",t.prototype.parse=function(r){var a,s,n,i,o,d,u;for(r.pos=this.offset,this.metrics=[],a=0,d=this.file.hhea.numberOfMetrics;0<=d?a<d:a>d;a=0<=d?++a:--a)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(n=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var m,f;for(f=[],a=m=0;0<=n?m<n:m>n;a=0<=n?++m:--m)f.push(r.readInt16());return f}(),this.widths=(function(){var m,f,x,b;for(b=[],m=0,f=(x=this.metrics).length;m<f;m++)i=x[m],b.push(i.advance);return b}).call(this),s=this.widths[this.widths.length-1],u=[],a=o=0;0<=n?o<n:o>n;a=0<=n?++o:--o)u.push(this.widths.push(s));return u},t.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},t}(),tE=[].slice,gY=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Oo(t,Yl),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(r){var a,s,n,i,o,d,u,m,f,x;return r in this.cache?this.cache[r]:(i=this.file.loca,a=this.file.contents,s=i.indexOf(r),(n=i.lengthOf(r))===0?this.cache[r]=null:(a.pos=this.offset+s,o=(d=new Md(a.read(n))).readShort(),m=d.readShort(),x=d.readShort(),u=d.readShort(),f=d.readShort(),this.cache[r]=o===-1?new bY(d,m,x,u,f):new yY(d,o,m,x,u,f),this.cache[r]))},t.prototype.encode=function(r,a,s){var n,i,o,d,u;for(o=[],i=[],d=0,u=a.length;d<u;d++)n=r[a[d]],i.push(o.length),n&&(o=o.concat(n.encode(s)));return i.push(o.length),{table:o,offsets:i}},t}(),yY=function(){function t(r,a,s,n,i,o){this.raw=r,this.numberOfContours=a,this.xMin=s,this.yMin=n,this.xMax=i,this.yMax=o,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),bY=function(){function t(r,a,s,n,i){var o,d;for(this.raw=r,this.xMin=a,this.yMin=s,this.xMax=n,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;d=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&d;)o.pos+=1&d?4:2,128&d?o.pos+=8:64&d?o.pos+=4:8&d&&(o.pos+=2)}return t.prototype.encode=function(){var r,a,s;for(a=new Md(tE.call(this.raw.data)),r=0,s=this.glyphIDs.length;r<s;++r)a.pos=this.glyphOffsets[r];return a.data},t}(),vY=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Oo(t,Yl),t.prototype.tag="loca",t.prototype.parse=function(r){var a,s;return r.pos=this.offset,a=this.file.head.indexToLocFormat,this.offsets=a===0?(function(){var n,i;for(i=[],s=0,n=this.length;s<n;s+=2)i.push(2*r.readUInt16());return i}).call(this):(function(){var n,i;for(i=[],s=0,n=this.length;s<n;s+=4)i.push(r.readUInt32());return i}).call(this)},t.prototype.indexOf=function(r){return this.offsets[r]},t.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},t.prototype.encode=function(r,a){for(var s=new Uint32Array(this.offsets.length),n=0,i=0,o=0;o<s.length;++o)if(s[o]=n,i<a.length&&a[i]==o){++i,s[o]=n;var d=this.offsets[o],u=this.offsets[o+1]-d;u>0&&(n+=u)}for(var m=new Array(4*s.length),f=0;f<s.length;++f)m[4*f+3]=255&s[f],m[4*f+2]=(65280&s[f])>>8,m[4*f+1]=(16711680&s[f])>>16,m[4*f]=(4278190080&s[f])>>24;return m},t}(),jY=function(){function t(r){this.font=r,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var r,a,s,n,i;for(a in n=this.font.cmap.tables[0].codeMap,r={},i=this.subset)s=i[a],r[a]=n[s];return r},t.prototype.glyphsFor=function(r){var a,s,n,i,o,d,u;for(n={},o=0,d=r.length;o<d;o++)n[i=r[o]]=this.font.glyf.glyphFor(i);for(i in a=[],n)(s=n[i])!=null&&s.compound&&a.push.apply(a,s.glyphIDs);if(a.length>0)for(i in u=this.glyphsFor(a))s=u[i],n[i]=s;return n},t.prototype.encode=function(r,a){var s,n,i,o,d,u,m,f,x,b,p,v,j,w,N;for(n in s=eE.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(r),p={0:0},N=s.charMap)p[(u=N[n]).old]=u.new;for(v in b=s.maxGlyphID,o)v in p||(p[v]=b++);return f=function(P){var A,D;for(A in D={},P)D[P[A]]=A;return D}(p),x=Object.keys(f).sort(function(P,A){return P-A}),j=function(){var P,A,D;for(D=[],P=0,A=x.length;P<A;P++)d=x[P],D.push(f[d]);return D}(),i=this.font.glyf.encode(o,j,p),m=this.font.loca.encode(i.offsets,j),w={cmap:this.font.cmap.raw(),glyf:i.table,loca:m,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(a)},this.font.os2.exists&&(w["OS/2"]=this.font.os2.raw()),this.font.directory.encode(w)},t}();Nt.API.PDFObject=function(){var t;function r(){}return t=function(a,s){return(Array(s+1).join("0")+a).slice(-s)},r.convert=function(a){var s,n,i,o;if(Array.isArray(a))return"["+function(){var d,u,m;for(m=[],d=0,u=a.length;d<u;d++)s=a[d],m.push(r.convert(s));return m}().join(" ")+"]";if(typeof a=="string")return"/"+a;if(a?.isString)return"("+a+")";if(a instanceof Date)return"(D:"+t(a.getUTCFullYear(),4)+t(a.getUTCMonth(),2)+t(a.getUTCDate(),2)+t(a.getUTCHours(),2)+t(a.getUTCMinutes(),2)+t(a.getUTCSeconds(),2)+"Z)";if({}.toString.call(a)==="[object Object]"){for(n in i=["<<"],a)o=a[n],i.push("/"+n+" "+r.convert(o));return i.push(">>"),i.join(`
`)}return""+a},r}();const s_=()=>{const{token:t}=et(),[r,a]=g.useState(!1),[s,n]=g.useState(""),[i,o]=g.useState(null),[d,u]=g.useState([]),[m,f]=g.useState([]),[x,b]=g.useState([]),[p]=g.useState([{id:"cash",name:"Cash"},{id:"bank_transfer",name:"Bank Transfer"},{id:"cheque",name:"Cheque"},{id:"mobile_money",name:"Mobile Money"},{id:"other",name:"Other"}]),[v,j]=g.useState([]),[w,N]=g.useState(null),[P,A]=g.useState(!1),[D,T]=g.useState(!1),[R,E]=g.useState(null),[O,k]=g.useState({student_reg_number:"",gradelevel_class_id:"",term:"",academic_year:"",invoice_structure_id:"",amount:"",currency_id:"",payment_method_id:"",payment_date:new Date().toISOString().split("T")[0],reference_number:"",notes:""}),[Y,$]=g.useState(!1),[M,F]=g.useState(!1),[K,q]=g.useState(""),[U,V]=g.useState("");g.useEffect(()=>{Z(),X()},[]),g.useEffect(()=>{O.gradelevel_class_id&&O.term&&O.academic_year&&J()},[O.gradelevel_class_id,O.term,O.academic_year]);const Z=async()=>{try{console.log("🔍 Fetching classes from:",`${ce}/classes/gradelevel-classes`);const te=await de.get(`${ce}/classes/gradelevel-classes`,{headers:{Authorization:`Bearer ${t}`}});console.log("📊 Classes response:",te.data),f(te.data.data||[]),console.log("📋 Classes set:",te.data.data||[])}catch(te){console.error("Error fetching classes:",te),te.response&&console.error("Error response:",te.response.data)}},X=async()=>{try{const te=await de.get(`${ce}/accounting/currencies`,{headers:{Authorization:`Bearer ${t}`}});b(te.data.data||[])}catch(te){console.error("Error fetching currencies:",te)}},J=async()=>{try{const te=await de.get(`${ce}/fees/invoice-structures/class/${O.gradelevel_class_id}?term=${O.term}&academic_year=${O.academic_year}`,{headers:{Authorization:`Bearer ${t}`}});j(te.data.data||[])}catch(te){console.error("Error fetching invoice structures:",te),j([])}},be=async()=>{if(s.trim()){a(!0);try{const te=await de.get(`${ce}/students/search?query=${s}`,{headers:{Authorization:`Bearer ${t}`}});u(te.data.data||[])}catch(te){console.error("Error searching students:",te),u([])}finally{a(!1)}}},z=te=>{o(te),k(Ae=>({...Ae,student_reg_number:te.RegNumber})),u([]),n("")},re=te=>{N(te),k(Ae=>({...Ae,invoice_structure_id:te.id,currency_id:te.currency_id}))},G=()=>{const te=Date.now(),Ae=Math.floor(Math.random()*1e3);return`INV-${te}-${Ae}`},Q=async te=>{if(te.preventDefault(),!i){V("Please select a student"),F(!0);return}if(!w){V("Please select an invoice structure"),F(!0);return}if(!O.amount||!O.currency_id||!O.payment_method_id){V("Please fill in all required fields"),F(!0);return}if(!O.reference_number.trim()){V("Please enter a reference number"),F(!0);return}A(!0)},ve=async()=>{a(!0),V("");try{const te={student_reg_number:i.RegNumber,payment_amount:parseFloat(O.amount),payment_currency:O.currency_id,payment_method:p.find(we=>we.id===O.payment_method_id)?.name||"Cash",payment_date:O.payment_date,reference_number:O.reference_number,notes:O.notes,fee_type:"tuition",invoice_structure_id:O.invoice_structure_id},Ae=await de.post(`${ce}/fees/payments`,te,{headers:{Authorization:`Bearer ${t}`}});if(Ae.data.success){const we={receipt_number:Ae.data.data.receipt_number,student_name:`${i.Name} ${i.Surname}`,student_reg:i.RegNumber,amount:O.amount,currency:x.find(le=>le.id===O.currency_id)?.symbol||"",payment_date:O.payment_date,payment_method:p.find(le=>le.id===O.payment_method_id)?.name||"Cash",fee_type:"tuition",reference_number:O.reference_number,class_name:w?.class_name||"",term:w?.term||"",academic_year:w?.academic_year||""};E(we),A(!1),T(!0),q("Payment processed successfully"),$(!0),k({student_reg_number:"",gradelevel_class_id:"",term:"",academic_year:"",invoice_structure_id:"",amount:"",currency_id:"",payment_method_id:"",payment_date:new Date().toISOString().split("T")[0],reference_number:"",notes:""}),o(null),N(null)}}catch(te){console.error("Error processing payment:",te),te.response&&te.response.data&&te.response.data.message?V(te.response.data.message):V("Failed to process payment"),F(!0),A(!1)}finally{a(!1)}},ye=()=>{A(!1),V("")},ne=()=>{if(!R)return;const te=new Nt;te.setFont("helvetica"),te.setFontSize(16),te.text("PAYMENT RECEIPT",105,20,{align:"center"}),te.setLineWidth(.5),te.line(20,25,190,25),te.setFontSize(10),te.text("Receipt Number:",20,40),te.text(R.receipt_number,60,40),te.text("Date:",20,50),te.text(R.payment_date,60,50),te.setFontSize(12),te.text("Student Information:",20,70),te.setFontSize(10),te.text("Name:",20,80),te.text(R.student_name,60,80),te.text("Registration:",20,90),te.text(R.student_reg,60,90),te.setFontSize(12),te.text("Payment Details:",20,110),te.setFontSize(10),te.text("Amount:",20,120),te.text(`${R.amount} ${R.currency}`,60,120),te.text("Payment Method:",20,130),te.text(R.payment_method,60,130),te.text("Reference Number:",20,140),te.text(R.reference_number,60,140),te.text("Fee Type:",20,150),te.text(R.fee_type,60,150),te.text("Class:",20,160),te.text(R.class_name,60,160),te.text("Term:",20,170),te.text(`${R.term} ${R.academic_year}`,60,170),te.setLineWidth(.5),te.line(20,190,190,190),te.setFontSize(10),te.text("Thank you for your payment!",105,200,{align:"center"}),te.text(`Generated on: ${new Date().toLocaleString()}`,105,210,{align:"center"}),te.save(`receipt-${R.receipt_number}.pdf`)};return e.jsxs("div",{className:"bg-white border border-gray-200 p-3 md:p-4",children:[e.jsx("h2",{className:"text-sm md:text-base font-medium text-gray-900 mb-3 md:mb-4",children:"Tuition Fee Payments"}),e.jsxs("form",{onSubmit:Q,className:"space-y-3 md:space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xs font-medium text-gray-900 mb-1",children:"Student Information"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:["Search Student ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(I,{icon:Vt,className:"absolute left-2 top-1/2 transform -translate-y-1/2 text-gray-400 text-xs"}),e.jsx("input",{type:"text",value:s,onChange:te=>n(te.target.value),placeholder:"Enter student name or registration number...",className:"w-full pl-6 pr-2 py-1.5 border border-gray-300 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500"})]}),e.jsx("button",{type:"button",onClick:be,className:"bg-gray-900 text-white px-3 py-1.5 text-xs hover:bg-gray-800 w-full sm:w-auto",children:"Search"})]})]}),d.length>0&&e.jsxs("div",{className:"border border-gray-200 max-h-32 overflow-y-auto",children:[e.jsx("div",{className:"bg-blue-50 p-2 border-b border-gray-200",children:e.jsx("p",{className:"text-xs text-blue-700 font-medium",children:"Click on a student below to select:"})}),d.map(te=>e.jsxs("div",{onClick:()=>z(te),className:"p-2 hover:bg-gray-50 cursor-pointer border-b border-gray-100 last:border-b-0",children:[e.jsxs("div",{className:"font-medium text-gray-900 text-xs",children:[te.Name," ",te.Surname]}),e.jsxs("div",{className:"text-xs text-gray-500",children:["Reg: ",te.RegNumber," | Class: ",te.Class]})]},te.RegNumber))]}),i&&e.jsxs("div",{className:"bg-green-50 border border-green-200 p-3",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx(I,{icon:Xn,className:"text-green-600 text-xs mr-2"}),e.jsx("span",{className:"text-xs font-medium text-green-800",children:"Student Selected Successfully"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 text-xs",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Name:"}),e.jsxs("span",{className:"ml-1 font-medium",children:[i.Name," ",i.Surname]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Registration No:"}),e.jsx("span",{className:"ml-1 font-medium",children:i.RegNumber})]})]})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xs font-medium text-gray-900 mb-1",children:"Invoice Structure"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:["Class ",e.jsx("span",{className:"text-red-500",children:"*"})," (",m.length," loaded)"]}),e.jsxs("select",{value:O.gradelevel_class_id,onChange:te=>k(Ae=>({...Ae,gradelevel_class_id:te.target.value})),className:"w-full border border-gray-300 px-2 py-1.5 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500",required:!0,children:[e.jsx("option",{value:"",children:"Select Class"}),m.map(te=>(console.log("🔍 Class item:",te),e.jsxs("option",{value:te.id,children:[te.name," - ",te.stream_name]},te.id)))]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:["Term ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:O.term,onChange:te=>k(Ae=>({...Ae,term:te.target.value})),className:"w-full border border-gray-300 px-2 py-1.5 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500",required:!0,children:[e.jsx("option",{value:"",children:"Select Term"}),e.jsx("option",{value:"Term 1",children:"Term 1"}),e.jsx("option",{value:"Term 2",children:"Term 2"}),e.jsx("option",{value:"Term 3",children:"Term 3"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:["Academic Year ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:O.academic_year,onChange:te=>k(Ae=>({...Ae,academic_year:te.target.value})),placeholder:"e.g., 2025",className:"w-full border border-gray-300 px-2 py-1.5 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500",required:!0})]})]}),v.length>0&&e.jsxs("div",{className:"mt-3",children:[e.jsx("div",{className:"bg-blue-50 p-2 border border-gray-200 mb-2",children:e.jsx("p",{className:"text-xs text-blue-700 font-medium",children:"Click on an invoice structure below to select:"})}),e.jsx("div",{className:"space-y-1",children:v.map(te=>e.jsx("div",{onClick:()=>re(te),className:`p-2 border cursor-pointer transition-colors ${w?.id===te.id?"border-gray-500 bg-gray-50":"border-gray-200 hover:border-gray-300"}`,children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium text-gray-900 text-xs",children:[te.class_name," - ",te.term," ",te.academic_year]}),e.jsxs("div",{className:"text-xs text-gray-500",children:[te.invoice_items?.length||0," items"]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"font-medium text-gray-900 text-xs",children:[te.total_amount," ",te.currency_symbol]}),e.jsx("div",{className:"text-xs text-gray-500",children:te.is_active?"Active":"Inactive"})]})]})},te.id))})]}),w&&e.jsxs("div",{className:"mt-3 bg-green-50 border border-green-200 p-3",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx(I,{icon:Xn,className:"text-green-600 text-xs mr-2"}),e.jsx("span",{className:"text-xs font-medium text-green-800",children:"Invoice Structure Selected Successfully"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 text-xs",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Selected:"}),e.jsxs("span",{className:"ml-1 font-medium",children:[w.class_name," - ",w.term," ",w.academic_year]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Total Amount:"}),e.jsxs("span",{className:"ml-1 font-medium",children:[w.total_amount," ",w.currency_symbol]})]}),e.jsx("div",{className:"col-span-2",children:e.jsx("span",{className:"text-xs text-gray-500",children:"Note: Please enter the payment amount manually below"})})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xs font-medium text-gray-900 mb-1",children:"Payment Details"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:["Amount ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"number",step:"0.01",value:O.amount,onChange:te=>k(Ae=>({...Ae,amount:te.target.value})),placeholder:"0.00",className:"w-full border border-gray-300 px-2 py-1.5 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:["Currency ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:O.currency_id,onChange:te=>k(Ae=>({...Ae,currency_id:te.target.value})),className:"w-full border border-gray-300 px-2 py-1.5 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500",required:!0,children:[e.jsx("option",{value:"",children:"Select Currency"}),x.map(te=>e.jsxs("option",{value:te.id,children:[te.name," (",te.symbol,")"]},te.id))]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:["Payment Method ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:O.payment_method_id,onChange:te=>k(Ae=>({...Ae,payment_method_id:te.target.value})),className:"w-full border border-gray-300 px-2 py-1.5 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500",required:!0,children:[e.jsx("option",{value:"",children:"Select Payment Method"}),p.map(te=>e.jsx("option",{value:te.id,children:te.name},te.id))]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:["Payment Date ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"date",value:O.payment_date,onChange:te=>k(Ae=>({...Ae,payment_date:te.target.value})),className:"w-full border border-gray-300 px-2 py-1.5 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500",required:!0})]}),e.jsxs("div",{className:"sm:col-span-2",children:[e.jsxs("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:["Reference Number ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[e.jsx("input",{type:"text",value:O.reference_number,onChange:te=>k(Ae=>({...Ae,reference_number:te.target.value})),placeholder:"Enter reference number",className:"flex-1 border border-gray-300 px-2 py-1.5 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500",required:!0}),e.jsx("button",{type:"button",onClick:()=>k(te=>({...te,reference_number:G()})),className:"bg-gray-600 text-white px-3 py-1.5 text-xs hover:bg-gray-700 w-full sm:w-auto",children:"Auto"})]})]}),e.jsxs("div",{className:"sm:col-span-2",children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Notes"}),e.jsx("textarea",{value:O.notes,onChange:te=>k(Ae=>({...Ae,notes:te.target.value})),placeholder:"Additional notes...",className:"w-full border border-gray-300 px-2 py-1.5 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500",rows:"2"})]})]})]}),e.jsx("div",{className:"flex justify-center sm:justify-end",children:e.jsx("button",{type:"submit",disabled:r,className:"bg-gray-900 text-white px-4 py-2 text-xs hover:bg-gray-800 disabled:opacity-50 w-full sm:w-auto",children:r?"Processing...":"Process Payment"})})]}),P&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white p-4 w-full max-w-md mx-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-sm md:text-base font-bold text-gray-900",children:"Confirm Payment"}),e.jsx("button",{onClick:ye,className:"text-gray-400 hover:text-gray-600",children:e.jsx(I,{icon:Br,className:"text-xs"})})]}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between text-xs",children:[e.jsx("span",{className:"text-gray-600",children:"Student:"}),e.jsxs("span",{className:"font-medium text-gray-900",children:[i?.Name," ",i?.Surname]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between text-xs",children:[e.jsx("span",{className:"text-gray-600",children:"Class:"}),e.jsx("span",{className:"font-medium text-gray-900",children:w?.class_name})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between text-xs",children:[e.jsx("span",{className:"text-gray-600",children:"Term:"}),e.jsxs("span",{className:"font-medium text-gray-900",children:[w?.term," ",w?.academic_year]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between text-xs",children:[e.jsx("span",{className:"text-gray-600",children:"Amount:"}),e.jsxs("span",{className:"font-medium text-gray-900",children:[O.amount," ",x.find(te=>te.id==O.currency_id)?.symbol]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between text-xs",children:[e.jsx("span",{className:"text-gray-600",children:"Reference:"}),e.jsx("span",{className:"font-medium text-gray-900",children:O.reference_number})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-2",children:[e.jsx("button",{onClick:ye,className:"px-3 py-1.5 border border-gray-300 rounded text-xs text-gray-700 hover:bg-gray-50 w-full sm:w-auto",children:"Cancel"}),e.jsx("button",{onClick:ve,disabled:r,className:"px-3 py-1.5 bg-gray-900 text-white rounded text-xs hover:bg-gray-800 disabled:opacity-50 w-full sm:w-auto",children:r?"Processing...":"Confirm Payment"})]})]})}),D&&R&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white p-4 w-full max-w-2xl max-h-[90vh] overflow-y-auto mx-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-base font-bold text-gray-900",children:"Payment Receipt"}),e.jsx("button",{onClick:()=>T(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx(I,{icon:Br,className:"text-xs"})})]}),e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Receipt Number"}),e.jsx("p",{className:"text-xs text-gray-900 font-medium",children:R.receipt_number})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Date"}),e.jsx("p",{className:"text-xs text-gray-900 font-medium",children:R.payment_date})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Student"}),e.jsx("p",{className:"text-xs text-gray-900 font-medium",children:R.student_name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Amount"}),e.jsxs("p",{className:"text-xs text-gray-900 font-medium",children:[R.amount," ",R.currency]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Reference"}),e.jsx("p",{className:"text-xs text-gray-900 font-medium",children:R.reference_number})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Payment Method"}),e.jsx("p",{className:"text-xs text-gray-900 font-medium",children:R.payment_method})]})]})}),e.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[e.jsx("button",{onClick:ne,className:"px-3 py-1.5 bg-gray-900 text-white rounded text-xs hover:bg-gray-800",children:"Download PDF"}),e.jsx("button",{onClick:()=>T(!1),className:"px-3 py-1.5 border border-gray-300 text-gray-700 rounded text-xs hover:bg-gray-50",children:"Close"})]})]})}),e.jsx(Bx,{isOpen:Y,onClose:()=>$(!1),message:K}),e.jsx($f,{isOpen:M,onClose:()=>F(!1),message:U})]})},NY=({onPaymentSuccess:t})=>{const[r,a]=g.useState(""),[s,n]=g.useState(null),[i,o]=g.useState(!1),[d,u]=g.useState(""),[m,f]=g.useState(""),[x,b]=g.useState([]),[p,v]=g.useState([]),[j,w]=g.useState(!1),[N,P]=g.useState(!1),[A,D]=g.useState(!1),[T,R]=g.useState(null),[E,O]=g.useState({fee_type:"boarding",academic_year:new Date().getFullYear().toString(),term:"1",hostel_id:"",amount_paid:"",currency_id:"",payment_method:"Cash",payment_date:new Date().toISOString().split("T")[0],reference_number:"",notes:""}),{token:k}=et();g.useEffect(()=>{Y(),$()},[]);const Y=async()=>{try{const Q=await de.get(`${ce}/accounting/currencies`,{headers:{Authorization:`Bearer ${k}`}});if(Q.data&&Array.isArray(Q.data.data)){b(Q.data.data);const ve=Q.data.data.find(ye=>ye.is_base_currency)||Q.data.data[0];ve&&O(ye=>({...ye,currency_id:ve.id}))}}catch(Q){console.error("Error fetching currencies:",Q)}},$=async()=>{try{const Q=await de.get(`${ce}/boarding/hostels`,{headers:{Authorization:`Bearer ${k}`}});Q.data&&Array.isArray(Q.data.data)&&v(Q.data.data)}catch(Q){console.error("Error fetching hostels:",Q)}},M=()=>{const Q=Date.now(),ve=Math.floor(Math.random()*1e4).toString().padStart(4,"0");return`INV-${Q}-${ve}`},F=()=>{O(Q=>({...Q,reference_number:M()}))},K=async()=>{if(!r.trim()){u("Please enter a student registration number");return}o(!0),u("");try{const Q=await de.get(`${ce}/students/search?query=${r}`,{headers:{Authorization:`Bearer ${k}`}});if(Q.data&&Q.data.data&&Q.data.data.length>0){const ve=Q.data.data[0];n(ve),f("Student found successfully!")}else u("Student not found with this registration number"),n(null)}catch(Q){console.error("Error searching for student:",Q),u("Failed to search for student")}finally{o(!1)}},q=async Q=>{if(Q.preventDefault(),w(!0),!s){u("Please search for a student first");return}if(!E.amount_paid||!E.currency_id||!E.academic_year||!E.term){u("Please fill in all required fields");return}if(!E.hostel_id){u("Please select a hostel for boarding fees");return}if(!E.reference_number.trim()){u("Please enter a reference number");return}P(!0),u("")},U=async()=>{o(!0),u("");try{const Q={student_reg_number:s.RegNumber,academic_year:E.academic_year,term:E.term,hostel_id:E.hostel_id,amount_paid:parseFloat(E.amount_paid),currency_id:E.currency_id,payment_method:E.payment_method,payment_date:E.payment_date,reference_number:E.reference_number,notes:E.notes,fee_type:E.fee_type},ve=await de.post(`${ce}/boarding/payments`,Q,{headers:{Authorization:`Bearer ${k}`}});if(ve.data.success){const ye={receipt_number:ve.data.data.receipt_number,student_name:`${s.Name} ${s.Surname}`,student_reg:s.RegNumber,amount:E.amount_paid,currency:x.find(ne=>ne.id===E.currency_id)?.symbol||"",payment_date:E.payment_date,payment_method:E.payment_method,fee_type:E.fee_type,reference_number:E.reference_number,hostel_name:p.find(ne=>ne.id===E.hostel_id)?.name||""};R(ye),P(!1),D(!0),t(ye)}}catch(Q){console.error("Error processing payment:",Q),Q.response&&Q.response.data&&Q.response.data.message?u(Q.response.data.message):u("Failed to process payment")}finally{o(!1)}},V=()=>{P(!1),u("")},Z=()=>{a(""),n(null),w(!1),P(!1),D(!1),R(null),O({fee_type:"boarding",academic_year:new Date().getFullYear().toString(),term:"1",hostel_id:"",amount_paid:"",currency_id:E.currency_id||"",payment_method:"Cash",payment_date:new Date().toISOString().split("T")[0],reference_number:"",notes:""}),u(""),f("")},X=()=>{if(!T)return;const Q=window.open("","_blank");Q.document.write(`
      <html>
        <head>
          <title>Boarding Fees Payment Receipt</title>
          <style>
            body { font-family: Arial, sans-serif; margin: 20px; }
            .receipt { border: 2px solid #000; padding: 20px; max-width: 400px; }
            .header { text-align: center; border-bottom: 1px solid #000; padding-bottom: 10px; margin-bottom: 20px; }
            .row { display: flex; justify-content: space-between; margin: 5px 0; }
            .total { border-top: 1px solid #000; padding-top: 10px; margin-top: 20px; font-weight: bold; }
          </style>
        </head>
        <body>
          <div class="receipt">
            <div class="header">
              <h2>SCHOOL MANAGEMENT SYSTEM</h2>
              <h3>BOARDING FEES PAYMENT RECEIPT</h3>
            </div>
            <div class="row">
              <span>Receipt No:</span>
              <span>${T.receipt_number}</span>
            </div>
            <div class="row">
              <span>Reference No:</span>
              <span>${T.reference_number}</span>
            </div>
            <div class="row">
              <span>Date:</span>
              <span>${T.payment_date}</span>
            </div>
            <div class="row">
              <span>Student:</span>
              <span>${T.student_name}</span>
            </div>
            <div class="row">
              <span>Reg No:</span>
              <span>${T.student_reg}</span>
            </div>
            <div class="row">
              <span>Hostel:</span>
              <span>${T.hostel_name}</span>
            </div>
            <div class="row">
              <span>Payment Method:</span>
              <span>${T.payment_method}</span>
            </div>
            <div class="total">
              <div class="row">
                <span>Amount Paid:</span>
                <span>${T.currency}${T.amount}</span>
              </div>
            </div>
            <div style="text-align: center; margin-top: 30px;">
              <p>Thank you for your payment!</p>
            </div>
          </div>
        </body>
      </html>
    `),Q.document.close(),Q.print()},J=async()=>{if(T)try{const Q={receipt_number:T.receipt_number,reference_number:T.reference_number,payment_date:T.payment_date,student_name:T.student_name,student_reg:T.student_reg,hostel_name:T.hostel_name,payment_method:T.payment_method,amount:T.amount,currency:T.currency},ve=await de.post(`${ce}/boarding/payments/download-receipt`,Q,{headers:{Authorization:`Bearer ${k}`},responseType:"blob"}),ye=window.URL.createObjectURL(new Blob([ve.data])),ne=document.createElement("a");ne.href=ye,ne.setAttribute("download",`receipt-${T.receipt_number}.pdf`),document.body.appendChild(ne),ne.click(),ne.remove(),window.URL.revokeObjectURL(ye)}catch(Q){console.error("Error downloading PDF:",Q);const ve=`
SCHOOL MANAGEMENT SYSTEM
BOARDING FEES PAYMENT RECEIPT

Receipt No: ${T.receipt_number}
Reference No: ${T.reference_number}
Date: ${T.payment_date}
Student: ${T.student_name}
Registration No: ${T.student_reg}
Hostel: ${T.hostel_name}
Payment Method: ${T.payment_method}
Amount Paid: ${T.currency}${T.amount}

Thank you for your payment!
      `,ye=new Blob([ve],{type:"text/plain"}),ne=window.URL.createObjectURL(ye),te=document.createElement("a");te.href=ne,te.download=`receipt-${T.receipt_number}.txt`,document.body.appendChild(te),te.click(),window.URL.revokeObjectURL(ne),document.body.removeChild(te)}},be=Q=>["amount_paid","currency_id","academic_year","term","reference_number","hostel_id"].includes(Q),z=Q=>{if(!j)return!0;const ve=E[Q];return be(Q)?ve&&ve.toString().trim()!=="":!0},re=()=>{const Q=p.find(ve=>ve.id===E.hostel_id);return Q?Q.name:""},G=()=>{const Q=x.find(ve=>ve.id===E.currency_id);return Q?Q.symbol:""};return A&&T?e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx(I,{icon:aa,className:"text-4xl text-green-500 mb-2"}),e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Payment Successful!"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Your boarding fees payment has been processed successfully."})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg mb-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4 text-center",children:"Payment Receipt"}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600 font-medium",children:"Receipt No:"}),e.jsx("span",{className:"font-bold",children:T.receipt_number})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600 font-medium",children:"Reference No:"}),e.jsx("span",{className:"font-bold",children:T.reference_number})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600 font-medium",children:"Student Name:"}),e.jsx("span",{className:"font-bold",children:T.student_name})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600 font-medium",children:"Registration No:"}),e.jsx("span",{className:"font-bold",children:T.student_reg})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600 font-medium",children:"Hostel:"}),e.jsx("span",{className:"font-bold",children:T.hostel_name})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600 font-medium",children:"Payment Date:"}),e.jsx("span",{className:"font-bold",children:T.payment_date})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600 font-medium",children:"Payment Method:"}),e.jsx("span",{className:"font-bold",children:T.payment_method})]}),e.jsxs("div",{className:"flex justify-between border-t pt-3",children:[e.jsx("span",{className:"text-gray-900 font-bold text-lg",children:"Amount Paid:"}),e.jsxs("span",{className:"text-gray-900 font-bold text-lg",children:[T.currency,T.amount]})]})]})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs("button",{onClick:X,className:"flex-1 bg-gray-900 text-white px-4 py-2 text-sm hover:bg-gray-800 flex items-center justify-center",children:[e.jsx(I,{icon:Is,className:"mr-2"}),"Print Receipt"]}),e.jsxs("button",{onClick:J,className:"flex-1 bg-blue-600 text-white px-4 py-2 text-sm hover:bg-blue-700 flex items-center justify-center",children:[e.jsx(I,{icon:js,className:"mr-2"}),"Download PDF"]}),e.jsx("button",{onClick:Z,className:"flex-1 bg-gray-200 text-gray-700 px-4 py-2 text-sm hover:bg-gray-300 flex items-center justify-center",children:"New Payment"})]})]}):N?e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[e.jsx("h2",{className:"text-base font-medium text-gray-900 mb-4",children:"Confirm Payment"}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg mb-4",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:"Payment Summary"}),e.jsxs("div",{className:"space-y-2 text-xs",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Student Name:"}),e.jsxs("span",{className:"font-medium",children:[s?.Name," ",s?.Surname]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Registration No:"}),e.jsx("span",{className:"font-medium",children:s?.RegNumber})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Fee Type:"}),e.jsx("span",{className:"font-medium",children:"Boarding Fees"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Hostel:"}),e.jsx("span",{className:"font-medium",children:re()})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Academic Year:"}),e.jsx("span",{className:"font-medium",children:E.academic_year})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Term:"}),e.jsxs("span",{className:"font-medium",children:["Term ",E.term]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Payment Method:"}),e.jsx("span",{className:"font-medium",children:E.payment_method})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Payment Date:"}),e.jsx("span",{className:"font-medium",children:E.payment_date})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Reference Number:"}),e.jsx("span",{className:"font-medium",children:E.reference_number})]}),E.notes&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Notes:"}),e.jsx("span",{className:"font-medium",children:E.notes})]}),e.jsxs("div",{className:"flex justify-between border-t pt-2",children:[e.jsx("span",{className:"text-gray-900 font-medium",children:"Amount to Pay:"}),e.jsxs("span",{className:"text-gray-900 font-bold text-sm",children:[G(),E.amount_paid]})]})]})]}),d&&e.jsx("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 text-xs rounded",children:d}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:U,disabled:i,className:"flex-1 bg-green-600 text-white px-4 py-2 text-xs hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:i?"Processing...":e.jsxs(e.Fragment,{children:[e.jsx(I,{icon:aa,className:"mr-1"}),"Confirm Payment"]})}),e.jsxs("button",{onClick:V,disabled:i,className:"flex-1 bg-gray-500 text-white px-4 py-2 text-xs hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:[e.jsx(I,{icon:Br,className:"mr-1"}),"Cancel"]})]})]}):e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[e.jsx("h2",{className:"text-base font-medium text-gray-900 mb-4",children:"Boarding Fee Payments"}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:["Student Registration Number ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("input",{type:"text",value:r,onChange:Q=>a(Q.target.value),placeholder:"Enter student registration number",className:`flex-1 border px-2 py-1.5 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500 ${j&&!r.trim()?"border-red-500":"border-gray-300"}`}),e.jsx("button",{onClick:K,disabled:i,className:"bg-gray-900 text-white px-3 py-1.5 text-xs hover:bg-gray-800 disabled:opacity-50",children:i?"Searching...":e.jsxs(e.Fragment,{children:[e.jsx(I,{icon:Vt,className:"mr-1"}),"Search"]})})]})]}),s&&e.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg mb-4",children:[e.jsx("h3",{className:"text-xs font-medium text-gray-900 mb-1",children:"Student Information"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 text-xs",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Name:"}),e.jsxs("span",{className:"ml-1 font-medium",children:[s.Name," ",s.Surname]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Registration No:"}),e.jsx("span",{className:"ml-1 font-medium",children:s.RegNumber})]})]})]}),d&&e.jsx("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 text-xs rounded",children:d}),m&&e.jsx("div",{className:"mb-4 p-3 bg-green-100 border border-green-400 text-green-700 text-xs rounded",children:m}),e.jsxs("form",{onSubmit:q,className:"space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:["Academic Year ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:E.academic_year,onChange:Q=>O({...E,academic_year:Q.target.value}),placeholder:"e.g., 2025",className:`w-full border px-2 py-1.5 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500 ${z("academic_year")?"border-gray-300":"border-red-500"}`})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:["Term ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:E.term,onChange:Q=>O({...E,term:Q.target.value}),className:`w-full border px-2 py-1.5 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500 ${z("term")?"border-gray-300":"border-red-500"}`,children:[e.jsx("option",{value:"1",children:"Term 1"}),e.jsx("option",{value:"2",children:"Term 2"}),e.jsx("option",{value:"3",children:"Term 3"})]})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:["Hostel ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:E.hostel_id,onChange:Q=>O({...E,hostel_id:Q.target.value}),className:`w-full border px-2 py-1.5 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500 ${z("hostel_id")?"border-gray-300":"border-red-500"}`,children:[e.jsx("option",{value:"",children:"Select a hostel"}),p.map(Q=>e.jsx("option",{value:Q.id,children:Q.name},Q.id))]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:["Amount ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"number",step:"0.01",value:E.amount_paid,onChange:Q=>O({...E,amount_paid:Q.target.value}),placeholder:"0.00",className:`w-full border px-2 py-1.5 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500 ${z("amount_paid")?"border-gray-300":"border-red-500"}`})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:["Currency ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:E.currency_id,onChange:Q=>O({...E,currency_id:Q.target.value}),className:`w-full border px-2 py-1.5 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500 ${z("currency_id")?"border-gray-300":"border-red-500"}`,children:[e.jsx("option",{value:"",children:"Select currency"}),x.map(Q=>e.jsxs("option",{value:Q.id,children:[Q.name," (",Q.symbol,")"]},Q.id))]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:["Payment Method ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:E.payment_method,onChange:Q=>O({...E,payment_method:Q.target.value}),className:"w-full border border-gray-300 px-2 py-1.5 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500",children:[e.jsx("option",{value:"Cash",children:"Cash"}),e.jsx("option",{value:"Bank Transfer",children:"Bank Transfer"}),e.jsx("option",{value:"Cheque",children:"Cheque"}),e.jsx("option",{value:"Mobile Money",children:"Mobile Money"}),e.jsx("option",{value:"Other",children:"Other"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:["Payment Date ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"date",value:E.payment_date,onChange:Q=>O({...E,payment_date:Q.target.value}),className:"w-full border border-gray-300 px-2 py-1.5 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:["Reference Number ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("input",{type:"text",value:E.reference_number,onChange:Q=>O({...E,reference_number:Q.target.value}),placeholder:"Enter reference number or auto-generate",className:`flex-1 border px-2 py-1.5 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500 ${z("reference_number")?"border-gray-300":"border-red-500"}`}),e.jsx("button",{type:"button",onClick:F,className:"bg-blue-600 text-white px-2 py-1.5 text-xs hover:bg-blue-700",title:"Auto-generate reference number",children:e.jsx(I,{icon:MC})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Notes (Optional)"}),e.jsx("textarea",{value:E.notes,onChange:Q=>O({...E,notes:Q.target.value}),rows:"2",placeholder:"Additional notes about this payment",className:"w-full border border-gray-300 px-2 py-1.5 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500"})]}),e.jsx("button",{type:"submit",disabled:i||!s,className:"w-full bg-gray-900 text-white px-4 py-2 text-xs hover:bg-gray-800 disabled:opacity-50 disabled:cursor-not-allowed",children:i?"Processing...":e.jsxs(e.Fragment,{children:[e.jsx(I,{icon:Pn,className:"mr-1"}),"Process Payment"]})})]})]})},wY=()=>{const{token:t}=et(),[r,a]=g.useState(""),[s,n]=g.useState([]),[i,o]=g.useState(null),[d,u]=g.useState([]),[m,f]=g.useState([]),[x,b]=g.useState(!1),[p,v]=g.useState(!1),[j,w]=g.useState(!1),[N,P]=g.useState([]),[A,D]=g.useState({amount:"",payment_method:"Cash",payment_date:new Date().toISOString().split("T")[0],currency_id:"",reference_number:"",notes:""}),T=()=>{const q=new Date,U=q.toISOString().slice(0,10).replace(/-/g,""),V=q.toTimeString().slice(0,8).replace(/:/g,"");return`AF${U}${V}`};g.useEffect(()=>{R(),E()},[]);const R=async()=>{try{const U=await(await fetch(`${ce}/additional-fees/structures`,{headers:{Authorization:`Bearer ${t}`}})).json();U.success&&u(U.data)}catch(q){console.error("Error loading available fees:",q)}},E=async()=>{try{const U=await(await fetch(`${ce}/accounting/currencies`,{headers:{Authorization:`Bearer ${t}`}})).json();U.success&&f(U.data)}catch(q){console.error("Error loading currencies:",q)}},O=async()=>{if(r.trim())try{b(!0);const U=await(await fetch(`${ce}/students/search?query=${encodeURIComponent(r)}`,{headers:{Authorization:`Bearer ${t}`}})).json();U.success&&n(U.data)}catch(q){console.error("Error searching students:",q)}finally{b(!1)}},k=q=>{o(q),P([]),D({amount:"",payment_method:"Cash",payment_date:new Date().toISOString().split("T")[0],currency_id:"",reference_number:"",notes:""})},Y=q=>{P(U=>U.find(Z=>Z.id===q.id)?U.filter(Z=>Z.id!==q.id):[...U,q])},$=q=>{if(q.preventDefault(),N.length===0){alert("Please select at least one fee to pay for");return}if(!A.amount||parseFloat(A.amount)<=0){alert("Please enter a valid payment amount");return}if(!A.currency_id){alert("Please select a currency");return}if(!A.reference_number.trim()){alert("Please enter a reference number");return}v(!0)},M=async()=>{if(!(!i||N.length===0))try{b(!0);const q=A.reference_number,U=parseFloat(A.amount)/N.length;let V=!0;const Z=[];for(const X of N){console.log("🔄 Processing payment for fee:",X),console.log("💳 Processing payment for fee:",X.id,"student:",i.RegNumber),console.log("🔍 Payment method being sent:",A.payment_method,"Type:",typeof A.payment_method);const J=await fetch(`${ce}/additional-fees/payments`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({fee_structure_id:X.id,student_reg_number:i.RegNumber,amount:U,payment_method:A.payment_method,currency_id:A.currency_id,exchange_rate:1,receipt_number:A.reference_number,reference_number:A.reference_number,academic_year:new Date().getFullYear().toString()})});if(J.ok){const be=await J.json();console.log("✅ Payment response:",be)}else{console.error(`❌ Failed to process payment for fee ${X.id}`,J.status);const be=await J.json();console.error("❌ Payment error:",be),V=!1,Z.push(`Fee ${X.fee_name}: ${be.message||"Payment failed"}`)}}if(!V){alert(`Payment failed for some fees:
${Z.join(`
`)}`);return}w(!0),v(!1),P([]),o(null),D({amount:"",payment_method:"Cash",payment_date:new Date().toISOString().split("T")[0],currency_id:"",reference_number:"",notes:""}),a(""),n([]),alert("Payment processed successfully!")}catch(q){console.error("Error processing payment:",q),alert("Error processing payment")}finally{b(!1)}},F=()=>{v(!1)},K=q=>q==="annual"?bc:Kn;return e.jsxs("div",{className:"bg-white border border-gray-200 p-4",children:[e.jsx("h2",{className:"text-base font-medium text-gray-900 mb-4",children:"Additional Fees Payment"}),e.jsxs("form",{onSubmit:$,className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xs font-medium text-gray-900 mb-1",children:"Student Information"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:["Search Student ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(I,{icon:Vt,className:"absolute left-2 top-1/2 transform -translate-y-1/2 text-gray-400 text-xs"}),e.jsx("input",{type:"text",value:r,onChange:q=>a(q.target.value),placeholder:"Enter student name or registration number...",className:"w-full pl-6 pr-2 py-1.5 border border-gray-300 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500"})]}),e.jsx("button",{type:"button",onClick:O,className:"bg-gray-900 text-white px-3 py-1.5 text-xs hover:bg-gray-800",children:"Search"})]})]}),s.length>0&&e.jsxs("div",{className:"border border-gray-200 max-h-32 overflow-y-auto",children:[e.jsx("div",{className:"bg-blue-50 p-2 border-b border-gray-200",children:e.jsx("p",{className:"text-xs text-blue-700 font-medium",children:"Click on a student below to select:"})}),s.map(q=>e.jsxs("div",{onClick:()=>k(q),className:"p-2 hover:bg-gray-50 cursor-pointer border-b border-gray-100 last:border-b-0",children:[e.jsxs("div",{className:"font-medium text-gray-900 text-xs",children:[q.Name||q.FirstName," ",q.Surname||q.LastName]}),e.jsxs("div",{className:"text-xs text-gray-500",children:["Reg: ",q.RegNumber," | Class: ",q.Class||"N/A"]})]},q.RegNumber))]}),i&&e.jsxs("div",{className:"bg-green-50 border border-green-200 p-3",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx(I,{icon:Xn,className:"text-green-600 text-xs mr-2"}),e.jsx("span",{className:"text-xs font-medium text-green-800",children:"Student Selected Successfully"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 text-xs",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Name:"}),e.jsxs("span",{className:"ml-1 font-medium",children:[i.Name||i.FirstName," ",i.Surname||i.LastName]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Registration No:"}),e.jsx("span",{className:"ml-1 font-medium",children:i.RegNumber})]})]})]})]})]}),i&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-xs font-medium text-gray-900 mb-1",children:"Select Fees to Pay For"}),e.jsxs("div",{className:"border border-gray-200 max-h-40 overflow-y-auto",children:[e.jsx("div",{className:"bg-blue-50 p-2 border-b border-gray-200",children:e.jsx("p",{className:"text-xs text-blue-700 font-medium",children:"Click on fees below to select:"})}),d.map(q=>{const U=N.find(V=>V.id===q.id);return e.jsx("div",{onClick:()=>Y(q),className:`p-2 cursor-pointer transition-colors border-b border-gray-100 last:border-b-0 ${U?"border-gray-500 bg-gray-50":"border-gray-200 hover:border-gray-300"}`,children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(I,{icon:K(q.fee_type),className:"text-gray-400 text-xs"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900 text-xs",children:q.fee_name}),e.jsx("div",{className:"text-xs text-gray-500",children:q.description}),e.jsxs("div",{className:"text-xs text-gray-500",children:["Type: ",q.fee_type," | Amount: $",(parseFloat(q.amount)||0).toFixed(2)]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"font-medium text-gray-900 text-xs",children:["$",(parseFloat(q.amount)||0).toFixed(2)]}),e.jsx("div",{className:"text-xs text-gray-500",children:q.fee_type}),U&&e.jsx(I,{icon:Xn,className:"text-green-600 text-xs mt-1"})]})]})},q.id)})]}),N.length>0&&e.jsxs("div",{className:"mt-3 bg-green-50 border border-green-200 p-3",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx(I,{icon:Xn,className:"text-green-600 text-xs mr-2"}),e.jsx("span",{className:"text-xs font-medium text-green-800",children:"Fees Selected Successfully"})]}),e.jsxs("div",{className:"text-xs text-gray-600",children:[e.jsx("span",{className:"font-medium",children:N.length})," fee(s) selected"]})]})]}),i&&N.length>0&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-xs font-medium text-gray-900 mb-1",children:"Payment Details"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:["Amount ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"number",step:"0.01",value:A.amount,onChange:q=>D(U=>({...U,amount:q.target.value})),placeholder:"0.00",className:"w-full border border-gray-300 px-2 py-1.5 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:["Currency ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:A.currency_id,onChange:q=>D(U=>({...U,currency_id:q.target.value})),className:"w-full border border-gray-300 px-2 py-1.5 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500",required:!0,children:[e.jsx("option",{value:"",children:"Select Currency"}),m.map(q=>e.jsxs("option",{value:q.id,children:[q.symbol," - ",q.name]},q.id))]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:["Payment Method ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:A.payment_method,onChange:q=>D(U=>({...U,payment_method:q.target.value})),className:"w-full border border-gray-300 px-2 py-1.5 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500",required:!0,children:[e.jsx("option",{value:"Cash",children:"Cash"}),e.jsx("option",{value:"Bank Transfer",children:"Bank Transfer"}),e.jsx("option",{value:"Mobile Money",children:"Mobile Money"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:["Payment Date ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"date",value:A.payment_date,onChange:q=>D(U=>({...U,payment_date:q.target.value})),className:"w-full border border-gray-300 px-2 py-1.5 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:["Reference Number ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("input",{type:"text",value:A.reference_number,onChange:q=>D(U=>({...U,reference_number:q.target.value})),placeholder:"Enter reference number...",className:"flex-1 border border-gray-300 px-2 py-1.5 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500",required:!0}),e.jsx("button",{type:"button",onClick:()=>D(q=>({...q,reference_number:T()})),className:"px-2 py-1.5 text-xs font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 border border-gray-300",title:"Generate reference number",children:"Auto"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Notes"}),e.jsx("input",{type:"text",value:A.notes,onChange:q=>D(U=>({...U,notes:q.target.value})),placeholder:"Optional notes...",className:"w-full border border-gray-300 px-2 py-1.5 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500"})]})]})]}),i&&N.length>0&&e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx("button",{type:"button",onClick:()=>{o(null),P([]),D({amount:"",payment_method:"Cash",payment_date:new Date().toISOString().split("T")[0],currency_id:"",reference_number:"",notes:""}),a(""),n([])},className:"px-3 py-1.5 text-xs font-medium text-gray-700 bg-gray-100 hover:bg-gray-200",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:!A.amount||parseFloat(A.amount)<=0||!A.currency_id||!A.reference_number.trim(),className:"px-3 py-1.5 text-xs font-medium text-white bg-gray-900 hover:bg-gray-800 disabled:opacity-50",children:"Process Payment"})]})]}),p&&e.jsx("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white border border-gray-200 max-w-md w-full mx-4",children:[e.jsxs("div",{className:"px-4 py-3 border-b border-gray-200 flex justify-between items-center",children:[e.jsx("h3",{className:"text-base font-medium text-gray-900",children:"Confirm Payment"}),e.jsx("button",{onClick:F,className:"text-gray-400 hover:text-gray-600",children:e.jsx(I,{icon:Br})})]}),e.jsxs("div",{className:"p-4 space-y-4",children:[e.jsxs("div",{className:"bg-gray-50 p-3",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-900",children:["Student: ",i?.Name||i?.FirstName," ",i?.Surname||i?.LastName]}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Amount: ",m.find(q=>q.id===A.currency_id)?.symbol||"$",(parseFloat(A.amount)||0).toFixed(2)]}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Method: ",A.payment_method]}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Currency: ",m.find(q=>q.id===A.currency_id)?.name||"N/A"]}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Reference: ",A.reference_number]}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Selected Fees: ",N.length]})]}),e.jsxs("div",{className:"text-xs text-gray-600",children:[e.jsx("p",{children:"This will:"}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 mt-2",children:[e.jsx("li",{children:"Create fee assignments for the selected fees"}),e.jsx("li",{children:"Split the payment amount equally among selected fees"}),e.jsx("li",{children:"Update student balance and create transaction records"})]})]})]}),e.jsxs("div",{className:"px-4 py-3 border-t border-gray-200 flex justify-end space-x-2",children:[e.jsx("button",{onClick:F,className:"px-3 py-1.5 text-xs font-medium text-gray-700 bg-gray-100 hover:bg-gray-200",children:"Cancel"}),e.jsx("button",{onClick:M,disabled:x,className:"px-3 py-1.5 text-xs font-medium text-white bg-gray-900 hover:bg-gray-800 disabled:opacity-50",children:x?"Processing...":"Confirm Payment"})]})]})}),j&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsx("div",{className:"bg-white p-6 max-w-md w-full mx-4",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100 mb-4",children:e.jsx("svg",{className:"h-6 w-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Payment Successful!"}),e.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"All payments have been processed successfully. The student's balance has been updated and transactions have been recorded."}),e.jsx("button",{onClick:()=>w(!1),className:"w-full bg-green-600 text-white px-4 py-2 text-sm font-medium hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500",children:"Close"})]})})})]})},SY=()=>{const[t,r]=g.useState("tuition");br();const a=[{id:"tuition",name:"Tuition Fee Payments",icon:px},{id:"boarding",name:"Boarding Fee Payments",icon:ag},{id:"other",name:"Other Payments",icon:HF}],s=i=>{console.log("Payment successful:",i)},n=()=>{switch(t){case"tuition":return e.jsx(s_,{});case"boarding":return e.jsx(NY,{onPaymentSuccess:s});case"other":return e.jsx(wY,{});default:return e.jsx(s_,{})}};return e.jsx("div",{className:"min-h-screen bg-gray-50 py-2 md:py-6",children:e.jsxs("div",{className:"w-full px-2 md:px-4 lg:px-8",children:[e.jsx("div",{className:"mb-4 md:mb-6",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg md:text-xl font-bold text-gray-900",children:"Fees Payment"}),e.jsx("p",{className:"text-xs md:text-sm text-gray-600",children:"Process student fee payments"})]})}),e.jsx("div",{className:"mb-4 md:mb-6",children:e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"-mb-px flex flex-wrap space-x-2 md:space-x-8 overflow-x-auto",children:a.map(i=>e.jsxs("button",{onClick:()=>r(i.id),className:`py-2 px-1 border-b-2 font-medium text-xs flex items-center space-x-1 whitespace-nowrap ${t===i.id?"border-gray-900 text-gray-900":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(I,{icon:i.icon,className:"text-xs"}),e.jsx("span",{className:"hidden sm:inline",children:i.name}),e.jsx("span",{className:"sm:hidden",children:i.name.split(" ")[0]})]},i.id))})})}),e.jsx("div",{className:"grid grid-cols-1 gap-4 md:gap-6",children:e.jsx("div",{children:n()})})]})})},_Y=({payment:t,currencies:r,onUpdate:a,onClose:s})=>{const[n,i]=g.useState({amount_paid:"",currency_id:"",payment_method:"",payment_date:"",reference_number:"",notes:""}),[o,d]=g.useState(!1);g.useEffect(()=>{t&&(console.log("Payment data in edit modal:",t),console.log("Currencies in edit modal:",r),console.log("Payment currency_id:",t.currency_id,"Type:",typeof t.currency_id),i({amount_paid:t.amount_paid||"",currency_id:t.currency_id?t.currency_id.toString():"",payment_method:t.payment_method||"",payment_date:t.payment_date?t.payment_date.split("T")[0]:"",reference_number:t.reference_number||"",notes:t.notes||""}),console.log("Form data set:",{amount_paid:t.amount_paid||"",currency_id:t.currency_id?t.currency_id.toString():"",payment_method:t.payment_method||"",payment_date:t.payment_date?t.payment_date.split("T")[0]:"",reference_number:t.reference_number||"",notes:t.notes||""}))},[t,r]);const u=async f=>{f.preventDefault(),d(!0);try{await a(n)}catch(x){console.error("Error updating payment:",x)}finally{d(!1)}},m=(f,x)=>{i(b=>({...b,[f]:x}))};return e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:e.jsx("div",{className:"relative top-10 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:e.jsxs("div",{className:"mt-3",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Edit Payment"}),e.jsx("button",{onClick:s,className:"text-gray-400 hover:text-gray-600",children:e.jsx(I,{icon:Br})})]}),e.jsxs("form",{onSubmit:u,className:"space-y-4",children:[e.jsx("div",{className:"bg-gray-50 p-3 rounded",children:e.jsxs("div",{className:"text-sm",children:[e.jsxs("div",{className:"font-medium text-gray-900",children:[t?.student_name," ",t?.student_surname]}),e.jsx("div",{className:"text-gray-600",children:t?.student_reg_number}),e.jsx("div",{className:"text-gray-600",children:t?.hostel_name})]})}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:["Amount ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"number",step:"0.01",value:n.amount_paid,onChange:f=>m("amount_paid",f.target.value),className:"w-full border border-gray-300 px-3 py-2 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:["Currency ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:n.currency_id,onChange:f=>m("currency_id",f.target.value),className:"w-full border border-gray-300 px-3 py-2 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500",required:!0,children:[e.jsx("option",{value:"",children:"Select currency"}),r&&r.length>0?r.map(f=>e.jsxs("option",{value:f.id.toString(),children:[f.name," (",f.symbol,")"]},f.id)):e.jsxs(e.Fragment,{children:[e.jsx("option",{value:"1",children:"US Dollar ($)"}),e.jsx("option",{value:"2",children:"Zimbabwe Dollar (ZWL)"})]})]}),r&&r.length===0&&e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Using default currencies"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:["Payment Method ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:n.payment_method,onChange:f=>m("payment_method",f.target.value),className:"w-full border border-gray-300 px-3 py-2 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500",required:!0,children:[e.jsx("option",{value:"",children:"Select payment method"}),e.jsx("option",{value:"Cash",children:"Cash"}),e.jsx("option",{value:"Bank Transfer",children:"Bank Transfer"}),e.jsx("option",{value:"Cheque",children:"Cheque"}),e.jsx("option",{value:"Mobile Money",children:"Mobile Money"}),e.jsx("option",{value:"Other",children:"Other"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:["Payment Date ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"date",value:n.payment_date,onChange:f=>m("payment_date",f.target.value),className:"w-full border border-gray-300 px-3 py-2 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:["Reference Number ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:n.reference_number,onChange:f=>m("reference_number",f.target.value),className:"w-full border border-gray-300 px-3 py-2 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Notes"}),e.jsx("textarea",{value:n.notes,onChange:f=>m("notes",f.target.value),rows:"3",className:"w-full border border-gray-300 px-3 py-2 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500"})]}),e.jsxs("div",{className:"flex space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:s,className:"flex-1 bg-gray-300 text-gray-700 px-4 py-2 text-xs hover:bg-gray-400",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:o,className:"flex-1 bg-gray-900 text-white px-4 py-2 text-xs hover:bg-gray-800 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:o?"Updating...":e.jsxs(e.Fragment,{children:[e.jsx(I,{icon:Dn,className:"mr-1"}),"Update Payment"]})})]})]})]})})})},AY=({isOpen:t,message:r,onClose:a})=>t?e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:e.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:e.jsxs("div",{className:"mt-3 text-center",children:[e.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100 mb-4",children:e.jsx(I,{icon:aa,className:"h-6 w-6 text-green-600"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Success!"}),e.jsx("div",{className:"mt-2 px-7 py-3",children:e.jsx("p",{className:"text-sm text-gray-500",children:r})}),e.jsx("div",{className:"items-center px-4 py-3",children:e.jsx("button",{onClick:a,className:"px-4 py-2 bg-green-500 text-white text-base font-medium rounded-md w-full shadow-sm hover:bg-green-600 focus:outline-none focus:ring-2 focus:ring-green-300",children:"OK"})})]})})}):null,kY=({isOpen:t,message:r,onClose:a})=>t?e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:e.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:e.jsxs("div",{className:"mt-3 text-center",children:[e.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100 mb-4",children:e.jsx(I,{icon:ur,className:"h-6 w-6 text-red-600"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Error"}),e.jsx("div",{className:"mt-2 px-7 py-3",children:e.jsx("p",{className:"text-sm text-gray-500",children:r})}),e.jsx("div",{className:"items-center px-4 py-3",children:e.jsx("button",{onClick:a,className:"px-4 py-2 bg-red-500 text-white text-base font-medium rounded-md w-full shadow-sm hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-red-300",children:"OK"})})]})})}):null,CY=()=>{const[t,r]=g.useState([]),[a,s]=g.useState(!0),[n,i]=g.useState(""),[o,d]=g.useState({current_page:1,total_pages:1,total_items:0,items_per_page:10,has_next:!1,has_prev:!1}),[u,m]=g.useState({search:"",academic_year:"",term:"",hostel_id:""}),[f,x]=g.useState([]),[b,p]=g.useState(!1),[v,j]=g.useState(!1),[w,N]=g.useState(!1),[P,A]=g.useState(null),[D,T]=g.useState([]),[R,E]=g.useState(!1),[O,k]=g.useState(!1),[Y,$]=g.useState(""),[M,F]=g.useState(""),{token:K}=et();g.useEffect(()=>{q(),U(),V()},[o.current_page,u]);const q=async()=>{try{const we=await de.get(`${ce}/boarding/hostels`,{headers:{Authorization:`Bearer ${K}`}});we.data&&Array.isArray(we.data.data)&&x(we.data.data)}catch(we){console.error("Error fetching hostels:",we)}},U=async()=>{try{const we=await de.get(`${ce}/accounting/currencies`,{headers:{Authorization:`Bearer ${K}`}});console.log("Currencies response:",we.data),we.data&&Array.isArray(we.data.data)&&(T(we.data.data),console.log("Currencies set:",we.data.data))}catch(we){console.error("Error fetching currencies:",we),T([{id:1,name:"US Dollar",symbol:"$"},{id:2,name:"Zimbabwe Dollar",symbol:"ZWL"}])}},V=async()=>{s(!0),i("");try{const we=new URLSearchParams({page:o.current_page,limit:o.items_per_page,...u});console.log("Frontend params being sent:",{page:o.current_page,limit:o.items_per_page,filters:u,fullParams:we.toString()});const le=await de.get(`${ce}/boarding/payments?${we}`,{headers:{Authorization:`Bearer ${K}`}});le.data.success&&(r(le.data.data),d(le.data.pagination))}catch(we){console.error("Error fetching payments:",we),i("Failed to fetch payments")}finally{s(!1)}},Z=(we,le)=>{m(xe=>({...xe,[we]:le})),d(xe=>({...xe,current_page:1}))},X=we=>{d(le=>({...le,current_page:we}))},J=()=>{d(we=>({...we,current_page:1}))},be=()=>{m({search:"",academic_year:"",term:"",hostel_id:""}),d(we=>({...we,current_page:1}))},z=we=>new Date(we).toLocaleDateString("en-GB"),re=(we,le)=>`${le}${parseFloat(we).toFixed(2)}`,G=we=>`${we.student_name||""} ${we.student_surname||""}`.trim()||"N/A",Q=async we=>{try{const le=await de.get(`${ce}/boarding/payments/${we.id}`,{headers:{Authorization:`Bearer ${K}`}});le.data.success&&(A(le.data.data),j(!0))}catch(le){console.error("Error fetching payment details:",le),F("Failed to fetch payment details"),k(!0)}},ve=async we=>{try{const le=await de.get(`${ce}/boarding/payments/${we.id}`,{headers:{Authorization:`Bearer ${K}`}});le.data.success&&(console.log("Payment details for edit:",le.data.data),console.log("Available currencies:",D),A(le.data.data),N(!0))}catch(le){console.error("Error fetching payment details:",le),F("Failed to fetch payment details"),k(!0)}},ye=async we=>{if(window.confirm("Are you sure you want to delete this payment? This will also delete all related accounting entries."))try{const le=await de.delete(`${ce}/boarding/payments/${we.id}`,{headers:{Authorization:`Bearer ${K}`}});le.data.success&&($(le.data.message||"Payment and related accounting entries deleted successfully!"),E(!0),V())}catch(le){console.error("Error deleting payment:",le);const xe=le.response?.data?.message||"Failed to delete payment";F(xe),k(!0)}},ne=async we=>{try{const le={receipt_number:we.receipt_number,reference_number:we.reference_number,payment_date:we.payment_date,student_name:G(we),student_reg:we.student_reg_number,hostel_name:we.hostel_name,payment_method:we.payment_method,amount:we.amount_paid,currency:we.currency_symbol},xe=`
SCHOOL MANAGEMENT SYSTEM
BOARDING FEES PAYMENT RECEIPT

Receipt No: ${le.receipt_number}
Reference No: ${le.reference_number}
Date: ${le.payment_date}
Student: ${le.student_name}
Registration No: ${le.student_reg}
Hostel: ${le.hostel_name}
Payment Method: ${le.payment_method}
Amount Paid: ${le.currency}${le.amount}

Thank you for your payment!
      `,oe=new Blob([xe],{type:"text/plain"}),me=window.URL.createObjectURL(oe),tt=document.createElement("a");tt.href=me,tt.download=`receipt-${le.receipt_number}.txt`,document.body.appendChild(tt),tt.click(),window.URL.revokeObjectURL(me),document.body.removeChild(tt)}catch(le){console.error("Error downloading receipt:",le),F("Failed to download receipt"),k(!0)}},te=async we=>{try{const le=await de.put(`${ce}/boarding/payments/${P.id}`,we,{headers:{Authorization:`Bearer ${K}`}});le.data.success&&($(le.data.message||"Payment and related accounting entries updated successfully!"),E(!0),N(!1),A(null),V())}catch(le){console.error("Error updating payment:",le);const xe=le.response?.data?.message||"Failed to update payment";F(xe),k(!0)}},Ae=we=>{const le={receipt_number:we.receipt_number,reference_number:we.reference_number,payment_date:we.payment_date,student_name:G(we),student_reg:we.student_reg_number,hostel_name:we.hostel_name,payment_method:we.payment_method,amount:we.amount_paid,currency:we.currency_symbol},xe=window.open("","_blank");xe.document.write(`
      <html>
        <head>
          <title>Boarding Fees Payment Receipt</title>
          <style>
            body { font-family: Arial, sans-serif; margin: 20px; }
            .receipt { border: 2px solid #000; padding: 20px; max-width: 400px; }
            .header { text-align: center; border-bottom: 1px solid #000; padding-bottom: 10px; margin-bottom: 20px; }
            .row { display: flex; justify-content: space-between; margin: 5px 0; }
            .total { border-top: 1px solid #000; padding-top: 10px; margin-top: 20px; font-weight: bold; }
          </style>
        </head>
        <body>
          <div class="receipt">
            <div class="header">
              <h2>SCHOOL MANAGEMENT SYSTEM</h2>
              <h3>BOARDING FEES PAYMENT RECEIPT</h3>
            </div>
            <div class="row">
              <span>Receipt No:</span>
              <span>${le.receipt_number}</span>
            </div>
            <div class="row">
              <span>Reference No:</span>
              <span>${le.reference_number}</span>
            </div>
            <div class="row">
              <span>Date:</span>
              <span>${le.payment_date}</span>
            </div>
            <div class="row">
              <span>Student:</span>
              <span>${le.student_name}</span>
            </div>
            <div class="row">
              <span>Reg No:</span>
              <span>${le.student_reg}</span>
            </div>
            <div class="row">
              <span>Hostel:</span>
              <span>${le.hostel_name}</span>
            </div>
            <div class="row">
              <span>Payment Method:</span>
              <span>${le.payment_method}</span>
            </div>
            <div class="total">
              <div class="row">
                <span>Amount Paid:</span>
                <span>${le.currency}${le.amount}</span>
              </div>
            </div>
            <div style="text-align: center; margin-top: 30px;">
              <p>Thank you for your payment!</p>
            </div>
          </div>
        </body>
      </html>
    `),xe.document.close(),xe.print()};return e.jsxs("div",{className:"min-h-screen bg-gray-50 py-6",children:[e.jsxs("div",{className:"w-full px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"mb-6",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"All Boarding Fees Payments"}),e.jsx("p",{className:"text-xs text-gray-600",children:"View and manage all boarding fees payments"})]})}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 mb-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"Search by student name or registration number...",value:u.search,onChange:we=>Z("search",we.target.value),className:"w-full border border-gray-300 px-3 py-2 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500"}),e.jsx("button",{onClick:J,className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:e.jsx(I,{icon:Vt})})]})}),e.jsxs("button",{onClick:()=>p(!b),className:"bg-gray-900 text-white px-4 py-2 text-xs hover:bg-gray-800 flex items-center",children:[e.jsx(I,{icon:ts,className:"mr-1"}),"Filters"]})]}),b&&e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Academic Year"}),e.jsx("input",{type:"text",placeholder:"e.g., 2025",value:u.academic_year,onChange:we=>Z("academic_year",we.target.value),className:"w-full border border-gray-300 px-2 py-1.5 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Term"}),e.jsxs("select",{value:u.term,onChange:we=>Z("term",we.target.value),className:"w-full border border-gray-300 px-2 py-1.5 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500",children:[e.jsx("option",{value:"",children:"All Terms"}),e.jsx("option",{value:"1",children:"Term 1"}),e.jsx("option",{value:"2",children:"Term 2"}),e.jsx("option",{value:"3",children:"Term 3"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Hostel"}),e.jsxs("select",{value:u.hostel_id,onChange:we=>Z("hostel_id",we.target.value),className:"w-full border border-gray-300 px-2 py-1.5 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500",children:[e.jsx("option",{value:"",children:"All Hostels"}),f.map(we=>e.jsx("option",{value:we.id,children:we.name},we.id))]})]}),e.jsx("div",{className:"flex items-end",children:e.jsx("button",{onClick:be,className:"w-full bg-gray-200 text-gray-700 px-4 py-1.5 text-xs hover:bg-gray-300",children:"Clear Filters"})})]})})]}),n&&e.jsx("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 text-xs rounded",children:n}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:a?e.jsx("div",{className:"p-8 text-center",children:e.jsx("p",{className:"text-sm text-gray-600",children:"Loading payments..."})}):t.length===0?e.jsx("div",{className:"p-8 text-center",children:e.jsx("p",{className:"text-sm text-gray-600",children:"No payments found"})}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Student"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Receipt No"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Hostel"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Academic Year"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Term"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Payment Method"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(we=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-xs",children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:G(we)}),e.jsx("div",{className:"text-gray-500",children:we.student_reg_number})]})}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-xs text-gray-900",children:we.receipt_number}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-xs text-gray-900",children:we.hostel_name||"N/A"}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-xs text-gray-900",children:we.academic_year}),e.jsxs("td",{className:"px-3 py-2 whitespace-nowrap text-xs text-gray-900",children:["Term ",we.term]}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-xs text-gray-900",children:re(we.amount_paid,we.currency_symbol)}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-xs text-gray-900",children:we.payment_method}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-xs text-gray-900",children:z(we.payment_date)}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-xs",children:e.jsxs("div",{className:"flex space-x-1",children:[e.jsx("button",{onClick:()=>Q(we),className:"text-blue-600 hover:text-blue-900",title:"View Details",children:e.jsx(I,{icon:Fr})}),e.jsx("button",{onClick:()=>Ae(we),className:"text-gray-600 hover:text-gray-900",title:"Print Receipt",children:e.jsx(I,{icon:Is})}),e.jsx("button",{onClick:()=>ne(we),className:"text-green-600 hover:text-green-900",title:"Download Receipt",children:e.jsx(I,{icon:js})}),e.jsx("button",{onClick:()=>ve(we),className:"text-yellow-600 hover:text-yellow-900",title:"Edit Payment",children:e.jsx(I,{icon:lr})}),e.jsx("button",{onClick:()=>ye(we),className:"text-red-600 hover:text-red-900",title:"Delete Payment",children:e.jsx(I,{icon:Mt})})]})})]},we.id))})]})}),o.total_pages>1&&e.jsx("div",{className:"bg-white px-4 py-3 border-t border-gray-200 sm:px-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[e.jsx("button",{onClick:()=>X(o.current_page-1),disabled:!o.has_prev,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-xs font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),e.jsx("button",{onClick:()=>X(o.current_page+1),disabled:!o.has_next,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-xs font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]}),e.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[e.jsx("div",{children:e.jsxs("p",{className:"text-xs text-gray-700",children:["Showing"," ",e.jsx("span",{className:"font-medium",children:(o.current_page-1)*o.items_per_page+1})," ","to"," ",e.jsx("span",{className:"font-medium",children:Math.min(o.current_page*o.items_per_page,o.total_items)})," ","of"," ",e.jsx("span",{className:"font-medium",children:o.total_items})," ","results"]})}),e.jsx("div",{children:e.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:[e.jsx("button",{onClick:()=>X(o.current_page-1),disabled:!o.has_prev,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-xs font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Array.from({length:Math.min(5,o.total_pages)},(we,le)=>{const xe=le+1;return e.jsx("button",{onClick:()=>X(xe),className:`relative inline-flex items-center px-3 py-2 border text-xs font-medium ${xe===o.current_page?"z-10 bg-gray-900 border-gray-900 text-white":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:xe},xe)}),e.jsx("button",{onClick:()=>X(o.current_page+1),disabled:!o.has_next,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-xs font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})})]})]})})]})})]}),v&&P&&e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:e.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:e.jsxs("div",{className:"mt-3",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Payment Details"}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Receipt No:"}),e.jsx("span",{children:P.receipt_number})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Reference No:"}),e.jsx("span",{children:P.reference_number})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Student:"}),e.jsx("span",{children:G(P)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Registration No:"}),e.jsx("span",{children:P.student_reg_number})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Hostel:"}),e.jsx("span",{children:P.hostel_name||"N/A"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Academic Year:"}),e.jsx("span",{children:P.academic_year})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Term:"}),e.jsxs("span",{children:["Term ",P.term]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Amount:"}),e.jsx("span",{children:re(P.amount_paid,P.currency_symbol)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Payment Method:"}),e.jsx("span",{children:P.payment_method})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Payment Date:"}),e.jsx("span",{children:z(P.payment_date)})]}),P.notes&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Notes:"}),e.jsx("span",{children:P.notes})]})]}),e.jsx("div",{className:"flex justify-end mt-6",children:e.jsx("button",{onClick:()=>{j(!1),A(null)},className:"bg-gray-500 text-white px-4 py-2 text-xs hover:bg-gray-600",children:"Close"})})]})})}),w&&P&&e.jsx(_Y,{payment:P,currencies:D,onUpdate:te,onClose:()=>{N(!1),A(null)}}),e.jsx(AY,{isOpen:R,message:Y,onClose:()=>{E(!1),$("")}}),e.jsx(kY,{isOpen:O,message:M,onClose:()=>{k(!1),F("")}})]})},EY=()=>{const{token:t}=et(),[r,a]=g.useState([]),[s,n]=g.useState([]),[i,o]=g.useState([]),[d,u]=g.useState(!1),[m,f]=g.useState(null),[x,b]=g.useState(""),[p,v]=g.useState(""),[j,w]=g.useState(""),[N,P]=g.useState(""),[A,D]=g.useState(!1),[T,R]=g.useState(!1),[E,O]=g.useState(!1),[k,Y]=g.useState(!1),[$,M]=g.useState(!1),[F,K]=g.useState(null),[q,U]=g.useState({gradelevel_class_id:"",term:"",academic_year:"",currency_id:"",invoice_items:[{item_name:"",amount:""}]}),[V,Z]=g.useState(!1),[X,J]=g.useState(!1),[be,z]=g.useState(""),[re,G]=g.useState("");g.useEffect(()=>{ve(),ye()},[]),g.useEffect(()=>{A&&Q()},[A,p]);const Q=async()=>{u(!0);try{const pe=await de.get(`${ce}/fees/invoice-structures?${p?`search=${p}`:""}`,{headers:{Authorization:`Bearer ${t}`}});a(pe.data.data||[])}catch(pe){console.error("Error fetching invoice structures:",pe),f("Failed to fetch invoice structures")}finally{u(!1)}},ve=async()=>{try{const pe=await de.get(`${ce}/classes/gradelevel-classes`,{headers:{Authorization:`Bearer ${t}`}});n(pe.data.data||[])}catch(pe){console.error("Error fetching classes:",pe)}},ye=async()=>{try{const pe=await de.get(`${ce}/accounting/currencies`,{headers:{Authorization:`Bearer ${t}`}});o(pe.data.data||[])}catch(pe){console.error("Error fetching currencies:",pe)}},ne=()=>{v(""),D(!0)},te=()=>{U(pe=>({...pe,invoice_items:[...pe.invoice_items,{item_name:"",amount:""}]}))},Ae=pe=>{U(Ie=>({...Ie,invoice_items:Ie.invoice_items.filter((Qe,xt)=>xt!==pe)}))},we=(pe,Ie,Qe)=>{U(xt=>({...xt,invoice_items:xt.invoice_items.map((dt,xr)=>xr===pe?{...dt,[Ie]:Qe}:dt)}))},le=()=>q.invoice_items.reduce((pe,Ie)=>pe+(parseFloat(Ie.amount)||0),0),xe=async pe=>{pe.preventDefault();const Ie=q.invoice_items.filter(xt=>xt.item_name&&xt.amount),Qe={...q,total_amount:le(),invoice_items:Ie};try{F?(await de.put(`${ce}/fees/invoice-structures/${F.id}`,Qe,{headers:{Authorization:`Bearer ${t}`}}),z("Invoice structure updated successfully")):(await de.post(`${ce}/fees/invoice-structures`,Qe,{headers:{Authorization:`Bearer ${t}`}}),z("Invoice structure created successfully")),Z(!0),R(!1),Y(!1),rt(),Q()}catch(xt){console.error("Error saving invoice structure:",xt),G(xt.response?.data?.message||"Failed to save invoice structure"),J(!0)}},oe=pe=>{K(pe),O(!0)},me=pe=>{K(pe),U({gradelevel_class_id:pe.gradelevel_class_id,term:pe.term,academic_year:pe.academic_year,currency_id:pe.currency_id,invoice_items:pe.invoice_items?.length>0?pe.invoice_items:[{item_name:"",amount:""}]}),Y(!0)},tt=async()=>{try{await de.delete(`${ce}/fees/invoice-structures/${F.id}`,{headers:{Authorization:`Bearer ${t}`}}),z("Invoice structure deleted successfully"),Z(!0),M(!1),Q()}catch(pe){console.error("Error deleting invoice structure:",pe),G(pe.response?.data?.message||"Failed to delete invoice structure"),J(!0)}},rt=()=>{U({gradelevel_class_id:"",term:"",academic_year:"",currency_id:"",invoice_items:[{item_name:"",amount:""}]}),K(null)},it=r.filter(pe=>{const Ie=p.toLowerCase(),Qe=!p||pe.class_name?.toLowerCase().includes(Ie)||pe.term?.toLowerCase().includes(Ie)||pe.academic_year?.toLowerCase().includes(Ie),xt=!j||pe.academic_year===j,dt=!N||pe.term===N;return Qe&&xt&&dt});return e.jsxs("div",{className:"p-2 md:p-6",children:[e.jsx("div",{className:"mb-4 md:mb-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg md:text-xl font-bold text-gray-900",children:"Invoice Structures"}),e.jsx("p",{className:"text-xs md:text-sm text-gray-500",children:"Manage tuition fee structures with itemized breakdowns"})]}),e.jsx("button",{onClick:()=>{rt(),R(!0)},className:"inline-flex items-center px-3 py-2 border border-gray-300 text-xs font-medium text-white bg-gray-700 hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 w-full sm:w-auto justify-center",children:"Add Invoice Structure"})]})}),e.jsx("div",{className:"mb-4 md:mb-6 space-y-3 md:space-y-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 md:gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsx("input",{type:"text",placeholder:"Enter Year (e.g., 2025)",value:j,onChange:pe=>w(pe.target.value),className:"w-full px-3 py-2 border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"})}),e.jsx("div",{className:"flex-1",children:e.jsxs("select",{value:N,onChange:pe=>P(pe.target.value),className:"w-full px-3 py-2 border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[e.jsx("option",{value:"",children:"Select Term"}),e.jsx("option",{value:"Term 1",children:"Term 1"}),e.jsx("option",{value:"Term 2",children:"Term 2"}),e.jsx("option",{value:"Term 3",children:"Term 3"})]})}),e.jsx("button",{onClick:ne,className:"inline-flex items-center px-3 py-2 border border-gray-300 text-xs font-medium text-white bg-gray-700 hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 w-full sm:w-auto justify-center",children:"Filter"})]})}),e.jsx("div",{className:"bg-white border border-gray-200 overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-2 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Class"}),e.jsx("th",{className:"px-2 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider hidden sm:table-cell",children:"Term"}),e.jsx("th",{className:"px-2 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider hidden md:table-cell",children:"Year"}),e.jsx("th",{className:"px-2 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Amount"}),e.jsx("th",{className:"px-2 md:px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:d?e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"px-2 md:px-6 py-4 text-center text-gray-500",children:"Loading..."})}):it.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"px-2 md:px-6 py-4 text-center text-gray-500",children:"No invoice structures found"})}):it.map(pe=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsxs("td",{className:"px-2 md:px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-xs font-medium text-gray-900",children:pe.class_name}),e.jsxs("div",{className:"text-xs text-gray-500 sm:hidden",children:[pe.term," • ",pe.academic_year]})]}),e.jsx("td",{className:"px-2 md:px-6 py-4 whitespace-nowrap hidden sm:table-cell",children:e.jsx("div",{className:"text-xs font-medium text-gray-900",children:pe.term})}),e.jsx("td",{className:"px-2 md:px-6 py-4 whitespace-nowrap hidden md:table-cell",children:e.jsx("div",{className:"text-xs font-medium text-gray-900",children:pe.academic_year})}),e.jsx("td",{className:"px-2 md:px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"text-xs font-medium text-gray-900",children:[pe.total_amount," ",pe.currency_symbol]})}),e.jsx("td",{className:"px-2 md:px-6 py-4 whitespace-nowrap text-xs font-medium text-center",children:e.jsxs("div",{className:"flex justify-center space-x-1",children:[e.jsx("button",{onClick:()=>oe(pe),className:"text-blue-600 hover:text-blue-900 p-1",title:"View",children:e.jsx(I,{icon:Fr})}),e.jsx("button",{onClick:()=>me(pe),className:"text-indigo-600 hover:text-indigo-900 p-1",title:"Edit",children:e.jsx(I,{icon:lr})}),e.jsx("button",{onClick:()=>{K(pe),M(!0)},className:"text-red-600 hover:text-red-900 p-1",title:"Delete",children:e.jsx(I,{icon:Mt})})]})})]},pe.id))})]})})}),(T||k)&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white border border-gray-200 p-3 md:p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsx("h2",{className:"text-sm md:text-base font-bold mb-3 md:mb-4",children:F?"Edit Invoice Structure":"Add Invoice Structure"}),e.jsxs("form",{onSubmit:xe,className:"space-y-3 md:space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 md:gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Class *"}),e.jsxs("select",{value:q.gradelevel_class_id,onChange:pe=>U(Ie=>({...Ie,gradelevel_class_id:pe.target.value})),className:"w-full border border-gray-300 px-3 py-2 focus:ring-2 focus:ring-blue-500 text-sm",required:!0,children:[e.jsx("option",{value:"",children:"Select Class"}),s.map(pe=>e.jsx("option",{value:pe.id,children:pe.name},pe.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Term *"}),e.jsxs("select",{value:q.term,onChange:pe=>U(Ie=>({...Ie,term:pe.target.value})),className:"w-full border border-gray-300 px-3 py-2 focus:ring-2 focus:ring-blue-500 text-sm",required:!0,children:[e.jsx("option",{value:"",children:"Select Term"}),e.jsx("option",{value:"Term 1",children:"Term 1"}),e.jsx("option",{value:"Term 2",children:"Term 2"}),e.jsx("option",{value:"Term 3",children:"Term 3"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Academic Year *"}),e.jsx("input",{type:"text",value:q.academic_year,onChange:pe=>U(Ie=>({...Ie,academic_year:pe.target.value})),placeholder:"e.g., 2025",className:"w-full border border-gray-300 px-3 py-2 focus:ring-2 focus:ring-blue-500 text-sm",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Currency *"}),e.jsxs("select",{value:q.currency_id,onChange:pe=>U(Ie=>({...Ie,currency_id:pe.target.value})),className:"w-full border border-gray-300 px-3 py-2 focus:ring-2 focus:ring-blue-500 text-sm",required:!0,children:[e.jsx("option",{value:"",children:"Select Currency"}),i.map(pe=>e.jsxs("option",{value:pe.id,children:[pe.name," (",pe.symbol,")"]},pe.id))]})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Invoice Items *"}),e.jsx("button",{type:"button",onClick:te,className:"text-blue-600 hover:text-blue-800 text-xs",children:"+ Add Item"})]}),e.jsx("div",{className:"space-y-2",children:q.invoice_items.map((pe,Ie)=>e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 items-start",children:[e.jsx("input",{type:"text",value:pe.item_name,onChange:Qe=>we(Ie,"item_name",Qe.target.value),placeholder:"Item name (e.g., Levy)",className:"flex-1 border border-gray-300 px-3 py-2 focus:ring-2 focus:ring-blue-500 text-sm",required:!0}),e.jsx("input",{type:"number",step:"0.01",value:pe.amount,onChange:Qe=>we(Ie,"amount",Qe.target.value),placeholder:"Amount",className:"w-full sm:w-32 border border-gray-300 px-3 py-2 focus:ring-2 focus:ring-blue-500 text-sm",required:!0}),q.invoice_items.length>1&&e.jsx("button",{type:"button",onClick:()=>Ae(Ie),className:"text-red-600 hover:text-red-800 px-2 py-2 w-full sm:w-auto",children:"×"})]},Ie))}),e.jsx("div",{className:"mt-4 p-3 bg-gray-50 border border-gray-200",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Total Amount"}),e.jsx("span",{className:"text-sm font-semibold text-gray-900",children:le().toFixed(2)})]})})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-2 sm:gap-3 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>{R(!1),Y(!1),rt()},className:"inline-flex items-center px-3 py-2 border border-gray-300 text-xs font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 w-full sm:w-auto justify-center",children:"Cancel"}),e.jsx("button",{type:"submit",className:"inline-flex items-center px-3 py-2 border border-transparent text-xs font-medium text-white bg-gray-700 hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 w-full sm:w-auto justify-center",children:F?"Update":"Create"})]})]})]})}),E&&F&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white border border-gray-200 p-3 md:p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsx("h2",{className:"text-sm md:text-base font-bold mb-3 md:mb-4",children:"Invoice Structure Details"}),e.jsxs("div",{className:"space-y-3 md:space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 md:gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Class"}),e.jsx("p",{className:"text-xs text-gray-900",children:F.class_name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Term"}),e.jsx("p",{className:"text-xs text-gray-900",children:F.term})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Academic Year"}),e.jsx("p",{className:"text-xs text-gray-900",children:F.academic_year})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Total Amount"}),e.jsxs("p",{className:"text-xs text-gray-900",children:[F.total_amount," ",F.currency_symbol]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Status"}),e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold ${F.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:F.is_active?"Active":"Inactive"})]})]}),F.invoice_items&&F.invoice_items.length>0&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"Invoice Items"}),e.jsx("div",{className:"border border-gray-200",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Item"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Amount"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:F.invoice_items.map((pe,Ie)=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-2 text-xs text-gray-900",children:pe.item_name}),e.jsxs("td",{className:"px-4 py-2 text-xs text-gray-900",children:[pe.amount," ",F.currency_symbol]})]},Ie))})]})})]})]}),e.jsx("div",{className:"flex justify-end pt-4",children:e.jsx("button",{onClick:()=>O(!1),className:"inline-flex items-center px-3 py-2 border border-transparent text-xs font-medium text-white bg-gray-700 hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 w-full sm:w-auto justify-center",children:"Close"})})]})}),$&&F&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white border border-gray-200 p-3 md:p-6 w-full max-w-md",children:[e.jsx("h2",{className:"text-sm md:text-base font-bold mb-3 md:mb-4",children:"Delete Invoice Structure"}),e.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Are you sure you want to delete the invoice structure for ",F.class_name," - ",F.term," ",F.academic_year,"?"]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-2 sm:gap-3",children:[e.jsx("button",{onClick:()=>M(!1),className:"inline-flex items-center px-3 py-2 border border-gray-300 text-xs font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 w-full sm:w-auto justify-center",children:"Cancel"}),e.jsx("button",{onClick:tt,className:"inline-flex items-center px-3 py-2 border border-transparent text-xs font-medium text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 w-full sm:w-auto justify-center",children:"Delete"})]})]})}),e.jsx(Bx,{isOpen:V,onClose:()=>Z(!1),message:be}),e.jsx($f,{isOpen:X,onClose:()=>J(!1),message:re})]})},PY=()=>{const{token:t}=et(),[r,a]=g.useState([]),[s,n]=g.useState([]),[i,o]=g.useState(!1),[d,u]=g.useState(null),[m,f]=g.useState(""),[x,b]=g.useState(""),[p,v]=g.useState(""),[j,w]=g.useState(""),[N,P]=g.useState(!1),[A,D]=g.useState(!1),[T,R]=g.useState(!1),[E,O]=g.useState(!1),[k,Y]=g.useState(!1),[$,M]=g.useState(!1),[F,K]=g.useState(null),[q,U]=g.useState({gradelevel_class_id:"",term:"",academic_year:"",start_date:"",end_date:""}),[V,Z]=g.useState({term:"",academic_year:"",start_date:"",end_date:""}),[X,J]=g.useState(!1),[be,z]=g.useState(!1),[re,G]=g.useState(""),[Q,ve]=g.useState("");g.useEffect(()=>{ne()},[]),g.useEffect(()=>{N&&ye()},[N,x]);const ye=async()=>{o(!0);try{const pe=new URLSearchParams;x&&pe.append("search",x),p&&pe.append("academic_year",p),j&&pe.append("term",j),console.log("Fetching class term years with params:",pe.toString()),console.log("URL:",`${ce}/classes/class-term-years?${pe}`);const Ie=await de.get(`${ce}/classes/class-term-years?${pe}`,{headers:{Authorization:`Bearer ${t}`}});console.log("Response:",Ie.data),a(Ie.data.data||[])}catch(pe){console.error("Error fetching class term years:",pe),console.error("Error response:",pe.response),console.error("Error status:",pe.response?.status),console.error("Error data:",pe.response?.data),console.error("Error message:",pe.message),u("Failed to fetch class term years")}finally{o(!1)}},ne=async()=>{try{console.log("Fetching classes..."),console.log("URL:",`${ce}/classes/gradelevel-classes`);const pe=await de.get(`${ce}/classes/gradelevel-classes`,{headers:{Authorization:`Bearer ${t}`}});console.log("Classes response:",pe.data),n(pe.data.data||[])}catch(pe){console.error("Error fetching classes:",pe),console.error("Error response:",pe.response),console.error("Error status:",pe.response?.status),console.error("Error data:",pe.response?.data),console.error("Error message:",pe.message)}},te=()=>{b(m),P(!0)},Ae=()=>{b(""),P(!0)},we=async pe=>{pe.preventDefault();try{F?(await de.put(`${ce}/classes/class-term-years/${F.id}`,q,{headers:{Authorization:`Bearer ${t}`}}),G("Class term year updated successfully")):(await de.post(`${ce}/classes/class-term-years`,q,{headers:{Authorization:`Bearer ${t}`}}),G("Class term year created successfully")),J(!0),D(!1),O(!1),tt(),ye()}catch(Ie){console.error("Error saving class term year:",Ie),ve(Ie.response?.data?.message||"Failed to save class term year"),z(!0)}},le=async pe=>{pe.preventDefault();try{console.log("Bulk populate data:",V),console.log("URL:",`${ce}/classes/class-term-years/bulk-populate`);const Ie=await de.post(`${ce}/classes/class-term-years/bulk-populate`,V,{headers:{Authorization:`Bearer ${t}`}});console.log("Bulk populate response:",Ie.data),G(Ie.data.message),J(!0),M(!1),rt(),ye()}catch(Ie){console.error("Error bulk populating class term years:",Ie),console.error("Error response:",Ie.response),console.error("Error status:",Ie.response?.status),console.error("Error data:",Ie.response?.data),console.error("Error message:",Ie.message),ve(Ie.response?.data?.message||"Failed to bulk populate class term years"),z(!0)}},xe=pe=>{K(pe),R(!0)},oe=pe=>{K(pe),U({gradelevel_class_id:pe.gradelevel_class_id,term:pe.term,academic_year:pe.academic_year,start_date:pe.start_date||"",end_date:pe.end_date||""}),O(!0)},me=async()=>{try{await de.delete(`${ce}/classes/class-term-years/${F.id}`,{headers:{Authorization:`Bearer ${t}`}}),G("Class term year deleted successfully"),J(!0),Y(!1),ye()}catch(pe){console.error("Error deleting class term year:",pe),ve(pe.response?.data?.message||"Failed to delete class term year"),z(!0)}},tt=()=>{U({gradelevel_class_id:"",term:"",academic_year:"",start_date:"",end_date:""}),K(null)},rt=()=>{Z({term:"",academic_year:"",start_date:"",end_date:""})},it=r.filter(pe=>{const Ie=x.toLowerCase(),Qe=!x||pe.class_name?.toLowerCase().includes(Ie)||pe.stream_name?.toLowerCase().includes(Ie)||pe.term?.toLowerCase().includes(Ie)||pe.academic_year?.toLowerCase().includes(Ie),xt=!p||pe.academic_year===p,dt=!j||pe.term===j;return Qe&&xt&&dt});return e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-sm font-bold text-gray-900",children:"Class Term Year Management"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Manage class assignments for terms and academic years"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>M(!0),className:"inline-flex items-center px-3 py-1.5 border border-gray-300 text-xs font-medium text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:[e.jsx(I,{icon:wf,className:"mr-1"}),"Bulk Populate"]}),e.jsx("button",{onClick:()=>{tt(),D(!0)},className:"inline-flex items-center px-3 py-1.5 border border-gray-300 text-xs font-medium text-white bg-gray-700 hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",children:"Add Record"})]})]})}),e.jsxs("div",{className:"mb-6 space-y-4",children:[e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsx("input",{type:"text",placeholder:"Search by class, stream, term, or year...",value:m,onChange:pe=>f(pe.target.value),className:"w-full px-3 py-2 border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})}),e.jsx("button",{onClick:te,className:"inline-flex items-center px-3 py-1.5 border border-gray-300 text-xs font-medium text-white bg-gray-700 hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",children:"Search"})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsx("input",{type:"text",placeholder:"Enter Year (e.g., 2025)",value:p,onChange:pe=>v(pe.target.value),className:"w-full px-3 py-2 border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})}),e.jsx("div",{className:"flex-1",children:e.jsxs("select",{value:j,onChange:pe=>w(pe.target.value),className:"w-full px-3 py-2 border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Select Term"}),e.jsx("option",{value:"Term 1",children:"Term 1"}),e.jsx("option",{value:"Term 2",children:"Term 2"}),e.jsx("option",{value:"Term 3",children:"Term 3"})]})}),e.jsx("button",{onClick:Ae,className:"inline-flex items-center px-3 py-1.5 border border-gray-300 text-xs font-medium text-white bg-gray-700 hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",children:"Filter"})]})]}),e.jsx("div",{className:"bg-white border border-gray-200 overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Class"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Term"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Year"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Start Date"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"End Date"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:i?e.jsx("tr",{children:e.jsx("td",{colSpan:"7",className:"px-6 py-4 text-center text-gray-500",children:"Loading..."})}):it.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"7",className:"px-6 py-4 text-center text-gray-500",children:"No class term year records found"})}):it.map(pe=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-xs font-medium text-gray-900",children:pe.class_name}),e.jsx("div",{className:"text-xs text-gray-500",children:pe.stream_name})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-xs font-medium text-gray-900",children:pe.term})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-xs font-medium text-gray-900",children:pe.academic_year})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-xs font-medium text-gray-900",children:pe.start_date||"-"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-xs font-medium text-gray-900",children:pe.end_date||"-"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${pe.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:pe.is_active?"Active":"Inactive"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-xs font-medium",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>xe(pe),className:"text-blue-600 hover:text-blue-900",children:e.jsx(I,{icon:Fr})}),e.jsx("button",{onClick:()=>oe(pe),className:"text-indigo-600 hover:text-indigo-900",children:e.jsx(I,{icon:lr})}),e.jsx("button",{onClick:()=>{K(pe),Y(!0)},className:"text-red-600 hover:text-red-900",children:e.jsx(I,{icon:Mt})})]})})]},pe.id))})]})})}),(A||E)&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white border border-gray-200 p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsx("h2",{className:"text-sm font-bold mb-4",children:F?"Edit Class Term Year":"Add Class Term Year"}),e.jsxs("form",{onSubmit:we,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Class *"}),e.jsxs("select",{value:q.gradelevel_class_id,onChange:pe=>U(Ie=>({...Ie,gradelevel_class_id:pe.target.value})),className:"w-full border border-gray-300 px-3 py-2 focus:ring-2 focus:ring-blue-500",required:!0,children:[e.jsx("option",{value:"",children:"Select Class"}),s.map(pe=>e.jsx("option",{value:pe.id,children:pe.name},pe.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Term *"}),e.jsxs("select",{value:q.term,onChange:pe=>U(Ie=>({...Ie,term:pe.target.value})),className:"w-full border border-gray-300 px-3 py-2 focus:ring-2 focus:ring-blue-500",required:!0,children:[e.jsx("option",{value:"",children:"Select Term"}),e.jsx("option",{value:"Term 1",children:"Term 1"}),e.jsx("option",{value:"Term 2",children:"Term 2"}),e.jsx("option",{value:"Term 3",children:"Term 3"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Academic Year *"}),e.jsx("input",{type:"text",value:q.academic_year,onChange:pe=>U(Ie=>({...Ie,academic_year:pe.target.value})),placeholder:"e.g., 2025",className:"w-full border border-gray-300 px-3 py-2 focus:ring-2 focus:ring-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Start Date"}),e.jsx("input",{type:"date",value:q.start_date,onChange:pe=>U(Ie=>({...Ie,start_date:pe.target.value})),className:"w-full border border-gray-300 px-3 py-2 focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"End Date"}),e.jsx("input",{type:"date",value:q.end_date,onChange:pe=>U(Ie=>({...Ie,end_date:pe.target.value})),className:"w-full border border-gray-300 px-3 py-2 focus:ring-2 focus:ring-blue-500"})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>{D(!1),O(!1),tt()},className:"inline-flex items-center px-3 py-1.5 border border-gray-300 text-xs font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",children:"Cancel"}),e.jsx("button",{type:"submit",className:"inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium text-white bg-gray-700 hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",children:F?"Update":"Create"})]})]})]})}),$&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white border border-gray-200 p-6 w-full max-w-md",children:[e.jsx("h2",{className:"text-sm font-bold mb-4",children:"Bulk Populate Class Term Years"}),e.jsx("p",{className:"text-xs text-gray-600 mb-4",children:"This will create class term year records for all active classes for the specified term and academic year."}),e.jsxs("form",{onSubmit:le,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Term *"}),e.jsxs("select",{value:V.term,onChange:pe=>Z(Ie=>({...Ie,term:pe.target.value})),className:"w-full border border-gray-300 px-3 py-2 focus:ring-2 focus:ring-blue-500",required:!0,children:[e.jsx("option",{value:"",children:"Select Term"}),e.jsx("option",{value:"Term 1",children:"Term 1"}),e.jsx("option",{value:"Term 2",children:"Term 2"}),e.jsx("option",{value:"Term 3",children:"Term 3"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Academic Year *"}),e.jsx("input",{type:"text",value:V.academic_year,onChange:pe=>Z(Ie=>({...Ie,academic_year:pe.target.value})),placeholder:"e.g., 2025",className:"w-full border border-gray-300 px-3 py-2 focus:ring-2 focus:ring-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Start Date"}),e.jsx("input",{type:"date",value:V.start_date,onChange:pe=>Z(Ie=>({...Ie,start_date:pe.target.value})),className:"w-full border border-gray-300 px-3 py-2 focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"End Date"}),e.jsx("input",{type:"date",value:V.end_date,onChange:pe=>Z(Ie=>({...Ie,end_date:pe.target.value})),className:"w-full border border-gray-300 px-3 py-2 focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>{M(!1),rt()},className:"inline-flex items-center px-3 py-1.5 border border-gray-300 text-xs font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",children:"Cancel"}),e.jsx("button",{type:"submit",className:"inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:"Populate All Classes"})]})]})]})}),T&&F&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white border border-gray-200 p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsx("h2",{className:"text-sm font-bold mb-4",children:"Class Term Year Details"}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Class"}),e.jsx("p",{className:"text-xs text-gray-900",children:F.class_name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Stream"}),e.jsx("p",{className:"text-xs text-gray-900",children:F.stream_name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Term"}),e.jsx("p",{className:"text-xs text-gray-900",children:F.term})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Academic Year"}),e.jsx("p",{className:"text-xs text-gray-900",children:F.academic_year})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Start Date"}),e.jsx("p",{className:"text-xs text-gray-900",children:F.start_date||"-"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"End Date"}),e.jsx("p",{className:"text-xs text-gray-900",children:F.end_date||"-"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Status"}),e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold ${F.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:F.is_active?"Active":"Inactive"})]})]})}),e.jsx("div",{className:"flex justify-end pt-4",children:e.jsx("button",{onClick:()=>R(!1),className:"inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium text-white bg-gray-700 hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",children:"Close"})})]})}),k&&F&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white border border-gray-200 p-6 w-full max-w-md",children:[e.jsx("h2",{className:"text-sm font-bold mb-4",children:"Delete Class Term Year"}),e.jsxs("p",{className:"text-gray-600 mb-4",children:["Are you sure you want to delete the class term year record for ",F.class_name," - ",F.term," ",F.academic_year,"?"]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>Y(!1),className:"inline-flex items-center px-3 py-1.5 border border-gray-300 text-xs font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",children:"Cancel"}),e.jsx("button",{onClick:me,className:"inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:"Delete"})]})]})}),e.jsx(Bx,{isOpen:X,onClose:()=>J(!1),message:re}),e.jsx($f,{isOpen:be,onClose:()=>z(!1),message:Q})]})},TY=()=>{const{token:t}=et(),[r,a]=g.useState({name:"",stage:""}),[s,n]=g.useState(!1),[i,o]=g.useState(""),[d,u]=g.useState(""),[m,f]=g.useState([]),[x,b]=g.useState(!1),[p,v]=g.useState(""),[j,w]=g.useState({code:"",name:"",syllabus:""}),[N,P]=g.useState(!1),[A,D]=g.useState(""),[T,R]=g.useState(""),[E,O]=g.useState([]),[k,Y]=g.useState(!1),[$,M]=g.useState("");g.useEffect(()=>{F()},[]);const F=async()=>{b(!0),v("");try{const J=await de.get(`${ce}/classes/streams`,{headers:{Authorization:`Bearer ${t}`}});J.data.success?f(J.data.data||[]):v("Failed to load streams.")}catch{v("Failed to load streams.")}finally{b(!1)}},K=J=>{const{name:be,value:z}=J.target;a(re=>({...re,[be]:z}))},q=async J=>{if(J.preventDefault(),o(""),u(""),!r.name.trim()||!r.stage.trim()){o("Both name and stage are required.");return}try{n(!0);const be=await de.post(`${ce}/classes/streams`,r,{headers:{Authorization:`Bearer ${t}`}});be.data.success?(u("Stream added successfully!"),a({name:"",stage:""}),F()):o(be.data.message||"Failed to add stream.")}catch(be){o(be.response?.data?.message||"Failed to add stream.")}finally{n(!1)}};g.useEffect(()=>{U()},[]);const U=async()=>{Y(!0),M("");try{const J=await de.get(`${ce}/classes/subjects`,{headers:{Authorization:`Bearer ${t}`}});J.data.success?O(J.data.data||[]):M("Failed to load subjects.")}catch{M("Failed to load subjects.")}finally{Y(!1)}},V=J=>{const{name:be,value:z}=J.target;w(re=>({...re,[be]:z}))},Z=async J=>{if(J.preventDefault(),D(""),R(""),!j.code.trim()||!j.name.trim()){D("Both code and name are required.");return}try{P(!0);const be=await de.post(`${ce}/classes/subjects`,j,{headers:{Authorization:`Bearer ${t}`}});be.data.success?(R("Subject added successfully!"),w({code:"",name:"",syllabus:""}),U()):D(be.data.message||"Failed to add subject.")}catch(be){console.log("Error adding subject:",be),D(be.response?.data?.message||"Failed to add subject.")}finally{P(!1)}},X=()=>{const J=Math.floor(1e3+Math.random()*9e3);w(be=>({...be,code:`SUBJ${J}`}))};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"p-6 mb-6",children:[e.jsxs("h2",{className:" font-semibold text-gray-900 mb-2 flex items-center",children:[e.jsx(I,{icon:Ir,className:"mr-2 h-5 w-5 text-gray-400"}),"Add New Stream"]}),e.jsxs("form",{onSubmit:q,className:"grid grid-cols-1 md:grid-cols-3 gap-4 items-end",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs font-medium text-gray-600",children:["Stream Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"name",value:r.name,onChange:K,className:"mt-1 block w-full border border-gray-300 px-3 py-2 text-xs focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., Grade 1, Form 2, ECD A",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs font-medium text-gray-600",children:["Stage ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"stage",value:r.stage,onChange:K,className:"mt-1 block w-full border border-gray-300 px-3 py-2 text-xs focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., Primary, Secondary, ECD",required:!0})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:s,className:`px-6 py-2 text-xs font-medium text-white ${s?"bg-gray-400 cursor-not-allowed":"bg-gray-700 hover:bg-gray-800"} w-full`,children:s?"Adding...":"Add Stream"})})]}),(i||d)&&e.jsx("div",{className:`mt-3 text-xs ${i?"text-red-600":"text-green-600"}`,children:i||d})]}),e.jsxs("div",{className:"p-6 mb-6",children:[e.jsxs("h2",{className:" font-semibold text-gray-900 mb-2 flex items-center",children:[e.jsx(I,{icon:bc,className:"mr-2 h-5 w-5 text-gray-400"}),"Add New Subject"]}),e.jsxs("form",{onSubmit:Z,className:"grid grid-cols-1 md:grid-cols-4 gap-4 items-end",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs font-medium text-gray-600",children:["Subject Code ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"text",name:"code",value:j.code,onChange:V,className:"mt-1 block w-full border border-gray-300 px-3 py-2 text-xs focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., ENG101",required:!0}),e.jsx("button",{type:"button",onClick:X,className:"mt-1 px-2 py-1 text-xs bg-gray-200 hover:bg-gray-300 text-gray-700 border border-gray-300 rounded",children:"Auto"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs font-medium text-gray-600",children:["Subject Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"name",value:j.name,onChange:V,className:"mt-1 block w-full border border-gray-300 px-3 py-2 text-xs focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., English Language",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-600",children:"Syllabus"}),e.jsx("input",{type:"text",name:"syllabus",value:j.syllabus,onChange:V,className:"mt-1 block w-full border border-gray-300 px-3 py-2 text-xs focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., ZIMSEC, Cambridge"})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:N,className:`px-6 py-2 text-xs font-medium text-white ${N?"bg-gray-400 cursor-not-allowed":"bg-gray-700 hover:bg-gray-800"} w-full`,children:N?"Adding...":"Add Subject"})})]}),(A||T)&&e.jsx("div",{className:`mt-3 text-xs ${A?"text-red-600":"text-green-600"}`,children:A||T})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:" font-semibold text-gray-900 mb-2",children:"Existing Streams"}),x?e.jsx("div",{className:"text-xs text-gray-500",children:"Loading streams..."}):p?e.jsx("div",{className:"text-xs text-red-600",children:p}):m.length===0?e.jsx("div",{className:"text-xs text-gray-500",children:"No streams found."}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 border border-gray-200 text-xs",children:[e.jsx("thead",{className:"bg-gray-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-3 py-2 text-left font-medium tracking-wider",children:"Stream Name"}),e.jsx("th",{className:"px-3 py-2 text-left font-medium tracking-wider",children:"Stage"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:m.map(J=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:J.name}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:J.stage})]},J.id))})]})})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:" font-semibold text-gray-900 mb-2",children:"Existing Subjects"}),k?e.jsx("div",{className:"text-xs text-gray-500",children:"Loading subjects..."}):$?e.jsx("div",{className:"text-xs text-red-600",children:$}):E.length===0?e.jsx("div",{className:"text-xs text-gray-500",children:"No subjects found."}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 border border-gray-200 text-xs",children:[e.jsx("thead",{className:"bg-gray-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-3 py-2 text-left font-medium tracking-wider",children:"Subject Name"}),e.jsx("th",{className:"px-3 py-2 text-left font-medium tracking-wider",children:"Code"}),e.jsx("th",{className:"px-3 py-2 text-left font-medium tracking-wider",children:"Syllabus"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:E.map(J=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:J.name}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:J.code}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:J.syllabus||"-"})]},J.id))})]})})]})]})},OY=()=>{const{token:t}=et(),[r,a]=g.useState(""),[s,n]=g.useState(null),[i,o]=g.useState(null),[d,u]=g.useState([]),[m,f]=g.useState(!1),[x,b]=g.useState(""),[p,v]=g.useState({start_date:"",end_date:"",page:1,limit:50}),[j,w]=g.useState({}),N=async()=>{if(console.log("🔍 Starting student search for:",r),!r.trim()){b("Please enter a student registration number");return}f(!0),b("");try{console.log("📡 Making API call to:",`${ce}/students/search?query=${r}`),console.log("📡 Making balance API call to:",`${ce}/student-balances/${r}`);const k=await de.get(`${ce}/students/search?query=${r}`,{headers:{Authorization:`Bearer ${t}`}});console.log("✅ Student response:",k.data),n(k.data.data[0]);const Y=await de.get(`${ce}/student-balances/${r}`,{headers:{Authorization:`Bearer ${t}`}});console.log("✅ Balance response:",Y.data),o(Y.data.data),await P()}catch(k){console.error("Error searching student:",k),console.error("Error response:",k.response),console.error("Error status:",k.response?.status),console.error("Error data:",k.response?.data);let Y="Failed to find student";k.response?.status===403?Y="Access denied. You may not have permission to view student information.":k.response?.status===404?Y="Student not found. Please check the registration number.":k.response?.data?.message&&(Y=k.response.data.message),b(Y),n(null),o(null),u([])}finally{f(!1)}},P=async()=>{if(r)try{const k=new URLSearchParams({page:p.page,limit:p.limit,...p.start_date&&{start_date:p.start_date},...p.end_date&&{end_date:p.end_date}}),Y=await de.get(`${ce}/student-balances/${r}/statement?${k}`,{headers:{Authorization:`Bearer ${t}`}});u(Y.data.data.transactions),w(Y.data.data.pagination)}catch(k){console.error("Error fetching statement:",k),b("Failed to fetch student statement")}},A=(k,Y)=>{v($=>({...$,[k]:Y,page:1}))},D=()=>{P()},T=k=>{v(Y=>({...Y,page:k}))},R=(k,Y)=>{const $=parseFloat(k).toFixed(2),M=Y==="CREDIT"?"text-green-600":"text-red-600",F=Y==="CREDIT"?_t:Rp;return e.jsxs("span",{className:`font-semibold ${M} flex items-center gap-1`,children:[e.jsx(I,{icon:F,className:"text-xs"}),"$",$]})},E=k=>new Date(k).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),O=k=>k==="CREDIT"?"bg-green-100 text-green-800 border-green-200":"bg-red-100 text-red-800 border-red-200";return g.useEffect(()=>{r&&s&&P()},[p.page,p.limit]),e.jsx("div",{className:"container mx-auto px-4 py-6",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Student Statement"}),e.jsx("div",{className:"mb-6",children:e.jsx("div",{className:"flex gap-4 items-end",children:e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Student Registration Number"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:r,onChange:k=>a(k.target.value),placeholder:"Enter registration number",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.jsxs("button",{onClick:N,disabled:m,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",children:[e.jsx(I,{icon:Vt,className:"mr-2"}),m?"Searching...":"Search"]})]})]})})}),x&&e.jsx("div",{className:"mb-4 p-4 bg-red-100 border border-red-400 text-red-700 rounded",children:x}),s&&i&&e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"font-semibold text-blue-800 mb-2",children:"Student Information"}),e.jsxs("p",{className:"text-sm text-gray-600",children:[e.jsx("span",{className:"font-medium",children:"Name:"})," ",s.Name," ",s.Surname]}),e.jsxs("p",{className:"text-sm text-gray-600",children:[e.jsx("span",{className:"font-medium",children:"Reg No:"})," ",s.RegNumber]}),e.jsxs("p",{className:"text-sm text-gray-600",children:[e.jsx("span",{className:"font-medium",children:"Gender:"})," ",s.Gender]})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Current Balance"}),e.jsxs("div",{className:`text-2xl font-bold ${i.current_balance>=0?"text-green-600":"text-red-600"}`,children:["$",parseFloat(i.current_balance).toFixed(2)]}),e.jsx("p",{className:"text-sm text-gray-500",children:i.current_balance>=0?"Credit Balance":"Outstanding Balance"}),e.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Last updated: ",E(i.last_updated)]})]}),e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"font-semibold text-green-800 mb-2",children:"Quick Actions"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("button",{className:"w-full px-3 py-1 bg-green-600 text-white text-sm rounded hover:bg-green-700",children:[e.jsx(I,{icon:js,className:"mr-1"}),"Download Statement"]}),e.jsxs("button",{className:"w-full px-3 py-1 bg-blue-600 text-white text-sm rounded hover:bg-blue-700",children:[e.jsx(I,{icon:Is,className:"mr-1"}),"Print Statement"]})]})]})]})}),s&&e.jsxs("div",{className:"mb-6 bg-gray-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"font-semibold text-gray-800 mb-3",children:"Filter Transactions"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date"}),e.jsx("input",{type:"date",value:p.start_date,onChange:k=>A("start_date",k.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date"}),e.jsx("input",{type:"date",value:p.end_date,onChange:k=>A("end_date",k.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Records per page"}),e.jsxs("select",{value:p.limit,onChange:k=>A("limit",k.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:25,children:"25"}),e.jsx("option",{value:50,children:"50"}),e.jsx("option",{value:100,children:"100"})]})]}),e.jsx("div",{className:"flex items-end",children:e.jsxs("button",{onClick:D,className:"w-full px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx(I,{icon:ts,className:"mr-2"}),"Apply Filters"]})})]})]}),s&&d.length>0&&e.jsxs("div",{className:"overflow-x-auto",children:[e.jsxs("table",{className:"min-w-full bg-white border border-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date & Time"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Term/Year"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Class/Hostel"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:d.map(k=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:E(k.transaction_date)}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full border ${O(k.transaction_type)}`,children:k.transaction_type})}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:R(k.amount,k.transaction_type)}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 max-w-xs truncate",children:k.description}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-500",children:k.term&&k.academic_year?`${k.term} ${k.academic_year}`:"-"}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-500",children:k.class_name||k.hostel_name||"-"})]},k.id))})]}),j.totalPages>1&&e.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-gray-700",children:["Showing ",(j.page-1)*j.limit+1," to ",Math.min(j.page*j.limit,j.total)," of ",j.total," results"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>T(j.page-1),disabled:j.page<=1,className:"px-3 py-1 border border-gray-300 rounded text-sm disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Previous"}),e.jsxs("span",{className:"px-3 py-1 text-sm text-gray-700",children:["Page ",j.page," of ",j.totalPages]}),e.jsx("button",{onClick:()=>T(j.page+1),disabled:j.page>=j.totalPages,className:"px-3 py-1 border border-gray-300 rounded text-sm disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Next"})]})]})]}),s&&d.length===0&&!m&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx(I,{icon:Fr,className:"text-4xl text-gray-400 mb-4"}),e.jsx("p",{className:"text-gray-500",children:"No transactions found for this student."})]})]})})},DY=()=>{const{token:t}=et(),[r,a]=g.useState([]),[s,n]=g.useState(null),[i,o]=g.useState(!0),[d,u]=g.useState(""),[m,f]=g.useState(""),[x,b]=g.useState(""),[p,v]=g.useState({currentPage:1,totalPages:1,totalStudents:0,limit:20,hasNextPage:!1,hasPreviousPage:!1});g.useEffect(()=>{j(),w()},[p.currentPage,x]);const j=async()=>{try{o(!0),u("");const O=new URLSearchParams({page:p.currentPage,limit:p.limit,...x&&{search:x}}),k=await de.get(`${ce}/students/balances/outstanding?${O}`,{headers:{Authorization:`Bearer ${t}`}});k.data.success&&(a(k.data.data),v(k.data.pagination),n(k.data.summary))}catch(O){console.error("Error fetching student balances:",O),u("Failed to fetch student balances")}finally{o(!1)}},w=async()=>{try{const O=await de.get(`${ce}/students/balances/summary`,{headers:{Authorization:`Bearer ${t}`}});O.data.success&&n(O.data.data)}catch(O){console.error("Error fetching summary:",O)}},N=()=>{b(m),v(O=>({...O,currentPage:1}))},P=O=>{v(k=>({...k,currentPage:O}))},A=O=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(Math.abs(O)),D=O=>new Date(O).toLocaleDateString("en-GB"),T=()=>{j(),w()},R=()=>{const O=[["Registration Number","Name","Surname","Class","Outstanding Balance","Last Transaction Date"],...r.map(M=>[M.RegNumber,M.Name,M.Surname,"Not Assigned",Math.abs(M.current_balance).toFixed(2),M.last_transaction_date?D(M.last_transaction_date):"N/A"])].map(M=>M.join(",")).join(`
`),k=new Blob([O],{type:"text/csv"}),Y=window.URL.createObjectURL(k),$=document.createElement("a");$.href=Y,$.download=`outstanding-balances-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild($),$.click(),window.URL.revokeObjectURL(Y),document.body.removeChild($)},E=()=>{const O=window.open("","_blank");O.document.write(`
      <html>
        <head>
          <title>Outstanding Student Balances</title>
          <style>
            body { font-family: Arial, sans-serif; margin: 20px; }
            .header { text-align: center; border-bottom: 2px solid #000; padding-bottom: 10px; margin-bottom: 20px; }
            .summary { background: #f5f5f5; padding: 15px; margin-bottom: 20px; border: 1px solid #ddd; }
            table { width: 100%; border-collapse: collapse; margin-top: 10px; }
            th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
            th { background-color: #f2f2f2; }
            .amount { text-align: right; }
            .total { font-weight: bold; background-color: #f9f9f9; }
          </style>
        </head>
        <body>
          <div class="header">
            <h1>OUTSTANDING STUDENT BALANCES</h1>
            <p>Generated on ${new Date().toLocaleDateString()}</p>
          </div>
          
          <div class="summary">
            <h3>Summary</h3>
            <p><strong>Total Students with Outstanding Balances:</strong> ${s?.total_students_with_debt||0}</p>
            <p><strong>Total Outstanding Amount:</strong> ${A(s?.total_outstanding_debt||0)}</p>
          </div>
          
          <table>
            <thead>
              <tr>
                <th>Registration No</th>
                <th>Name</th>
                <th>Surname</th>
                <th>Class</th>
                <th class="amount">Outstanding Balance</th>
                <th>Last Transaction</th>
              </tr>
            </thead>
            <tbody>
                             ${r.map(k=>`
                 <tr>
                   <td>${k.RegNumber}</td>
                   <td>${k.Name}</td>
                   <td>${k.Surname}</td>
                   <td>Not Assigned</td>
                   <td class="amount">${A(k.current_balance)}</td>
                   <td>${k.last_transaction_date?D(k.last_transaction_date):"N/A"}</td>
                 </tr>
               `).join("")}
            </tbody>
          </table>
        </body>
      </html>
    `),O.document.close(),O.print()};return e.jsx("div",{className:"min-h-screen bg-gray-50 py-6",children:e.jsxs("div",{className:"w-full px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Outstanding Student Balances"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Students with outstanding debts and payment obligations"})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:T,className:"bg-gray-600 text-white px-3 py-2 text-xs hover:bg-gray-700 flex items-center",children:[e.jsx(I,{icon:LC,className:"mr-1"}),"Refresh"]}),e.jsxs("button",{onClick:R,className:"bg-green-600 text-white px-3 py-2 text-xs hover:bg-green-700 flex items-center",children:[e.jsx(I,{icon:js,className:"mr-1"}),"Export"]}),e.jsxs("button",{onClick:E,className:"bg-blue-600 text-white px-3 py-2 text-xs hover:bg-blue-700 flex items-center",children:[e.jsx(I,{icon:Is,className:"mr-1"}),"Print"]})]})]})}),s&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(I,{icon:ur,className:"text-red-600 text-lg mr-3"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-red-600 font-medium",children:"Students with Debt"}),e.jsx("p",{className:"text-lg font-bold text-red-900",children:s.total_students_with_debt})]})]})}),e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(I,{icon:$r,className:"text-red-600 text-lg mr-3"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-red-600 font-medium",children:"Total Outstanding"}),e.jsx("p",{className:"text-lg font-bold text-red-900",children:A(s.total_outstanding_debt)})]})]})})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4 mb-6",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(I,{icon:Vt,className:"absolute left-2 top-1/2 transform -translate-y-1/2 text-gray-400 text-xs"}),e.jsx("input",{type:"text",placeholder:"Search by name or registration number...",value:m,onChange:O=>f(O.target.value),onKeyPress:O=>O.key==="Enter"&&N(),className:"w-full pl-6 pr-2 py-2 border border-gray-300 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500"})]}),e.jsx("button",{onClick:N,className:"bg-gray-900 text-white px-4 py-2 text-xs hover:bg-gray-800",children:"Search"})]})}),d&&e.jsx("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 text-xs rounded",children:d}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:i?e.jsx("div",{className:"p-8 text-center",children:e.jsx("p",{className:"text-sm text-gray-600",children:"Loading outstanding balances..."})}):r.length===0?e.jsxs("div",{className:"p-8 text-center",children:[e.jsx(I,{icon:La,className:"text-gray-400 text-3xl mb-2"}),e.jsx("p",{className:"text-sm text-gray-600",children:x?"No students found matching your search":"No students with outstanding balances"})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Student"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Class"}),e.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Outstanding Balance"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Transaction"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(O=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-xs",children:e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium text-gray-900",children:[O.Name," ",O.Surname]}),e.jsx("div",{className:"text-gray-500",children:O.RegNumber})]})}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-xs text-gray-900",children:"Not Assigned"}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-xs text-right",children:e.jsx("span",{className:"text-red-600 font-bold",children:A(O.current_balance)})}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-xs text-gray-900",children:O.last_transaction_date?D(O.last_transaction_date):"N/A"})]},O.RegNumber))})]})}),p.totalPages>1&&e.jsx("div",{className:"bg-white px-4 py-3 border-t border-gray-200 sm:px-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[e.jsx("button",{onClick:()=>P(p.currentPage-1),disabled:!p.hasPreviousPage,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-xs font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),e.jsx("button",{onClick:()=>P(p.currentPage+1),disabled:!p.hasNextPage,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-xs font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]}),e.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[e.jsx("div",{children:e.jsxs("p",{className:"text-xs text-gray-700",children:["Showing"," ",e.jsx("span",{className:"font-medium",children:(p.currentPage-1)*p.limit+1})," ","to"," ",e.jsx("span",{className:"font-medium",children:Math.min(p.currentPage*p.limit,p.totalStudents)})," ","of"," ",e.jsx("span",{className:"font-medium",children:p.totalStudents})," ","results"]})}),e.jsx("div",{children:e.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:[e.jsx("button",{onClick:()=>P(p.currentPage-1),disabled:!p.hasPreviousPage,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-xs font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Array.from({length:Math.min(5,p.totalPages)},(O,k)=>{const Y=k+1;return e.jsx("button",{onClick:()=>P(Y),className:`relative inline-flex items-center px-3 py-2 border text-xs font-medium ${Y===p.currentPage?"z-10 bg-gray-900 border-gray-900 text-white":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:Y},Y)}),e.jsx("button",{onClick:()=>P(p.currentPage+1),disabled:!p.hasNextPage,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-xs font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})})]})]})})]})})]})})},LY=()=>{const{token:t}=et(),[r,a]=g.useState(""),[s,n]=g.useState(null),[i,o]=g.useState(null),[d,u]=g.useState([]),[m,f]=g.useState(!1),[x,b]=g.useState(""),[p,v]=g.useState(""),[j,w]=g.useState(!1),[N,P]=g.useState(!1),[A,D]=g.useState({payment_amount:"",payment_currency:"",exchange_rate:1,payment_method:"Cash",payment_date:new Date().toISOString().split("T")[0],reference_number:"",notes:""}),[T,R]=g.useState(null);g.useEffect(()=>{E()},[]);const E=async()=>{try{const F=await de.get(`${ce}/accounting/currencies`,{headers:{Authorization:`Bearer ${t}`}});u(F.data.data)}catch(F){console.error("Error fetching currencies:",F)}},O=async()=>{if(console.log("🔍 Starting student search for:",r),!r.trim()){b("Please enter a student registration number"),P(!0);return}f(!0),b("");try{console.log("📡 Making API call to:",`${ce}/students/search?query=${r}`);const F=await de.get(`${ce}/students/search?query=${r}`,{headers:{Authorization:`Bearer ${t}`}});console.log("✅ Student response:",F.data),n(F.data.data[0]),console.log("📡 Making balance API call to:",`${ce}/student-balances/${r}`);const K=await de.get(`${ce}/student-balances/${r}`,{headers:{Authorization:`Bearer ${t}`}});console.log("✅ Balance response:",K.data),o(K.data.data)}catch(F){console.error("Error searching student:",F),console.error("Error response:",F.response),console.error("Error status:",F.response?.status),console.error("Error data:",F.response?.data);let K="Failed to find student";F.response?.status===403?K="Access denied. You may not have permission to view student information.":F.response?.status===404?K="Student not found. Please check the registration number.":F.response?.data?.message&&(K=F.response.data.message),b(K),P(!0),n(null),o(null)}finally{f(!1)}},k=(F,K)=>{if(D(q=>({...q,[F]:K})),F==="payment_currency"){const q=d.find(U=>U.id==K);q&&D(U=>({...U,exchange_rate:q.exchange_rate||1}))}},Y=()=>{const F=parseFloat(A.payment_amount)||0,K=parseFloat(A.exchange_rate)||1;return(F*K).toFixed(2)},$=async()=>{if(!s){b("Please search for a student first"),P(!0);return}if(!A.payment_amount||!A.payment_currency||!A.payment_method){b("Please fill in all required fields"),P(!0);return}f(!0),b("");try{const F={student_reg_number:r,...A,base_currency_amount:Y()},K=await de.post(`${ce}/fees/payments`,F,{headers:{Authorization:`Bearer ${t}`}});if(R(K.data.data),v("Payment processed successfully!"),w(!0),D({payment_amount:"",payment_currency:"",exchange_rate:1,payment_method:"Cash",payment_date:new Date().toISOString().split("T")[0],reference_number:"",notes:""}),s){const q=await de.get(`${ce}/student-balances/${r}`,{headers:{Authorization:`Bearer ${t}`}});o(q.data.data)}}catch(F){console.error("Error processing payment:",F),b(F.response?.data?.message||"Failed to process payment"),P(!0)}finally{f(!1)}},M=()=>{if(T){const F=window.open("","_blank");F.document.write(`
                <html>
                    <head>
                        <title>Payment Receipt</title>
                        <style>
                            body { font-family: Arial, sans-serif; margin: 20px; }
                            .header { text-align: center; border-bottom: 2px solid #333; padding-bottom: 10px; margin-bottom: 20px; }
                            .receipt-details { margin-bottom: 20px; }
                            .receipt-details table { width: 100%; border-collapse: collapse; }
                            .receipt-details td { padding: 5px; border-bottom: 1px solid #ddd; }
                            .amount { font-size: 18px; font-weight: bold; color: #2563eb; }
                            .footer { margin-top: 30px; text-align: center; font-size: 12px; color: #666; }
                        </style>
                    </head>
                    <body>
                        <div class="header">
                            <h1>Payment Receipt</h1>
                            <p>Receipt #: ${T.receipt_number}</p>
                        </div>
                        <div class="receipt-details">
                            <table>
                                <tr><td><strong>Student:</strong></td><td>${s?.Name} ${s?.Surname}</td></tr>
                                <tr><td><strong>Registration No:</strong></td><td>${s?.RegNumber}</td></tr>
                                <tr><td><strong>Payment Date:</strong></td><td>${A.payment_date}</td></tr>
                                <tr><td><strong>Payment Method:</strong></td><td>${A.payment_method}</td></tr>
                                <tr><td><strong>Amount:</strong></td><td class="amount">$${Y()}</td></tr>
                                ${A.reference_number?`<tr><td><strong>Reference:</strong></td><td>${A.reference_number}</td></tr>`:""}
                                ${A.notes?`<tr><td><strong>Notes:</strong></td><td>${A.notes}</td></tr>`:""}
                            </table>
                        </div>
                        <div class="footer">
                            <p>Thank you for your payment!</p>
                            <p>Generated on: ${new Date().toLocaleString()}</p>
                        </div>
                    </body>
                </html>
            `),F.document.close(),F.print()}};return e.jsxs("div",{className:"container mx-auto px-4 py-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Fee Payment"}),e.jsx("div",{className:"mb-6",children:e.jsx("div",{className:"flex gap-4 items-end",children:e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Student Registration Number"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:r,onChange:F=>a(F.target.value),placeholder:"Enter registration number",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.jsxs("button",{onClick:O,disabled:m,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",children:[e.jsx(I,{icon:Vt,className:"mr-2"}),m?"Searching...":"Search"]})]})]})})}),s&&i&&e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[e.jsxs("h3",{className:"font-semibold text-blue-800 mb-2 flex items-center",children:[e.jsx(I,{icon:Fs,className:"mr-2"}),"Student Information"]}),e.jsxs("p",{className:"text-sm text-gray-600",children:[e.jsx("span",{className:"font-medium",children:"Name:"})," ",s.Name," ",s.Surname]}),e.jsxs("p",{className:"text-sm text-gray-600",children:[e.jsx("span",{className:"font-medium",children:"Reg No:"})," ",s.RegNumber]}),e.jsxs("p",{className:"text-sm text-gray-600",children:[e.jsx("span",{className:"font-medium",children:"Gender:"})," ",s.Gender]})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsxs("h3",{className:"font-semibold text-gray-800 mb-2 flex items-center",children:[e.jsx(I,{icon:$r,className:"mr-2"}),"Current Balance"]}),e.jsxs("div",{className:`text-2xl font-bold ${i.current_balance>=0?"text-green-600":"text-red-600"}`,children:["$",parseFloat(i.current_balance).toFixed(2)]}),e.jsx("p",{className:"text-sm text-gray-500",children:i.current_balance>=0?"Credit Balance":"Outstanding Balance"})]})]})}),s&&e.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg",children:[e.jsxs("h3",{className:"font-semibold text-gray-800 mb-4 flex items-center",children:[e.jsx(I,{icon:Pn,className:"mr-2"}),"Payment Details"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Amount *"}),e.jsx("input",{type:"number",step:"0.01",value:A.payment_amount,onChange:F=>k("payment_amount",F.target.value),placeholder:"0.00",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Currency *"}),e.jsxs("select",{value:A.payment_currency,onChange:F=>k("payment_currency",F.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"Select Currency"}),d.map(F=>e.jsxs("option",{value:F.id,children:[F.name," (",F.code,")"]},F.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Exchange Rate"}),e.jsx("input",{type:"number",step:"0.000001",value:A.exchange_rate,onChange:F=>k("exchange_rate",F.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Method *"}),e.jsxs("select",{value:A.payment_method,onChange:F=>k("payment_method",F.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"Cash",children:"Cash"}),e.jsx("option",{value:"Bank Transfer",children:"Bank Transfer"}),e.jsx("option",{value:"Cheque",children:"Cheque"}),e.jsx("option",{value:"Mobile Money",children:"Mobile Money"}),e.jsx("option",{value:"Other",children:"Other"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Date"}),e.jsx("input",{type:"date",value:A.payment_date,onChange:F=>k("payment_date",F.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reference Number"}),e.jsx("input",{type:"text",value:A.reference_number,onChange:F=>k("reference_number",F.target.value),placeholder:"Transaction reference",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),e.jsx("textarea",{value:A.notes,onChange:F=>k("notes",F.target.value),placeholder:"Additional notes...",rows:"3",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),A.payment_amount&&e.jsx("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg",children:e.jsxs("p",{className:"text-sm text-gray-600",children:[e.jsx("span",{className:"font-medium",children:"Base Currency Amount:"}),e.jsxs("span",{className:"ml-2 text-lg font-bold text-blue-600",children:["$",Y()]})]})}),e.jsx("div",{className:"mt-6",children:e.jsxs("button",{onClick:$,disabled:m||!A.payment_amount||!A.payment_currency,className:"w-full px-6 py-3 bg-green-600 text-white rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(I,{icon:Xn,className:"mr-2"}),m?"Processing Payment...":"Process Payment"]})})]}),T&&e.jsxs("div",{className:"mt-6 bg-green-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"font-semibold text-green-800 mb-3",children:"Payment Successful!"}),e.jsxs("p",{className:"text-sm text-gray-600 mb-3",children:["Receipt #: ",e.jsx("span",{className:"font-medium",children:T.receipt_number})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:M,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx(I,{icon:Is,className:"mr-2"}),"Print Receipt"]}),e.jsxs("button",{onClick:()=>R(null),className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-500",children:[e.jsx(I,{icon:Br,className:"mr-2"}),"Close"]})]})]})]}),e.jsx(Bx,{isOpen:j,onClose:()=>w(!1),title:"Payment Successful",message:p}),e.jsx($f,{isOpen:N,onClose:()=>P(!1),title:"Payment Error",message:x})]})},MY=()=>{const{token:t}=et(),[r,a]=g.useState(!1),[s,n]=g.useState(""),[i,o]=g.useState(null),[d,u]=g.useState([]),[m,f]=g.useState(null),[x,b]=g.useState([]),[p,v]=g.useState(!1),[j,w]=g.useState("");g.useEffect(()=>{i&&A()},[i]);const N=async()=>{if(s.trim()){a(!0);try{const E=await de.get(`${ce}/students/search?query=${s}`,{headers:{Authorization:`Bearer ${t}`}});u(E.data.data||[])}catch(E){console.error("Error searching students:",E),u([]),w("Failed to search students"),v(!0)}finally{a(!1)}}},P=E=>{o(E),u([]),n(""),f(null),b([])},A=async()=>{if(i){a(!0);try{const E=await de.get(`${ce}/student-financial-records/${i.RegNumber}/summary`,{headers:{Authorization:`Bearer ${t}`}}),O=await de.get(`${ce}/student-financial-records/${i.RegNumber}/transactions`,{headers:{Authorization:`Bearer ${t}`}});if(console.log("Financial Summary:",E.data.data),console.log("Transactions:",O.data.data),O.data.data&&Array.isArray(O.data.data)){const k=O.data.data.filter(Y=>Y.fee_type==="boarding");console.log("Boarding transactions found:",k.length),k.forEach((Y,$)=>{console.log(`Boarding transaction ${$+1}:`,{id:Y.id,amount:Y.amount,transaction_type:Y.transaction_type,notes:Y.notes,fee_type:Y.fee_type})})}if(O.data.data&&Array.isArray(O.data.data)){console.log("=== DETAILED TRANSACTION ANALYSIS ==="),console.log("Total transactions received:",O.data.data.length),O.data.data.forEach((F,K)=>{console.log(`Transaction ${K+1}:`,{id:F.id,transaction_type:F.transaction_type,amount:F.amount,fee_type:F.fee_type,notes:F.notes,payment_date:F.payment_date,running_balance:F.running_balance})});const k=O.data.data.every(F=>F.transaction_type!==void 0);console.log("All transactions have transaction_type field:",k);const Y=O.data.data.reduce((F,K)=>(F[K.transaction_type]=(F[K.transaction_type]||0)+1,F),{});console.log("Transaction type counts:",Y);const $=O.data.data.filter(F=>F.transaction_type==="DEBIT"),M=O.data.data.filter(F=>F.transaction_type==="CREDIT");console.log("DEBIT transactions count:",$.length),console.log("CREDIT transactions count:",M.length),console.log("=== END ANALYSIS ===")}else console.log("No transactions data or not an array:",O.data.data);f(E.data.data||{}),b(O.data.data||[])}catch(E){console.error("Error fetching financial data:",E),console.error("Error response:",E.response?.data),console.error("Error status:",E.response?.status),console.error("Error URL:",E.config?.url),w(`Failed to fetch financial data: ${E.response?.data?.message||E.message}`),v(!0)}finally{a(!1)}}},D=(E,O="USD")=>new Intl.NumberFormat("en-US",{style:"currency",currency:O}).format(E),T=E=>{switch(E){case"tuition":return mB;case"boarding":return La;case"other":return ix;default:return $r}},R=E=>{switch(E){case"tuition":return"text-blue-600";case"boarding":return"text-green-600";case"other":return"text-purple-600";default:return"text-gray-600"}};return e.jsxs(e.Fragment,{children:[e.jsx("style",{children:`
          @media print {
            body { margin: 0; }
            .print-break { page-break-before: always; }
            table { page-break-inside: avoid; }
            .print-header { display: block !important; }
            .print-hidden { display: none !important; }
          }
        `}),e.jsxs("div",{className:"bg-white border border-gray-200 p-4 print:p-0",children:[e.jsxs("div",{className:"hidden print:block mb-6 border-b border-gray-300 pb-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-lg font-bold text-gray-900",children:"Student Financial Statement"}),e.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:["Generated on ",new Date().toLocaleDateString()]})]}),i&&e.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4 text-xs",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Student:"})," ",i.Name," ",i.Surname]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Registration No:"})," ",i.RegNumber]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Class:"})," ",i.ClassName||"Not Assigned"]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Academic Year:"})," 2025"]})]})]}),e.jsx("h2",{className:"text-sm font-medium text-gray-900 mb-4 print:text-base print:hidden",children:"Student Financial Record"}),e.jsxs("div",{className:"mb-6 print:hidden",children:[e.jsx("h3",{className:"text-xs font-medium text-gray-900 mb-2",children:"Search Student"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(I,{icon:Vt,className:"absolute left-2 top-1/2 transform -translate-y-1/2 text-gray-400 text-xs"}),e.jsx("input",{type:"text",value:s,onChange:E=>n(E.target.value),placeholder:"Enter student name or registration number...",className:"w-full pl-6 pr-2 py-1.5 border border-gray-300 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500"})]}),e.jsx("button",{type:"button",onClick:N,disabled:r,className:"bg-gray-600 text-white px-3 py-1.5 text-xs hover:bg-gray-700 disabled:opacity-50",children:r?"Searching...":"Search"})]}),d.length>0&&e.jsx("div",{className:"mt-2 border border-gray-200 max-h-32 overflow-y-auto",children:d.map(E=>e.jsxs("div",{onClick:()=>P(E),className:"p-2 hover:bg-gray-50 cursor-pointer border-b border-gray-100 last:border-b-0",children:[e.jsxs("div",{className:"font-medium text-gray-900 text-xs",children:[E.Name," ",E.Surname]}),e.jsxs("div",{className:"text-xs text-gray-500",children:["Reg: ",E.RegNumber," | Class: ",E.ClassName||"Not Assigned"]})]},E.RegNumber))}),i&&e.jsx("div",{className:"mt-3 bg-gray-50 p-3 border border-gray-200",children:e.jsxs("div",{className:"grid grid-cols-2 gap-3 text-xs",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Name:"}),e.jsxs("span",{className:"ml-1 font-medium",children:[i.Name," ",i.Surname]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Registration No:"}),e.jsx("span",{className:"ml-1 font-medium",children:i.RegNumber})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Class:"}),e.jsx("span",{className:"ml-1 font-medium",children:i.ClassName||"Not Assigned"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Academic Year:"}),e.jsx("span",{className:"ml-1 font-medium",children:"2025"})]})]})})]}),m&&e.jsx("div",{className:"mb-6",children:e.jsx("div",{className:"bg-gray-50 p-4 border border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-600 font-medium",children:"Current Balance"}),e.jsx("div",{className:`text-lg font-bold ${(m.balance||0)>=0?"text-green-900":"text-red-900"}`,children:D(m.balance||0)})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-xs text-gray-600",children:m.balance>=0?"CR":"DR"}),e.jsx("div",{className:"text-xs font-medium text-gray-900",children:m.balance>=0?"Credit Balance":"Debit Balance"})]})]})})}),i&&e.jsxs("div",{children:[e.jsxs("h3",{className:"text-xs font-medium text-gray-900 mb-3",children:["Financial Statement (",x.length," records)"]}),r?e.jsx("div",{className:"text-center py-8",children:e.jsx("div",{className:"text-gray-500",children:"Loading transactions..."})}):x.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 border border-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border border-gray-200",children:"Date"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border border-gray-200",children:"Type"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border border-gray-200",children:"Description"}),e.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-500 uppercase tracking-wider border border-gray-200",children:"DR"}),e.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-500 uppercase tracking-wider border border-gray-200",children:"CR"}),e.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-500 uppercase tracking-wider border border-gray-200",children:"Balance"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:x.map((E,O)=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-xs text-gray-900 border border-gray-200",children:new Date(E.payment_date).toLocaleDateString()}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap border border-gray-200",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(I,{icon:T(E.fee_type),className:`text-xs mr-1 ${R(E.fee_type)}`}),e.jsx("span",{className:`text-xs font-medium capitalize ${R(E.fee_type)}`,children:E.fee_type})]})}),e.jsx("td",{className:"px-3 py-2 text-xs text-gray-900 border border-gray-200",children:E.notes||`${E.fee_type} payment`}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-xs text-right border border-gray-200",children:(console.log("Rendering DR column for transaction:",{id:E.id,transaction_type:E.transaction_type,amount:E.amount,isDebit:E.transaction_type==="DEBIT"}),E.transaction_type==="DEBIT"?e.jsx("span",{className:"text-red-600 font-medium",children:D(Math.abs(E.amount),E.currency_symbol)}):e.jsx("span",{className:"text-gray-400",children:"-"}))}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-xs text-right border border-gray-200",children:(console.log("Rendering CR column for transaction:",{id:E.id,transaction_type:E.transaction_type,amount:E.amount,isCredit:E.transaction_type==="CREDIT"}),E.transaction_type==="CREDIT"?e.jsx("span",{className:"text-green-600 font-medium",children:D(Math.abs(E.amount),E.currency_symbol)}):e.jsx("span",{className:"text-gray-400",children:"-"}))}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-xs text-right font-medium border border-gray-200",children:e.jsx("span",{className:E.running_balance>=0?"text-green-600":"text-red-600",children:D(E.running_balance||0,E.currency_symbol)})})]},E.id||O))})]})}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(I,{icon:RC,className:"text-gray-400 text-2xl mb-2"}),e.jsx("div",{className:"text-gray-500 text-sm",children:"No transactions found"})]})]}),e.jsx($f,{isOpen:p,onClose:()=>v(!1),message:j})]})]})},RY=()=>e.jsx("div",{className:"min-h-screen bg-gray-50 py-6",children:e.jsxs("div",{className:"w-full px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"mb-6",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Student Financial Record"}),e.jsx("p",{className:"text-xs text-gray-600",children:"View and manage student financial statements"})]})}),e.jsx("div",{className:"grid grid-cols-1 gap-6",children:e.jsx("div",{children:e.jsx(MY,{})})})]})}),$Y=()=>{const{token:t}=et(),[r,a]=g.useState("journal"),[s,n]=g.useState(!1),[i,o]=g.useState(null),[d,u]=g.useState([]),[m,f]=g.useState({current_page:1,total_pages:1,total_records:0,limit:20}),[x,b]=g.useState({search:"",startDate:"",endDate:"",transactionType:""}),[p,v]=g.useState([]),[j,w]=g.useState([]),[N,P]=g.useState(""),[A,D]=g.useState({summary:[],totals:{total_debits:0,total_credits:0,net_amount:0}});g.useEffect(()=>{r==="journal"?T():r==="balances"?R():r==="summary"&&E()},[r,x,m.current_page,N]),g.useEffect(()=>{O()},[]);const T=async()=>{try{n(!0),o(null);const X={page:m.current_page,limit:m.limit,...x},be=(await de.get(`${ce}/accounting/general-ledger`,{params:X,headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}})).data;u(be.data||[]),f(be.pagination||m)}catch(X){console.error("Error fetching journal entries:",X),o(X.response?.data?.message||"Failed to fetch journal entries")}finally{n(!1)}},R=async()=>{try{n(!0),o(null);const X={};N&&(X.currency_id=N);const J=await de.get(`${ce}/accounting/general-ledger/account-balances`,{params:X,headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});v(J.data.data||[])}catch(X){console.error("Error fetching account balances:",X),o(X.response?.data?.message||"Failed to fetch account balances")}finally{n(!1)}},E=async()=>{try{n(!0),o(null);const X={};x.startDate&&(X.startDate=x.startDate),x.endDate&&(X.endDate=x.endDate);const J=await de.get(`${ce}/accounting/general-ledger/transaction-summary`,{params:X,headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});D(J.data.data||{summary:[],totals:{total_debits:0,total_credits:0,net_amount:0}})}catch(X){console.error("Error fetching transaction summary:",X),o(X.response?.data?.message||"Failed to fetch transaction summary")}finally{n(!1)}},O=async()=>{try{const X=await de.get(`${ce}/accounting/general-ledger/currencies`,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});w(X.data.data||[])}catch(X){console.error("Error fetching currencies:",X)}},k=(X,J)=>{b(be=>({...be,[X]:J})),f(be=>({...be,current_page:1}))},Y=X=>{f(J=>({...J,current_page:X}))},$=X=>new Date(X).toLocaleDateString(),M=(X,J="$")=>`${J}${parseFloat(X||0).toFixed(2)}`,F=X=>X==="CREDIT"?"text-green-600":"text-red-600",K=X=>X==="CREDIT"?Pn:ix,q=X=>X==="fee_payment"?$r:Fs,U=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white p-4 rounded-lg shadow",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Search"}),e.jsx("input",{type:"text",value:x.search,onChange:X=>k("search",X.target.value),placeholder:"Search transactions...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date"}),e.jsx("input",{type:"date",value:x.startDate,onChange:X=>k("startDate",X.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date"}),e.jsx("input",{type:"date",value:x.endDate,onChange:X=>k("endDate",X.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),e.jsxs("select",{value:x.transactionType,onChange:X=>k("transactionType",X.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 text-sm",children:[e.jsx("option",{value:"",children:"All Types"}),e.jsx("option",{value:"DEBIT",children:"Debit"}),e.jsx("option",{value:"CREDIT",children:"Credit"})]})]})]})}),e.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Journal Entries"}),e.jsx("p",{className:"text-sm text-gray-500",children:"All financial transactions recorded in the system"})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Student"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Reference"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created By"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:d.map(X=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:$(X.transaction_date)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:X.student_reg_number}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(I,{icon:q(X.source),className:"mr-2 text-gray-400 h-4 w-4"}),X.description]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("span",{className:`inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full ${F(X.transaction_type)}`,children:[e.jsx(I,{icon:K(X.transaction_type),className:"mr-1 h-3 w-3"}),X.transaction_type]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right font-medium",children:e.jsx("span",{className:F(X.transaction_type),children:M(X.amount)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:X.receipt_number||X.reference_number||"-"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:X.created_by})]},`${X.source}-${X.id}`))})]})}),!s&&d.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(I,{icon:Kn,className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No journal entries found"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:x.search||x.startDate||x.endDate?"Try adjusting your filters.":"No transactions have been recorded yet."})]}),s&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),e.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Loading journal entries..."})]})]}),m.total_pages>1&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-gray-700",children:["Showing page ",m.current_page," of ",m.total_pages,"(",m.total_records," total entries)"]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>Y(m.current_page-1),disabled:m.current_page===1,className:"px-3 py-2 border border-gray-300 text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed rounded-md",children:"Previous"}),e.jsx("button",{onClick:()=>Y(m.current_page+1),disabled:m.current_page===m.total_pages,className:"px-3 py-2 border border-gray-300 text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed rounded-md",children:"Next"})]})]})]}),V=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white p-4 rounded-lg shadow",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Currency:"}),e.jsxs("select",{value:N,onChange:X=>P(X.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 text-sm",children:[e.jsx("option",{value:"",children:"All Currencies"}),j.map(X=>e.jsxs("option",{value:X.id,children:[X.code," - ",X.name]},X.id))]})]})}),e.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Account Balances"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Current balances for all chart of accounts"})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Account Code"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Account Name"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Parent Account"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Balance"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Currency"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"As of Date"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:p.map(X=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:X.code}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:X.name}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800",children:X.type})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:X.parent_account_name||"-"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right font-medium",children:X.balance?M(X.balance,X.currency_symbol):"-"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:X.currency_code||"-"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:X.as_of_date?$(X.as_of_date):"-"})]},X.id))})]})}),!s&&p.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(I,{icon:$r,className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No account balances found"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"No account balances have been recorded yet."})]}),s&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),e.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Loading account balances..."})]})]})]}),Z=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(I,{icon:ix,className:"h-8 w-8 text-red-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Debits"}),e.jsx("p",{className:"text-2xl font-semibold text-red-600",children:M(A.totals.total_debits)})]})]})}),e.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(I,{icon:Pn,className:"h-8 w-8 text-green-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Credits"}),e.jsx("p",{className:"text-2xl font-semibold text-green-600",children:M(A.totals.total_credits)})]})]})}),e.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(I,{icon:$r,className:"h-8 w-8 text-blue-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Net Amount"}),e.jsx("p",{className:`text-2xl font-semibold ${A.totals.net_amount>=0?"text-green-600":"text-red-600"}`,children:M(A.totals.net_amount)})]})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Transaction Summary"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Summary of all transactions by type"})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Transaction Type"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Amount"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Transaction Count"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:A.summary.map(X=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("span",{className:`inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full ${F(X.transaction_type)}`,children:[e.jsx(I,{icon:K(X.transaction_type),className:"mr-1 h-3 w-3"}),X.transaction_type]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right font-medium",children:e.jsx("span",{className:F(X.transaction_type),children:M(X.total_amount)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right text-gray-500",children:X.transaction_count})]},X.transaction_type))})]})}),!s&&A.summary.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(I,{icon:Kn,className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No transaction summary available"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"No transactions have been recorded yet."})]}),s&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),e.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Loading transaction summary..."})]})]})]});return e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"General Ledger"}),e.jsx("p",{className:"text-sm text-gray-600",children:"View journal entries, account balances, and financial summaries"})]}),i&&e.jsx("div",{className:"mb-4 bg-red-50 border border-red-200 rounded-md p-4",children:e.jsx("div",{className:"text-sm text-red-600",children:i})}),e.jsx("div",{className:"border-b border-gray-200 mb-6",children:e.jsxs("nav",{className:"-mb-px flex space-x-8",children:[e.jsxs("button",{onClick:()=>a("journal"),className:`py-2 px-1 border-b-2 font-medium text-sm ${r==="journal"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(I,{icon:Kn,className:"mr-2"}),"Journal Entries"]}),e.jsxs("button",{onClick:()=>a("balances"),className:`py-2 px-1 border-b-2 font-medium text-sm ${r==="balances"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(I,{icon:$r,className:"mr-2"}),"Account Balances"]}),e.jsxs("button",{onClick:()=>a("summary"),className:`py-2 px-1 border-b-2 font-medium text-sm ${r==="summary"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(I,{icon:ix,className:"mr-2"}),"Transaction Summary"]})]})}),r==="journal"&&U(),r==="balances"&&V(),r==="summary"&&Z()]})},IY=()=>{const{token:t}=et(),[r,a]=g.useState("2025-01"),[s,n]=g.useState("all"),[i,o]=g.useState(""),[d,u]=g.useState(!1),[m,f]=g.useState(!1),[x,b]=g.useState(null),[p,v]=g.useState([]),[j,w]=g.useState([]),[N,P]=g.useState(!0),[A,D]=g.useState(null),[T,R]=g.useState({bank_account_id:"",reconciliation_date:new Date().toISOString().split("T")[0],bank_balance:"",book_balance:"",description:""}),E=t?{Authorization:`Bearer ${t}`}:{};g.useEffect(()=>{O(),k()},[]);const O=async()=>{try{P(!0);const ye=await de.get(`${ce}/accounting/bank-reconciliation`,{headers:E});v(ye.data)}catch(ye){console.error("Error loading reconciliations:",ye),D("Failed to load bank reconciliations")}finally{P(!1)}},k=async()=>{try{const ye=await de.get(`${ce}/accounting/bank-reconciliation/accounts`,{headers:E});w(ye.data)}catch(ye){console.error("Error loading bank accounts:",ye),D("Failed to load bank accounts")}},Y=async()=>{try{if(!T.bank_account_id||!T.bank_balance){D("Please fill in required fields");return}const ye=await de.post(`${ce}/accounting/bank-reconciliation`,T,{headers:E});v([ye.data,...p]),f(!1),R({bank_account_id:"",reconciliation_date:new Date().toISOString().split("T")[0],bank_balance:"",book_balance:"",description:""}),D(null)}catch(ye){console.error("Error creating reconciliation:",ye),D(ye.response?.data?.error||"Failed to create reconciliation")}},$=ye=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(ye),[M,F]=g.useState(""),[K,q]=g.useState(null),[U,V]=g.useState([]),[Z,X]=g.useState([]);g.useEffect(()=>{(async()=>{if(!M){q(null),V([]),X([]);return}try{P(!0);const ne=await de.get(`${ce}/accounting/bank-reconciliation/${M}`,{headers:E});q(ne.data.reconciliation);const te=(ne.data.bank_statements||[]).map(we=>({id:we.id,date:we.transaction_date,description:we.description,reference:we.reference,debit:parseFloat(we.amount)<0?Math.abs(parseFloat(we.amount)):0,credit:parseFloat(we.amount)>0?parseFloat(we.amount):0,balance:null,status:we.is_reconciled?"reconciled":"unreconciled",reconciled_date:we.reconciled_at||null}));V(te);const Ae=(ne.data.book_transactions||[]).map(we=>({id:we.id,date:we.transaction_date||we.entry_date,description:we.description,reference:we.reference,amount:parseFloat(we.amount||we.debit||we.credit||0),type:parseFloat(we.amount||0)>=0||parseFloat(we.credit||0)>0?"credit":"debit",status:we.is_reconciled?"reconciled":"unreconciled"}));X(Ae)}catch(ne){console.error("Error loading reconciliation details:",ne),D("Failed to load reconciliation details")}finally{P(!1)}})()},[M]);const J=U.filter(ye=>{const ne=s==="all"||ye.bank_id===parseInt(s),te=ye.description.toLowerCase().includes(i.toLowerCase())||ye.reference.toLowerCase().includes(i.toLowerCase());return ne&&te}),be=Z.filter(ye=>ye.description.toLowerCase().includes(i.toLowerCase())||ye.reference.toLowerCase().includes(i.toLowerCase())),z=p.filter(ye=>ye.status==="completed").length,re=p.filter(ye=>ye.status==="open").length,G=j.reduce((ye,ne)=>ye+parseFloat(ne.balance||0),0),Q=ye=>{b(ye),u(!0)},ve=()=>{console.log("Reconciling transaction:",x),u(!1),b(null)};return e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-white border border-gray-200 p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-base font-medium text-gray-900",children:"Bank Reconciliation"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Reconcile bank statements with system transactions"})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:()=>f(!0),className:"bg-blue-600 text-white px-3 py-1.5 text-xs hover:bg-blue-700 flex items-center space-x-1",children:[e.jsx(I,{icon:_t,className:"text-xs"}),e.jsx("span",{children:"New Reconciliation"})]}),e.jsxs("button",{onClick:O,className:"bg-gray-600 text-white px-3 py-1.5 text-xs hover:bg-gray-700 flex items-center space-x-1",children:[e.jsx(I,{icon:MC,className:"text-xs"}),e.jsx("span",{children:"Refresh"})]}),e.jsxs("button",{className:"bg-gray-900 text-white px-3 py-1.5 text-xs hover:bg-gray-800 flex items-center space-x-1",children:[e.jsx(I,{icon:js,className:"text-xs"}),e.jsx("span",{children:"Export"})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx("div",{className:"bg-white border border-gray-200 p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:e.jsx(I,{icon:Xn,className:"text-green-600 text-xs"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Reconciled"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900",children:z})]})]})}),e.jsx("div",{className:"bg-white border border-gray-200 p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:e.jsx(I,{icon:Br,className:"text-yellow-600 text-xs"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Unreconciled"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900",children:re})]})]})}),e.jsx("div",{className:"bg-white border border-gray-200 p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(I,{icon:Fl,className:"text-blue-600 text-xs"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Total Balance"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900",children:$(G)})]})]})}),e.jsx("div",{className:"bg-white border border-gray-200 p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:e.jsx(I,{icon:yn,className:"text-purple-600 text-xs"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Banks"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900",children:j.length})]})]})})]}),e.jsx("div",{className:"bg-white border border-gray-200 p-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Reconciliation"}),e.jsxs("select",{value:M,onChange:ye=>F(ye.target.value),className:"w-full border border-gray-300 px-2 py-1.5 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500",children:[e.jsx("option",{value:"",children:"Select Reconciliation"}),p.map(ye=>e.jsxs("option",{value:ye.id,children:[ye.reconciliation_date," - ",ye.account_name||ye.bank_account_id," (",ye.status,")"]},ye.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Bank"}),e.jsxs("select",{value:s,onChange:ye=>n(ye.target.value),className:"w-full border border-gray-300 px-2 py-1.5 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500",children:[e.jsx("option",{value:"all",children:"All Banks"}),j.map(ye=>e.jsx("option",{value:ye.id,children:ye.name},ye.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Search"}),e.jsxs("div",{className:"relative",children:[e.jsx(I,{icon:Vt,className:"absolute left-2 top-1/2 transform -translate-y-1/2 text-gray-400 text-xs"}),e.jsx("input",{type:"text",value:i,onChange:ye=>o(ye.target.value),placeholder:"Search transactions...",className:"w-full pl-6 pr-2 py-1.5 border border-gray-300 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500"})]})]}),e.jsx("div",{className:"flex items-end",children:e.jsxs("button",{className:"bg-gray-900 text-white px-3 py-1.5 text-xs hover:bg-gray-800 flex items-center space-x-1",children:[e.jsx(I,{icon:ts,className:"text-xs"}),e.jsx("span",{children:"Filter"})]})})]})}),e.jsxs("div",{className:"bg-white border border-gray-200",children:[e.jsx("div",{className:"px-4 py-3 border-b border-gray-200",children:e.jsx("h2",{className:"text-sm font-medium text-gray-900",children:"Bank Statement Transactions"})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Date"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Description"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Reference"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Debit"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Credit"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Balance"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:J.map(ye=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2 text-xs text-gray-900",children:ye.date}),e.jsx("td",{className:"px-4 py-2 text-xs text-gray-900",children:ye.description}),e.jsx("td",{className:"px-4 py-2 text-xs text-gray-900",children:ye.reference}),e.jsx("td",{className:"px-4 py-2 text-xs text-gray-900",children:ye.debit>0?`KES ${ye.debit.toLocaleString()}`:"-"}),e.jsx("td",{className:"px-4 py-2 text-xs text-gray-900",children:ye.credit>0?`KES ${ye.credit.toLocaleString()}`:"-"}),e.jsxs("td",{className:"px-4 py-2 text-xs text-gray-900",children:["KES ",ye.balance.toLocaleString()]}),e.jsx("td",{className:"px-4 py-2",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${ye.status==="reconciled"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:ye.status==="reconciled"?"Reconciled":"Unreconciled"})}),e.jsx("td",{className:"px-4 py-2",children:e.jsx("div",{className:"flex space-x-1",children:e.jsx("button",{onClick:()=>Q(ye),className:"text-blue-600 hover:text-blue-800 text-xs",children:e.jsx(I,{icon:Fr})})})})]},ye.id))})]})})]}),e.jsxs("div",{className:"bg-white border border-gray-200",children:[e.jsx("div",{className:"px-4 py-3 border-b border-gray-200",children:e.jsx("h2",{className:"text-sm font-medium text-gray-900",children:"System Transactions"})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Date"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Description"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Reference"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Amount"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Type"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:be.map(ye=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2 text-xs text-gray-900",children:ye.date}),e.jsx("td",{className:"px-4 py-2 text-xs text-gray-900",children:ye.description}),e.jsx("td",{className:"px-4 py-2 text-xs text-gray-900",children:ye.reference}),e.jsxs("td",{className:"px-4 py-2 text-xs text-gray-900",children:["KES ",ye.amount.toLocaleString()]}),e.jsx("td",{className:"px-4 py-2",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${ye.type==="credit"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:ye.type==="credit"?"Credit":"Debit"})}),e.jsx("td",{className:"px-4 py-2",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${ye.status==="reconciled"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:ye.status==="reconciled"?"Reconciled":"Unreconciled"})}),e.jsx("td",{className:"px-4 py-2",children:e.jsx("div",{className:"flex space-x-1",children:e.jsx("button",{className:"text-blue-600 hover:text-blue-800 text-xs",children:e.jsx(I,{icon:Fr})})})})]},ye.id))})]})})]}),A&&e.jsx("div",{className:"bg-red-50 border border-red-200 p-3 mb-4 text-xs text-red-700",children:A}),m&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white p-4 w-full max-w-md mx-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-base font-bold text-gray-900",children:"New Bank Reconciliation"}),e.jsx("button",{onClick:()=>f(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx(I,{icon:Br,className:"text-xs"})})]}),e.jsxs("div",{className:"space-y-3 mb-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Bank Account *"}),e.jsxs("select",{value:T.bank_account_id,onChange:ye=>R({...T,bank_account_id:ye.target.value}),className:"w-full border border-gray-300 px-2 py-1.5 text-xs focus:outline-none focus:ring-1 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"Select Bank Account"}),j.map(ye=>e.jsxs("option",{value:ye.id,children:[ye.name," (",ye.code,")"]},ye.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Reconciliation Date *"}),e.jsx("input",{type:"date",value:T.reconciliation_date,onChange:ye=>R({...T,reconciliation_date:ye.target.value}),className:"w-full border border-gray-300 px-2 py-1.5 text-xs focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Bank Balance *"}),e.jsx("input",{type:"number",step:"0.01",value:T.bank_balance,onChange:ye=>R({...T,bank_balance:ye.target.value}),placeholder:"0.00",className:"w-full border border-gray-300 px-2 py-1.5 text-xs focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Book Balance"}),e.jsx("input",{type:"number",step:"0.01",value:T.book_balance,onChange:ye=>R({...T,book_balance:ye.target.value}),placeholder:"0.00",className:"w-full border border-gray-300 px-2 py-1.5 text-xs focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Description"}),e.jsx("textarea",{value:T.description,onChange:ye=>R({...T,description:ye.target.value}),placeholder:"Optional description...",rows:2,className:"w-full border border-gray-300 px-2 py-1.5 text-xs focus:outline-none focus:ring-1 focus:ring-blue-500"})]})]}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx("button",{onClick:()=>f(!1),className:"px-3 py-1.5 border border-gray-300 text-xs text-gray-700 hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{onClick:Y,className:"px-3 py-1.5 bg-blue-600 text-white text-xs hover:bg-blue-700",children:"Create Reconciliation"})]})]})}),d&&x&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white p-4 w-full max-w-md mx-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-base font-bold text-gray-900",children:"Reconcile Transaction"}),e.jsx("button",{onClick:()=>u(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx(I,{icon:Br,className:"text-xs"})})]}),e.jsxs("div",{className:"space-y-3 mb-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Description"}),e.jsx("p",{className:"text-xs text-gray-900",children:x.description})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Reference"}),e.jsx("p",{className:"text-xs text-gray-900",children:x.reference})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Amount"}),e.jsx("p",{className:"text-xs text-gray-900",children:x.debit>0?`KES ${x.debit.toLocaleString()}`:x.credit>0?`KES ${x.credit.toLocaleString()}`:"-"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Date"}),e.jsx("p",{className:"text-xs text-gray-900",children:x.date})]})]}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx("button",{onClick:()=>u(!1),className:"px-3 py-1.5 border border-gray-300 text-xs text-gray-700 hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{onClick:ve,className:"px-3 py-1.5 bg-gray-900 text-white text-xs hover:bg-gray-800",children:"Reconcile"})]})]})})]})},FY=()=>{const{token:t}=et(),[r,a]=g.useState(null),[s,n]=g.useState("trial-balance"),[i,o]=g.useState(!1),[d,u]=g.useState(!1),[m,f]=g.useState(!1),[x,b]=g.useState(null),[p,v]=g.useState([]),[j,w]=g.useState(null),[N,P]=g.useState(null),[A,D]=g.useState(null),[T,R]=g.useState([]),[E,O]=g.useState([]),[k,Y]=g.useState(null),[$,M]=g.useState(new Date().getFullYear()),[F,K]=g.useState(new Date().getMonth()+1);g.useEffect(()=>{U(),q()},[]),g.useEffect(()=>{r&&s!=="trial-balance"&&be()},[r,s]);const q=async()=>{try{const ne=await de.get(`${ce}/accounting/currencies`,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});O(ne.data.data||ne.data);const te=(ne.data.data||ne.data).find(Ae=>Ae.base_currency);Y(te)}catch(ne){console.error("Error fetching currencies:",ne)}},U=async()=>{try{f(!0);const ne=await de.get(`${ce}/accounting/periods`,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(v(ne.data),ne.data.length===0){const te=new Date;M(te.getFullYear()),K(te.getMonth()+1)}else if(!r){const te=ne.data[0],Ae=new Date(te.start_date);M(Ae.getFullYear()),K(Ae.getMonth()+1),a(te.id)}}catch(ne){console.error("Error fetching periods:",ne),b("Failed to fetch periods");const te=new Date;M(te.getFullYear()),K(te.getMonth()+1)}finally{f(!1)}},V=ne=>{if(ne==null)return"0";let te=null;return j?.currency?te=j.currency:N?.currency?te=N.currency:A?.currency?te=A.currency:k&&(te=k),te?`${te.symbol||te.code} ${parseFloat(ne).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`:`${parseFloat(ne).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`},Z=()=>{const ne=new Date().getFullYear(),te=[];for(let Ae=ne;Ae>=ne-5;Ae--)te.push(Ae);return te},X=()=>[{value:1,name:"January"},{value:2,name:"February"},{value:3,name:"March"},{value:4,name:"April"},{value:5,name:"May"},{value:6,name:"June"},{value:7,name:"July"},{value:8,name:"August"},{value:9,name:"September"},{value:10,name:"October"},{value:11,name:"November"},{value:12,name:"December"}],J=async()=>{try{f(!0),b(null);const ne=await de.get(`${ce}/accounting/periods/month/${F}/year/${$}/trial-balance`,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});w(ne.data),ne.data.period&&a(ne.data.period.id)}catch(ne){console.error("Error fetching period data:",ne),b("Failed to fetch period data"),w({period:{period_name:`${X().find(te=>te.value===F)?.name} ${$}`,status:"open"},trial_balance:[],totals:{total_debit:0,total_credit:0,difference:0}})}finally{f(!1)}},be=async()=>{if(r)try{f(!0),b(null);const ne={Authorization:`Bearer ${t}`,"Content-Type":"application/json"};switch(s){case"trial-balance":const te=await de.get(`${ce}/accounting/periods/${r}/trial-balance`,{headers:ne});w(te.data);break;case"income-statement":const Ae=await de.get(`${ce}/accounting/periods/${r}/income-statement`,{headers:ne});P(Ae.data);break;case"balance-sheet":const we=await de.get(`${ce}/accounting/periods/${r}/balance-sheet`,{headers:ne});D(we.data);break;case"closing-entries":const le=await de.get(`${ce}/accounting/periods/${r}/closing-entries`,{headers:ne});R(le.data);break}}catch(ne){console.error("Error fetching period data:",ne),b("Failed to fetch period data")}finally{f(!1)}},z=()=>{u(!0)},re=async()=>{try{f(!0);const ne=await de.post(`${ce}/accounting/periods/${r}/close`,{},{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});o(!0),u(!1),await J(),alert("Period closed successfully!")}catch(ne){console.error("Error closing period:",ne),alert(ne.response?.data?.error||"Failed to close period")}finally{f(!1)}},G=()=>m?e.jsx("div",{className:"bg-white border border-gray-200 p-8",children:e.jsx("div",{className:"text-center text-gray-500",children:"Loading trial balance..."})}):j?!j.trial_balance||j.trial_balance.length===0?e.jsxs("div",{className:"bg-white border border-gray-200",children:[e.jsx("div",{className:"px-4 py-3 border-b border-gray-200",children:e.jsxs("h2",{className:"text-sm font-medium text-gray-900",children:["Trial Balance - ",j.period?.period_name]})}),e.jsx("div",{className:"p-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-gray-500 mb-2",children:"No transactions found for this period"}),e.jsx("div",{className:"text-sm text-gray-400",children:j.period?.status==="closed"?"This period has been closed. Opening balances may be available for the next period.":j.trial_balance?.length===0?"This period has no activity yet. Opening balances will appear when the previous period is closed.":"This period has no transactions but may have opening balances."}),j.period?.status==="open"&&e.jsx("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded",children:e.jsxs("div",{className:"text-sm text-blue-800",children:[e.jsx("strong",{children:"Note:"})," This period is open but has no transactions. You can close it to create opening balances for the next period."]})})]})})]}):e.jsxs("div",{className:"bg-white border border-gray-200",children:[e.jsx("div",{className:"px-4 py-3 border-b border-gray-200",children:e.jsxs("h2",{className:"text-sm font-medium text-gray-900",children:["Trial Balance - ",j.period?.period_name]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Account Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Account Name"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Type"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Debit"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Credit"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Balance"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:j.trial_balance.map(ne=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2 text-xs text-gray-900",children:ne.account_code}),e.jsx("td",{className:"px-4 py-2 text-xs text-gray-900",children:ne.account_name}),e.jsx("td",{className:"px-4 py-2 text-xs text-gray-900",children:ne.account_type}),e.jsx("td",{className:"px-4 py-2 text-xs text-gray-900",children:ne.total_debit>0?V(ne.total_debit):"-"}),e.jsx("td",{className:"px-4 py-2 text-xs text-gray-900",children:ne.total_credit>0?V(ne.total_credit):"-"}),e.jsx("td",{className:"px-4 py-2 text-xs text-gray-900",children:e.jsx("span",{className:ne.balance>=0?"text-green-600":"text-red-600",children:V(Math.abs(ne.balance))})})]},ne.account_code))}),e.jsx("tfoot",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("td",{colSpan:"3",className:"px-4 py-2 text-xs font-medium text-gray-900",children:"Total"}),e.jsx("td",{className:"px-4 py-2 text-xs font-medium text-gray-900",children:V(j.totals?.total_debit||0)}),e.jsx("td",{className:"px-4 py-2 text-xs font-medium text-gray-900",children:V(j.totals?.total_credit||0)}),e.jsx("td",{className:"px-4 py-2 text-xs font-medium text-gray-900",children:"-"})]})})]})})]}):e.jsx("div",{className:"bg-white border border-gray-200 p-8",children:e.jsx("div",{className:"text-center text-gray-500",children:"No trial balance data available"})}),Q=()=>m?e.jsx("div",{className:"bg-white border border-gray-200 p-8",children:e.jsx("div",{className:"text-center text-gray-500",children:"Loading income statement..."})}):N?e.jsxs("div",{className:"bg-white border border-gray-200",children:[e.jsx("div",{className:"px-4 py-3 border-b border-gray-200",children:e.jsxs("h2",{className:"text-sm font-medium text-gray-900",children:["Income Statement - ",N.period?.period_name]})}),e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xs font-medium text-gray-900 mb-2",children:"Revenue"}),e.jsxs("div",{className:"space-y-1",children:[N.revenue?.map((ne,te)=>e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsx("span",{className:"text-gray-600",children:ne.account_name}),e.jsx("span",{className:"text-gray-900",children:V(ne.amount)})]},te))||[],e.jsxs("div",{className:"border-t border-gray-200 pt-1 flex justify-between text-xs font-medium",children:[e.jsx("span",{className:"text-gray-900",children:"Total Revenue"}),e.jsx("span",{className:"text-gray-900",children:V(N.totals?.total_revenue||0)})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xs font-medium text-gray-900 mb-2",children:"Expenses"}),e.jsxs("div",{className:"space-y-1",children:[N.expenses?.map((ne,te)=>e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsx("span",{className:"text-gray-600",children:ne.account_name}),e.jsx("span",{className:"text-gray-900",children:V(ne.amount)})]},te))||[],e.jsxs("div",{className:"border-t border-gray-200 pt-1 flex justify-between text-xs font-medium",children:[e.jsx("span",{className:"text-gray-900",children:"Total Expenses"}),e.jsx("span",{className:"text-gray-900",children:V(N.totals?.total_expenses||0)})]})]})]}),e.jsx("div",{className:"border-t border-gray-200 pt-2",children:e.jsxs("div",{className:"flex justify-between text-xs font-bold",children:[e.jsx("span",{className:"text-gray-900",children:"Net Income"}),e.jsx("span",{className:N.totals?.net_income>=0?"text-green-600":"text-red-600",children:V(N.totals?.net_income||0)})]})})]})})]}):e.jsx("div",{className:"bg-white border border-gray-200 p-8",children:e.jsx("div",{className:"text-center text-gray-500",children:"No income statement data available"})}),ve=()=>m?e.jsx("div",{className:"bg-white border border-gray-200 p-8",children:e.jsx("div",{className:"text-center text-gray-500",children:"Loading balance sheet..."})}):A?e.jsxs("div",{className:"bg-white border border-gray-200",children:[e.jsx("div",{className:"px-4 py-3 border-b border-gray-200",children:e.jsxs("h2",{className:"text-sm font-medium text-gray-900",children:["Balance Sheet - ",A.period?.period_name]})}),e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xs font-medium text-gray-900 mb-2",children:"Assets"}),e.jsxs("div",{className:"space-y-1",children:[A.assets?.map((ne,te)=>e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsx("span",{className:"text-gray-600",children:ne.account_name}),e.jsx("span",{className:"text-gray-900",children:V(ne.balance)})]},te))||[],e.jsxs("div",{className:"border-t border-gray-200 pt-1 flex justify-between text-xs font-medium",children:[e.jsx("span",{className:"text-gray-900",children:"Total Assets"}),e.jsx("span",{className:"text-gray-900",children:V(A.totals?.total_assets||0)})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xs font-medium text-gray-900 mb-2",children:"Liabilities"}),e.jsxs("div",{className:"space-y-1",children:[A.liabilities?.map((ne,te)=>e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsx("span",{className:"text-gray-600",children:ne.account_name}),e.jsx("span",{className:"text-gray-900",children:V(ne.balance)})]},te))||[],e.jsxs("div",{className:"border-t border-gray-200 pt-1 flex justify-between text-xs font-medium",children:[e.jsx("span",{className:"text-gray-900",children:"Total Liabilities"}),e.jsx("span",{className:"text-gray-900",children:V(A.totals?.total_liabilities||0)})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xs font-medium text-gray-900 mb-2",children:"Equity"}),e.jsxs("div",{className:"space-y-1",children:[A.equity?.map((ne,te)=>e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsx("span",{className:"text-gray-600",children:ne.account_name}),e.jsx("span",{className:"text-gray-900",children:V(ne.balance)})]},te))||[],e.jsxs("div",{className:"border-t border-gray-200 pt-1 flex justify-between text-xs font-medium",children:[e.jsx("span",{className:"text-gray-900",children:"Total Equity"}),e.jsx("span",{className:"text-gray-900",children:V(A.totals?.total_equity||0)})]})]})]})]})})]}):e.jsx("div",{className:"bg-white border border-gray-200 p-8",children:e.jsx("div",{className:"text-center text-gray-500",children:"No balance sheet data available"})}),ye=()=>m?e.jsx("div",{className:"bg-white border border-gray-200 p-8",children:e.jsx("div",{className:"text-center text-gray-500",children:"Loading closing entries..."})}):!T||T.length===0?e.jsx("div",{className:"bg-white border border-gray-200 p-8",children:e.jsx("div",{className:"text-center text-gray-500",children:"No closing entries available"})}):e.jsxs("div",{className:"bg-white border border-gray-200",children:[e.jsx("div",{className:"px-4 py-3 border-b border-gray-200",children:e.jsxs("h2",{className:"text-sm font-medium text-gray-900",children:["Closing Entries - ",p.find(ne=>ne.id===r)?.period_name]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Date"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Description"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Account"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Debit"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Credit"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Type"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:T.map((ne,te)=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2 text-xs text-gray-900",children:ne.entry_date}),e.jsx("td",{className:"px-4 py-2 text-xs text-gray-900",children:ne.journal_description}),e.jsx("td",{className:"px-4 py-2 text-xs text-gray-900",children:ne.account_name}),e.jsx("td",{className:"px-4 py-2 text-xs text-gray-900",children:ne.debit>0?V(ne.debit):"-"}),e.jsx("td",{className:"px-4 py-2 text-xs text-gray-900",children:ne.credit>0?V(ne.credit):"-"}),e.jsx("td",{className:"px-4 py-2 text-xs text-gray-900",children:ne.entry_type})]},te))})]})})]});return e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-white border border-gray-200 p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-base font-medium text-gray-900",children:"Period End Closing"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Close accounting periods and generate financial statements"})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{className:"bg-gray-900 text-white px-3 py-1.5 text-xs hover:bg-gray-800 flex items-center space-x-1",children:[e.jsx(I,{icon:js,className:"text-xs"}),e.jsx("span",{children:"Export Reports"})]}),e.jsxs("button",{onClick:z,disabled:!r||j?.period?.status==="closed",className:`px-3 py-1.5 text-xs flex items-center space-x-1 ${!r||j?.period?.status==="closed"?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-red-600 text-white hover:bg-red-700"}`,title:r?j?.period?.status==="closed"?"This period is already closed":j?.trial_balance?.length===0?"Close period to create opening balances for next period":"Close this period":"Select a period first",children:[e.jsx(I,{icon:!r||j?.period?.status==="closed"?gB:WF,className:"text-xs"}),e.jsx("span",{children:r?j?.period?.status==="closed"?"Period Closed":j?.trial_balance?.length===0?"Close (No Transactions)":"Close Period":"Select Period"})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx("div",{className:"bg-white border border-gray-200 p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(I,{icon:V2,className:"text-blue-600 text-xs"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Trial Balance"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900",children:j?.totals&&j.totals.total_debit>0?V(j.totals.total_debit):j?.trial_balance?.length===0?"No Transactions":"No Data"})]})]})}),e.jsx("div",{className:"bg-white border border-gray-200 p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:e.jsx(I,{icon:So,className:"text-green-600 text-xs"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Net Income"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900",children:N?.totals&&N.totals.net_income!==0?V(N.totals.net_income):j?.period?.status==="closed"?"Period Closed":"No Activity"})]})]})}),e.jsx("div",{className:"bg-white border border-gray-200 p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:e.jsx(I,{icon:bN,className:"text-purple-600 text-xs"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Total Assets"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900",children:A?.totals&&A.totals.total_assets>0?V(A.totals.total_assets):j?.period?.status==="closed"?"Period Closed":"No Activity"})]})]})}),e.jsx("div",{className:"bg-white border border-gray-200 p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:e.jsx(I,{icon:yr,className:"text-yellow-600 text-xs"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Period Status"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900",children:j?.period?.status?j.period.status.toUpperCase():F&&$?"SELECT PERIOD":"No Period Selected"})]})]})})]}),e.jsx("div",{className:"bg-white border border-gray-200 p-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Year"}),e.jsx("select",{value:$,onChange:ne=>{const te=parseInt(ne.target.value);M(te)},className:"w-full border border-gray-300 px-2 py-1.5 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500",children:Z().map(ne=>e.jsx("option",{value:ne,children:ne},ne))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Month"}),e.jsx("select",{value:F,onChange:ne=>{const te=parseInt(ne.target.value);K(te)},className:"w-full border border-gray-300 px-2 py-1.5 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500",children:X().map(ne=>e.jsx("option",{value:ne.value,children:ne.name},ne.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Period Status"}),e.jsx("div",{className:"text-xs text-gray-900 py-1.5 px-2 border border-gray-300 bg-gray-50",children:j?.period?.status?.toUpperCase()||"No Period Selected"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"View"}),e.jsxs("select",{value:s,onChange:ne=>n(ne.target.value),className:"w-full border border-gray-300 px-2 py-1.5 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500",children:[e.jsx("option",{value:"trial-balance",children:"Trial Balance"}),e.jsx("option",{value:"income-statement",children:"Income Statement"}),e.jsx("option",{value:"balance-sheet",children:"Balance Sheet"}),e.jsx("option",{value:"closing-entries",children:"Closing Entries"})]})]}),e.jsx("div",{className:"flex items-end",children:e.jsxs("button",{onClick:J,className:"bg-blue-600 text-white px-3 py-1.5 text-xs hover:bg-blue-700 flex items-center space-x-1",children:[e.jsx(I,{icon:Vt,className:"text-xs"}),e.jsx("span",{children:"Find Period"})]})})]})}),e.jsxs("div",{children:[s==="trial-balance"&&G(),s==="income-statement"&&Q(),s==="balance-sheet"&&ve(),s==="closing-entries"&&ye()]}),d&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white p-4 w-full max-w-md mx-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-base font-bold text-gray-900",children:"Close Period"}),e.jsx("button",{onClick:()=>u(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx(I,{icon:Br,className:"text-xs"})})]}),e.jsxs("div",{className:"space-y-3 mb-4",children:[e.jsxs("p",{className:"text-xs text-gray-600",children:["Are you sure you want to close the period ",e.jsx("strong",{children:j?.period?.period_name}),"?"]}),e.jsx("p",{className:"text-xs text-gray-600",children:"This action will:"}),e.jsxs("ul",{className:"text-xs text-gray-600 list-disc list-inside space-y-1",children:[e.jsx("li",{children:"Generate closing entries"}),e.jsx("li",{children:"Update account balances"}),e.jsx("li",{children:"Lock the period for further transactions"}),e.jsx("li",{children:"Create opening balances for the next period"})]})]}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx("button",{onClick:()=>u(!1),className:"px-3 py-1.5 border border-gray-300 text-xs text-gray-700 hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{onClick:re,className:"px-3 py-1.5 bg-red-600 text-white text-xs hover:bg-red-700",children:"Close Period"})]})]})})]})},BY=()=>{const{token:t}=et(),[r,a]=g.useState(new Date().getMonth()+1),[s,n]=g.useState(new Date().getFullYear()),[i,o]=g.useState("monthly"),[d,u]=g.useState(1),[m,f]=g.useState(""),[x,b]=g.useState(""),[p,v]=g.useState(!1),[j,w]=g.useState(null),[N,P]=g.useState(null),[A,D]=g.useState([]);g.useEffect(()=>{E()},[]);const T=t?{Authorization:`Bearer ${t}`}:{},R=()=>{i==="monthly"?O():i==="quarterly"?k():i==="ytd"?Y():i==="custom"&&$()},E=async()=>{try{const F=await de.get(`${ce}/accounting/income-statement/periods`,{headers:T});D(F.data)}catch(F){console.error("Error fetching periods:",F)}},O=async()=>{v(!0),w(null),P(null);try{const F=await de.get(`${ce}/accounting/income-statement/month/${r}/year/${s}`,{headers:T});P(F.data)}catch(F){console.error("Error fetching income statement:",F),w("Failed to load income statement data"),P(null)}finally{v(!1)}},k=async()=>{v(!0),w(null),P(null);try{const F=await de.get(`${ce}/accounting/income-statement/year/${s}/quarter/${d}`,{headers:T});P(F.data)}catch(F){console.error("Error fetching quarterly income statement:",F),w("Failed to load quarterly income statement data"),P(null)}finally{v(!1)}},Y=async()=>{v(!0),w(null),P(null);try{const F=await de.get(`${ce}/accounting/income-statement/year/${s}/ytd`,{headers:T});P(F.data)}catch(F){console.error("Error fetching year-to-date income statement:",F),w("Failed to load year-to-date income statement data"),P(null)}finally{v(!1)}},$=async()=>{v(!0),w(null),P(null);try{if(!m||!x)throw new Error("Please select start and end dates");const F=new URLSearchParams({start:m,end:x}).toString(),K=await de.get(`${ce}/accounting/income-statement/range?${F}`,{headers:T});P(K.data)}catch(F){console.error("Error fetching custom range income statement:",F),w(F.response?.data?.error||"Failed to load custom range income statement"),P(null)}finally{v(!1)}},M=F=>F?new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(F):"$0.00";return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsx("div",{className:"px-2 md:px-4 lg:px-6 py-3 md:py-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg md:text-xl font-semibold text-gray-900",children:"Income Statement"}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Profit & Loss Report"})]}),e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-3 w-full sm:w-auto",children:[e.jsxs("button",{className:"bg-gray-600 text-white px-2 md:px-3 py-1.5 hover:bg-gray-700 flex items-center space-x-1 md:space-x-2 text-xs font-medium w-full sm:w-auto justify-center",children:[e.jsx(I,{icon:js}),e.jsx("span",{children:"Export"})]}),e.jsxs("button",{className:"bg-gray-600 text-white px-2 md:px-3 py-1.5 hover:bg-gray-700 flex items-center space-x-1 md:space-x-2 text-xs font-medium w-full sm:w-auto justify-center",children:[e.jsx(I,{icon:Is}),e.jsx("span",{children:"Print"})]})]})]})})}),e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsx("div",{className:"px-2 md:px-4 lg:px-6 py-3",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-3 md:gap-4 lg:gap-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 md:gap-3 flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(I,{icon:ts,className:"text-gray-400 text-xs"}),e.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Report Type:"}),e.jsxs("select",{value:i,onChange:F=>o(F.target.value),className:"border border-gray-300 px-2 py-1 text-xs focus:outline-none focus:border-gray-400 w-full sm:w-auto",children:[e.jsx("option",{value:"monthly",children:"Monthly"}),e.jsx("option",{value:"quarterly",children:"Quarterly"}),e.jsx("option",{value:"ytd",children:"Year-to-Date"}),e.jsx("option",{value:"custom",children:"Custom"})]})]}),i==="monthly"&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(I,{icon:yr,className:"text-gray-400 text-xs"}),e.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Month:"}),e.jsxs("select",{value:r,onChange:F=>a(parseInt(F.target.value)),className:"border border-gray-300 px-2 py-1 text-xs focus:outline-none focus:border-gray-400 w-full sm:w-auto",children:[e.jsx("option",{value:1,children:"January"}),e.jsx("option",{value:2,children:"February"}),e.jsx("option",{value:3,children:"March"}),e.jsx("option",{value:4,children:"April"}),e.jsx("option",{value:5,children:"May"}),e.jsx("option",{value:6,children:"June"}),e.jsx("option",{value:7,children:"July"}),e.jsx("option",{value:8,children:"August"}),e.jsx("option",{value:9,children:"September"}),e.jsx("option",{value:10,children:"October"}),e.jsx("option",{value:11,children:"November"}),e.jsx("option",{value:12,children:"December"})]})]}),i==="quarterly"&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(I,{icon:yr,className:"text-gray-400 text-xs"}),e.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Quarter:"}),e.jsxs("select",{value:d,onChange:F=>u(parseInt(F.target.value)),className:"border border-gray-300 px-2 py-1 text-xs focus:outline-none focus:border-gray-400 w-full sm:w-auto",children:[e.jsx("option",{value:1,children:"Q1 (Jan - Mar)"}),e.jsx("option",{value:2,children:"Q2 (Apr - Jun)"}),e.jsx("option",{value:3,children:"Q3 (Jul - Sep)"}),e.jsx("option",{value:4,children:"Q4 (Oct - Dec)"})]})]}),i!=="custom"&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(I,{icon:yr,className:"text-gray-400 text-xs"}),e.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Year:"}),e.jsxs("select",{value:s,onChange:F=>n(parseInt(F.target.value)),className:"border border-gray-300 px-2 py-1 text-xs focus:outline-none focus:border-gray-400 w-full sm:w-auto",children:[e.jsx("option",{value:2025,children:"2025"}),e.jsx("option",{value:2024,children:"2024"}),e.jsx("option",{value:2023,children:"2023"})]})]}),i==="custom"&&e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(I,{icon:yr,className:"text-gray-400 text-xs"}),e.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Start:"}),e.jsx("input",{type:"date",value:m,onChange:F=>f(F.target.value),className:"border border-gray-300 px-2 py-1 text-xs focus:outline-none focus:border-gray-400 w-full sm:w-auto"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-xs font-medium text-gray-700",children:"End:"}),e.jsx("input",{type:"date",value:x,onChange:F=>b(F.target.value),className:"border border-gray-300 px-2 py-1 text-xs focus:outline-none focus:border-gray-400 w-full sm:w-auto"})]})]})]}),e.jsx("div",{className:"flex items-center",children:e.jsxs("button",{onClick:R,disabled:p,className:"bg-gray-900 text-white px-3 md:px-4 py-1.5 hover:bg-gray-800 disabled:opacity-50 flex items-center space-x-2 text-xs font-medium w-full sm:w-auto justify-center",children:[e.jsx(I,{icon:ts}),e.jsx("span",{children:p?"Loading...":"Search"})]})})]})})}),e.jsxs("div",{className:"p-2 md:p-4 lg:p-6",children:[p&&e.jsxs("div",{className:"flex items-center justify-center py-6 md:py-8",children:[e.jsx(I,{icon:an,className:"text-blue-500 text-xl md:text-2xl animate-spin mr-2"}),e.jsx("span",{className:"text-gray-600 text-xs md:text-sm",children:"Loading income statement..."})]}),j&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-3 md:p-4 mb-4 md:mb-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(I,{icon:ur,className:"text-red-400 mr-2 text-xs"}),e.jsx("span",{className:"text-red-800 text-xs md:text-sm",children:j})]})}),!p&&!j&&N&&e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 md:gap-4 mb-4 md:mb-6",children:[e.jsx("div",{className:"bg-white border border-gray-200 p-3 md:p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-gray-600",children:"Total Revenue"}),e.jsx("p",{className:"text-sm md:text-lg font-semibold text-gray-900",children:M(N.totals?.total_revenue)})]}),e.jsx("div",{className:"bg-gray-100 p-2",children:e.jsx(I,{icon:tg,className:"text-gray-600 text-xs md:text-sm"})})]})}),e.jsx("div",{className:"bg-white border border-gray-200 p-3 md:p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-gray-600",children:"Total Expenses"}),e.jsx("p",{className:"text-sm md:text-lg font-semibold text-red-600",children:M(N.totals?.total_expenses)})]}),e.jsx("div",{className:"bg-red-100 p-2",children:e.jsx(I,{icon:X2,className:"text-red-600 text-xs md:text-sm"})})]})}),e.jsx("div",{className:"bg-white border border-gray-200 p-3 md:p-4 sm:col-span-2 lg:col-span-1",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-gray-600",children:"Net Income"}),e.jsx("p",{className:`text-sm md:text-lg font-semibold ${(N.totals?.net_income||0)>=0?"text-gray-900":"text-red-600"}`,children:M(N.totals?.net_income)})]}),e.jsx("div",{className:`p-2 ${(N.totals?.net_income||0)>=0?"bg-gray-100":"bg-red-100"}`,children:e.jsx(I,{icon:(N.totals?.net_income||0)>=0?tg:X2,className:`text-xs md:text-sm ${(N.totals?.net_income||0)>=0?"text-gray-600":"text-red-600"}`})})]})})]}),!p&&!j&&N&&e.jsxs("div",{className:"bg-white border border-gray-200",children:[e.jsxs("div",{className:"px-3 md:px-6 py-3 border-b border-gray-200",children:[e.jsx("h2",{className:"text-sm md:text-base font-semibold text-gray-900",children:"Income Statement"}),e.jsxs("p",{className:"text-xs text-gray-600",children:[i==="monthly"&&`${new Date(s,r-1).toLocaleDateString("en-US",{month:"long",year:"numeric"})}`,i==="quarterly"&&`Q${d} ${s}`,i==="ytd"&&`${s} Year-to-Date`,i==="custom"&&`${m||"Start"} to ${x||"End"}`]})]}),e.jsxs("div",{className:"p-3 md:p-6",children:[e.jsxs("div",{className:"mb-4 md:mb-6",children:[e.jsx("h3",{className:"text-xs md:text-sm font-semibold text-gray-900 mb-2 md:mb-3",children:"Revenue"}),e.jsx("div",{className:"space-y-0",children:N.revenue&&N.revenue.length>0?e.jsxs(e.Fragment,{children:[N.revenue.map((F,K)=>e.jsxs("div",{className:`flex justify-between items-center py-1.5 px-2 ${K%2===0?"bg-white":"bg-gray-50"}`,children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("span",{className:"text-xs text-gray-700 block truncate",children:F.account_name}),e.jsxs("span",{className:"text-xs text-gray-500",children:["(",F.account_code,")"]})]}),e.jsx("div",{className:"text-right flex-shrink-0 ml-2",children:e.jsx("span",{className:`text-xs font-medium ${parseFloat(F.amount||0)>0?"text-gray-900":"text-gray-400"}`,children:M(F.amount)})})]},K)),e.jsxs("div",{className:"flex justify-between items-center py-2 px-2 border-t border-gray-200 bg-gray-100",children:[e.jsx("span",{className:"text-xs font-bold text-gray-900",children:"Total Revenue"}),e.jsx("span",{className:"text-xs font-bold text-gray-900",children:M(N.totals?.total_revenue)})]})]}):e.jsx("div",{className:"text-center py-4 text-gray-500 text-xs",children:"No revenue accounts configured"})})]}),e.jsxs("div",{className:"mb-4 md:mb-6",children:[e.jsx("h3",{className:"text-xs md:text-sm font-semibold text-gray-900 mb-2 md:mb-3",children:"Expenses"}),e.jsx("div",{className:"space-y-0",children:N.expenses&&N.expenses.length>0?e.jsxs(e.Fragment,{children:[N.expenses.map((F,K)=>e.jsxs("div",{className:`flex justify-between items-center py-1.5 px-2 ${K%2===0?"bg-white":"bg-gray-50"}`,children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("span",{className:"text-xs text-gray-700 block truncate",children:F.account_name}),e.jsxs("span",{className:"text-xs text-gray-500",children:["(",F.account_code,")"]})]}),e.jsx("div",{className:"text-right flex-shrink-0 ml-2",children:e.jsx("span",{className:`text-xs font-medium ${parseFloat(F.amount||0)>0?"text-red-600":"text-gray-400"}`,children:M(F.amount)})})]},K)),e.jsxs("div",{className:"flex justify-between items-center py-2 px-2 border-t border-gray-200 bg-gray-100",children:[e.jsx("span",{className:"text-xs font-bold text-gray-900",children:"Total Expenses"}),e.jsx("span",{className:"text-xs font-bold text-red-600",children:M(N.totals?.total_expenses)})]})]}):e.jsx("div",{className:"text-center py-4 text-gray-500 text-xs",children:"No expense accounts configured"})})]}),e.jsxs("div",{className:"border-t border-gray-300 pt-3 md:pt-4",children:[e.jsxs("div",{className:"flex justify-between items-center py-2 md:py-3 px-2 md:px-3 bg-gray-100 border-b border-gray-300",children:[e.jsx("span",{className:"text-xs font-bold text-gray-900",children:"Net Income"}),e.jsx("span",{className:`text-xs font-bold ${(N.totals?.net_income||0)>=0?"text-gray-900":"text-red-600"}`,children:M(N.totals?.net_income)})]}),e.jsx("div",{className:"border-b-2 border-gray-500"})]})]})]}),!p&&!j&&!N&&e.jsxs("div",{className:"bg-white border border-gray-200 p-6 md:p-8 text-center",children:[e.jsx(I,{icon:So,className:"text-gray-400 text-3xl md:text-4xl mb-3 md:mb-4"}),e.jsx("h3",{className:"text-base md:text-lg font-medium text-gray-900 mb-2",children:"No Income Statement Data"}),e.jsx("p",{className:"text-gray-500 text-xs md:text-sm",children:"Select a period to view the income statement data."})]})]})]})},zY=()=>{const{token:t}=et(),[r,a]=g.useState("monthly"),[s,n]=g.useState(new Date().getMonth()+1),[i,o]=g.useState(new Date().getFullYear()),[d,u]=g.useState(""),[m,f]=g.useState(!1),[x,b]=g.useState(null),[p,v]=g.useState(null),j=t?{Authorization:`Bearer ${t}`}:{},w=D=>D==null?"$0.00":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(D),N=async()=>{try{if(f(!0),b(null),v(null),r==="monthly"){const D=await de.get(`${ce}/accounting/balance-sheet/month/${s}/year/${i}`,{headers:j});v(D.data)}else if(r==="custom"){if(!d){b("Please select an as-of end date"),f(!1);return}const D=new URLSearchParams({end:d}).toString(),T=await de.get(`${ce}/accounting/balance-sheet/range?${D}`,{headers:j});v(T.data)}}catch(D){console.error("Error loading balance sheet:",D),b(D.response?.data?.error||"Failed to load balance sheet")}finally{f(!1)}},P=p?.totals||{total_assets:0,total_liabilities:0,total_equity:0},A=(P.total_liabilities||0)+(P.total_equity||0);return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsx("div",{className:"px-2 md:px-4 lg:px-6 py-3 md:py-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg md:text-xl font-semibold text-gray-900",children:"Balance Sheet"}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Financial Position Report"})]}),e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-3 w-full sm:w-auto",children:[e.jsxs("button",{className:"bg-gray-600 text-white px-2 md:px-3 py-1.5 hover:bg-gray-700 flex items-center space-x-1 md:space-x-2 text-xs font-medium w-full sm:w-auto justify-center",children:[e.jsx(I,{icon:js}),e.jsx("span",{children:"Export"})]}),e.jsxs("button",{className:"bg-gray-600 text-white px-2 md:px-3 py-1.5 hover:bg-gray-700 flex items-center space-x-1 md:space-x-2 text-xs font-medium w-full sm:w-auto justify-center",children:[e.jsx(I,{icon:Is}),e.jsx("span",{children:"Print"})]})]})]})})}),e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsx("div",{className:"px-2 md:px-4 lg:px-6 py-3",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-3 md:gap-4 lg:gap-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 md:gap-3 flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(I,{icon:ts,className:"text-gray-400 text-xs"}),e.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Report Type:"}),e.jsxs("select",{value:r,onChange:D=>a(D.target.value),className:"border border-gray-300 px-2 py-1 text-xs focus:outline-none focus:border-gray-400 w-full sm:w-auto",children:[e.jsx("option",{value:"monthly",children:"Monthly"}),e.jsx("option",{value:"custom",children:"Custom (As of Date)"})]})]}),r==="monthly"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(I,{icon:yr,className:"text-gray-400 text-xs"}),e.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Month:"}),e.jsxs("select",{value:s,onChange:D=>n(parseInt(D.target.value)),className:"border border-gray-300 px-2 py-1 text-xs focus:outline-none focus:border-gray-400 w-full sm:w-auto",children:[e.jsx("option",{value:1,children:"January"}),e.jsx("option",{value:2,children:"February"}),e.jsx("option",{value:3,children:"March"}),e.jsx("option",{value:4,children:"April"}),e.jsx("option",{value:5,children:"May"}),e.jsx("option",{value:6,children:"June"}),e.jsx("option",{value:7,children:"July"}),e.jsx("option",{value:8,children:"August"}),e.jsx("option",{value:9,children:"September"}),e.jsx("option",{value:10,children:"October"}),e.jsx("option",{value:11,children:"November"}),e.jsx("option",{value:12,children:"December"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(I,{icon:yr,className:"text-gray-400 text-xs"}),e.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Year:"}),e.jsxs("select",{value:i,onChange:D=>o(parseInt(D.target.value)),className:"border border-gray-300 px-2 py-1 text-xs focus:outline-none focus:border-gray-400 w-full sm:w-auto",children:[e.jsx("option",{value:2025,children:"2025"}),e.jsx("option",{value:2024,children:"2024"}),e.jsx("option",{value:2023,children:"2023"})]})]})]}),r==="custom"&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(I,{icon:yr,className:"text-gray-400 text-xs"}),e.jsx("span",{className:"text-xs font-medium text-gray-700",children:"As of (End Date):"}),e.jsx("input",{type:"date",value:d,onChange:D=>u(D.target.value),className:"border border-gray-300 px-2 py-1 text-xs focus:outline-none focus:border-gray-400 w-full sm:w-auto"})]})]}),e.jsx("div",{className:"flex items-center",children:e.jsxs("button",{onClick:N,disabled:m,className:"bg-gray-900 text-white px-3 md:px-4 py-1.5 hover:bg-gray-800 disabled:opacity-50 flex items-center space-x-2 text-xs font-medium w-full sm:w-auto justify-center",children:[e.jsx(I,{icon:ts}),e.jsx("span",{children:m?"Loading...":"Search"})]})})]})})}),e.jsxs("div",{className:"p-2 md:p-4 lg:p-6",children:[x&&e.jsx("div",{className:"bg-red-50 border border-red-200 p-3 mb-4 text-xs text-red-700",children:x}),m&&e.jsx("div",{className:"text-center py-6 md:py-8 text-gray-600 text-xs md:text-sm",children:"Loading balance sheet..."}),!m&&!p&&!x&&e.jsxs("div",{className:"bg-white border border-gray-200 p-6 md:p-8 text-center",children:[e.jsx(I,{icon:bN,className:"text-gray-400 text-3xl md:text-4xl mb-3 md:mb-4"}),e.jsx("h3",{className:"text-base md:text-lg font-medium text-gray-900 mb-2",children:"No Balance Sheet Data"}),e.jsx("p",{className:"text-gray-500 text-xs md:text-sm",children:"Choose filters and click Search."})]}),!m&&!x&&p&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 md:gap-4 mb-4 md:mb-6",children:[e.jsx("div",{className:"bg-white border border-gray-200 p-3 md:p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-gray-600",children:"Total Assets"}),e.jsx("p",{className:"text-sm md:text-lg font-semibold text-gray-900",children:w(P.total_assets)})]}),e.jsx("div",{className:"bg-gray-100 p-2",children:e.jsx(I,{icon:yn,className:"text-gray-600 text-xs md:text-sm"})})]})}),e.jsx("div",{className:"bg-white border border-gray-200 p-3 md:p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-gray-600",children:"Total Liabilities"}),e.jsx("p",{className:"text-sm md:text-lg font-semibold text-gray-900",children:w(P.total_liabilities)})]}),e.jsx("div",{className:"bg-gray-100 p-2",children:e.jsx(I,{icon:Fl,className:"text-gray-600 text-xs md:text-sm"})})]})}),e.jsx("div",{className:"bg-white border border-gray-200 p-3 md:p-4 sm:col-span-2 lg:col-span-1",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-gray-600",children:"Total Equity"}),e.jsx("p",{className:"text-sm md:text-lg font-semibold text-gray-900",children:w(P.total_equity)})]}),e.jsx("div",{className:"bg-gray-100 p-2",children:e.jsx(I,{icon:Ju,className:"text-gray-600 text-xs md:text-sm"})})]})})]}),e.jsxs("div",{className:"bg-white border border-gray-200",children:[e.jsxs("div",{className:"px-3 md:px-6 py-3 border-b border-gray-200",children:[e.jsx("h2",{className:"text-sm md:text-base font-semibold text-gray-900",children:"Balance Sheet"}),e.jsx("p",{className:"text-xs text-gray-600",children:p.period?.period_name?`${p.period.period_name} (As of ${p.period.end_date})`:p.as_of_date?`As of ${p.as_of_date}`:""})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2",children:[e.jsxs("div",{className:"border-r border-gray-200",children:[e.jsx("div",{className:"px-3 md:px-6 py-3 border-b border-gray-200",children:e.jsx("h3",{className:"text-xs md:text-sm font-semibold text-gray-900",children:"ASSETS"})}),e.jsx("div",{className:"p-3 md:p-6",children:e.jsxs("div",{className:"space-y-0",children:[(p.assets||[]).map((D,T)=>e.jsxs("div",{className:`flex justify-between items-center py-1.5 px-2 ${T%2===0?"bg-white":"bg-gray-50"}`,children:[e.jsx("span",{className:"text-xs text-gray-700 truncate flex-1 min-w-0",children:D.account_name}),e.jsx("span",{className:"text-xs font-medium text-gray-900 flex-shrink-0 ml-2",children:w(D.balance)})]},T)),e.jsxs("div",{className:"flex justify-between items-center py-2 px-2 border-t border-gray-200 bg-gray-100",children:[e.jsx("span",{className:"text-xs font-bold text-gray-900",children:"Total Assets"}),e.jsx("span",{className:"text-xs font-bold text-gray-900",children:w(P.total_assets)})]})]})})]}),e.jsxs("div",{children:[e.jsx("div",{className:"px-3 md:px-6 py-3 border-b border-gray-200",children:e.jsx("h3",{className:"text-xs md:text-sm font-semibold text-gray-900",children:"LIABILITIES & EQUITY"})}),e.jsx("div",{className:"p-3 md:p-6",children:e.jsxs("div",{className:"space-y-0",children:[e.jsxs("div",{className:"mb-3 md:mb-4",children:[e.jsx("h4",{className:"text-xs font-semibold text-gray-700 mb-2",children:"Liabilities"}),(p.liabilities||[]).map((D,T)=>e.jsxs("div",{className:`flex justify-between items-center py-1.5 px-2 ${T%2===0?"bg-white":"bg-gray-50"}`,children:[e.jsx("span",{className:"text-xs text-gray-700 truncate flex-1 min-w-0",children:D.account_name}),e.jsx("span",{className:"text-xs font-medium text-gray-900 flex-shrink-0 ml-2",children:w(D.balance)})]},T)),e.jsxs("div",{className:"flex justify-between items-center py-2 px-2 border-t border-gray-200 bg-gray-100",children:[e.jsx("span",{className:"text-xs font-bold text-gray-900",children:"Total Liabilities"}),e.jsx("span",{className:"text-xs font-bold text-gray-900",children:w(P.total_liabilities)})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-xs font-semibold text-gray-700 mb-2",children:"Equity"}),(p.equity||[]).map((D,T)=>e.jsxs("div",{className:`flex justify-between items-center py-1.5 px-2 ${T%2===0?"bg-white":"bg-gray-50"}`,children:[e.jsx("span",{className:"text-xs text-gray-700 truncate flex-1 min-w-0",children:D.account_name}),e.jsx("span",{className:"text-xs font-medium text-gray-900 flex-shrink-0 ml-2",children:w(D.balance)})]},T)),e.jsxs("div",{className:"flex justify-between items-center py-2 px-2 border-t border-gray-200 bg-gray-100",children:[e.jsx("span",{className:"text-xs font-bold text-gray-900",children:"Total Equity"}),e.jsx("span",{className:"text-xs font-bold text-gray-900",children:w(P.total_equity)})]})]}),e.jsx("div",{className:"mt-3 md:mt-4",children:e.jsxs("div",{className:"flex justify-between items-center py-2 px-2 border-t-2 border-gray-300 bg-gray-100",children:[e.jsx("span",{className:"text-xs font-bold text-gray-900",children:"Total Liabilities & Equity"}),e.jsx("span",{className:"text-xs font-bold text-gray-900",children:w(A)})]})})]})})]})]})]})]})]})]})},UY=()=>{const{token:t}=et(),[r,a]=g.useState("monthly"),[s,n]=g.useState(new Date().getMonth()+1),[i,o]=g.useState(new Date().getFullYear()),[d,u]=g.useState(""),[m,f]=g.useState(""),[x,b]=g.useState(!1),[p,v]=g.useState(null),[j,w]=g.useState(null),N=t?{Authorization:`Bearer ${t}`}:{},P=T=>T==null?"$0.00":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(T),A=async()=>{try{if(b(!0),v(null),w(null),r==="monthly"){const T=await de.get(`${ce}/accounting/cash-flow/month/${s}/year/${i}`,{headers:N});w(T.data)}else if(r==="custom"){if(!d||!m){v("Please select both start and end dates"),b(!1);return}const T=new URLSearchParams({start:d,end:m}).toString(),R=await de.get(`${ce}/accounting/cash-flow/range?${T}`,{headers:N});w(R.data)}}catch(T){console.error("Error loading cash flow:",T),v(T.response?.data?.error||"Failed to load cash flow statement")}finally{b(!1)}},D=j?.totals||{net_operating_cash:0,net_investing_cash:0,net_financing_cash:0,net_cash_flow:0,beginning_cash:0,ending_cash:0};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsx("div",{className:"px-2 md:px-4 lg:px-6 py-3 md:py-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg md:text-xl font-semibold text-gray-900",children:"Cash Flow Statement"}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Cash Movement Report"})]}),e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-3 w-full sm:w-auto",children:[e.jsxs("button",{className:"bg-gray-600 text-white px-2 md:px-3 py-1.5 hover:bg-gray-700 flex items-center space-x-1 md:space-x-2 text-xs font-medium w-full sm:w-auto justify-center",children:[e.jsx(I,{icon:js}),e.jsx("span",{children:"Export"})]}),e.jsxs("button",{className:"bg-gray-600 text-white px-2 md:px-3 py-1.5 hover:bg-gray-700 flex items-center space-x-1 md:space-x-2 text-xs font-medium w-full sm:w-auto justify-center",children:[e.jsx(I,{icon:Is}),e.jsx("span",{children:"Print"})]})]})]})})}),e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsx("div",{className:"px-2 md:px-4 lg:px-6 py-3",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-3 md:gap-4 lg:gap-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 md:gap-3 flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(I,{icon:ts,className:"text-gray-400 text-xs"}),e.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Report Type:"}),e.jsxs("select",{value:r,onChange:T=>a(T.target.value),className:"border border-gray-300 px-2 py-1 text-xs focus:outline-none focus:border-gray-400 w-full sm:w-auto",children:[e.jsx("option",{value:"monthly",children:"Monthly"}),e.jsx("option",{value:"custom",children:"Custom Range"})]})]}),r==="monthly"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(I,{icon:yr,className:"text-gray-400 text-xs"}),e.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Month:"}),e.jsxs("select",{value:s,onChange:T=>n(parseInt(T.target.value)),className:"border border-gray-300 px-2 py-1 text-xs focus:outline-none focus:border-gray-400 w-full sm:w-auto",children:[e.jsx("option",{value:1,children:"January"}),e.jsx("option",{value:2,children:"February"}),e.jsx("option",{value:3,children:"March"}),e.jsx("option",{value:4,children:"April"}),e.jsx("option",{value:5,children:"May"}),e.jsx("option",{value:6,children:"June"}),e.jsx("option",{value:7,children:"July"}),e.jsx("option",{value:8,children:"August"}),e.jsx("option",{value:9,children:"September"}),e.jsx("option",{value:10,children:"October"}),e.jsx("option",{value:11,children:"November"}),e.jsx("option",{value:12,children:"December"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(I,{icon:yr,className:"text-gray-400 text-xs"}),e.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Year:"}),e.jsxs("select",{value:i,onChange:T=>o(parseInt(T.target.value)),className:"border border-gray-300 px-2 py-1 text-xs focus:outline-none focus:border-gray-400 w-full sm:w-auto",children:[e.jsx("option",{value:2025,children:"2025"}),e.jsx("option",{value:2024,children:"2024"}),e.jsx("option",{value:2023,children:"2023"})]})]})]}),r==="custom"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(I,{icon:yr,className:"text-gray-400 text-xs"}),e.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Start Date:"}),e.jsx("input",{type:"date",value:d,onChange:T=>u(T.target.value),className:"border border-gray-300 px-2 py-1 text-xs focus:outline-none focus:border-gray-400 w-full sm:w-auto"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(I,{icon:yr,className:"text-gray-400 text-xs"}),e.jsx("span",{className:"text-xs font-medium text-gray-700",children:"End Date:"}),e.jsx("input",{type:"date",value:m,onChange:T=>f(T.target.value),className:"border border-gray-300 px-2 py-1 text-xs focus:outline-none focus:border-gray-400 w-full sm:w-auto"})]})]})]}),e.jsx("div",{className:"flex items-center",children:e.jsxs("button",{onClick:A,disabled:x,className:"bg-gray-900 text-white px-3 md:px-4 py-1.5 hover:bg-gray-800 disabled:opacity-50 flex items-center space-x-2 text-xs font-medium w-full sm:w-auto justify-center",children:[e.jsx(I,{icon:ts}),e.jsx("span",{children:x?"Loading...":"Search"})]})})]})})}),e.jsxs("div",{className:"p-2 md:p-4 lg:p-6",children:[p&&e.jsx("div",{className:"bg-red-50 border border-red-200 p-3 mb-4 text-xs text-red-700",children:p}),x&&e.jsx("div",{className:"text-center py-6 md:py-8 text-gray-600 text-xs md:text-sm",children:"Loading cash flow statement..."}),!x&&!j&&!p&&e.jsxs("div",{className:"bg-white border border-gray-200 p-6 md:p-8 text-center",children:[e.jsx(I,{icon:Fl,className:"text-gray-400 text-3xl md:text-4xl mb-3 md:mb-4"}),e.jsx("h3",{className:"text-base md:text-lg font-medium text-gray-900 mb-2",children:"No Cash Flow Data"}),e.jsx("p",{className:"text-gray-500 text-xs md:text-sm",children:"Choose filters and click Search."})]}),!x&&!p&&j&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-3 md:gap-4 mb-4 md:mb-6",children:[e.jsx("div",{className:"bg-white border border-gray-200 p-3 md:p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-gray-600",children:"Operating"}),e.jsx("p",{className:"text-sm md:text-lg font-semibold text-gray-900",children:P(D.net_operating_cash)})]}),e.jsx("div",{className:"bg-gray-100 p-2",children:e.jsx(I,{icon:tg,className:"text-gray-600 text-xs md:text-sm"})})]})}),e.jsx("div",{className:"bg-white border border-gray-200 p-3 md:p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-gray-600",children:"Investing"}),e.jsx("p",{className:"text-sm md:text-lg font-semibold text-gray-900",children:P(D.net_investing_cash)})]}),e.jsx("div",{className:"bg-gray-100 p-2",children:e.jsx(I,{icon:X2,className:"text-gray-600 text-xs md:text-sm"})})]})}),e.jsx("div",{className:"bg-white border border-gray-200 p-3 md:p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-gray-600",children:"Financing"}),e.jsx("p",{className:"text-sm md:text-lg font-semibold text-gray-900",children:P(D.net_financing_cash)})]}),e.jsx("div",{className:"bg-gray-100 p-2",children:e.jsx(I,{icon:tg,className:"text-gray-600 text-xs md:text-sm"})})]})}),e.jsx("div",{className:"bg-white border border-gray-200 p-3 md:p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-gray-600",children:"Net Cash Flow"}),e.jsx("p",{className:"text-sm md:text-lg font-semibold text-gray-900",children:P(D.net_cash_flow)})]}),e.jsx("div",{className:"bg-gray-100 p-2",children:e.jsx(I,{icon:So,className:"text-gray-600 text-xs md:text-sm"})})]})}),e.jsx("div",{className:"bg-white border border-gray-200 p-3 md:p-4 sm:col-span-2 lg:col-span-1",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-gray-600",children:"Ending Cash"}),e.jsx("p",{className:"text-sm md:text-lg font-semibold text-gray-900",children:P(D.ending_cash)})]}),e.jsx("div",{className:"bg-gray-100 p-2",children:e.jsx(I,{icon:Fl,className:"text-gray-600 text-xs md:text-sm"})})]})})]}),e.jsxs("div",{className:"bg-white border border-gray-200",children:[e.jsxs("div",{className:"px-3 md:px-6 py-3 border-b border-gray-200",children:[e.jsx("h2",{className:"text-sm md:text-base font-semibold text-gray-900",children:"Cash Flow Statement"}),e.jsx("p",{className:"text-xs text-gray-600",children:j.period?.period_name?j.period.period_name:j.start_date&&j.end_date?`${j.start_date} to ${j.end_date}`:""})]}),e.jsxs("div",{className:"p-3 md:p-6",children:[e.jsx("div",{className:"mb-4 md:mb-6",children:e.jsxs("div",{className:"flex justify-between items-center py-2 px-2 bg-gray-100",children:[e.jsx("span",{className:"text-xs font-bold text-gray-900",children:"Beginning Cash Balance"}),e.jsx("span",{className:"text-xs font-bold text-gray-900",children:P(D.beginning_cash)})]})}),e.jsxs("div",{className:"mb-4 md:mb-6",children:[e.jsx("h3",{className:"text-xs md:text-sm font-semibold text-gray-900 mb-2 md:mb-3",children:"Operating Activities"}),e.jsxs("div",{className:"space-y-0",children:[(j.operating_activities||[]).map((T,R)=>e.jsxs("div",{className:`flex justify-between items-center py-1.5 px-2 ${R%2===0?"bg-white":"bg-gray-50"}`,children:[e.jsx("span",{className:"text-xs text-gray-700 truncate flex-1 min-w-0",children:T.activity_name}),e.jsx("span",{className:"text-xs font-medium text-gray-900 flex-shrink-0 ml-2",children:P(T.amount)})]},R)),e.jsxs("div",{className:"flex justify-between items-center py-2 px-2 border-t border-gray-200 bg-gray-100",children:[e.jsx("span",{className:"text-xs font-bold text-gray-900",children:"Net Cash from Operating Activities"}),e.jsx("span",{className:"text-xs font-bold text-gray-900",children:P(D.net_operating_cash)})]})]})]}),e.jsxs("div",{className:"mb-4 md:mb-6",children:[e.jsx("h3",{className:"text-xs md:text-sm font-semibold text-gray-900 mb-2 md:mb-3",children:"Investing Activities"}),e.jsxs("div",{className:"space-y-0",children:[(j.investing_activities||[]).map((T,R)=>e.jsxs("div",{className:`flex justify-between items-center py-1.5 px-2 ${R%2===0?"bg-white":"bg-gray-50"}`,children:[e.jsx("span",{className:"text-xs text-gray-700 truncate flex-1 min-w-0",children:T.activity_name}),e.jsx("span",{className:"text-xs font-medium text-gray-900 flex-shrink-0 ml-2",children:P(T.amount)})]},R)),e.jsxs("div",{className:"flex justify-between items-center py-2 px-2 border-t border-gray-200 bg-gray-100",children:[e.jsx("span",{className:"text-xs font-bold text-gray-900",children:"Net Cash from Investing Activities"}),e.jsx("span",{className:"text-xs font-bold text-gray-900",children:P(D.net_investing_cash)})]})]})]}),e.jsxs("div",{className:"mb-4 md:mb-6",children:[e.jsx("h3",{className:"text-xs md:text-sm font-semibold text-gray-900 mb-2 md:mb-3",children:"Financing Activities"}),e.jsxs("div",{className:"space-y-0",children:[(j.financing_activities||[]).map((T,R)=>e.jsxs("div",{className:`flex justify-between items-center py-1.5 px-2 ${R%2===0?"bg-white":"bg-gray-50"}`,children:[e.jsx("span",{className:"text-xs text-gray-700 truncate flex-1 min-w-0",children:T.activity_name}),e.jsx("span",{className:"text-xs font-medium text-gray-900 flex-shrink-0 ml-2",children:P(T.amount)})]},R)),e.jsxs("div",{className:"flex justify-between items-center py-2 px-2 border-t border-gray-200 bg-gray-100",children:[e.jsx("span",{className:"text-xs font-bold text-gray-900",children:"Net Cash from Financing Activities"}),e.jsx("span",{className:"text-xs font-bold text-gray-900",children:P(D.net_financing_cash)})]})]})]}),e.jsxs("div",{className:"border-t border-gray-300 pt-3 md:pt-4",children:[e.jsxs("div",{className:"flex justify-between items-center py-2 md:py-3 px-2 md:px-3 bg-gray-100 border-b-2 border-gray-400",children:[e.jsx("span",{className:"text-xs font-bold text-gray-900",children:"Net Cash Flow"}),e.jsx("span",{className:"text-xs font-bold text-gray-900 border-b-2 border-gray-900",children:P(D.net_cash_flow)})]}),e.jsxs("div",{className:"flex justify-between items-center py-2 md:py-3 px-2 md:px-3 bg-gray-100 border-b-2 border-gray-400",children:[e.jsx("span",{className:"text-xs font-bold text-gray-900",children:"Ending Cash Balance"}),e.jsx("span",{className:"text-xs font-bold text-gray-900 border-b-2 border-gray-900",children:P(D.ending_cash)})]})]})]})]})]})]})]})};function rE(t){var r,a,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var n=t.length;for(r=0;r<n;r++)t[r]&&(a=rE(t[r]))&&(s&&(s+=" "),s+=a)}else for(a in t)t[a]&&(s&&(s+=" "),s+=a);return s}function Dr(){for(var t,r,a=0,s="",n=arguments.length;a<n;a++)(t=arguments[a])&&(r=rE(t))&&(s&&(s+=" "),s+=r);return s}var Vv={},Kv={},n_;function qY(){return n_||(n_=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function r(a){return a==="__proto__"}t.isUnsafeProperty=r}(Kv)),Kv}var Wv={},i_;function aE(){return i_||(i_=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function r(a){switch(typeof a){case"number":case"symbol":return!1;case"string":return a.includes(".")||a.includes("[")||a.includes("]")}}t.isDeepKey=r}(Wv)),Wv}var Xv={},l_;function sE(){return l_||(l_=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function r(a){return typeof a=="string"||typeof a=="symbol"?a:Object.is(a?.valueOf?.(),-0)?"-0":String(a)}t.toKey=r}(Xv)),Xv}var Jv={},o_;function EN(){return o_||(o_=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function r(a){const s=[],n=a.length;if(n===0)return s;let i=0,o="",d="",u=!1;for(a.charCodeAt(0)===46&&(s.push(""),i++);i<n;){const m=a[i];d?m==="\\"&&i+1<n?(i++,o+=a[i]):m===d?d="":o+=m:u?m==='"'||m==="'"?d=m:m==="]"?(u=!1,s.push(o),o=""):o+=m:m==="["?(u=!0,o&&(s.push(o),o="")):m==="."?o&&(s.push(o),o=""):o+=m,i++}return o&&s.push(o),s}t.toPath=r}(Jv)),Jv}var c_;function PN(){return c_||(c_=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=qY(),a=aE(),s=sE(),n=EN();function i(d,u,m){if(d==null)return m;switch(typeof u){case"string":{if(r.isUnsafeProperty(u))return m;const f=d[u];return f===void 0?a.isDeepKey(u)?i(d,n.toPath(u),m):m:f}case"number":case"symbol":{typeof u=="number"&&(u=s.toKey(u));const f=d[u];return f===void 0?m:f}default:{if(Array.isArray(u))return o(d,u,m);if(Object.is(u?.valueOf(),-0)?u="-0":u=String(u),r.isUnsafeProperty(u))return m;const f=d[u];return f===void 0?m:f}}}function o(d,u,m){if(u.length===0)return m;let f=d;for(let x=0;x<u.length;x++){if(f==null||r.isUnsafeProperty(u[x]))return m;f=f[u[x]]}return f===void 0?m:f}t.get=i}(Vv)),Vv}var Zv,d_;function HY(){return d_||(d_=1,Zv=PN().get),Zv}var GY=HY();const tm=Eo(GY);var Qv={exports:{}},Rr={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u_;function YY(){if(u_)return Rr;u_=1;var t=typeof Symbol=="function"&&Symbol.for,r=t?Symbol.for("react.element"):60103,a=t?Symbol.for("react.portal"):60106,s=t?Symbol.for("react.fragment"):60107,n=t?Symbol.for("react.strict_mode"):60108,i=t?Symbol.for("react.profiler"):60114,o=t?Symbol.for("react.provider"):60109,d=t?Symbol.for("react.context"):60110,u=t?Symbol.for("react.async_mode"):60111,m=t?Symbol.for("react.concurrent_mode"):60111,f=t?Symbol.for("react.forward_ref"):60112,x=t?Symbol.for("react.suspense"):60113,b=t?Symbol.for("react.suspense_list"):60120,p=t?Symbol.for("react.memo"):60115,v=t?Symbol.for("react.lazy"):60116,j=t?Symbol.for("react.block"):60121,w=t?Symbol.for("react.fundamental"):60117,N=t?Symbol.for("react.responder"):60118,P=t?Symbol.for("react.scope"):60119;function A(T){if(typeof T=="object"&&T!==null){var R=T.$$typeof;switch(R){case r:switch(T=T.type,T){case u:case m:case s:case i:case n:case x:return T;default:switch(T=T&&T.$$typeof,T){case d:case f:case v:case p:case o:return T;default:return R}}case a:return R}}}function D(T){return A(T)===m}return Rr.AsyncMode=u,Rr.ConcurrentMode=m,Rr.ContextConsumer=d,Rr.ContextProvider=o,Rr.Element=r,Rr.ForwardRef=f,Rr.Fragment=s,Rr.Lazy=v,Rr.Memo=p,Rr.Portal=a,Rr.Profiler=i,Rr.StrictMode=n,Rr.Suspense=x,Rr.isAsyncMode=function(T){return D(T)||A(T)===u},Rr.isConcurrentMode=D,Rr.isContextConsumer=function(T){return A(T)===d},Rr.isContextProvider=function(T){return A(T)===o},Rr.isElement=function(T){return typeof T=="object"&&T!==null&&T.$$typeof===r},Rr.isForwardRef=function(T){return A(T)===f},Rr.isFragment=function(T){return A(T)===s},Rr.isLazy=function(T){return A(T)===v},Rr.isMemo=function(T){return A(T)===p},Rr.isPortal=function(T){return A(T)===a},Rr.isProfiler=function(T){return A(T)===i},Rr.isStrictMode=function(T){return A(T)===n},Rr.isSuspense=function(T){return A(T)===x},Rr.isValidElementType=function(T){return typeof T=="string"||typeof T=="function"||T===s||T===m||T===i||T===n||T===x||T===b||typeof T=="object"&&T!==null&&(T.$$typeof===v||T.$$typeof===p||T.$$typeof===o||T.$$typeof===d||T.$$typeof===f||T.$$typeof===w||T.$$typeof===N||T.$$typeof===P||T.$$typeof===j)},Rr.typeOf=A,Rr}var m_;function VY(){return m_||(m_=1,Qv.exports=YY()),Qv.exports}var KY=VY(),$s=t=>t===0?0:t>0?1:-1,ki=t=>typeof t=="number"&&t!=+t,Lu=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,kt=t=>(typeof t=="number"||t instanceof Number)&&!ki(t),ko=t=>kt(t)||typeof t=="string",WY=0,jx=t=>{var r=++WY;return"".concat(t||"").concat(r)},pn=function(r,a){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!kt(r)&&typeof r!="string")return s;var i;if(Lu(r)){if(a==null)return s;var o=r.indexOf("%");i=a*parseFloat(r.slice(0,o))/100}else i=+r;return ki(i)&&(i=s),n&&a!=null&&i>a&&(i=a),i},nE=t=>{if(!Array.isArray(t))return!1;for(var r=t.length,a={},s=0;s<r;s++)if(!a[t[s]])a[t[s]]=!0;else return!0;return!1};function Ua(t,r,a){return kt(t)&&kt(r)?t+a*(r-t):r}function iE(t,r,a){if(!(!t||!t.length))return t.find(s=>s&&(typeof r=="function"?r(s):tm(s,r))===a)}var ka=t=>t===null||typeof t>"u",Ux=t=>ka(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1)),XY=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function TN(t){if(typeof t!="string")return!1;var r=XY;return r.includes(t)}var JY=["viewBox","children"],f_=["points","pathLength"],e1={svg:JY,polygon:f_,polyline:f_},ON=(t,r)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(g.isValidElement(t)&&(a=t.props),typeof a!="object"&&typeof a!="function")return null;var s={};return Object.keys(a).forEach(n=>{TN(n)&&(s[n]=i=>a[n](a,i))}),s},ZY=(t,r,a)=>s=>(t(r,a,s),null),hy=(t,r,a)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var s=null;return Object.keys(t).forEach(n=>{var i=t[n];TN(n)&&typeof i=="function"&&(s||(s={}),s[n]=ZY(i,r,a))}),s},QY=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function lE(t){if(typeof t!="string")return!1;var r=QY;return r.includes(t)}function kc(t){var r=Object.entries(t).filter(a=>{var[s]=a;return lE(s)});return Object.fromEntries(r)}var h_=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",x_=null,t1=null,oE=t=>{if(t===x_&&Array.isArray(t1))return t1;var r=[];return g.Children.forEach(t,a=>{ka(a)||(KY.isFragment(a)?r=r.concat(oE(a.props.children)):r.push(a))}),t1=r,x_=t,r};function DN(t,r){var a=[],s=[];return Array.isArray(r)?s=r.map(n=>h_(n)):s=[h_(r)],oE(t).forEach(n=>{var i=tm(n,"type.displayName")||tm(n,"type.name");s.indexOf(i)!==-1&&a.push(n)}),a}var cE=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,eV=(t,r,a,s)=>{var n;if(typeof r=="symbol"||typeof r=="number")return!0;var i=(n=s&&e1?.[s])!==null&&n!==void 0?n:[],o=r.startsWith("data-"),d=typeof t!="function"&&(!!s&&i.includes(r)||lE(r)),u=!!a&&TN(r);return o||d||u},_a=(t,r,a)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var s=t;if(g.isValidElement(t)&&(s=t.props),typeof s!="object"&&typeof s!="function")return null;var n={};return Object.keys(s).forEach(i=>{var o;eV((o=s)===null||o===void 0?void 0:o[i],i,r,a)&&(n[i]=s[i])}),n},tV=["children","width","height","viewBox","className","style","title","desc"];function xj(){return xj=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var s in a)({}).hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},xj.apply(null,arguments)}function rV(t,r){if(t==null)return{};var a,s,n=aV(t,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)a=i[s],r.indexOf(a)===-1&&{}.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}function aV(t,r){if(t==null)return{};var a={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(r.indexOf(s)!==-1)continue;a[s]=t[s]}return a}var dE=g.forwardRef((t,r)=>{var{children:a,width:s,height:n,viewBox:i,className:o,style:d,title:u,desc:m}=t,f=rV(t,tV),x=i||{width:s,height:n,x:0,y:0},b=Dr("recharts-surface",o);return g.createElement("svg",xj({},_a(f,!0,"svg"),{className:b,width:s,height:n,style:d,viewBox:"".concat(x.x," ").concat(x.y," ").concat(x.width," ").concat(x.height),ref:r}),g.createElement("title",null,u),g.createElement("desc",null,m),a)}),sV=["children","className"];function pj(){return pj=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var s in a)({}).hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},pj.apply(null,arguments)}function nV(t,r){if(t==null)return{};var a,s,n=iV(t,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)a=i[s],r.indexOf(a)===-1&&{}.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}function iV(t,r){if(t==null)return{};var a={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(r.indexOf(s)!==-1)continue;a[s]=t[s]}return a}var nn=g.forwardRef((t,r)=>{var{children:a,className:s}=t,n=nV(t,sV),i=Dr("recharts-layer",s);return g.createElement("g",pj({className:i},_a(n,!0),{ref:r}),a)}),lV=g.createContext(null);function oa(t){return function(){return t}}const uE=Math.cos,ug=Math.sin,Vl=Math.sqrt,mg=Math.PI,xy=2*mg,gj=Math.PI,yj=2*gj,Cu=1e-6,oV=yj-Cu;function mE(t){this._+=t[0];for(let r=1,a=t.length;r<a;++r)this._+=arguments[r]+t[r]}function cV(t){let r=Math.floor(t);if(!(r>=0))throw new Error(`invalid digits: ${t}`);if(r>15)return mE;const a=10**r;return function(s){this._+=s[0];for(let n=1,i=s.length;n<i;++n)this._+=Math.round(arguments[n]*a)/a+s[n]}}class dV{constructor(r){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=r==null?mE:cV(r)}moveTo(r,a){this._append`M${this._x0=this._x1=+r},${this._y0=this._y1=+a}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(r,a){this._append`L${this._x1=+r},${this._y1=+a}`}quadraticCurveTo(r,a,s,n){this._append`Q${+r},${+a},${this._x1=+s},${this._y1=+n}`}bezierCurveTo(r,a,s,n,i,o){this._append`C${+r},${+a},${+s},${+n},${this._x1=+i},${this._y1=+o}`}arcTo(r,a,s,n,i){if(r=+r,a=+a,s=+s,n=+n,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,d=this._y1,u=s-r,m=n-a,f=o-r,x=d-a,b=f*f+x*x;if(this._x1===null)this._append`M${this._x1=r},${this._y1=a}`;else if(b>Cu)if(!(Math.abs(x*u-m*f)>Cu)||!i)this._append`L${this._x1=r},${this._y1=a}`;else{let p=s-o,v=n-d,j=u*u+m*m,w=p*p+v*v,N=Math.sqrt(j),P=Math.sqrt(b),A=i*Math.tan((gj-Math.acos((j+b-w)/(2*N*P)))/2),D=A/P,T=A/N;Math.abs(D-1)>Cu&&this._append`L${r+D*f},${a+D*x}`,this._append`A${i},${i},0,0,${+(x*p>f*v)},${this._x1=r+T*u},${this._y1=a+T*m}`}}arc(r,a,s,n,i,o){if(r=+r,a=+a,s=+s,o=!!o,s<0)throw new Error(`negative radius: ${s}`);let d=s*Math.cos(n),u=s*Math.sin(n),m=r+d,f=a+u,x=1^o,b=o?n-i:i-n;this._x1===null?this._append`M${m},${f}`:(Math.abs(this._x1-m)>Cu||Math.abs(this._y1-f)>Cu)&&this._append`L${m},${f}`,s&&(b<0&&(b=b%yj+yj),b>oV?this._append`A${s},${s},0,1,${x},${r-d},${a-u}A${s},${s},0,1,${x},${this._x1=m},${this._y1=f}`:b>Cu&&this._append`A${s},${s},0,${+(b>=gj)},${x},${this._x1=r+s*Math.cos(i)},${this._y1=a+s*Math.sin(i)}`)}rect(r,a,s,n){this._append`M${this._x0=this._x1=+r},${this._y0=this._y1=+a}h${s=+s}v${+n}h${-s}Z`}toString(){return this._}}function LN(t){let r=3;return t.digits=function(a){if(!arguments.length)return r;if(a==null)r=null;else{const s=Math.floor(a);if(!(s>=0))throw new RangeError(`invalid digits: ${a}`);r=s}return t},()=>new dV(r)}function MN(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function fE(t){this._context=t}fE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,r){switch(t=+t,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break;case 1:this._point=2;default:this._context.lineTo(t,r);break}}};function py(t){return new fE(t)}function hE(t){return t[0]}function xE(t){return t[1]}function pE(t,r){var a=oa(!0),s=null,n=py,i=null,o=LN(d);t=typeof t=="function"?t:t===void 0?hE:oa(t),r=typeof r=="function"?r:r===void 0?xE:oa(r);function d(u){var m,f=(u=MN(u)).length,x,b=!1,p;for(s==null&&(i=n(p=o())),m=0;m<=f;++m)!(m<f&&a(x=u[m],m,u))===b&&((b=!b)?i.lineStart():i.lineEnd()),b&&i.point(+t(x,m,u),+r(x,m,u));if(p)return i=null,p+""||null}return d.x=function(u){return arguments.length?(t=typeof u=="function"?u:oa(+u),d):t},d.y=function(u){return arguments.length?(r=typeof u=="function"?u:oa(+u),d):r},d.defined=function(u){return arguments.length?(a=typeof u=="function"?u:oa(!!u),d):a},d.curve=function(u){return arguments.length?(n=u,s!=null&&(i=n(s)),d):n},d.context=function(u){return arguments.length?(u==null?s=i=null:i=n(s=u),d):s},d}function gp(t,r,a){var s=null,n=oa(!0),i=null,o=py,d=null,u=LN(m);t=typeof t=="function"?t:t===void 0?hE:oa(+t),r=typeof r=="function"?r:oa(r===void 0?0:+r),a=typeof a=="function"?a:a===void 0?xE:oa(+a);function m(x){var b,p,v,j=(x=MN(x)).length,w,N=!1,P,A=new Array(j),D=new Array(j);for(i==null&&(d=o(P=u())),b=0;b<=j;++b){if(!(b<j&&n(w=x[b],b,x))===N)if(N=!N)p=b,d.areaStart(),d.lineStart();else{for(d.lineEnd(),d.lineStart(),v=b-1;v>=p;--v)d.point(A[v],D[v]);d.lineEnd(),d.areaEnd()}N&&(A[b]=+t(w,b,x),D[b]=+r(w,b,x),d.point(s?+s(w,b,x):A[b],a?+a(w,b,x):D[b]))}if(P)return d=null,P+""||null}function f(){return pE().defined(n).curve(o).context(i)}return m.x=function(x){return arguments.length?(t=typeof x=="function"?x:oa(+x),s=null,m):t},m.x0=function(x){return arguments.length?(t=typeof x=="function"?x:oa(+x),m):t},m.x1=function(x){return arguments.length?(s=x==null?null:typeof x=="function"?x:oa(+x),m):s},m.y=function(x){return arguments.length?(r=typeof x=="function"?x:oa(+x),a=null,m):r},m.y0=function(x){return arguments.length?(r=typeof x=="function"?x:oa(+x),m):r},m.y1=function(x){return arguments.length?(a=x==null?null:typeof x=="function"?x:oa(+x),m):a},m.lineX0=m.lineY0=function(){return f().x(t).y(r)},m.lineY1=function(){return f().x(t).y(a)},m.lineX1=function(){return f().x(s).y(r)},m.defined=function(x){return arguments.length?(n=typeof x=="function"?x:oa(!!x),m):n},m.curve=function(x){return arguments.length?(o=x,i!=null&&(d=o(i)),m):o},m.context=function(x){return arguments.length?(x==null?i=d=null:d=o(i=x),m):i},m}class gE{constructor(r,a){this._context=r,this._x=a}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(r,a){switch(r=+r,a=+a,this._point){case 0:{this._point=1,this._line?this._context.lineTo(r,a):this._context.moveTo(r,a);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+r)/2,this._y0,this._x0,a,r,a):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+a)/2,r,this._y0,r,a);break}}this._x0=r,this._y0=a}}function uV(t){return new gE(t,!0)}function mV(t){return new gE(t,!1)}const RN={draw(t,r){const a=Vl(r/mg);t.moveTo(a,0),t.arc(0,0,a,0,xy)}},fV={draw(t,r){const a=Vl(r/5)/2;t.moveTo(-3*a,-a),t.lineTo(-a,-a),t.lineTo(-a,-3*a),t.lineTo(a,-3*a),t.lineTo(a,-a),t.lineTo(3*a,-a),t.lineTo(3*a,a),t.lineTo(a,a),t.lineTo(a,3*a),t.lineTo(-a,3*a),t.lineTo(-a,a),t.lineTo(-3*a,a),t.closePath()}},yE=Vl(1/3),hV=yE*2,xV={draw(t,r){const a=Vl(r/hV),s=a*yE;t.moveTo(0,-a),t.lineTo(s,0),t.lineTo(0,a),t.lineTo(-s,0),t.closePath()}},pV={draw(t,r){const a=Vl(r),s=-a/2;t.rect(s,s,a,a)}},gV=.8908130915292852,bE=ug(mg/10)/ug(7*mg/10),yV=ug(xy/10)*bE,bV=-uE(xy/10)*bE,vV={draw(t,r){const a=Vl(r*gV),s=yV*a,n=bV*a;t.moveTo(0,-a),t.lineTo(s,n);for(let i=1;i<5;++i){const o=xy*i/5,d=uE(o),u=ug(o);t.lineTo(u*a,-d*a),t.lineTo(d*s-u*n,u*s+d*n)}t.closePath()}},r1=Vl(3),jV={draw(t,r){const a=-Vl(r/(r1*3));t.moveTo(0,a*2),t.lineTo(-r1*a,-a),t.lineTo(r1*a,-a),t.closePath()}},sl=-.5,nl=Vl(3)/2,bj=1/Vl(12),NV=(bj/2+1)*3,wV={draw(t,r){const a=Vl(r/NV),s=a/2,n=a*bj,i=s,o=a*bj+a,d=-i,u=o;t.moveTo(s,n),t.lineTo(i,o),t.lineTo(d,u),t.lineTo(sl*s-nl*n,nl*s+sl*n),t.lineTo(sl*i-nl*o,nl*i+sl*o),t.lineTo(sl*d-nl*u,nl*d+sl*u),t.lineTo(sl*s+nl*n,sl*n-nl*s),t.lineTo(sl*i+nl*o,sl*o-nl*i),t.lineTo(sl*d+nl*u,sl*u-nl*d),t.closePath()}};function SV(t,r){let a=null,s=LN(n);t=typeof t=="function"?t:oa(t||RN),r=typeof r=="function"?r:oa(r===void 0?64:+r);function n(){let i;if(a||(a=i=s()),t.apply(this,arguments).draw(a,+r.apply(this,arguments)),i)return a=null,i+""||null}return n.type=function(i){return arguments.length?(t=typeof i=="function"?i:oa(i),n):t},n.size=function(i){return arguments.length?(r=typeof i=="function"?i:oa(+i),n):r},n.context=function(i){return arguments.length?(a=i??null,n):a},n}function fg(){}function hg(t,r,a){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+r)/6,(t._y0+4*t._y1+a)/6)}function vE(t){this._context=t}vE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:hg(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,r){switch(t=+t,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:hg(this,t,r);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=r}};function _V(t){return new vE(t)}function jE(t){this._context=t}jE.prototype={areaStart:fg,areaEnd:fg,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,r){switch(t=+t,r=+r,this._point){case 0:this._point=1,this._x2=t,this._y2=r;break;case 1:this._point=2,this._x3=t,this._y3=r;break;case 2:this._point=3,this._x4=t,this._y4=r,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+r)/6);break;default:hg(this,t,r);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=r}};function AV(t){return new jE(t)}function NE(t){this._context=t}NE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,r){switch(t=+t,r=+r,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var a=(this._x0+4*this._x1+t)/6,s=(this._y0+4*this._y1+r)/6;this._line?this._context.lineTo(a,s):this._context.moveTo(a,s);break;case 3:this._point=4;default:hg(this,t,r);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=r}};function kV(t){return new NE(t)}function wE(t){this._context=t}wE.prototype={areaStart:fg,areaEnd:fg,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,r){t=+t,r=+r,this._point?this._context.lineTo(t,r):(this._point=1,this._context.moveTo(t,r))}};function CV(t){return new wE(t)}function p_(t){return t<0?-1:1}function g_(t,r,a){var s=t._x1-t._x0,n=r-t._x1,i=(t._y1-t._y0)/(s||n<0&&-0),o=(a-t._y1)/(n||s<0&&-0),d=(i*n+o*s)/(s+n);return(p_(i)+p_(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(d))||0}function y_(t,r){var a=t._x1-t._x0;return a?(3*(t._y1-t._y0)/a-r)/2:r}function a1(t,r,a){var s=t._x0,n=t._y0,i=t._x1,o=t._y1,d=(i-s)/3;t._context.bezierCurveTo(s+d,n+d*r,i-d,o-d*a,i,o)}function xg(t){this._context=t}xg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:a1(this,this._t0,y_(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,r){var a=NaN;if(t=+t,r=+r,!(t===this._x1&&r===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break;case 1:this._point=2;break;case 2:this._point=3,a1(this,y_(this,a=g_(this,t,r)),a);break;default:a1(this,this._t0,a=g_(this,t,r));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=r,this._t0=a}}};function SE(t){this._context=new _E(t)}(SE.prototype=Object.create(xg.prototype)).point=function(t,r){xg.prototype.point.call(this,r,t)};function _E(t){this._context=t}_E.prototype={moveTo:function(t,r){this._context.moveTo(r,t)},closePath:function(){this._context.closePath()},lineTo:function(t,r){this._context.lineTo(r,t)},bezierCurveTo:function(t,r,a,s,n,i){this._context.bezierCurveTo(r,t,s,a,i,n)}};function EV(t){return new xg(t)}function PV(t){return new SE(t)}function AE(t){this._context=t}AE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,r=this._y,a=t.length;if(a)if(this._line?this._context.lineTo(t[0],r[0]):this._context.moveTo(t[0],r[0]),a===2)this._context.lineTo(t[1],r[1]);else for(var s=b_(t),n=b_(r),i=0,o=1;o<a;++i,++o)this._context.bezierCurveTo(s[0][i],n[0][i],s[1][i],n[1][i],t[o],r[o]);(this._line||this._line!==0&&a===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,r){this._x.push(+t),this._y.push(+r)}};function b_(t){var r,a=t.length-1,s,n=new Array(a),i=new Array(a),o=new Array(a);for(n[0]=0,i[0]=2,o[0]=t[0]+2*t[1],r=1;r<a-1;++r)n[r]=1,i[r]=4,o[r]=4*t[r]+2*t[r+1];for(n[a-1]=2,i[a-1]=7,o[a-1]=8*t[a-1]+t[a],r=1;r<a;++r)s=n[r]/i[r-1],i[r]-=s,o[r]-=s*o[r-1];for(n[a-1]=o[a-1]/i[a-1],r=a-2;r>=0;--r)n[r]=(o[r]-n[r+1])/i[r];for(i[a-1]=(t[a]+n[a-1])/2,r=0;r<a-1;++r)i[r]=2*t[r+1]-n[r+1];return[n,i]}function TV(t){return new AE(t)}function gy(t,r){this._context=t,this._t=r}gy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,r){switch(t=+t,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,r),this._context.lineTo(t,r);else{var a=this._x*(1-this._t)+t*this._t;this._context.lineTo(a,this._y),this._context.lineTo(a,r)}break}}this._x=t,this._y=r}};function OV(t){return new gy(t,.5)}function DV(t){return new gy(t,0)}function LV(t){return new gy(t,1)}function Sf(t,r){if((o=t.length)>1)for(var a=1,s,n,i=t[r[0]],o,d=i.length;a<o;++a)for(n=i,i=t[r[a]],s=0;s<d;++s)i[s][1]+=i[s][0]=isNaN(n[s][1])?n[s][0]:n[s][1]}function vj(t){for(var r=t.length,a=new Array(r);--r>=0;)a[r]=r;return a}function MV(t,r){return t[r]}function RV(t){const r=[];return r.key=t,r}function $V(){var t=oa([]),r=vj,a=Sf,s=MV;function n(i){var o=Array.from(t.apply(this,arguments),RV),d,u=o.length,m=-1,f;for(const x of i)for(d=0,++m;d<u;++d)(o[d][m]=[0,+s(x,o[d].key,m,i)]).data=x;for(d=0,f=MN(r(o));d<u;++d)o[f[d]].index=d;return a(o,f),o}return n.keys=function(i){return arguments.length?(t=typeof i=="function"?i:oa(Array.from(i)),n):t},n.value=function(i){return arguments.length?(s=typeof i=="function"?i:oa(+i),n):s},n.order=function(i){return arguments.length?(r=i==null?vj:typeof i=="function"?i:oa(Array.from(i)),n):r},n.offset=function(i){return arguments.length?(a=i??Sf,n):a},n}function IV(t,r){if((s=t.length)>0){for(var a,s,n=0,i=t[0].length,o;n<i;++n){for(o=a=0;a<s;++a)o+=t[a][n][1]||0;if(o)for(a=0;a<s;++a)t[a][n][1]/=o}Sf(t,r)}}function FV(t,r){if((n=t.length)>0){for(var a=0,s=t[r[0]],n,i=s.length;a<i;++a){for(var o=0,d=0;o<n;++o)d+=t[o][a][1]||0;s[a][1]+=s[a][0]=-d/2}Sf(t,r)}}function BV(t,r){if(!(!((o=t.length)>0)||!((i=(n=t[r[0]]).length)>0))){for(var a=0,s=1,n,i,o;s<i;++s){for(var d=0,u=0,m=0;d<o;++d){for(var f=t[r[d]],x=f[s][1]||0,b=f[s-1][1]||0,p=(x-b)/2,v=0;v<d;++v){var j=t[r[v]],w=j[s][1]||0,N=j[s-1][1]||0;p+=w-N}u+=x,m+=p*x}n[s-1][1]+=n[s-1][0]=a,u&&(a-=m/u)}n[s-1][1]+=n[s-1][0]=a,Sf(t,r)}}var zV=["type","size","sizeType"];function jj(){return jj=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var s in a)({}).hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},jj.apply(null,arguments)}function v_(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,s)}return a}function j_(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?v_(Object(a),!0).forEach(function(s){UV(t,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):v_(Object(a)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(a,s))})}return t}function UV(t,r,a){return(r=qV(r))in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function qV(t){var r=HV(t,"string");return typeof r=="symbol"?r:r+""}function HV(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function GV(t,r){if(t==null)return{};var a,s,n=YV(t,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)a=i[s],r.indexOf(a)===-1&&{}.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}function YV(t,r){if(t==null)return{};var a={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(r.indexOf(s)!==-1)continue;a[s]=t[s]}return a}var kE={symbolCircle:RN,symbolCross:fV,symbolDiamond:xV,symbolSquare:pV,symbolStar:vV,symbolTriangle:jV,symbolWye:wV},VV=Math.PI/180,KV=t=>{var r="symbol".concat(Ux(t));return kE[r]||RN},WV=(t,r,a)=>{if(r==="area")return t;switch(a){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var s=18*VV;return 1.25*t*t*(Math.tan(s)-Math.tan(s*2)*Math.tan(s)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},XV=(t,r)=>{kE["symbol".concat(Ux(t))]=r},CE=t=>{var{type:r="circle",size:a=64,sizeType:s="area"}=t,n=GV(t,zV),i=j_(j_({},n),{},{type:r,size:a,sizeType:s}),o="circle";typeof r=="string"&&(o=r);var d=()=>{var b=KV(o),p=SV().type(b).size(WV(a,s,o));return p()},{className:u,cx:m,cy:f}=i,x=_a(i,!0);return m===+m&&f===+f&&a===+a?g.createElement("path",jj({},x,{className:Dr("recharts-symbols",u),transform:"translate(".concat(m,", ").concat(f,")"),d:d()})):null};CE.registerSymbol=XV;var s1={},n1={},N_;function JV(){return N_||(N_=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function r(a,s){const n=new Map;for(let i=0;i<a.length;i++){const o=a[i],d=s(o);n.has(d)||n.set(d,o)}return Array.from(n.values())}t.uniqBy=r}(n1)),n1}var i1={},w_;function EE(){return w_||(w_=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function r(a){return a}t.identity=r}(i1)),i1}var l1={},o1={},c1={},S_;function ZV(){return S_||(S_=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function r(a){return Number.isSafeInteger(a)&&a>=0}t.isLength=r}(c1)),c1}var __;function $N(){return __||(__=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=ZV();function a(s){return s!=null&&typeof s!="function"&&r.isLength(s.length)}t.isArrayLike=a}(o1)),o1}var d1={},A_;function QV(){return A_||(A_=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function r(a){return typeof a=="object"&&a!==null}t.isObjectLike=r}(d1)),d1}var k_;function eK(){return k_||(k_=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=$N(),a=QV();function s(n){return a.isObjectLike(n)&&r.isArrayLike(n)}t.isArrayLikeObject=s}(l1)),l1}var u1={},m1={},C_;function tK(){return C_||(C_=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=PN();function a(s){return function(n){return r.get(n,s)}}t.property=a}(m1)),m1}var f1={},h1={},x1={},p1={},E_;function PE(){return E_||(E_=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function r(a){return a!==null&&(typeof a=="object"||typeof a=="function")}t.isObject=r}(p1)),p1}var g1={},P_;function TE(){return P_||(P_=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function r(a){return a==null||typeof a!="object"&&typeof a!="function"}t.isPrimitive=r}(g1)),g1}var y1={},T_;function OE(){return T_||(T_=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function r(a,s){return a===s||Number.isNaN(a)&&Number.isNaN(s)}t.eq=r}(y1)),y1}var O_;function rK(){return O_||(O_=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=IN(),a=PE(),s=TE(),n=OE();function i(x,b,p){return typeof p!="function"?r.isMatch(x,b):o(x,b,function v(j,w,N,P,A,D){const T=p(j,w,N,P,A,D);return T!==void 0?!!T:o(j,w,v,D)},new Map)}function o(x,b,p,v){if(b===x)return!0;switch(typeof b){case"object":return d(x,b,p,v);case"function":return Object.keys(b).length>0?o(x,{...b},p,v):n.eq(x,b);default:return a.isObject(x)?typeof b=="string"?b==="":!0:n.eq(x,b)}}function d(x,b,p,v){if(b==null)return!0;if(Array.isArray(b))return m(x,b,p,v);if(b instanceof Map)return u(x,b,p,v);if(b instanceof Set)return f(x,b,p,v);const j=Object.keys(b);if(x==null)return j.length===0;if(j.length===0)return!0;if(v&&v.has(b))return v.get(b)===x;v&&v.set(b,x);try{for(let w=0;w<j.length;w++){const N=j[w];if(!s.isPrimitive(x)&&!(N in x)||b[N]===void 0&&x[N]!==void 0||b[N]===null&&x[N]!==null||!p(x[N],b[N],N,x,b,v))return!1}return!0}finally{v&&v.delete(b)}}function u(x,b,p,v){if(b.size===0)return!0;if(!(x instanceof Map))return!1;for(const[j,w]of b.entries()){const N=x.get(j);if(p(N,w,j,x,b,v)===!1)return!1}return!0}function m(x,b,p,v){if(b.length===0)return!0;if(!Array.isArray(x))return!1;const j=new Set;for(let w=0;w<b.length;w++){const N=b[w];let P=!1;for(let A=0;A<x.length;A++){if(j.has(A))continue;const D=x[A];let T=!1;if(p(D,N,w,x,b,v)&&(T=!0),T){j.add(A),P=!0;break}}if(!P)return!1}return!0}function f(x,b,p,v){return b.size===0?!0:x instanceof Set?m([...x],[...b],p,v):!1}t.isMatchWith=i,t.isSetMatch=f}(x1)),x1}var D_;function IN(){return D_||(D_=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=rK();function a(s,n){return r.isMatchWith(s,n,()=>{})}t.isMatch=a}(h1)),h1}var b1={},v1={},j1={},L_;function aK(){return L_||(L_=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function r(a){return Object.getOwnPropertySymbols(a).filter(s=>Object.prototype.propertyIsEnumerable.call(a,s))}t.getSymbols=r}(j1)),j1}var N1={},M_;function DE(){return M_||(M_=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function r(a){return a==null?a===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(a)}t.getTag=r}(N1)),N1}var w1={},R_;function LE(){return R_||(R_=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r="[object RegExp]",a="[object String]",s="[object Number]",n="[object Boolean]",i="[object Arguments]",o="[object Symbol]",d="[object Date]",u="[object Map]",m="[object Set]",f="[object Array]",x="[object Function]",b="[object ArrayBuffer]",p="[object Object]",v="[object Error]",j="[object DataView]",w="[object Uint8Array]",N="[object Uint8ClampedArray]",P="[object Uint16Array]",A="[object Uint32Array]",D="[object BigUint64Array]",T="[object Int8Array]",R="[object Int16Array]",E="[object Int32Array]",O="[object BigInt64Array]",k="[object Float32Array]",Y="[object Float64Array]";t.argumentsTag=i,t.arrayBufferTag=b,t.arrayTag=f,t.bigInt64ArrayTag=O,t.bigUint64ArrayTag=D,t.booleanTag=n,t.dataViewTag=j,t.dateTag=d,t.errorTag=v,t.float32ArrayTag=k,t.float64ArrayTag=Y,t.functionTag=x,t.int16ArrayTag=R,t.int32ArrayTag=E,t.int8ArrayTag=T,t.mapTag=u,t.numberTag=s,t.objectTag=p,t.regexpTag=r,t.setTag=m,t.stringTag=a,t.symbolTag=o,t.uint16ArrayTag=P,t.uint32ArrayTag=A,t.uint8ArrayTag=w,t.uint8ClampedArrayTag=N}(w1)),w1}var S1={},$_;function sK(){return $_||($_=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function r(a){return ArrayBuffer.isView(a)&&!(a instanceof DataView)}t.isTypedArray=r}(S1)),S1}var I_;function ME(){return I_||(I_=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=aK(),a=DE(),s=LE(),n=TE(),i=sK();function o(f,x){return d(f,void 0,f,new Map,x)}function d(f,x,b,p=new Map,v=void 0){const j=v?.(f,x,b,p);if(j!==void 0)return j;if(n.isPrimitive(f))return f;if(p.has(f))return p.get(f);if(Array.isArray(f)){const w=new Array(f.length);p.set(f,w);for(let N=0;N<f.length;N++)w[N]=d(f[N],N,b,p,v);return Object.hasOwn(f,"index")&&(w.index=f.index),Object.hasOwn(f,"input")&&(w.input=f.input),w}if(f instanceof Date)return new Date(f.getTime());if(f instanceof RegExp){const w=new RegExp(f.source,f.flags);return w.lastIndex=f.lastIndex,w}if(f instanceof Map){const w=new Map;p.set(f,w);for(const[N,P]of f)w.set(N,d(P,N,b,p,v));return w}if(f instanceof Set){const w=new Set;p.set(f,w);for(const N of f)w.add(d(N,void 0,b,p,v));return w}if(typeof Buffer<"u"&&Buffer.isBuffer(f))return f.subarray();if(i.isTypedArray(f)){const w=new(Object.getPrototypeOf(f)).constructor(f.length);p.set(f,w);for(let N=0;N<f.length;N++)w[N]=d(f[N],N,b,p,v);return w}if(f instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&f instanceof SharedArrayBuffer)return f.slice(0);if(f instanceof DataView){const w=new DataView(f.buffer.slice(0),f.byteOffset,f.byteLength);return p.set(f,w),u(w,f,b,p,v),w}if(typeof File<"u"&&f instanceof File){const w=new File([f],f.name,{type:f.type});return p.set(f,w),u(w,f,b,p,v),w}if(f instanceof Blob){const w=new Blob([f],{type:f.type});return p.set(f,w),u(w,f,b,p,v),w}if(f instanceof Error){const w=new f.constructor;return p.set(f,w),w.message=f.message,w.name=f.name,w.stack=f.stack,w.cause=f.cause,u(w,f,b,p,v),w}if(typeof f=="object"&&m(f)){const w=Object.create(Object.getPrototypeOf(f));return p.set(f,w),u(w,f,b,p,v),w}return f}function u(f,x,b=f,p,v){const j=[...Object.keys(x),...r.getSymbols(x)];for(let w=0;w<j.length;w++){const N=j[w],P=Object.getOwnPropertyDescriptor(f,N);(P==null||P.writable)&&(f[N]=d(x[N],N,b,p,v))}}function m(f){switch(a.getTag(f)){case s.argumentsTag:case s.arrayTag:case s.arrayBufferTag:case s.dataViewTag:case s.booleanTag:case s.dateTag:case s.float32ArrayTag:case s.float64ArrayTag:case s.int8ArrayTag:case s.int16ArrayTag:case s.int32ArrayTag:case s.mapTag:case s.numberTag:case s.objectTag:case s.regexpTag:case s.setTag:case s.stringTag:case s.symbolTag:case s.uint8ArrayTag:case s.uint8ClampedArrayTag:case s.uint16ArrayTag:case s.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=o,t.cloneDeepWithImpl=d,t.copyProperties=u}(v1)),v1}var F_;function nK(){return F_||(F_=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=ME();function a(s){return r.cloneDeepWithImpl(s,void 0,s,new Map,void 0)}t.cloneDeep=a}(b1)),b1}var B_;function iK(){return B_||(B_=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=IN(),a=nK();function s(n){return n=a.cloneDeep(n),i=>r.isMatch(i,n)}t.matches=s}(f1)),f1}var _1={},A1={},k1={},z_;function lK(){return z_||(z_=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=ME(),a=LE();function s(n,i){return r.cloneDeepWith(n,(o,d,u,m)=>{const f=i?.(o,d,u,m);if(f!==void 0)return f;if(typeof n=="object")switch(Object.prototype.toString.call(n)){case a.numberTag:case a.stringTag:case a.booleanTag:{const x=new n.constructor(n?.valueOf());return r.copyProperties(x,n),x}case a.argumentsTag:{const x={};return r.copyProperties(x,n),x.length=n.length,x[Symbol.iterator]=n[Symbol.iterator],x}default:return}})}t.cloneDeepWith=s}(k1)),k1}var U_;function oK(){return U_||(U_=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=lK();function a(s){return r.cloneDeepWith(s)}t.cloneDeep=a}(A1)),A1}var C1={},E1={},q_;function RE(){return q_||(q_=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=/^(?:0|[1-9]\d*)$/;function a(s,n=Number.MAX_SAFE_INTEGER){switch(typeof s){case"number":return Number.isInteger(s)&&s>=0&&s<n;case"symbol":return!1;case"string":return r.test(s)}}t.isIndex=a}(E1)),E1}var P1={},H_;function cK(){return H_||(H_=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=DE();function a(s){return s!==null&&typeof s=="object"&&r.getTag(s)==="[object Arguments]"}t.isArguments=a}(P1)),P1}var G_;function dK(){return G_||(G_=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=aE(),a=RE(),s=cK(),n=EN();function i(o,d){let u;if(Array.isArray(d)?u=d:typeof d=="string"&&r.isDeepKey(d)&&o?.[d]==null?u=n.toPath(d):u=[d],u.length===0)return!1;let m=o;for(let f=0;f<u.length;f++){const x=u[f];if((m==null||!Object.hasOwn(m,x))&&!((Array.isArray(m)||s.isArguments(m))&&a.isIndex(x)&&x<m.length))return!1;m=m[x]}return!0}t.has=i}(C1)),C1}var Y_;function uK(){return Y_||(Y_=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=IN(),a=sE(),s=oK(),n=PN(),i=dK();function o(d,u){switch(typeof d){case"object":{Object.is(d?.valueOf(),-0)&&(d="-0");break}case"number":{d=a.toKey(d);break}}return u=s.cloneDeep(u),function(m){const f=n.get(m,d);return f===void 0?i.has(m,d):u===void 0?f===void 0:r.isMatch(f,u)}}t.matchesProperty=o}(_1)),_1}var V_;function mK(){return V_||(V_=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=EE(),a=tK(),s=iK(),n=uK();function i(o){if(o==null)return r.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?n.matchesProperty(o[0],o[1]):s.matches(o);case"string":case"symbol":case"number":return a.property(o)}}t.iteratee=i}(u1)),u1}var K_;function fK(){return K_||(K_=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=JV(),a=EE(),s=eK(),n=mK();function i(o,d=a.identity){return s.isArrayLikeObject(o)?r.uniqBy(Array.from(o),n.iteratee(d)):[]}t.uniqBy=i}(s1)),s1}var T1,W_;function hK(){return W_||(W_=1,T1=fK().uniqBy),T1}var xK=hK();const X_=Eo(xK);function pK(t,r,a){return r===!0?X_(t,a):typeof r=="function"?X_(t,r):t}var O1={exports:{}},D1={},L1={exports:{}},M1={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J_;function gK(){if(J_)return M1;J_=1;var t=Tf();function r(x,b){return x===b&&(x!==0||1/x===1/b)||x!==x&&b!==b}var a=typeof Object.is=="function"?Object.is:r,s=t.useState,n=t.useEffect,i=t.useLayoutEffect,o=t.useDebugValue;function d(x,b){var p=b(),v=s({inst:{value:p,getSnapshot:b}}),j=v[0].inst,w=v[1];return i(function(){j.value=p,j.getSnapshot=b,u(j)&&w({inst:j})},[x,p,b]),n(function(){return u(j)&&w({inst:j}),x(function(){u(j)&&w({inst:j})})},[x]),o(p),p}function u(x){var b=x.getSnapshot;x=x.value;try{var p=b();return!a(x,p)}catch{return!0}}function m(x,b){return b()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:d;return M1.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:f,M1}var Z_;function yK(){return Z_||(Z_=1,L1.exports=gK()),L1.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q_;function bK(){if(Q_)return D1;Q_=1;var t=Tf(),r=yK();function a(m,f){return m===f&&(m!==0||1/m===1/f)||m!==m&&f!==f}var s=typeof Object.is=="function"?Object.is:a,n=r.useSyncExternalStore,i=t.useRef,o=t.useEffect,d=t.useMemo,u=t.useDebugValue;return D1.useSyncExternalStoreWithSelector=function(m,f,x,b,p){var v=i(null);if(v.current===null){var j={hasValue:!1,value:null};v.current=j}else j=v.current;v=d(function(){function N(R){if(!P){if(P=!0,A=R,R=b(R),p!==void 0&&j.hasValue){var E=j.value;if(p(E,R))return D=E}return D=R}if(E=D,s(A,R))return E;var O=b(R);return p!==void 0&&p(E,O)?(A=R,E):(A=R,D=O)}var P=!1,A,D,T=x===void 0?null:x;return[function(){return N(f())},T===null?void 0:function(){return N(T())}]},[f,x,b,p]);var w=n(m,v[0],v[1]);return o(function(){j.hasValue=!0,j.value=w},[w]),u(w),w},D1}var e8;function vK(){return e8||(e8=1,O1.exports=bK()),O1.exports}var jK=vK(),FN=g.createContext(null),NK=t=>t,rs=()=>{var t=g.useContext(FN);return t?t.store.dispatch:NK},Yp=()=>{},wK=()=>Yp,SK=(t,r)=>t===r;function jt(t){var r=g.useContext(FN);return jK.useSyncExternalStoreWithSelector(r?r.subscription.addNestedSub:wK,r?r.store.getState:Yp,r?r.store.getState:Yp,r?t:Yp,SK)}function _K(t,r=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(r)}function AK(t,r=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(r)}function kK(t,r="expected all items to be functions, instead received the following types: "){if(!t.every(a=>typeof a=="function")){const a=t.map(s=>typeof s=="function"?`function ${s.name||"unnamed"}()`:typeof s).join(", ");throw new TypeError(`${r}[${a}]`)}}var t8=t=>Array.isArray(t)?t:[t];function CK(t){const r=Array.isArray(t[0])?t[0]:t;return kK(r,"createSelector expects all input-selectors to be functions, but received the following types: "),r}function EK(t,r){const a=[],{length:s}=t;for(let n=0;n<s;n++)a.push(t[n].apply(null,r));return a}var PK=class{constructor(t){this.value=t}deref(){return this.value}},TK=typeof WeakRef<"u"?WeakRef:PK,OK=0,r8=1;function yp(){return{s:OK,v:void 0,o:null,p:null}}function $E(t,r={}){let a=yp();const{resultEqualityCheck:s}=r;let n,i=0;function o(){let d=a;const{length:u}=arguments;for(let x=0,b=u;x<b;x++){const p=arguments[x];if(typeof p=="function"||typeof p=="object"&&p!==null){let v=d.o;v===null&&(d.o=v=new WeakMap);const j=v.get(p);j===void 0?(d=yp(),v.set(p,d)):d=j}else{let v=d.p;v===null&&(d.p=v=new Map);const j=v.get(p);j===void 0?(d=yp(),v.set(p,d)):d=j}}const m=d;let f;if(d.s===r8)f=d.v;else if(f=t.apply(null,arguments),i++,s){const x=n?.deref?.()??n;x!=null&&s(x,f)&&(f=x,i!==0&&i--),n=typeof f=="object"&&f!==null||typeof f=="function"?new TK(f):f}return m.s=r8,m.v=f,f}return o.clearCache=()=>{a=yp(),o.resetResultsCount()},o.resultsCount=()=>i,o.resetResultsCount=()=>{i=0},o}function DK(t,...r){const a=typeof t=="function"?{memoize:t,memoizeOptions:r}:t,s=(...n)=>{let i=0,o=0,d,u={},m=n.pop();typeof m=="object"&&(u=m,m=n.pop()),_K(m,`createSelector expects an output function after the inputs, but received: [${typeof m}]`);const f={...a,...u},{memoize:x,memoizeOptions:b=[],argsMemoize:p=$E,argsMemoizeOptions:v=[]}=f,j=t8(b),w=t8(v),N=CK(n),P=x(function(){return i++,m.apply(null,arguments)},...j),A=p(function(){o++;const T=EK(N,arguments);return d=P.apply(null,T),d},...w);return Object.assign(A,{resultFunc:m,memoizedResultFunc:P,dependencies:N,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>d,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:x,argsMemoize:p})};return Object.assign(s,{withTypes:()=>s}),s}var ze=DK($E),LK=Object.assign((t,r=ze)=>{AK(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const a=Object.keys(t),s=a.map(i=>t[i]);return r(s,(...i)=>i.reduce((o,d,u)=>(o[a[u]]=d,o),{}))},{withTypes:()=>LK}),R1={},$1={},I1={},a8;function MK(){return a8||(a8=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function r(s){return typeof s=="symbol"?1:s===null?2:s===void 0?3:s!==s?4:0}const a=(s,n,i)=>{if(s!==n){const o=r(s),d=r(n);if(o===d&&o===0){if(s<n)return i==="desc"?1:-1;if(s>n)return i==="desc"?-1:1}return i==="desc"?d-o:o-d}return 0};t.compareValues=a}(I1)),I1}var F1={},B1={},s8;function IE(){return s8||(s8=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function r(a){return typeof a=="symbol"||a instanceof Symbol}t.isSymbol=r}(B1)),B1}var n8;function RK(){return n8||(n8=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=IE(),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;function n(i,o){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||r.isSymbol(i)?!0:typeof i=="string"&&(s.test(i)||!a.test(i))||o!=null&&Object.hasOwn(o,i)}t.isKey=n}(F1)),F1}var i8;function $K(){return i8||(i8=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=MK(),a=RK(),s=EN();function n(i,o,d,u){if(i==null)return[];d=u?void 0:d,Array.isArray(i)||(i=Object.values(i)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(d)||(d=d==null?[]:[d]),d=d.map(p=>String(p));const m=(p,v)=>{let j=p;for(let w=0;w<v.length&&j!=null;++w)j=j[v[w]];return j},f=(p,v)=>v==null||p==null?v:typeof p=="object"&&"key"in p?Object.hasOwn(v,p.key)?v[p.key]:m(v,p.path):typeof p=="function"?p(v):Array.isArray(p)?m(v,p):typeof v=="object"?v[p]:v,x=o.map(p=>(Array.isArray(p)&&p.length===1&&(p=p[0]),p==null||typeof p=="function"||Array.isArray(p)||a.isKey(p)?p:{key:p,path:s.toPath(p)}));return i.map(p=>({original:p,criteria:x.map(v=>f(v,p))})).slice().sort((p,v)=>{for(let j=0;j<x.length;j++){const w=r.compareValues(p.criteria[j],v.criteria[j],d[j]);if(w!==0)return w}return 0}).map(p=>p.original)}t.orderBy=n}($1)),$1}var z1={},l8;function IK(){return l8||(l8=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function r(a,s=1){const n=[],i=Math.floor(s),o=(d,u)=>{for(let m=0;m<d.length;m++){const f=d[m];Array.isArray(f)&&u<i?o(f,u+1):n.push(f)}};return o(a,0),n}t.flatten=r}(z1)),z1}var U1={},o8;function FE(){return o8||(o8=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=RE(),a=$N(),s=PE(),n=OE();function i(o,d,u){return s.isObject(u)&&(typeof d=="number"&&a.isArrayLike(u)&&r.isIndex(d)&&d<u.length||typeof d=="string"&&d in u)?n.eq(u[d],o):!1}t.isIterateeCall=i}(U1)),U1}var c8;function FK(){return c8||(c8=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=$K(),a=IK(),s=FE();function n(i,...o){const d=o.length;return d>1&&s.isIterateeCall(i,o[0],o[1])?o=[]:d>2&&s.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),r.orderBy(i,a.flatten(o),["asc"])}t.sortBy=n}(R1)),R1}var q1,d8;function BK(){return d8||(d8=1,q1=FK().sortBy),q1}var zK=BK();const yy=Eo(zK);var BE=t=>t.legend.settings,UK=t=>t.legend.size,qK=t=>t.legend.payload;ze([qK,BE],(t,r)=>{var{itemSorter:a}=r,s=t.flat(1);return a?yy(s,a):s});var bp=1;function HK(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[r,a]=g.useState({height:0,left:0,top:0,width:0}),s=g.useCallback(n=>{if(n!=null){var i=n.getBoundingClientRect(),o={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(o.height-r.height)>bp||Math.abs(o.left-r.left)>bp||Math.abs(o.top-r.top)>bp||Math.abs(o.width-r.width)>bp)&&a({height:o.height,left:o.left,top:o.top,width:o.width})}},[r.width,r.height,r.top,r.left,...t]);return[r,s]}function tn(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var GK=typeof Symbol=="function"&&Symbol.observable||"@@observable",u8=GK,H1=()=>Math.random().toString(36).substring(7).split("").join("."),YK={INIT:`@@redux/INIT${H1()}`,REPLACE:`@@redux/REPLACE${H1()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${H1()}`},pg=YK;function BN(t){if(typeof t!="object"||t===null)return!1;let r=t;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(t)===r||Object.getPrototypeOf(t)===null}function zE(t,r,a){if(typeof t!="function")throw new Error(tn(2));if(typeof r=="function"&&typeof a=="function"||typeof a=="function"&&typeof arguments[3]=="function")throw new Error(tn(0));if(typeof r=="function"&&typeof a>"u"&&(a=r,r=void 0),typeof a<"u"){if(typeof a!="function")throw new Error(tn(1));return a(zE)(t,r)}let s=t,n=r,i=new Map,o=i,d=0,u=!1;function m(){o===i&&(o=new Map,i.forEach((w,N)=>{o.set(N,w)}))}function f(){if(u)throw new Error(tn(3));return n}function x(w){if(typeof w!="function")throw new Error(tn(4));if(u)throw new Error(tn(5));let N=!0;m();const P=d++;return o.set(P,w),function(){if(N){if(u)throw new Error(tn(6));N=!1,m(),o.delete(P),i=null}}}function b(w){if(!BN(w))throw new Error(tn(7));if(typeof w.type>"u")throw new Error(tn(8));if(typeof w.type!="string")throw new Error(tn(17));if(u)throw new Error(tn(9));try{u=!0,n=s(n,w)}finally{u=!1}return(i=o).forEach(P=>{P()}),w}function p(w){if(typeof w!="function")throw new Error(tn(10));s=w,b({type:pg.REPLACE})}function v(){const w=x;return{subscribe(N){if(typeof N!="object"||N===null)throw new Error(tn(11));function P(){const D=N;D.next&&D.next(f())}return P(),{unsubscribe:w(P)}},[u8](){return this}}}return b({type:pg.INIT}),{dispatch:b,subscribe:x,getState:f,replaceReducer:p,[u8]:v}}function VK(t){Object.keys(t).forEach(r=>{const a=t[r];if(typeof a(void 0,{type:pg.INIT})>"u")throw new Error(tn(12));if(typeof a(void 0,{type:pg.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(tn(13))})}function UE(t){const r=Object.keys(t),a={};for(let i=0;i<r.length;i++){const o=r[i];typeof t[o]=="function"&&(a[o]=t[o])}const s=Object.keys(a);let n;try{VK(a)}catch(i){n=i}return function(o={},d){if(n)throw n;let u=!1;const m={};for(let f=0;f<s.length;f++){const x=s[f],b=a[x],p=o[x],v=b(p,d);if(typeof v>"u")throw d&&d.type,new Error(tn(14));m[x]=v,u=u||v!==p}return u=u||s.length!==Object.keys(o).length,u?m:o}}function gg(...t){return t.length===0?r=>r:t.length===1?t[0]:t.reduce((r,a)=>(...s)=>r(a(...s)))}function KK(...t){return r=>(a,s)=>{const n=r(a,s);let i=()=>{throw new Error(tn(15))};const o={getState:n.getState,dispatch:(u,...m)=>i(u,...m)},d=t.map(u=>u(o));return i=gg(...d)(n.dispatch),{...n,dispatch:i}}}function qE(t){return BN(t)&&"type"in t&&typeof t.type=="string"}var HE=Symbol.for("immer-nothing"),m8=Symbol.for("immer-draftable"),Ci=Symbol.for("immer-state");function Rl(t,...r){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var _f=Object.getPrototypeOf;function rm(t){return!!t&&!!t[Ci]}function jc(t){return t?GE(t)||Array.isArray(t)||!!t[m8]||!!t.constructor?.[m8]||qx(t)||vy(t):!1}var WK=Object.prototype.constructor.toString();function GE(t){if(!t||typeof t!="object")return!1;const r=_f(t);if(r===null)return!0;const a=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return a===Object?!0:typeof a=="function"&&Function.toString.call(a)===WK}function yg(t,r){by(t)===0?Reflect.ownKeys(t).forEach(a=>{r(a,t[a],t)}):t.forEach((a,s)=>r(s,a,t))}function by(t){const r=t[Ci];return r?r.type_:Array.isArray(t)?1:qx(t)?2:vy(t)?3:0}function Nj(t,r){return by(t)===2?t.has(r):Object.prototype.hasOwnProperty.call(t,r)}function YE(t,r,a){const s=by(t);s===2?t.set(r,a):s===3?t.add(a):t[r]=a}function XK(t,r){return t===r?t!==0||1/t===1/r:t!==t&&r!==r}function qx(t){return t instanceof Map}function vy(t){return t instanceof Set}function Eu(t){return t.copy_||t.base_}function wj(t,r){if(qx(t))return new Map(t);if(vy(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const a=GE(t);if(r===!0||r==="class_only"&&!a){const s=Object.getOwnPropertyDescriptors(t);delete s[Ci];let n=Reflect.ownKeys(s);for(let i=0;i<n.length;i++){const o=n[i],d=s[o];d.writable===!1&&(d.writable=!0,d.configurable=!0),(d.get||d.set)&&(s[o]={configurable:!0,writable:!0,enumerable:d.enumerable,value:t[o]})}return Object.create(_f(t),s)}else{const s=_f(t);if(s!==null&&a)return{...t};const n=Object.create(s);return Object.assign(n,t)}}function zN(t,r=!1){return jy(t)||rm(t)||!jc(t)||(by(t)>1&&Object.defineProperties(t,{set:{value:vp},add:{value:vp},clear:{value:vp},delete:{value:vp}}),Object.freeze(t),r&&Object.values(t).forEach(a=>zN(a,!0))),t}function vp(){Rl(2)}function jy(t){return Object.isFrozen(t)}var JK={};function am(t){const r=JK[t];return r||Rl(0,t),r}var Nx;function VE(){return Nx}function ZK(t,r){return{drafts_:[],parent_:t,immer_:r,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function f8(t,r){r&&(am("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=r)}function Sj(t){_j(t),t.drafts_.forEach(QK),t.drafts_=null}function _j(t){t===Nx&&(Nx=t.parent_)}function h8(t){return Nx=ZK(Nx,t)}function QK(t){const r=t[Ci];r.type_===0||r.type_===1?r.revoke_():r.revoked_=!0}function x8(t,r){r.unfinalizedDrafts_=r.drafts_.length;const a=r.drafts_[0];return t!==void 0&&t!==a?(a[Ci].modified_&&(Sj(r),Rl(4)),jc(t)&&(t=bg(r,t),r.parent_||vg(r,t)),r.patches_&&am("Patches").generateReplacementPatches_(a[Ci].base_,t,r.patches_,r.inversePatches_)):t=bg(r,a,[]),Sj(r),r.patches_&&r.patchListener_(r.patches_,r.inversePatches_),t!==HE?t:void 0}function bg(t,r,a){if(jy(r))return r;const s=r[Ci];if(!s)return yg(r,(n,i)=>p8(t,s,r,n,i,a)),r;if(s.scope_!==t)return r;if(!s.modified_)return vg(t,s.base_,!0),s.base_;if(!s.finalized_){s.finalized_=!0,s.scope_.unfinalizedDrafts_--;const n=s.copy_;let i=n,o=!1;s.type_===3&&(i=new Set(n),n.clear(),o=!0),yg(i,(d,u)=>p8(t,s,n,d,u,a,o)),vg(t,n,!1),a&&t.patches_&&am("Patches").generatePatches_(s,a,t.patches_,t.inversePatches_)}return s.copy_}function p8(t,r,a,s,n,i,o){if(rm(n)){const d=i&&r&&r.type_!==3&&!Nj(r.assigned_,s)?i.concat(s):void 0,u=bg(t,n,d);if(YE(a,s,u),rm(u))t.canAutoFreeze_=!1;else return}else o&&a.add(n);if(jc(n)&&!jy(n)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;bg(t,n),(!r||!r.scope_.parent_)&&typeof s!="symbol"&&(qx(a)?a.has(s):Object.prototype.propertyIsEnumerable.call(a,s))&&vg(t,n)}}function vg(t,r,a=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&zN(r,a)}function eW(t,r){const a=Array.isArray(t),s={type_:a?1:0,scope_:r?r.scope_:VE(),modified_:!1,finalized_:!1,assigned_:{},parent_:r,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let n=s,i=UN;a&&(n=[s],i=wx);const{revoke:o,proxy:d}=Proxy.revocable(n,i);return s.draft_=d,s.revoke_=o,d}var UN={get(t,r){if(r===Ci)return t;const a=Eu(t);if(!Nj(a,r))return tW(t,a,r);const s=a[r];return t.finalized_||!jc(s)?s:s===G1(t.base_,r)?(Y1(t),t.copy_[r]=kj(s,t)):s},has(t,r){return r in Eu(t)},ownKeys(t){return Reflect.ownKeys(Eu(t))},set(t,r,a){const s=KE(Eu(t),r);if(s?.set)return s.set.call(t.draft_,a),!0;if(!t.modified_){const n=G1(Eu(t),r),i=n?.[Ci];if(i&&i.base_===a)return t.copy_[r]=a,t.assigned_[r]=!1,!0;if(XK(a,n)&&(a!==void 0||Nj(t.base_,r)))return!0;Y1(t),Aj(t)}return t.copy_[r]===a&&(a!==void 0||r in t.copy_)||Number.isNaN(a)&&Number.isNaN(t.copy_[r])||(t.copy_[r]=a,t.assigned_[r]=!0),!0},deleteProperty(t,r){return G1(t.base_,r)!==void 0||r in t.base_?(t.assigned_[r]=!1,Y1(t),Aj(t)):delete t.assigned_[r],t.copy_&&delete t.copy_[r],!0},getOwnPropertyDescriptor(t,r){const a=Eu(t),s=Reflect.getOwnPropertyDescriptor(a,r);return s&&{writable:!0,configurable:t.type_!==1||r!=="length",enumerable:s.enumerable,value:a[r]}},defineProperty(){Rl(11)},getPrototypeOf(t){return _f(t.base_)},setPrototypeOf(){Rl(12)}},wx={};yg(UN,(t,r)=>{wx[t]=function(){return arguments[0]=arguments[0][0],r.apply(this,arguments)}});wx.deleteProperty=function(t,r){return wx.set.call(this,t,r,void 0)};wx.set=function(t,r,a){return UN.set.call(this,t[0],r,a,t[0])};function G1(t,r){const a=t[Ci];return(a?Eu(a):t)[r]}function tW(t,r,a){const s=KE(r,a);return s?"value"in s?s.value:s.get?.call(t.draft_):void 0}function KE(t,r){if(!(r in t))return;let a=_f(t);for(;a;){const s=Object.getOwnPropertyDescriptor(a,r);if(s)return s;a=_f(a)}}function Aj(t){t.modified_||(t.modified_=!0,t.parent_&&Aj(t.parent_))}function Y1(t){t.copy_||(t.copy_=wj(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var rW=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(r,a,s)=>{if(typeof r=="function"&&typeof a!="function"){const i=a;a=r;const o=this;return function(u=i,...m){return o.produce(u,f=>a.call(this,f,...m))}}typeof a!="function"&&Rl(6),s!==void 0&&typeof s!="function"&&Rl(7);let n;if(jc(r)){const i=h8(this),o=kj(r,void 0);let d=!0;try{n=a(o),d=!1}finally{d?Sj(i):_j(i)}return f8(i,s),x8(n,i)}else if(!r||typeof r!="object"){if(n=a(r),n===void 0&&(n=r),n===HE&&(n=void 0),this.autoFreeze_&&zN(n,!0),s){const i=[],o=[];am("Patches").generateReplacementPatches_(r,n,i,o),s(i,o)}return n}else Rl(1,r)},this.produceWithPatches=(r,a)=>{if(typeof r=="function")return(o,...d)=>this.produceWithPatches(o,u=>r(u,...d));let s,n;return[this.produce(r,a,(o,d)=>{s=o,n=d}),s,n]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){jc(t)||Rl(8),rm(t)&&(t=fc(t));const r=h8(this),a=kj(t,void 0);return a[Ci].isManual_=!0,_j(r),a}finishDraft(t,r){const a=t&&t[Ci];(!a||!a.isManual_)&&Rl(9);const{scope_:s}=a;return f8(s,r),x8(void 0,s)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,r){let a;for(a=r.length-1;a>=0;a--){const n=r[a];if(n.path.length===0&&n.op==="replace"){t=n.value;break}}a>-1&&(r=r.slice(a+1));const s=am("Patches").applyPatches_;return rm(t)?s(t,r):this.produce(t,n=>s(n,r))}};function kj(t,r){const a=qx(t)?am("MapSet").proxyMap_(t,r):vy(t)?am("MapSet").proxySet_(t,r):eW(t,r);return(r?r.scope_:VE()).drafts_.push(a),a}function fc(t){return rm(t)||Rl(10,t),WE(t)}function WE(t){if(!jc(t)||jy(t))return t;const r=t[Ci];let a;if(r){if(!r.modified_)return r.base_;r.finalized_=!0,a=wj(t,r.scope_.immer_.useStrictShallowCopy_)}else a=wj(t,!0);return yg(a,(s,n)=>{YE(a,s,WE(n))}),r&&(r.finalized_=!1),a}var aW=new rW,XE=aW.produce;function JE(t){return({dispatch:a,getState:s})=>n=>i=>typeof i=="function"?i(a,s,t):n(i)}var sW=JE(),nW=JE,iW=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?gg:gg.apply(null,arguments)};function dl(t,r){function a(...s){if(r){let n=r(...s);if(!n)throw new Error(Ai(0));return{type:t,payload:n.payload,..."meta"in n&&{meta:n.meta},..."error"in n&&{error:n.error}}}return{type:t,payload:s[0]}}return a.toString=()=>`${t}`,a.type=t,a.match=s=>qE(s)&&s.type===t,a}var ZE=class rx extends Array{constructor(...r){super(...r),Object.setPrototypeOf(this,rx.prototype)}static get[Symbol.species](){return rx}concat(...r){return super.concat.apply(this,r)}prepend(...r){return r.length===1&&Array.isArray(r[0])?new rx(...r[0].concat(this)):new rx(...r.concat(this))}};function g8(t){return jc(t)?XE(t,()=>{}):t}function jp(t,r,a){return t.has(r)?t.get(r):t.set(r,a(r)).get(r)}function lW(t){return typeof t=="boolean"}var oW=()=>function(r){const{thunk:a=!0,immutableCheck:s=!0,serializableCheck:n=!0,actionCreatorCheck:i=!0}=r??{};let o=new ZE;return a&&(lW(a)?o.push(sW):o.push(nW(a.extraArgument))),o},cW="RTK_autoBatch",y8=t=>r=>{setTimeout(r,t)},dW=(t={type:"raf"})=>r=>(...a)=>{const s=r(...a);let n=!0,i=!1,o=!1;const d=new Set,u=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:y8(10):t.type==="callback"?t.queueNotification:y8(t.timeout),m=()=>{o=!1,i&&(i=!1,d.forEach(f=>f()))};return Object.assign({},s,{subscribe(f){const x=()=>n&&f(),b=s.subscribe(x);return d.add(f),()=>{b(),d.delete(f)}},dispatch(f){try{return n=!f?.meta?.[cW],i=!n,i&&(o||(o=!0,u(m))),s.dispatch(f)}finally{n=!0}}})},uW=t=>function(a){const{autoBatch:s=!0}=a??{};let n=new ZE(t);return s&&n.push(dW(typeof s=="object"?s:void 0)),n};function mW(t){const r=oW(),{reducer:a=void 0,middleware:s,devTools:n=!0,preloadedState:i=void 0,enhancers:o=void 0}=t||{};let d;if(typeof a=="function")d=a;else if(BN(a))d=UE(a);else throw new Error(Ai(1));let u;typeof s=="function"?u=s(r):u=r();let m=gg;n&&(m=iW({trace:!1,...typeof n=="object"&&n}));const f=KK(...u),x=uW(f);let b=typeof o=="function"?o(x):x();const p=m(...b);return zE(d,i,p)}function QE(t){const r={},a=[];let s;const n={addCase(i,o){const d=typeof i=="string"?i:i.type;if(!d)throw new Error(Ai(28));if(d in r)throw new Error(Ai(29));return r[d]=o,n},addAsyncThunk(i,o){return o.pending&&(r[i.pending.type]=o.pending),o.rejected&&(r[i.rejected.type]=o.rejected),o.fulfilled&&(r[i.fulfilled.type]=o.fulfilled),o.settled&&a.push({matcher:i.settled,reducer:o.settled}),n},addMatcher(i,o){return a.push({matcher:i,reducer:o}),n},addDefaultCase(i){return s=i,n}};return t(n),[r,a,s]}function fW(t){return typeof t=="function"}function hW(t,r){let[a,s,n]=QE(r),i;if(fW(t))i=()=>g8(t());else{const d=g8(t);i=()=>d}function o(d=i(),u){let m=[a[u.type],...s.filter(({matcher:f})=>f(u)).map(({reducer:f})=>f)];return m.filter(f=>!!f).length===0&&(m=[n]),m.reduce((f,x)=>{if(x)if(rm(f)){const p=x(f,u);return p===void 0?f:p}else{if(jc(f))return XE(f,b=>x(b,u));{const b=x(f,u);if(b===void 0){if(f===null)return f;throw Error("A case reducer on a non-draftable value must not return undefined")}return b}}return f},d)}return o.getInitialState=i,o}var xW="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",pW=(t=21)=>{let r="",a=t;for(;a--;)r+=xW[Math.random()*64|0];return r},gW=Symbol.for("rtk-slice-createasyncthunk");function yW(t,r){return`${t}/${r}`}function bW({creators:t}={}){const r=t?.asyncThunk?.[gW];return function(s){const{name:n,reducerPath:i=n}=s;if(!n)throw new Error(Ai(11));const o=(typeof s.reducers=="function"?s.reducers(jW()):s.reducers)||{},d=Object.keys(o),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},m={addCase(A,D){const T=typeof A=="string"?A:A.type;if(!T)throw new Error(Ai(12));if(T in u.sliceCaseReducersByType)throw new Error(Ai(13));return u.sliceCaseReducersByType[T]=D,m},addMatcher(A,D){return u.sliceMatchers.push({matcher:A,reducer:D}),m},exposeAction(A,D){return u.actionCreators[A]=D,m},exposeCaseReducer(A,D){return u.sliceCaseReducersByName[A]=D,m}};d.forEach(A=>{const D=o[A],T={reducerName:A,type:yW(n,A),createNotation:typeof s.reducers=="function"};wW(D)?_W(T,D,m,r):NW(T,D,m)});function f(){const[A={},D=[],T=void 0]=typeof s.extraReducers=="function"?QE(s.extraReducers):[s.extraReducers],R={...A,...u.sliceCaseReducersByType};return hW(s.initialState,E=>{for(let O in R)E.addCase(O,R[O]);for(let O of u.sliceMatchers)E.addMatcher(O.matcher,O.reducer);for(let O of D)E.addMatcher(O.matcher,O.reducer);T&&E.addDefaultCase(T)})}const x=A=>A,b=new Map,p=new WeakMap;let v;function j(A,D){return v||(v=f()),v(A,D)}function w(){return v||(v=f()),v.getInitialState()}function N(A,D=!1){function T(E){let O=E[A];return typeof O>"u"&&D&&(O=jp(p,T,w)),O}function R(E=x){const O=jp(b,D,()=>new WeakMap);return jp(O,E,()=>{const k={};for(const[Y,$]of Object.entries(s.selectors??{}))k[Y]=vW($,E,()=>jp(p,E,w),D);return k})}return{reducerPath:A,getSelectors:R,get selectors(){return R(T)},selectSlice:T}}const P={name:n,reducer:j,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:w,...N(i),injectInto(A,{reducerPath:D,...T}={}){const R=D??i;return A.inject({reducerPath:R,reducer:j},T),{...P,...N(R,!0)}}};return P}}function vW(t,r,a,s){function n(i,...o){let d=r(i);return typeof d>"u"&&s&&(d=a()),t(d,...o)}return n.unwrapped=t,n}var Ti=bW();function jW(){function t(r,a){return{_reducerDefinitionType:"asyncThunk",payloadCreator:r,...a}}return t.withTypes=()=>t,{reducer(r){return Object.assign({[r.name](...a){return r(...a)}}[r.name],{_reducerDefinitionType:"reducer"})},preparedReducer(r,a){return{_reducerDefinitionType:"reducerWithPrepare",prepare:r,reducer:a}},asyncThunk:t}}function NW({type:t,reducerName:r,createNotation:a},s,n){let i,o;if("reducer"in s){if(a&&!SW(s))throw new Error(Ai(17));i=s.reducer,o=s.prepare}else i=s;n.addCase(t,i).exposeCaseReducer(r,i).exposeAction(r,o?dl(t,o):dl(t))}function wW(t){return t._reducerDefinitionType==="asyncThunk"}function SW(t){return t._reducerDefinitionType==="reducerWithPrepare"}function _W({type:t,reducerName:r},a,s,n){if(!n)throw new Error(Ai(18));const{payloadCreator:i,fulfilled:o,pending:d,rejected:u,settled:m,options:f}=a,x=n(t,i,f);s.exposeAction(r,x),o&&s.addCase(x.fulfilled,o),d&&s.addCase(x.pending,d),u&&s.addCase(x.rejected,u),m&&s.addMatcher(x.settled,m),s.exposeCaseReducer(r,{fulfilled:o||Np,pending:d||Np,rejected:u||Np,settled:m||Np})}function Np(){}var AW="task",eP="listener",tP="completed",qN="cancelled",kW=`task-${qN}`,CW=`task-${tP}`,Cj=`${eP}-${qN}`,EW=`${eP}-${tP}`,Ny=class{constructor(t){this.code=t,this.message=`${AW} ${qN} (reason: ${t})`}name="TaskAbortError";message},HN=(t,r)=>{if(typeof t!="function")throw new TypeError(Ai(32))},jg=()=>{},rP=(t,r=jg)=>(t.catch(r),t),aP=(t,r)=>(t.addEventListener("abort",r,{once:!0}),()=>t.removeEventListener("abort",r)),Uu=(t,r)=>{const a=t.signal;a.aborted||("reason"in a||Object.defineProperty(a,"reason",{enumerable:!0,value:r,configurable:!0,writable:!0}),t.abort(r))},qu=t=>{if(t.aborted){const{reason:r}=t;throw new Ny(r)}};function sP(t,r){let a=jg;return new Promise((s,n)=>{const i=()=>n(new Ny(t.reason));if(t.aborted){i();return}a=aP(t,i),r.finally(()=>a()).then(s,n)}).finally(()=>{a=jg})}var PW=async(t,r)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(a){return{status:a instanceof Ny?"cancelled":"rejected",error:a}}finally{r?.()}},Ng=t=>r=>rP(sP(t,r).then(a=>(qu(t),a))),nP=t=>{const r=Ng(t);return a=>r(new Promise(s=>setTimeout(s,a)))},{assign:pf}=Object,b8={},wy="listenerMiddleware",TW=(t,r)=>{const a=s=>aP(t,()=>Uu(s,t.reason));return(s,n)=>{HN(s);const i=new AbortController;a(i);const o=PW(async()=>{qu(t),qu(i.signal);const d=await s({pause:Ng(i.signal),delay:nP(i.signal),signal:i.signal});return qu(i.signal),d},()=>Uu(i,CW));return n?.autoJoin&&r.push(o.catch(jg)),{result:Ng(t)(o),cancel(){Uu(i,kW)}}}},OW=(t,r)=>{const a=async(s,n)=>{qu(r);let i=()=>{};const d=[new Promise((u,m)=>{let f=t({predicate:s,effect:(x,b)=>{b.unsubscribe(),u([x,b.getState(),b.getOriginalState()])}});i=()=>{f(),m()}})];n!=null&&d.push(new Promise(u=>setTimeout(u,n,null)));try{const u=await sP(r,Promise.race(d));return qu(r),u}finally{i()}};return(s,n)=>rP(a(s,n))},iP=t=>{let{type:r,actionCreator:a,matcher:s,predicate:n,effect:i}=t;if(r)n=dl(r).match;else if(a)r=a.type,n=a.match;else if(s)n=s;else if(!n)throw new Error(Ai(21));return HN(i),{predicate:n,type:r,effect:i}},lP=pf(t=>{const{type:r,predicate:a,effect:s}=iP(t);return{id:pW(),effect:s,type:r,predicate:a,pending:new Set,unsubscribe:()=>{throw new Error(Ai(22))}}},{withTypes:()=>lP}),v8=(t,r)=>{const{type:a,effect:s,predicate:n}=iP(r);return Array.from(t.values()).find(i=>(typeof a=="string"?i.type===a:i.predicate===n)&&i.effect===s)},Ej=t=>{t.pending.forEach(r=>{Uu(r,Cj)})},DW=t=>()=>{t.forEach(Ej),t.clear()},j8=(t,r,a)=>{try{t(r,a)}catch(s){setTimeout(()=>{throw s},0)}},oP=pf(dl(`${wy}/add`),{withTypes:()=>oP}),LW=dl(`${wy}/removeAll`),cP=pf(dl(`${wy}/remove`),{withTypes:()=>cP}),MW=(...t)=>{console.error(`${wy}/error`,...t)},Hx=(t={})=>{const r=new Map,{extra:a,onError:s=MW}=t;HN(s);const n=f=>(f.unsubscribe=()=>r.delete(f.id),r.set(f.id,f),x=>{f.unsubscribe(),x?.cancelActive&&Ej(f)}),i=f=>{const x=v8(r,f)??lP(f);return n(x)};pf(i,{withTypes:()=>i});const o=f=>{const x=v8(r,f);return x&&(x.unsubscribe(),f.cancelActive&&Ej(x)),!!x};pf(o,{withTypes:()=>o});const d=async(f,x,b,p)=>{const v=new AbortController,j=OW(i,v.signal),w=[];try{f.pending.add(v),await Promise.resolve(f.effect(x,pf({},b,{getOriginalState:p,condition:(N,P)=>j(N,P).then(Boolean),take:j,delay:nP(v.signal),pause:Ng(v.signal),extra:a,signal:v.signal,fork:TW(v.signal,w),unsubscribe:f.unsubscribe,subscribe:()=>{r.set(f.id,f)},cancelActiveListeners:()=>{f.pending.forEach((N,P,A)=>{N!==v&&(Uu(N,Cj),A.delete(N))})},cancel:()=>{Uu(v,Cj),f.pending.delete(v)},throwIfCancelled:()=>{qu(v.signal)}})))}catch(N){N instanceof Ny||j8(s,N,{raisedBy:"effect"})}finally{await Promise.all(w),Uu(v,EW),f.pending.delete(v)}},u=DW(r);return{middleware:f=>x=>b=>{if(!qE(b))return x(b);if(oP.match(b))return i(b.payload);if(LW.match(b)){u();return}if(cP.match(b))return o(b.payload);let p=f.getState();const v=()=>{if(p===b8)throw new Error(Ai(23));return p};let j;try{if(j=x(b),r.size>0){const w=f.getState(),N=Array.from(r.values());for(const P of N){let A=!1;try{A=P.predicate(b,w,p)}catch(D){A=!1,j8(s,D,{raisedBy:"predicate"})}A&&d(P,b,f,v)}}}finally{p=b8}return j},startListening:i,stopListening:o,clearListeners:u}};function Ai(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var RW={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},dP=Ti({name:"chartLayout",initialState:RW,reducers:{setLayout(t,r){t.layoutType=r.payload},setChartSize(t,r){t.width=r.payload.width,t.height=r.payload.height},setMargin(t,r){var a,s,n,i;t.margin.top=(a=r.payload.top)!==null&&a!==void 0?a:0,t.margin.right=(s=r.payload.right)!==null&&s!==void 0?s:0,t.margin.bottom=(n=r.payload.bottom)!==null&&n!==void 0?n:0,t.margin.left=(i=r.payload.left)!==null&&i!==void 0?i:0},setScale(t,r){t.scale=r.payload}}}),{setMargin:$W,setLayout:IW,setChartSize:FW,setScale:BW}=dP.actions,zW=dP.reducer;function N8(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,s)}return a}function w8(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?N8(Object(a),!0).forEach(function(s){UW(t,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):N8(Object(a)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(a,s))})}return t}function UW(t,r,a){return(r=qW(r))in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function qW(t){var r=HW(t,"string");return typeof r=="symbol"?r:r+""}function HW(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var wg=Math.PI/180,GW=t=>t*180/Math.PI,ds=(t,r,a,s)=>({x:t+Math.cos(-wg*s)*a,y:r+Math.sin(-wg*s)*a}),uP=function(r,a){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(r-(s.left||0)-(s.right||0)),Math.abs(a-(s.top||0)-(s.bottom||0)))/2},YW=(t,r)=>{var{x:a,y:s}=t,{x:n,y:i}=r;return Math.sqrt((a-n)**2+(s-i)**2)},VW=(t,r)=>{var{x:a,y:s}=t,{cx:n,cy:i}=r,o=YW({x:a,y:s},{x:n,y:i});if(o<=0)return{radius:o,angle:0};var d=(a-n)/o,u=Math.acos(d);return s>i&&(u=2*Math.PI-u),{radius:o,angle:GW(u),angleInRadian:u}},KW=t=>{var{startAngle:r,endAngle:a}=t,s=Math.floor(r/360),n=Math.floor(a/360),i=Math.min(s,n);return{startAngle:r-i*360,endAngle:a-i*360}},WW=(t,r)=>{var{startAngle:a,endAngle:s}=r,n=Math.floor(a/360),i=Math.floor(s/360),o=Math.min(n,i);return t+o*360},XW=(t,r)=>{var{x:a,y:s}=t,{radius:n,angle:i}=VW({x:a,y:s},r),{innerRadius:o,outerRadius:d}=r;if(n<o||n>d||n===0)return null;var{startAngle:u,endAngle:m}=KW(r),f=i,x;if(u<=m){for(;f>m;)f-=360;for(;f<u;)f+=360;x=f>=u&&f<=m}else{for(;f>u;)f-=360;for(;f<m;)f+=360;x=f>=m&&f<=u}return x?w8(w8({},r),{},{radius:n,angle:WW(f,r)}):null};function mP(t,r,a){return Array.isArray(t)&&t&&r+a!==0?t.slice(r,a+1):t}function S8(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,s)}return a}function ll(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?S8(Object(a),!0).forEach(function(s){JW(t,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):S8(Object(a)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(a,s))})}return t}function JW(t,r,a){return(r=ZW(r))in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function ZW(t){var r=QW(t,"string");return typeof r=="symbol"?r:r+""}function QW(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function ta(t,r,a){return ka(t)||ka(r)?a:ko(r)?tm(t,r,a):typeof r=="function"?r(t):a}var eX=(t,r,a,s,n)=>{var i,o=-1,d=(i=r?.length)!==null&&i!==void 0?i:0;if(d<=1||t==null)return 0;if(s==="angleAxis"&&n!=null&&Math.abs(Math.abs(n[1]-n[0])-360)<=1e-6)for(var u=0;u<d;u++){var m=u>0?a[u-1].coordinate:a[d-1].coordinate,f=a[u].coordinate,x=u>=d-1?a[0].coordinate:a[u+1].coordinate,b=void 0;if($s(f-m)!==$s(x-f)){var p=[];if($s(x-f)===$s(n[1]-n[0])){b=x;var v=f+n[1]-n[0];p[0]=Math.min(v,(v+m)/2),p[1]=Math.max(v,(v+m)/2)}else{b=m;var j=x+n[1]-n[0];p[0]=Math.min(f,(j+f)/2),p[1]=Math.max(f,(j+f)/2)}var w=[Math.min(f,(b+f)/2),Math.max(f,(b+f)/2)];if(t>w[0]&&t<=w[1]||t>=p[0]&&t<=p[1]){({index:o}=a[u]);break}}else{var N=Math.min(m,x),P=Math.max(m,x);if(t>(N+f)/2&&t<=(P+f)/2){({index:o}=a[u]);break}}}else if(r){for(var A=0;A<d;A++)if(A===0&&t<=(r[A].coordinate+r[A+1].coordinate)/2||A>0&&A<d-1&&t>(r[A].coordinate+r[A-1].coordinate)/2&&t<=(r[A].coordinate+r[A+1].coordinate)/2||A===d-1&&t>(r[A].coordinate+r[A-1].coordinate)/2){({index:o}=r[A]);break}}return o},tX=(t,r,a)=>{if(r&&a){var{width:s,height:n}=a,{align:i,verticalAlign:o,layout:d}=r;if((d==="vertical"||d==="horizontal"&&o==="middle")&&i!=="center"&&kt(t[i]))return ll(ll({},t),{},{[i]:t[i]+(s||0)});if((d==="horizontal"||d==="vertical"&&i==="center")&&o!=="middle"&&kt(t[o]))return ll(ll({},t),{},{[o]:t[o]+(n||0)})}return t},Ud=(t,r)=>t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis",fP=(t,r,a,s)=>{if(s)return t.map(d=>d.coordinate);var n,i,o=t.map(d=>(d.coordinate===r&&(n=!0),d.coordinate===a&&(i=!0),d.coordinate));return n||o.push(r),i||o.push(a),o},hP=(t,r,a)=>{if(!t)return null;var{duplicateDomain:s,type:n,range:i,scale:o,realScaleType:d,isCategorical:u,categoricalDomain:m,tickCount:f,ticks:x,niceTicks:b,axisType:p}=t;if(!o)return null;var v=d==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,j=n==="category"&&o.bandwidth?o.bandwidth()/v:0;if(j=p==="angleAxis"&&i&&i.length>=2?$s(i[0]-i[1])*2*j:j,x||b){var w=(x||b||[]).map((N,P)=>{var A=s?s.indexOf(N):N;return{coordinate:o(A)+j,value:N,offset:j,index:P}});return w.filter(N=>!ki(N.coordinate))}return u&&m?m.map((N,P)=>({coordinate:o(N)+j,value:N,index:P,offset:j})):o.ticks&&f!=null?o.ticks(f).map((N,P)=>({coordinate:o(N)+j,value:N,offset:j,index:P})):o.domain().map((N,P)=>({coordinate:o(N)+j,value:s?s[N]:N,index:P,offset:j}))},_8=1e-4,rX=t=>{var r=t.domain();if(!(!r||r.length<=2)){var a=r.length,s=t.range(),n=Math.min(s[0],s[1])-_8,i=Math.max(s[0],s[1])+_8,o=t(r[0]),d=t(r[a-1]);(o<n||o>i||d<n||d>i)&&t.domain([r[0],r[a-1]])}},aX=(t,r)=>{if(!r||r.length!==2||!kt(r[0])||!kt(r[1]))return t;var a=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]),n=[t[0],t[1]];return(!kt(t[0])||t[0]<a)&&(n[0]=a),(!kt(t[1])||t[1]>s)&&(n[1]=s),n[0]>s&&(n[0]=s),n[1]<a&&(n[1]=a),n},sX=t=>{var r=t.length;if(!(r<=0))for(var a=0,s=t[0].length;a<s;++a)for(var n=0,i=0,o=0;o<r;++o){var d=ki(t[o][a][1])?t[o][a][0]:t[o][a][1];d>=0?(t[o][a][0]=n,t[o][a][1]=n+d,n=t[o][a][1]):(t[o][a][0]=i,t[o][a][1]=i+d,i=t[o][a][1])}},nX=t=>{var r=t.length;if(!(r<=0))for(var a=0,s=t[0].length;a<s;++a)for(var n=0,i=0;i<r;++i){var o=ki(t[i][a][1])?t[i][a][0]:t[i][a][1];o>=0?(t[i][a][0]=n,t[i][a][1]=n+o,n=t[i][a][1]):(t[i][a][0]=0,t[i][a][1]=0)}},iX={sign:sX,expand:IV,none:Sf,silhouette:FV,wiggle:BV,positive:nX},lX=(t,r,a)=>{var s=iX[a],n=$V().keys(r).value((i,o)=>+ta(i,o,0)).order(vj).offset(s);return n(t)};function oX(t){return t==null?void 0:String(t)}function A8(t){var{axis:r,ticks:a,bandSize:s,entry:n,index:i,dataKey:o}=t;if(r.type==="category"){if(!r.allowDuplicatedCategory&&r.dataKey&&!ka(n[r.dataKey])){var d=iE(a,"value",n[r.dataKey]);if(d)return d.coordinate+s/2}return a[i]?a[i].coordinate+s/2:null}var u=ta(n,ka(o)?r.dataKey:o);return ka(u)?null:r.scale(u)}var k8=t=>{var{axis:r,ticks:a,offset:s,bandSize:n,entry:i,index:o}=t;if(r.type==="category")return a[o]?a[o].coordinate+s:null;var d=ta(i,r.dataKey,r.scale.domain()[o]);return ka(d)?null:r.scale(d)-n/2+s},cX=t=>{var{numericAxis:r}=t,a=r.scale.domain();if(r.type==="number"){var s=Math.min(a[0],a[1]),n=Math.max(a[0],a[1]);return s<=0&&n>=0?0:n<0?n:s}return a[0]},dX=t=>{var r=t.flat(2).filter(kt);return[Math.min(...r),Math.max(...r)]},uX=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],mX=(t,r,a)=>{if(t!=null)return uX(Object.keys(t).reduce((s,n)=>{var i=t[n],{stackedData:o}=i,d=o.reduce((u,m)=>{var f=mP(m,r,a),x=dX(f);return[Math.min(u[0],x[0]),Math.max(u[1],x[1])]},[1/0,-1/0]);return[Math.min(d[0],s[0]),Math.max(d[1],s[1])]},[1/0,-1/0]))},C8=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,E8=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Sx=(t,r,a)=>{if(t&&t.scale&&t.scale.bandwidth){var s=t.scale.bandwidth();if(!a||s>0)return s}if(t&&r&&r.length>=2){for(var n=yy(r,f=>f.coordinate),i=1/0,o=1,d=n.length;o<d;o++){var u=n[o],m=n[o-1];i=Math.min((u.coordinate||0)-(m.coordinate||0),i)}return i===1/0?0:i}return a?void 0:0};function P8(t){var{tooltipEntrySettings:r,dataKey:a,payload:s,value:n,name:i}=t;return ll(ll({},r),{},{dataKey:a,payload:s,value:n,name:i})}function Ff(t,r){if(t)return String(t);if(typeof r=="string")return r}function fX(t,r,a,s,n){if(a==="horizontal"||a==="vertical"){var i=t>=n.left&&t<=n.left+n.width&&r>=n.top&&r<=n.top+n.height;return i?{x:t,y:r}:null}return s?XW({x:t,y:r},s):null}var hX=(t,r,a,s)=>{var n=r.find(m=>m&&m.index===a);if(n){if(t==="horizontal")return{x:n.coordinate,y:s.y};if(t==="vertical")return{x:s.x,y:n.coordinate};if(t==="centric"){var i=n.coordinate,{radius:o}=s;return ll(ll(ll({},s),ds(s.cx,s.cy,o,i)),{},{angle:i,radius:o})}var d=n.coordinate,{angle:u}=s;return ll(ll(ll({},s),ds(s.cx,s.cy,d,u)),{},{angle:u,radius:d})}return{x:0,y:0}},xX=(t,r)=>r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius,Cc=t=>t.layout.width,Ec=t=>t.layout.height,pX=t=>t.layout.scale,xP=t=>t.layout.margin,Sy=ze(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),_y=ze(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),pP="data-recharts-item-index",gP="data-recharts-item-data-key",Gx=60;function T8(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,s)}return a}function wp(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?T8(Object(a),!0).forEach(function(s){gX(t,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):T8(Object(a)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(a,s))})}return t}function gX(t,r,a){return(r=yX(r))in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function yX(t){var r=bX(t,"string");return typeof r=="symbol"?r:r+""}function bX(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var vX=t=>t.brush.height;function jX(t){var r=_y(t);return r.reduce((a,s)=>{if(s.orientation==="left"&&!s.mirror&&!s.hide){var n=typeof s.width=="number"?s.width:Gx;return a+n}return a},0)}function NX(t){var r=_y(t);return r.reduce((a,s)=>{if(s.orientation==="right"&&!s.mirror&&!s.hide){var n=typeof s.width=="number"?s.width:Gx;return a+n}return a},0)}function wX(t){var r=Sy(t);return r.reduce((a,s)=>s.orientation==="top"&&!s.mirror&&!s.hide?a+s.height:a,0)}function SX(t){var r=Sy(t);return r.reduce((a,s)=>s.orientation==="bottom"&&!s.mirror&&!s.hide?a+s.height:a,0)}var Ns=ze([Cc,Ec,xP,vX,jX,NX,wX,SX,BE,UK],(t,r,a,s,n,i,o,d,u,m)=>{var f={left:(a.left||0)+n,right:(a.right||0)+i},x={top:(a.top||0)+o,bottom:(a.bottom||0)+d},b=wp(wp({},x),f),p=b.bottom;b.bottom+=s,b=tX(b,u,m);var v=t-b.left-b.right,j=r-b.top-b.bottom;return wp(wp({brushBottom:p},b),{},{width:Math.max(v,0),height:Math.max(j,0)})}),_X=ze(Ns,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),GN=ze(Cc,Ec,(t,r)=>({x:0,y:0,width:t,height:r})),AX=g.createContext(null),ei=()=>g.useContext(AX)!=null,Ay=t=>t.brush,ky=ze([Ay,Ns,xP],(t,r,a)=>({height:t.height,x:kt(t.x)?t.x:r.left,y:kt(t.y)?t.y:r.top+r.height+r.brushBottom-(a?.bottom||0),width:kt(t.width)?t.width:r.width})),YN=()=>{var t,r=ei(),a=jt(_X),s=jt(ky),n=(t=jt(Ay))===null||t===void 0?void 0:t.padding;return!r||!s||!n?a:{width:s.width-n.left-n.right,height:s.height-n.top-n.bottom,x:n.left,y:n.top}},kX={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},yP=()=>{var t;return(t=jt(Ns))!==null&&t!==void 0?t:kX},bP=()=>jt(Cc),vP=()=>jt(Ec),wr=t=>t.layout.layoutType,Cy=()=>jt(wr),CX={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},jP=Ti({name:"legend",initialState:CX,reducers:{setLegendSize(t,r){t.size.width=r.payload.width,t.size.height=r.payload.height},setLegendSettings(t,r){t.settings.align=r.payload.align,t.settings.layout=r.payload.layout,t.settings.verticalAlign=r.payload.verticalAlign,t.settings.itemSorter=r.payload.itemSorter},addLegendPayload(t,r){t.payload.push(r.payload)},removeLegendPayload(t,r){var a=fc(t).payload.indexOf(r.payload);a>-1&&t.payload.splice(a,1)}}}),{setLegendSize:tue,setLegendSettings:rue,addLegendPayload:NP,removeLegendPayload:wP}=jP.actions,EX=jP.reducer;function Pj(){return Pj=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var s in a)({}).hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},Pj.apply(null,arguments)}function O8(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,s)}return a}function V1(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?O8(Object(a),!0).forEach(function(s){PX(t,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):O8(Object(a)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(a,s))})}return t}function PX(t,r,a){return(r=TX(r))in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function TX(t){var r=OX(t,"string");return typeof r=="symbol"?r:r+""}function OX(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function DX(t){return Array.isArray(t)&&ko(t[0])&&ko(t[1])?t.join(" ~ "):t}var LX=t=>{var{separator:r=" : ",contentStyle:a={},itemStyle:s={},labelStyle:n={},payload:i,formatter:o,itemSorter:d,wrapperClassName:u,labelClassName:m,label:f,labelFormatter:x,accessibilityLayer:b=!1}=t,p=()=>{if(i&&i.length){var T={padding:0,margin:0},R=(d?yy(i,d):i).map((E,O)=>{if(E.type==="none")return null;var k=E.formatter||o||DX,{value:Y,name:$}=E,M=Y,F=$;if(k){var K=k(Y,$,E,O,i);if(Array.isArray(K))[M,F]=K;else if(K!=null)M=K;else return null}var q=V1({display:"block",paddingTop:4,paddingBottom:4,color:E.color||"#000"},s);return g.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(O),style:q},ko(F)?g.createElement("span",{className:"recharts-tooltip-item-name"},F):null,ko(F)?g.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,g.createElement("span",{className:"recharts-tooltip-item-value"},M),g.createElement("span",{className:"recharts-tooltip-item-unit"},E.unit||""))});return g.createElement("ul",{className:"recharts-tooltip-item-list",style:T},R)}return null},v=V1({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),j=V1({margin:0},n),w=!ka(f),N=w?f:"",P=Dr("recharts-default-tooltip",u),A=Dr("recharts-tooltip-label",m);w&&x&&i!==void 0&&i!==null&&(N=x(f,i));var D=b?{role:"status","aria-live":"assertive"}:{};return g.createElement("div",Pj({className:P,style:v},D),g.createElement("p",{className:A,style:j},g.isValidElement(N)?N:"".concat(N)),p())},Yh="recharts-tooltip-wrapper",MX={visibility:"hidden"};function RX(t){var{coordinate:r,translateX:a,translateY:s}=t;return Dr(Yh,{["".concat(Yh,"-right")]:kt(a)&&r&&kt(r.x)&&a>=r.x,["".concat(Yh,"-left")]:kt(a)&&r&&kt(r.x)&&a<r.x,["".concat(Yh,"-bottom")]:kt(s)&&r&&kt(r.y)&&s>=r.y,["".concat(Yh,"-top")]:kt(s)&&r&&kt(r.y)&&s<r.y})}function D8(t){var{allowEscapeViewBox:r,coordinate:a,key:s,offsetTopLeft:n,position:i,reverseDirection:o,tooltipDimension:d,viewBox:u,viewBoxDimension:m}=t;if(i&&kt(i[s]))return i[s];var f=a[s]-d-(n>0?n:0),x=a[s]+n;if(r[s])return o[s]?f:x;var b=u[s];if(b==null)return 0;if(o[s]){var p=f,v=b;return p<v?Math.max(x,b):Math.max(f,b)}if(m==null)return 0;var j=x+d,w=b+m;return j>w?Math.max(f,b):Math.max(x,b)}function $X(t){var{translateX:r,translateY:a,useTranslate3d:s}=t;return{transform:s?"translate3d(".concat(r,"px, ").concat(a,"px, 0)"):"translate(".concat(r,"px, ").concat(a,"px)")}}function IX(t){var{allowEscapeViewBox:r,coordinate:a,offsetTopLeft:s,position:n,reverseDirection:i,tooltipBox:o,useTranslate3d:d,viewBox:u}=t,m,f,x;return o.height>0&&o.width>0&&a?(f=D8({allowEscapeViewBox:r,coordinate:a,key:"x",offsetTopLeft:s,position:n,reverseDirection:i,tooltipDimension:o.width,viewBox:u,viewBoxDimension:u.width}),x=D8({allowEscapeViewBox:r,coordinate:a,key:"y",offsetTopLeft:s,position:n,reverseDirection:i,tooltipDimension:o.height,viewBox:u,viewBoxDimension:u.height}),m=$X({translateX:f,translateY:x,useTranslate3d:d})):m=MX,{cssProperties:m,cssClasses:RX({translateX:f,translateY:x,coordinate:a})}}function L8(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,s)}return a}function Sp(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?L8(Object(a),!0).forEach(function(s){Tj(t,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):L8(Object(a)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(a,s))})}return t}function Tj(t,r,a){return(r=FX(r))in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function FX(t){var r=BX(t,"string");return typeof r=="symbol"?r:r+""}function BX(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}class zX extends g.PureComponent{constructor(){super(...arguments),Tj(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Tj(this,"handleKeyDown",r=>{if(r.key==="Escape"){var a,s,n,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(a=(s=this.props.coordinate)===null||s===void 0?void 0:s.x)!==null&&a!==void 0?a:0,y:(n=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&n!==void 0?n:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var r,a;this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:r,allowEscapeViewBox:a,animationDuration:s,animationEasing:n,children:i,coordinate:o,hasPayload:d,isAnimationActive:u,offset:m,position:f,reverseDirection:x,useTranslate3d:b,viewBox:p,wrapperStyle:v,lastBoundingBox:j,innerRef:w,hasPortalFromProps:N}=this.props,{cssClasses:P,cssProperties:A}=IX({allowEscapeViewBox:a,coordinate:o,offsetTopLeft:m,position:f,reverseDirection:x,tooltipBox:{height:j.height,width:j.width},useTranslate3d:b,viewBox:p}),D=N?{}:Sp(Sp({transition:u&&r?"transform ".concat(s,"ms ").concat(n):void 0},A),{},{pointerEvents:"none",visibility:!this.state.dismissed&&r&&d?"visible":"hidden",position:"absolute",top:0,left:0}),T=Sp(Sp({},D),{},{visibility:!this.state.dismissed&&r&&d?"visible":"hidden"},v);return g.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:P,style:T,ref:w},i)}}var UX=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),om={isSsr:UX()},SP=()=>jt(t=>t.rootProps.accessibilityLayer);function Ei(t){return Number.isFinite(t)}function Af(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function Oj(){return Oj=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var s in a)({}).hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},Oj.apply(null,arguments)}function M8(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,s)}return a}function R8(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?M8(Object(a),!0).forEach(function(s){qX(t,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):M8(Object(a)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(a,s))})}return t}function qX(t,r,a){return(r=HX(r))in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function HX(t){var r=GX(t,"string");return typeof r=="symbol"?r:r+""}function GX(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var $8={curveBasisClosed:AV,curveBasisOpen:kV,curveBasis:_V,curveBumpX:uV,curveBumpY:mV,curveLinearClosed:CV,curveLinear:py,curveMonotoneX:EV,curveMonotoneY:PV,curveNatural:TV,curveStep:OV,curveStepAfter:LV,curveStepBefore:DV},_p=t=>Ei(t.x)&&Ei(t.y),Vh=t=>t.x,Kh=t=>t.y,YX=(t,r)=>{if(typeof t=="function")return t;var a="curve".concat(Ux(t));return(a==="curveMonotone"||a==="curveBump")&&r?$8["".concat(a).concat(r==="vertical"?"Y":"X")]:$8[a]||py},VX=t=>{var{type:r="linear",points:a=[],baseLine:s,layout:n,connectNulls:i=!1}=t,o=YX(r,n),d=i?a.filter(_p):a,u;if(Array.isArray(s)){var m=i?s.filter(x=>_p(x)):s,f=d.map((x,b)=>R8(R8({},x),{},{base:m[b]}));return n==="vertical"?u=gp().y(Kh).x1(Vh).x0(x=>x.base.x):u=gp().x(Vh).y1(Kh).y0(x=>x.base.y),u.defined(_p).curve(o),u(f)}return n==="vertical"&&kt(s)?u=gp().y(Kh).x1(Vh).x0(s):kt(s)?u=gp().x(Vh).y1(Kh).y0(s):u=pE().x(Vh).y(Kh),u.defined(_p).curve(o),u(d)},VN=t=>{var{className:r,points:a,path:s,pathRef:n}=t;if((!a||!a.length)&&!s)return null;var i=a&&a.length?VX(t):s;return g.createElement("path",Oj({},kc(t),ON(t),{className:Dr("recharts-curve",r),d:i===null?void 0:i,ref:n}))},KX=["x","y","top","left","width","height","className"];function Dj(){return Dj=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var s in a)({}).hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},Dj.apply(null,arguments)}function I8(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,s)}return a}function WX(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?I8(Object(a),!0).forEach(function(s){XX(t,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):I8(Object(a)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(a,s))})}return t}function XX(t,r,a){return(r=JX(r))in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function JX(t){var r=ZX(t,"string");return typeof r=="symbol"?r:r+""}function ZX(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function QX(t,r){if(t==null)return{};var a,s,n=eJ(t,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)a=i[s],r.indexOf(a)===-1&&{}.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}function eJ(t,r){if(t==null)return{};var a={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(r.indexOf(s)!==-1)continue;a[s]=t[s]}return a}var tJ=(t,r,a,s,n,i)=>"M".concat(t,",").concat(n,"v").concat(s,"M").concat(i,",").concat(r,"h").concat(a),rJ=t=>{var{x:r=0,y:a=0,top:s=0,left:n=0,width:i=0,height:o=0,className:d}=t,u=QX(t,KX),m=WX({x:r,y:a,top:s,left:n,width:i,height:o},u);return!kt(r)||!kt(a)||!kt(i)||!kt(o)||!kt(s)||!kt(n)?null:g.createElement("path",Dj({},_a(m,!0),{className:Dr("recharts-cross",d),d:tJ(r,a,i,o,s,n)}))};function aJ(t,r,a,s){var n=s/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?r.x-n:a.left+.5,y:t==="horizontal"?a.top+.5:r.y-n,width:t==="horizontal"?s:a.width-1,height:t==="horizontal"?a.height-1:s}}function F8(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,s)}return a}function sJ(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?F8(Object(a),!0).forEach(function(s){nJ(t,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):F8(Object(a)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(a,s))})}return t}function nJ(t,r,a){return(r=iJ(r))in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function iJ(t){var r=lJ(t,"string");return typeof r=="symbol"?r:r+""}function lJ(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function ti(t,r){var a=sJ({},t),s=r,n=Object.keys(r),i=n.reduce((o,d)=>(o[d]===void 0&&s[d]!==void 0&&(o[d]=s[d]),o),a);return i}function oJ(){}function B8(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,s)}return a}function z8(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?B8(Object(a),!0).forEach(function(s){cJ(t,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):B8(Object(a)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(a,s))})}return t}function cJ(t,r,a){return(r=dJ(r))in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function dJ(t){var r=uJ(t,"string");return typeof r=="symbol"?r:r+""}function uJ(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var mJ=t=>t.replace(/([A-Z])/g,r=>"-".concat(r.toLowerCase())),_P=(t,r,a)=>t.map(s=>"".concat(mJ(s)," ").concat(r,"ms ").concat(a)).join(","),fJ=(t,r)=>[Object.keys(t),Object.keys(r)].reduce((a,s)=>a.filter(n=>s.includes(n))),_x=(t,r)=>Object.keys(r).reduce((a,s)=>z8(z8({},a),{},{[s]:t(s,r[s])}),{});function U8(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,s)}return a}function rn(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?U8(Object(a),!0).forEach(function(s){hJ(t,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):U8(Object(a)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(a,s))})}return t}function hJ(t,r,a){return(r=xJ(r))in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function xJ(t){var r=pJ(t,"string");return typeof r=="symbol"?r:r+""}function pJ(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var Sg=(t,r,a)=>t+(r-t)*a,Lj=t=>{var{from:r,to:a}=t;return r!==a},AP=(t,r,a)=>{var s=_x((n,i)=>{if(Lj(i)){var[o,d]=t(i.from,i.to,i.velocity);return rn(rn({},i),{},{from:o,velocity:d})}return i},r);return a<1?_x((n,i)=>Lj(i)?rn(rn({},i),{},{velocity:Sg(i.velocity,s[n].velocity,a),from:Sg(i.from,s[n].from,a)}):i,r):AP(t,s,a-1)};function gJ(t,r,a,s,n,i){var o,d=s.reduce((b,p)=>rn(rn({},b),{},{[p]:{from:t[p],velocity:0,to:r[p]}}),{}),u=()=>_x((b,p)=>p.from,d),m=()=>!Object.values(d).filter(Lj).length,f=null,x=b=>{o||(o=b);var p=b-o,v=p/a.dt;d=AP(a,d,v),n(rn(rn(rn({},t),r),u())),o=b,m()||(f=i.setTimeout(x))};return()=>(f=i.setTimeout(x),()=>{f()})}function yJ(t,r,a,s,n,i,o){var d=null,u=n.reduce((x,b)=>rn(rn({},x),{},{[b]:[t[b],r[b]]}),{}),m,f=x=>{m||(m=x);var b=(x-m)/s,p=_x((j,w)=>Sg(...w,a(b)),u);if(i(rn(rn(rn({},t),r),p)),b<1)d=o.setTimeout(f);else{var v=_x((j,w)=>Sg(...w,a(1)),u);i(rn(rn(rn({},t),r),v))}};return()=>(d=o.setTimeout(f),()=>{d()})}const bJ=(t,r,a,s,n,i)=>{var o=fJ(t,r);return a.isStepper===!0?gJ(t,r,a,o,n,i):yJ(t,r,a,s,o,n,i)};var _g=1e-4,kP=(t,r)=>[0,3*t,3*r-6*t,3*t-3*r+1],CP=(t,r)=>t.map((a,s)=>a*r**s).reduce((a,s)=>a+s),q8=(t,r)=>a=>{var s=kP(t,r);return CP(s,a)},vJ=(t,r)=>a=>{var s=kP(t,r),n=[...s.map((i,o)=>i*o).slice(1),0];return CP(n,a)},H8=function(){for(var r,a,s,n,i=arguments.length,o=new Array(i),d=0;d<i;d++)o[d]=arguments[d];if(o.length===1)switch(o[0]){case"linear":[r,s,a,n]=[0,0,1,1];break;case"ease":[r,s,a,n]=[.25,.1,.25,1];break;case"ease-in":[r,s,a,n]=[.42,0,1,1];break;case"ease-out":[r,s,a,n]=[.42,0,.58,1];break;case"ease-in-out":[r,s,a,n]=[0,0,.58,1];break;default:{var u=o[0].split("(");u[0]==="cubic-bezier"&&u[1].split(")")[0].split(",").length===4&&([r,s,a,n]=u[1].split(")")[0].split(",").map(v=>parseFloat(v)))}}else o.length===4&&([r,s,a,n]=o);var m=q8(r,a),f=q8(s,n),x=vJ(r,a),b=v=>v>1?1:v<0?0:v,p=v=>{for(var j=v>1?1:v,w=j,N=0;N<8;++N){var P=m(w)-j,A=x(w);if(Math.abs(P-j)<_g||A<_g)return f(w);w=b(w-P/A)}return f(w)};return p.isStepper=!1,p},jJ=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:a=100,damping:s=8,dt:n=17}=r,i=(o,d,u)=>{var m=-(o-d)*a,f=u*s,x=u+(m-f)*n/1e3,b=u*n/1e3+o;return Math.abs(b-d)<_g&&Math.abs(x)<_g?[d,0]:[b,x]};return i.isStepper=!0,i.dt=n,i},NJ=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return H8(t);case"spring":return jJ();default:if(t.split("(")[0]==="cubic-bezier")return H8(t)}return typeof t=="function"?t:null};function wJ(t){var r,a=()=>null,s=!1,n=null,i=o=>{if(!s){if(Array.isArray(o)){if(!o.length)return;var d=o,[u,...m]=d;if(typeof u=="number"){n=t.setTimeout(i.bind(null,m),u);return}i(u),n=t.setTimeout(i.bind(null,m));return}typeof o=="string"&&(r=o,a(r)),typeof o=="object"&&(r=o,a(r)),typeof o=="function"&&o()}};return{stop:()=>{s=!0},start:o=>{s=!1,n&&(n(),n=null),i(o)},subscribe:o=>(a=o,()=>{a=()=>null}),getTimeoutController:()=>t}}class SJ{setTimeout(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=performance.now(),n=null,i=o=>{o-s>=a?r(o):typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(i))};return n=requestAnimationFrame(i),()=>{cancelAnimationFrame(n)}}}function _J(){return wJ(new SJ)}var AJ=g.createContext(_J);function kJ(t,r){var a=g.useContext(AJ);return g.useMemo(()=>r??a(t),[t,r,a])}var CJ={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},G8={t:0},K1={t:1};function Yx(t){var r=ti(t,CJ),{isActive:a,canBegin:s,duration:n,easing:i,begin:o,onAnimationEnd:d,onAnimationStart:u,children:m}=r,f=kJ(r.animationId,r.animationManager),[x,b]=g.useState(a?G8:K1),p=g.useRef(null);return g.useEffect(()=>{a||b(K1)},[a]),g.useEffect(()=>{if(!a||!s)return oJ;var v=bJ(G8,K1,NJ(i),n,b,f.getTimeoutController()),j=()=>{p.current=v()};return f.start([u,o,j,n,d]),()=>{f.stop(),p.current&&p.current(),d()}},[a,s,n,i,o,u,d,f]),m(x.t)}function Vx(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",a=g.useRef(jx(r)),s=g.useRef(t);return s.current!==t&&(a.current=jx(r),s.current=t),a.current}function Y8(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,s)}return a}function V8(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?Y8(Object(a),!0).forEach(function(s){EJ(t,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Y8(Object(a)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(a,s))})}return t}function EJ(t,r,a){return(r=PJ(r))in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function PJ(t){var r=TJ(t,"string");return typeof r=="symbol"?r:r+""}function TJ(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function Ag(){return Ag=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var s in a)({}).hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},Ag.apply(null,arguments)}var K8=(t,r,a,s,n)=>{var i=Math.min(Math.abs(a)/2,Math.abs(s)/2),o=s>=0?1:-1,d=a>=0?1:-1,u=s>=0&&a>=0||s<0&&a<0?1:0,m;if(i>0&&n instanceof Array){for(var f=[0,0,0,0],x=0,b=4;x<b;x++)f[x]=n[x]>i?i:n[x];m="M".concat(t,",").concat(r+o*f[0]),f[0]>0&&(m+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+d*f[0],",").concat(r)),m+="L ".concat(t+a-d*f[1],",").concat(r),f[1]>0&&(m+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+a,",").concat(r+o*f[1])),m+="L ".concat(t+a,",").concat(r+s-o*f[2]),f[2]>0&&(m+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+a-d*f[2],",").concat(r+s)),m+="L ".concat(t+d*f[3],",").concat(r+s),f[3]>0&&(m+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+s-o*f[3])),m+="Z"}else if(i>0&&n===+n&&n>0){var p=Math.min(i,n);m="M ".concat(t,",").concat(r+o*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(u,",").concat(t+d*p,",").concat(r,`
            L `).concat(t+a-d*p,",").concat(r,`
            A `).concat(p,",").concat(p,",0,0,").concat(u,",").concat(t+a,",").concat(r+o*p,`
            L `).concat(t+a,",").concat(r+s-o*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(u,",").concat(t+a-d*p,",").concat(r+s,`
            L `).concat(t+d*p,",").concat(r+s,`
            A `).concat(p,",").concat(p,",0,0,").concat(u,",").concat(t,",").concat(r+s-o*p," Z")}else m="M ".concat(t,",").concat(r," h ").concat(a," v ").concat(s," h ").concat(-a," Z");return m},OJ={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},EP=t=>{var r=ti(t,OJ),a=g.useRef(null),[s,n]=g.useState(-1);g.useEffect(()=>{if(a.current&&a.current.getTotalLength)try{var K=a.current.getTotalLength();K&&n(K)}catch{}},[]);var{x:i,y:o,width:d,height:u,radius:m,className:f}=r,{animationEasing:x,animationDuration:b,animationBegin:p,isAnimationActive:v,isUpdateAnimationActive:j}=r,w=g.useRef(d),N=g.useRef(u),P=g.useRef(i),A=g.useRef(o),D=g.useMemo(()=>({x:i,y:o,width:d,height:u,radius:m}),[i,o,d,u,m]),T=Vx(D,"rectangle-");if(i!==+i||o!==+o||d!==+d||u!==+u||d===0||u===0)return null;var R=Dr("recharts-rectangle",f);if(!j)return g.createElement("path",Ag({},_a(r,!0),{className:R,d:K8(i,o,d,u,m)}));var E=w.current,O=N.current,k=P.current,Y=A.current,$="0px ".concat(s===-1?1:s,"px"),M="".concat(s,"px 0px"),F=_P(["strokeDasharray"],b,typeof x=="string"?x:void 0);return g.createElement(Yx,{animationId:T,key:T,canBegin:s>0,duration:b,easing:x,isActive:j,begin:p},K=>{var q=Ua(E,d,K),U=Ua(O,u,K),V=Ua(k,i,K),Z=Ua(Y,o,K);a.current&&(w.current=q,N.current=U,P.current=V,A.current=Z);var X;return v?K>0?X={transition:F,strokeDasharray:M}:X={strokeDasharray:$}:X={strokeDasharray:M},g.createElement("path",Ag({},_a(r,!0),{className:R,d:K8(V,Z,q,U,m),ref:a,style:V8(V8({},X),r.style)}))})};function PP(t){var{cx:r,cy:a,radius:s,startAngle:n,endAngle:i}=t,o=ds(r,a,s,n),d=ds(r,a,s,i);return{points:[o,d],cx:r,cy:a,radius:s,startAngle:n,endAngle:i}}function Mj(){return Mj=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var s in a)({}).hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},Mj.apply(null,arguments)}var DJ=(t,r)=>{var a=$s(r-t),s=Math.min(Math.abs(r-t),359.999);return a*s},Ap=t=>{var{cx:r,cy:a,radius:s,angle:n,sign:i,isExternal:o,cornerRadius:d,cornerIsExternal:u}=t,m=d*(o?1:-1)+s,f=Math.asin(d/m)/wg,x=u?n:n+i*f,b=ds(r,a,m,x),p=ds(r,a,s,x),v=u?n-i*f:n,j=ds(r,a,m*Math.cos(f*wg),v);return{center:b,circleTangency:p,lineTangency:j,theta:f}},TP=t=>{var{cx:r,cy:a,innerRadius:s,outerRadius:n,startAngle:i,endAngle:o}=t,d=DJ(i,o),u=i+d,m=ds(r,a,n,i),f=ds(r,a,n,u),x="M ".concat(m.x,",").concat(m.y,`
    A `).concat(n,",").concat(n,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(i>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(s>0){var b=ds(r,a,s,i),p=ds(r,a,s,u);x+="L ".concat(p.x,",").concat(p.y,`
            A `).concat(s,",").concat(s,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(i<=u),`,
            `).concat(b.x,",").concat(b.y," Z")}else x+="L ".concat(r,",").concat(a," Z");return x},LJ=t=>{var{cx:r,cy:a,innerRadius:s,outerRadius:n,cornerRadius:i,forceCornerRadius:o,cornerIsExternal:d,startAngle:u,endAngle:m}=t,f=$s(m-u),{circleTangency:x,lineTangency:b,theta:p}=Ap({cx:r,cy:a,radius:n,angle:u,sign:f,cornerRadius:i,cornerIsExternal:d}),{circleTangency:v,lineTangency:j,theta:w}=Ap({cx:r,cy:a,radius:n,angle:m,sign:-f,cornerRadius:i,cornerIsExternal:d}),N=d?Math.abs(u-m):Math.abs(u-m)-p-w;if(N<0)return o?"M ".concat(b.x,",").concat(b.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):TP({cx:r,cy:a,innerRadius:s,outerRadius:n,startAngle:u,endAngle:m});var P="M ".concat(b.x,",").concat(b.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(n,",").concat(n,",0,").concat(+(N>180),",").concat(+(f<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(j.x,",").concat(j.y,`
  `);if(s>0){var{circleTangency:A,lineTangency:D,theta:T}=Ap({cx:r,cy:a,radius:s,angle:u,sign:f,isExternal:!0,cornerRadius:i,cornerIsExternal:d}),{circleTangency:R,lineTangency:E,theta:O}=Ap({cx:r,cy:a,radius:s,angle:m,sign:-f,isExternal:!0,cornerRadius:i,cornerIsExternal:d}),k=d?Math.abs(u-m):Math.abs(u-m)-T-O;if(k<0&&i===0)return"".concat(P,"L").concat(r,",").concat(a,"Z");P+="L".concat(E.x,",").concat(E.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(R.x,",").concat(R.y,`
      A`).concat(s,",").concat(s,",0,").concat(+(k>180),",").concat(+(f>0),",").concat(A.x,",").concat(A.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(D.x,",").concat(D.y,"Z")}else P+="L".concat(r,",").concat(a,"Z");return P},MJ={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},OP=t=>{var r=ti(t,MJ),{cx:a,cy:s,innerRadius:n,outerRadius:i,cornerRadius:o,forceCornerRadius:d,cornerIsExternal:u,startAngle:m,endAngle:f,className:x}=r;if(i<n||m===f)return null;var b=Dr("recharts-sector",x),p=i-n,v=pn(o,p,0,!0),j;return v>0&&Math.abs(m-f)<360?j=LJ({cx:a,cy:s,innerRadius:n,outerRadius:i,cornerRadius:Math.min(v,p/2),forceCornerRadius:d,cornerIsExternal:u,startAngle:m,endAngle:f}):j=TP({cx:a,cy:s,innerRadius:n,outerRadius:i,startAngle:m,endAngle:f}),g.createElement("path",Mj({},_a(r,!0),{className:b,d:j}))};function RJ(t,r,a){var s,n,i,o;if(t==="horizontal")s=r.x,i=s,n=a.top,o=a.top+a.height;else if(t==="vertical")n=r.y,o=n,s=a.left,i=a.left+a.width;else if(r.cx!=null&&r.cy!=null)if(t==="centric"){var{cx:d,cy:u,innerRadius:m,outerRadius:f,angle:x}=r,b=ds(d,u,m,x),p=ds(d,u,f,x);s=b.x,n=b.y,i=p.x,o=p.y}else return PP(r);return[{x:s,y:n},{x:i,y:o}]}var W1={},X1={},J1={},W8;function $J(){return W8||(W8=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=IE();function a(s){return r.isSymbol(s)?NaN:Number(s)}t.toNumber=a}(J1)),J1}var X8;function IJ(){return X8||(X8=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=$J();function a(s){return s?(s=r.toNumber(s),s===1/0||s===-1/0?(s<0?-1:1)*Number.MAX_VALUE:s===s?s:0):s===0?s:0}t.toFinite=a}(X1)),X1}var J8;function FJ(){return J8||(J8=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=FE(),a=IJ();function s(n,i,o){o&&typeof o!="number"&&r.isIterateeCall(n,i,o)&&(i=o=void 0),n=a.toFinite(n),i===void 0?(i=n,n=0):i=a.toFinite(i),o=o===void 0?n<i?1:-1:a.toFinite(o);const d=Math.max(Math.ceil((i-n)/(o||1)),0),u=new Array(d);for(let m=0;m<d;m++)u[m]=n,n+=o;return u}t.range=s}(W1)),W1}var Z1,Z8;function BJ(){return Z8||(Z8=1,Z1=FJ().range),Z1}var zJ=BJ();const DP=Eo(zJ);function Ed(t,r){return t==null||r==null?NaN:t<r?-1:t>r?1:t>=r?0:NaN}function UJ(t,r){return t==null||r==null?NaN:r<t?-1:r>t?1:r>=t?0:NaN}function KN(t){let r,a,s;t.length!==2?(r=Ed,a=(d,u)=>Ed(t(d),u),s=(d,u)=>t(d)-u):(r=t===Ed||t===UJ?t:qJ,a=t,s=t);function n(d,u,m=0,f=d.length){if(m<f){if(r(u,u)!==0)return f;do{const x=m+f>>>1;a(d[x],u)<0?m=x+1:f=x}while(m<f)}return m}function i(d,u,m=0,f=d.length){if(m<f){if(r(u,u)!==0)return f;do{const x=m+f>>>1;a(d[x],u)<=0?m=x+1:f=x}while(m<f)}return m}function o(d,u,m=0,f=d.length){const x=n(d,u,m,f-1);return x>m&&s(d[x-1],u)>-s(d[x],u)?x-1:x}return{left:n,center:o,right:i}}function qJ(){return 0}function LP(t){return t===null?NaN:+t}function*HJ(t,r){for(let a of t)a!=null&&(a=+a)>=a&&(yield a)}const GJ=KN(Ed),Kx=GJ.right;KN(LP).center;class Q8 extends Map{constructor(r,a=KJ){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:a}}),r!=null)for(const[s,n]of r)this.set(s,n)}get(r){return super.get(e7(this,r))}has(r){return super.has(e7(this,r))}set(r,a){return super.set(YJ(this,r),a)}delete(r){return super.delete(VJ(this,r))}}function e7({_intern:t,_key:r},a){const s=r(a);return t.has(s)?t.get(s):a}function YJ({_intern:t,_key:r},a){const s=r(a);return t.has(s)?t.get(s):(t.set(s,a),a)}function VJ({_intern:t,_key:r},a){const s=r(a);return t.has(s)&&(a=t.get(s),t.delete(s)),a}function KJ(t){return t!==null&&typeof t=="object"?t.valueOf():t}function WJ(t=Ed){if(t===Ed)return MP;if(typeof t!="function")throw new TypeError("compare is not a function");return(r,a)=>{const s=t(r,a);return s||s===0?s:(t(a,a)===0)-(t(r,r)===0)}}function MP(t,r){return(t==null||!(t>=t))-(r==null||!(r>=r))||(t<r?-1:t>r?1:0)}const XJ=Math.sqrt(50),JJ=Math.sqrt(10),ZJ=Math.sqrt(2);function kg(t,r,a){const s=(r-t)/Math.max(0,a),n=Math.floor(Math.log10(s)),i=s/Math.pow(10,n),o=i>=XJ?10:i>=JJ?5:i>=ZJ?2:1;let d,u,m;return n<0?(m=Math.pow(10,-n)/o,d=Math.round(t*m),u=Math.round(r*m),d/m<t&&++d,u/m>r&&--u,m=-m):(m=Math.pow(10,n)*o,d=Math.round(t/m),u=Math.round(r/m),d*m<t&&++d,u*m>r&&--u),u<d&&.5<=a&&a<2?kg(t,r,a*2):[d,u,m]}function Rj(t,r,a){if(r=+r,t=+t,a=+a,!(a>0))return[];if(t===r)return[t];const s=r<t,[n,i,o]=s?kg(r,t,a):kg(t,r,a);if(!(i>=n))return[];const d=i-n+1,u=new Array(d);if(s)if(o<0)for(let m=0;m<d;++m)u[m]=(i-m)/-o;else for(let m=0;m<d;++m)u[m]=(i-m)*o;else if(o<0)for(let m=0;m<d;++m)u[m]=(n+m)/-o;else for(let m=0;m<d;++m)u[m]=(n+m)*o;return u}function $j(t,r,a){return r=+r,t=+t,a=+a,kg(t,r,a)[2]}function Ij(t,r,a){r=+r,t=+t,a=+a;const s=r<t,n=s?$j(r,t,a):$j(t,r,a);return(s?-1:1)*(n<0?1/-n:n)}function t7(t,r){let a;for(const s of t)s!=null&&(a<s||a===void 0&&s>=s)&&(a=s);return a}function r7(t,r){let a;for(const s of t)s!=null&&(a>s||a===void 0&&s>=s)&&(a=s);return a}function RP(t,r,a=0,s=1/0,n){if(r=Math.floor(r),a=Math.floor(Math.max(0,a)),s=Math.floor(Math.min(t.length-1,s)),!(a<=r&&r<=s))return t;for(n=n===void 0?MP:WJ(n);s>a;){if(s-a>600){const u=s-a+1,m=r-a+1,f=Math.log(u),x=.5*Math.exp(2*f/3),b=.5*Math.sqrt(f*x*(u-x)/u)*(m-u/2<0?-1:1),p=Math.max(a,Math.floor(r-m*x/u+b)),v=Math.min(s,Math.floor(r+(u-m)*x/u+b));RP(t,r,p,v,n)}const i=t[r];let o=a,d=s;for(Wh(t,a,r),n(t[s],i)>0&&Wh(t,a,s);o<d;){for(Wh(t,o,d),++o,--d;n(t[o],i)<0;)++o;for(;n(t[d],i)>0;)--d}n(t[a],i)===0?Wh(t,a,d):(++d,Wh(t,d,s)),d<=r&&(a=d+1),r<=d&&(s=d-1)}return t}function Wh(t,r,a){const s=t[r];t[r]=t[a],t[a]=s}function QJ(t,r,a){if(t=Float64Array.from(HJ(t)),!(!(s=t.length)||isNaN(r=+r))){if(r<=0||s<2)return r7(t);if(r>=1)return t7(t);var s,n=(s-1)*r,i=Math.floor(n),o=t7(RP(t,i).subarray(0,i+1)),d=r7(t.subarray(i+1));return o+(d-o)*(n-i)}}function eZ(t,r,a=LP){if(!(!(s=t.length)||isNaN(r=+r))){if(r<=0||s<2)return+a(t[0],0,t);if(r>=1)return+a(t[s-1],s-1,t);var s,n=(s-1)*r,i=Math.floor(n),o=+a(t[i],i,t),d=+a(t[i+1],i+1,t);return o+(d-o)*(n-i)}}function tZ(t,r,a){t=+t,r=+r,a=(n=arguments.length)<2?(r=t,t=0,1):n<3?1:+a;for(var s=-1,n=Math.max(0,Math.ceil((r-t)/a))|0,i=new Array(n);++s<n;)i[s]=t+s*a;return i}function ml(t,r){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(r).domain(t);break}return this}function Pc(t,r){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof r=="function"?this.interpolator(r):this.range(r);break}}return this}const Fj=Symbol("implicit");function WN(){var t=new Q8,r=[],a=[],s=Fj;function n(i){let o=t.get(i);if(o===void 0){if(s!==Fj)return s;t.set(i,o=r.push(i)-1)}return a[o%a.length]}return n.domain=function(i){if(!arguments.length)return r.slice();r=[],t=new Q8;for(const o of i)t.has(o)||t.set(o,r.push(o)-1);return n},n.range=function(i){return arguments.length?(a=Array.from(i),n):a.slice()},n.unknown=function(i){return arguments.length?(s=i,n):s},n.copy=function(){return WN(r,a).unknown(s)},ml.apply(n,arguments),n}function XN(){var t=WN().unknown(void 0),r=t.domain,a=t.range,s=0,n=1,i,o,d=!1,u=0,m=0,f=.5;delete t.unknown;function x(){var b=r().length,p=n<s,v=p?n:s,j=p?s:n;i=(j-v)/Math.max(1,b-u+m*2),d&&(i=Math.floor(i)),v+=(j-v-i*(b-u))*f,o=i*(1-u),d&&(v=Math.round(v),o=Math.round(o));var w=tZ(b).map(function(N){return v+i*N});return a(p?w.reverse():w)}return t.domain=function(b){return arguments.length?(r(b),x()):r()},t.range=function(b){return arguments.length?([s,n]=b,s=+s,n=+n,x()):[s,n]},t.rangeRound=function(b){return[s,n]=b,s=+s,n=+n,d=!0,x()},t.bandwidth=function(){return o},t.step=function(){return i},t.round=function(b){return arguments.length?(d=!!b,x()):d},t.padding=function(b){return arguments.length?(u=Math.min(1,m=+b),x()):u},t.paddingInner=function(b){return arguments.length?(u=Math.min(1,b),x()):u},t.paddingOuter=function(b){return arguments.length?(m=+b,x()):m},t.align=function(b){return arguments.length?(f=Math.max(0,Math.min(1,b)),x()):f},t.copy=function(){return XN(r(),[s,n]).round(d).paddingInner(u).paddingOuter(m).align(f)},ml.apply(x(),arguments)}function $P(t){var r=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return $P(r())},t}function rZ(){return $P(XN.apply(null,arguments).paddingInner(1))}function JN(t,r,a){t.prototype=r.prototype=a,a.constructor=t}function IP(t,r){var a=Object.create(t.prototype);for(var s in r)a[s]=r[s];return a}function Wx(){}var Ax=.7,Cg=1/Ax,gf="\\s*([+-]?\\d+)\\s*",kx="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",_o="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",aZ=/^#([0-9a-f]{3,8})$/,sZ=new RegExp(`^rgb\\(${gf},${gf},${gf}\\)$`),nZ=new RegExp(`^rgb\\(${_o},${_o},${_o}\\)$`),iZ=new RegExp(`^rgba\\(${gf},${gf},${gf},${kx}\\)$`),lZ=new RegExp(`^rgba\\(${_o},${_o},${_o},${kx}\\)$`),oZ=new RegExp(`^hsl\\(${kx},${_o},${_o}\\)$`),cZ=new RegExp(`^hsla\\(${kx},${_o},${_o},${kx}\\)$`),a7={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};JN(Wx,Cx,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:s7,formatHex:s7,formatHex8:dZ,formatHsl:uZ,formatRgb:n7,toString:n7});function s7(){return this.rgb().formatHex()}function dZ(){return this.rgb().formatHex8()}function uZ(){return FP(this).formatHsl()}function n7(){return this.rgb().formatRgb()}function Cx(t){var r,a;return t=(t+"").trim().toLowerCase(),(r=aZ.exec(t))?(a=r[1].length,r=parseInt(r[1],16),a===6?i7(r):a===3?new Wn(r>>8&15|r>>4&240,r>>4&15|r&240,(r&15)<<4|r&15,1):a===8?kp(r>>24&255,r>>16&255,r>>8&255,(r&255)/255):a===4?kp(r>>12&15|r>>8&240,r>>8&15|r>>4&240,r>>4&15|r&240,((r&15)<<4|r&15)/255):null):(r=sZ.exec(t))?new Wn(r[1],r[2],r[3],1):(r=nZ.exec(t))?new Wn(r[1]*255/100,r[2]*255/100,r[3]*255/100,1):(r=iZ.exec(t))?kp(r[1],r[2],r[3],r[4]):(r=lZ.exec(t))?kp(r[1]*255/100,r[2]*255/100,r[3]*255/100,r[4]):(r=oZ.exec(t))?c7(r[1],r[2]/100,r[3]/100,1):(r=cZ.exec(t))?c7(r[1],r[2]/100,r[3]/100,r[4]):a7.hasOwnProperty(t)?i7(a7[t]):t==="transparent"?new Wn(NaN,NaN,NaN,0):null}function i7(t){return new Wn(t>>16&255,t>>8&255,t&255,1)}function kp(t,r,a,s){return s<=0&&(t=r=a=NaN),new Wn(t,r,a,s)}function mZ(t){return t instanceof Wx||(t=Cx(t)),t?(t=t.rgb(),new Wn(t.r,t.g,t.b,t.opacity)):new Wn}function Bj(t,r,a,s){return arguments.length===1?mZ(t):new Wn(t,r,a,s??1)}function Wn(t,r,a,s){this.r=+t,this.g=+r,this.b=+a,this.opacity=+s}JN(Wn,Bj,IP(Wx,{brighter(t){return t=t==null?Cg:Math.pow(Cg,t),new Wn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Ax:Math.pow(Ax,t),new Wn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Wn(Hu(this.r),Hu(this.g),Hu(this.b),Eg(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:l7,formatHex:l7,formatHex8:fZ,formatRgb:o7,toString:o7}));function l7(){return`#${Mu(this.r)}${Mu(this.g)}${Mu(this.b)}`}function fZ(){return`#${Mu(this.r)}${Mu(this.g)}${Mu(this.b)}${Mu((isNaN(this.opacity)?1:this.opacity)*255)}`}function o7(){const t=Eg(this.opacity);return`${t===1?"rgb(":"rgba("}${Hu(this.r)}, ${Hu(this.g)}, ${Hu(this.b)}${t===1?")":`, ${t})`}`}function Eg(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Hu(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Mu(t){return t=Hu(t),(t<16?"0":"")+t.toString(16)}function c7(t,r,a,s){return s<=0?t=r=a=NaN:a<=0||a>=1?t=r=NaN:r<=0&&(t=NaN),new $l(t,r,a,s)}function FP(t){if(t instanceof $l)return new $l(t.h,t.s,t.l,t.opacity);if(t instanceof Wx||(t=Cx(t)),!t)return new $l;if(t instanceof $l)return t;t=t.rgb();var r=t.r/255,a=t.g/255,s=t.b/255,n=Math.min(r,a,s),i=Math.max(r,a,s),o=NaN,d=i-n,u=(i+n)/2;return d?(r===i?o=(a-s)/d+(a<s)*6:a===i?o=(s-r)/d+2:o=(r-a)/d+4,d/=u<.5?i+n:2-i-n,o*=60):d=u>0&&u<1?0:o,new $l(o,d,u,t.opacity)}function hZ(t,r,a,s){return arguments.length===1?FP(t):new $l(t,r,a,s??1)}function $l(t,r,a,s){this.h=+t,this.s=+r,this.l=+a,this.opacity=+s}JN($l,hZ,IP(Wx,{brighter(t){return t=t==null?Cg:Math.pow(Cg,t),new $l(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Ax:Math.pow(Ax,t),new $l(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,r=isNaN(t)||isNaN(this.s)?0:this.s,a=this.l,s=a+(a<.5?a:1-a)*r,n=2*a-s;return new Wn(Q1(t>=240?t-240:t+120,n,s),Q1(t,n,s),Q1(t<120?t+240:t-120,n,s),this.opacity)},clamp(){return new $l(d7(this.h),Cp(this.s),Cp(this.l),Eg(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Eg(this.opacity);return`${t===1?"hsl(":"hsla("}${d7(this.h)}, ${Cp(this.s)*100}%, ${Cp(this.l)*100}%${t===1?")":`, ${t})`}`}}));function d7(t){return t=(t||0)%360,t<0?t+360:t}function Cp(t){return Math.max(0,Math.min(1,t||0))}function Q1(t,r,a){return(t<60?r+(a-r)*t/60:t<180?a:t<240?r+(a-r)*(240-t)/60:r)*255}const ZN=t=>()=>t;function xZ(t,r){return function(a){return t+a*r}}function pZ(t,r,a){return t=Math.pow(t,a),r=Math.pow(r,a)-t,a=1/a,function(s){return Math.pow(t+s*r,a)}}function gZ(t){return(t=+t)==1?BP:function(r,a){return a-r?pZ(r,a,t):ZN(isNaN(r)?a:r)}}function BP(t,r){var a=r-t;return a?xZ(t,a):ZN(isNaN(t)?r:t)}const u7=function t(r){var a=gZ(r);function s(n,i){var o=a((n=Bj(n)).r,(i=Bj(i)).r),d=a(n.g,i.g),u=a(n.b,i.b),m=BP(n.opacity,i.opacity);return function(f){return n.r=o(f),n.g=d(f),n.b=u(f),n.opacity=m(f),n+""}}return s.gamma=t,s}(1);function yZ(t,r){r||(r=[]);var a=t?Math.min(r.length,t.length):0,s=r.slice(),n;return function(i){for(n=0;n<a;++n)s[n]=t[n]*(1-i)+r[n]*i;return s}}function bZ(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function vZ(t,r){var a=r?r.length:0,s=t?Math.min(a,t.length):0,n=new Array(s),i=new Array(a),o;for(o=0;o<s;++o)n[o]=Bf(t[o],r[o]);for(;o<a;++o)i[o]=r[o];return function(d){for(o=0;o<s;++o)i[o]=n[o](d);return i}}function jZ(t,r){var a=new Date;return t=+t,r=+r,function(s){return a.setTime(t*(1-s)+r*s),a}}function Pg(t,r){return t=+t,r=+r,function(a){return t*(1-a)+r*a}}function NZ(t,r){var a={},s={},n;(t===null||typeof t!="object")&&(t={}),(r===null||typeof r!="object")&&(r={});for(n in r)n in t?a[n]=Bf(t[n],r[n]):s[n]=r[n];return function(i){for(n in a)s[n]=a[n](i);return s}}var zj=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,e2=new RegExp(zj.source,"g");function wZ(t){return function(){return t}}function SZ(t){return function(r){return t(r)+""}}function _Z(t,r){var a=zj.lastIndex=e2.lastIndex=0,s,n,i,o=-1,d=[],u=[];for(t=t+"",r=r+"";(s=zj.exec(t))&&(n=e2.exec(r));)(i=n.index)>a&&(i=r.slice(a,i),d[o]?d[o]+=i:d[++o]=i),(s=s[0])===(n=n[0])?d[o]?d[o]+=n:d[++o]=n:(d[++o]=null,u.push({i:o,x:Pg(s,n)})),a=e2.lastIndex;return a<r.length&&(i=r.slice(a),d[o]?d[o]+=i:d[++o]=i),d.length<2?u[0]?SZ(u[0].x):wZ(r):(r=u.length,function(m){for(var f=0,x;f<r;++f)d[(x=u[f]).i]=x.x(m);return d.join("")})}function Bf(t,r){var a=typeof r,s;return r==null||a==="boolean"?ZN(r):(a==="number"?Pg:a==="string"?(s=Cx(r))?(r=s,u7):_Z:r instanceof Cx?u7:r instanceof Date?jZ:bZ(r)?yZ:Array.isArray(r)?vZ:typeof r.valueOf!="function"&&typeof r.toString!="function"||isNaN(r)?NZ:Pg)(t,r)}function QN(t,r){return t=+t,r=+r,function(a){return Math.round(t*(1-a)+r*a)}}function AZ(t,r){r===void 0&&(r=t,t=Bf);for(var a=0,s=r.length-1,n=r[0],i=new Array(s<0?0:s);a<s;)i[a]=t(n,n=r[++a]);return function(o){var d=Math.max(0,Math.min(s-1,Math.floor(o*=s)));return i[d](o-d)}}function kZ(t){return function(){return t}}function Tg(t){return+t}var m7=[0,1];function Tn(t){return t}function Uj(t,r){return(r-=t=+t)?function(a){return(a-t)/r}:kZ(isNaN(r)?NaN:.5)}function CZ(t,r){var a;return t>r&&(a=t,t=r,r=a),function(s){return Math.max(t,Math.min(r,s))}}function EZ(t,r,a){var s=t[0],n=t[1],i=r[0],o=r[1];return n<s?(s=Uj(n,s),i=a(o,i)):(s=Uj(s,n),i=a(i,o)),function(d){return i(s(d))}}function PZ(t,r,a){var s=Math.min(t.length,r.length)-1,n=new Array(s),i=new Array(s),o=-1;for(t[s]<t[0]&&(t=t.slice().reverse(),r=r.slice().reverse());++o<s;)n[o]=Uj(t[o],t[o+1]),i[o]=a(r[o],r[o+1]);return function(d){var u=Kx(t,d,1,s)-1;return i[u](n[u](d))}}function Xx(t,r){return r.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Ey(){var t=m7,r=m7,a=Bf,s,n,i,o=Tn,d,u,m;function f(){var b=Math.min(t.length,r.length);return o!==Tn&&(o=CZ(t[0],t[b-1])),d=b>2?PZ:EZ,u=m=null,x}function x(b){return b==null||isNaN(b=+b)?i:(u||(u=d(t.map(s),r,a)))(s(o(b)))}return x.invert=function(b){return o(n((m||(m=d(r,t.map(s),Pg)))(b)))},x.domain=function(b){return arguments.length?(t=Array.from(b,Tg),f()):t.slice()},x.range=function(b){return arguments.length?(r=Array.from(b),f()):r.slice()},x.rangeRound=function(b){return r=Array.from(b),a=QN,f()},x.clamp=function(b){return arguments.length?(o=b?!0:Tn,f()):o!==Tn},x.interpolate=function(b){return arguments.length?(a=b,f()):a},x.unknown=function(b){return arguments.length?(i=b,x):i},function(b,p){return s=b,n=p,f()}}function e5(){return Ey()(Tn,Tn)}function TZ(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Og(t,r){if((a=(t=r?t.toExponential(r-1):t.toExponential()).indexOf("e"))<0)return null;var a,s=t.slice(0,a);return[s.length>1?s[0]+s.slice(2):s,+t.slice(a+1)]}function kf(t){return t=Og(Math.abs(t)),t?t[1]:NaN}function OZ(t,r){return function(a,s){for(var n=a.length,i=[],o=0,d=t[0],u=0;n>0&&d>0&&(u+d+1>s&&(d=Math.max(1,s-u)),i.push(a.substring(n-=d,n+d)),!((u+=d+1)>s));)d=t[o=(o+1)%t.length];return i.reverse().join(r)}}function DZ(t){return function(r){return r.replace(/[0-9]/g,function(a){return t[+a]})}}var LZ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ex(t){if(!(r=LZ.exec(t)))throw new Error("invalid format: "+t);var r;return new t5({fill:r[1],align:r[2],sign:r[3],symbol:r[4],zero:r[5],width:r[6],comma:r[7],precision:r[8]&&r[8].slice(1),trim:r[9],type:r[10]})}Ex.prototype=t5.prototype;function t5(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}t5.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function MZ(t){e:for(var r=t.length,a=1,s=-1,n;a<r;++a)switch(t[a]){case".":s=n=a;break;case"0":s===0&&(s=a),n=a;break;default:if(!+t[a])break e;s>0&&(s=0);break}return s>0?t.slice(0,s)+t.slice(n+1):t}var zP;function RZ(t,r){var a=Og(t,r);if(!a)return t+"";var s=a[0],n=a[1],i=n-(zP=Math.max(-8,Math.min(8,Math.floor(n/3)))*3)+1,o=s.length;return i===o?s:i>o?s+new Array(i-o+1).join("0"):i>0?s.slice(0,i)+"."+s.slice(i):"0."+new Array(1-i).join("0")+Og(t,Math.max(0,r+i-1))[0]}function f7(t,r){var a=Og(t,r);if(!a)return t+"";var s=a[0],n=a[1];return n<0?"0."+new Array(-n).join("0")+s:s.length>n+1?s.slice(0,n+1)+"."+s.slice(n+1):s+new Array(n-s.length+2).join("0")}const h7={"%":(t,r)=>(t*100).toFixed(r),b:t=>Math.round(t).toString(2),c:t=>t+"",d:TZ,e:(t,r)=>t.toExponential(r),f:(t,r)=>t.toFixed(r),g:(t,r)=>t.toPrecision(r),o:t=>Math.round(t).toString(8),p:(t,r)=>f7(t*100,r),r:f7,s:RZ,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function x7(t){return t}var p7=Array.prototype.map,g7=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function $Z(t){var r=t.grouping===void 0||t.thousands===void 0?x7:OZ(p7.call(t.grouping,Number),t.thousands+""),a=t.currency===void 0?"":t.currency[0]+"",s=t.currency===void 0?"":t.currency[1]+"",n=t.decimal===void 0?".":t.decimal+"",i=t.numerals===void 0?x7:DZ(p7.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",d=t.minus===void 0?"−":t.minus+"",u=t.nan===void 0?"NaN":t.nan+"";function m(x){x=Ex(x);var b=x.fill,p=x.align,v=x.sign,j=x.symbol,w=x.zero,N=x.width,P=x.comma,A=x.precision,D=x.trim,T=x.type;T==="n"?(P=!0,T="g"):h7[T]||(A===void 0&&(A=12),D=!0,T="g"),(w||b==="0"&&p==="=")&&(w=!0,b="0",p="=");var R=j==="$"?a:j==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():"",E=j==="$"?s:/[%p]/.test(T)?o:"",O=h7[T],k=/[defgprs%]/.test(T);A=A===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,A)):Math.max(0,Math.min(20,A));function Y($){var M=R,F=E,K,q,U;if(T==="c")F=O($)+F,$="";else{$=+$;var V=$<0||1/$<0;if($=isNaN($)?u:O(Math.abs($),A),D&&($=MZ($)),V&&+$==0&&v!=="+"&&(V=!1),M=(V?v==="("?v:d:v==="-"||v==="("?"":v)+M,F=(T==="s"?g7[8+zP/3]:"")+F+(V&&v==="("?")":""),k){for(K=-1,q=$.length;++K<q;)if(U=$.charCodeAt(K),48>U||U>57){F=(U===46?n+$.slice(K+1):$.slice(K))+F,$=$.slice(0,K);break}}}P&&!w&&($=r($,1/0));var Z=M.length+$.length+F.length,X=Z<N?new Array(N-Z+1).join(b):"";switch(P&&w&&($=r(X+$,X.length?N-F.length:1/0),X=""),p){case"<":$=M+$+F+X;break;case"=":$=M+X+$+F;break;case"^":$=X.slice(0,Z=X.length>>1)+M+$+F+X.slice(Z);break;default:$=X+M+$+F;break}return i($)}return Y.toString=function(){return x+""},Y}function f(x,b){var p=m((x=Ex(x),x.type="f",x)),v=Math.max(-8,Math.min(8,Math.floor(kf(b)/3)))*3,j=Math.pow(10,-v),w=g7[8+v/3];return function(N){return p(j*N)+w}}return{format:m,formatPrefix:f}}var Ep,r5,UP;IZ({thousands:",",grouping:[3],currency:["$",""]});function IZ(t){return Ep=$Z(t),r5=Ep.format,UP=Ep.formatPrefix,Ep}function FZ(t){return Math.max(0,-kf(Math.abs(t)))}function BZ(t,r){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(kf(r)/3)))*3-kf(Math.abs(t)))}function zZ(t,r){return t=Math.abs(t),r=Math.abs(r)-t,Math.max(0,kf(r)-kf(t))+1}function qP(t,r,a,s){var n=Ij(t,r,a),i;switch(s=Ex(s??",f"),s.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(r));return s.precision==null&&!isNaN(i=BZ(n,o))&&(s.precision=i),UP(s,o)}case"":case"e":case"g":case"p":case"r":{s.precision==null&&!isNaN(i=zZ(n,Math.max(Math.abs(t),Math.abs(r))))&&(s.precision=i-(s.type==="e"));break}case"f":case"%":{s.precision==null&&!isNaN(i=FZ(n))&&(s.precision=i-(s.type==="%")*2);break}}return r5(s)}function qd(t){var r=t.domain;return t.ticks=function(a){var s=r();return Rj(s[0],s[s.length-1],a??10)},t.tickFormat=function(a,s){var n=r();return qP(n[0],n[n.length-1],a??10,s)},t.nice=function(a){a==null&&(a=10);var s=r(),n=0,i=s.length-1,o=s[n],d=s[i],u,m,f=10;for(d<o&&(m=o,o=d,d=m,m=n,n=i,i=m);f-- >0;){if(m=$j(o,d,a),m===u)return s[n]=o,s[i]=d,r(s);if(m>0)o=Math.floor(o/m)*m,d=Math.ceil(d/m)*m;else if(m<0)o=Math.ceil(o*m)/m,d=Math.floor(d*m)/m;else break;u=m}return t},t}function HP(){var t=e5();return t.copy=function(){return Xx(t,HP())},ml.apply(t,arguments),qd(t)}function GP(t){var r;function a(s){return s==null||isNaN(s=+s)?r:s}return a.invert=a,a.domain=a.range=function(s){return arguments.length?(t=Array.from(s,Tg),a):t.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return GP(t).unknown(r)},t=arguments.length?Array.from(t,Tg):[0,1],qd(a)}function YP(t,r){t=t.slice();var a=0,s=t.length-1,n=t[a],i=t[s],o;return i<n&&(o=a,a=s,s=o,o=n,n=i,i=o),t[a]=r.floor(n),t[s]=r.ceil(i),t}function y7(t){return Math.log(t)}function b7(t){return Math.exp(t)}function UZ(t){return-Math.log(-t)}function qZ(t){return-Math.exp(-t)}function HZ(t){return isFinite(t)?+("1e"+t):t<0?0:t}function GZ(t){return t===10?HZ:t===Math.E?Math.exp:r=>Math.pow(t,r)}function YZ(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),r=>Math.log(r)/t)}function v7(t){return(r,a)=>-t(-r,a)}function a5(t){const r=t(y7,b7),a=r.domain;let s=10,n,i;function o(){return n=YZ(s),i=GZ(s),a()[0]<0?(n=v7(n),i=v7(i),t(UZ,qZ)):t(y7,b7),r}return r.base=function(d){return arguments.length?(s=+d,o()):s},r.domain=function(d){return arguments.length?(a(d),o()):a()},r.ticks=d=>{const u=a();let m=u[0],f=u[u.length-1];const x=f<m;x&&([m,f]=[f,m]);let b=n(m),p=n(f),v,j;const w=d==null?10:+d;let N=[];if(!(s%1)&&p-b<w){if(b=Math.floor(b),p=Math.ceil(p),m>0){for(;b<=p;++b)for(v=1;v<s;++v)if(j=b<0?v/i(-b):v*i(b),!(j<m)){if(j>f)break;N.push(j)}}else for(;b<=p;++b)for(v=s-1;v>=1;--v)if(j=b>0?v/i(-b):v*i(b),!(j<m)){if(j>f)break;N.push(j)}N.length*2<w&&(N=Rj(m,f,w))}else N=Rj(b,p,Math.min(p-b,w)).map(i);return x?N.reverse():N},r.tickFormat=(d,u)=>{if(d==null&&(d=10),u==null&&(u=s===10?"s":","),typeof u!="function"&&(!(s%1)&&(u=Ex(u)).precision==null&&(u.trim=!0),u=r5(u)),d===1/0)return u;const m=Math.max(1,s*d/r.ticks().length);return f=>{let x=f/i(Math.round(n(f)));return x*s<s-.5&&(x*=s),x<=m?u(f):""}},r.nice=()=>a(YP(a(),{floor:d=>i(Math.floor(n(d))),ceil:d=>i(Math.ceil(n(d)))})),r}function VP(){const t=a5(Ey()).domain([1,10]);return t.copy=()=>Xx(t,VP()).base(t.base()),ml.apply(t,arguments),t}function j7(t){return function(r){return Math.sign(r)*Math.log1p(Math.abs(r/t))}}function N7(t){return function(r){return Math.sign(r)*Math.expm1(Math.abs(r))*t}}function s5(t){var r=1,a=t(j7(r),N7(r));return a.constant=function(s){return arguments.length?t(j7(r=+s),N7(r)):r},qd(a)}function KP(){var t=s5(Ey());return t.copy=function(){return Xx(t,KP()).constant(t.constant())},ml.apply(t,arguments)}function w7(t){return function(r){return r<0?-Math.pow(-r,t):Math.pow(r,t)}}function VZ(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function KZ(t){return t<0?-t*t:t*t}function n5(t){var r=t(Tn,Tn),a=1;function s(){return a===1?t(Tn,Tn):a===.5?t(VZ,KZ):t(w7(a),w7(1/a))}return r.exponent=function(n){return arguments.length?(a=+n,s()):a},qd(r)}function i5(){var t=n5(Ey());return t.copy=function(){return Xx(t,i5()).exponent(t.exponent())},ml.apply(t,arguments),t}function WZ(){return i5.apply(null,arguments).exponent(.5)}function S7(t){return Math.sign(t)*t*t}function XZ(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function WP(){var t=e5(),r=[0,1],a=!1,s;function n(i){var o=XZ(t(i));return isNaN(o)?s:a?Math.round(o):o}return n.invert=function(i){return t.invert(S7(i))},n.domain=function(i){return arguments.length?(t.domain(i),n):t.domain()},n.range=function(i){return arguments.length?(t.range((r=Array.from(i,Tg)).map(S7)),n):r.slice()},n.rangeRound=function(i){return n.range(i).round(!0)},n.round=function(i){return arguments.length?(a=!!i,n):a},n.clamp=function(i){return arguments.length?(t.clamp(i),n):t.clamp()},n.unknown=function(i){return arguments.length?(s=i,n):s},n.copy=function(){return WP(t.domain(),r).round(a).clamp(t.clamp()).unknown(s)},ml.apply(n,arguments),qd(n)}function XP(){var t=[],r=[],a=[],s;function n(){var o=0,d=Math.max(1,r.length);for(a=new Array(d-1);++o<d;)a[o-1]=eZ(t,o/d);return i}function i(o){return o==null||isNaN(o=+o)?s:r[Kx(a,o)]}return i.invertExtent=function(o){var d=r.indexOf(o);return d<0?[NaN,NaN]:[d>0?a[d-1]:t[0],d<a.length?a[d]:t[t.length-1]]},i.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let d of o)d!=null&&!isNaN(d=+d)&&t.push(d);return t.sort(Ed),n()},i.range=function(o){return arguments.length?(r=Array.from(o),n()):r.slice()},i.unknown=function(o){return arguments.length?(s=o,i):s},i.quantiles=function(){return a.slice()},i.copy=function(){return XP().domain(t).range(r).unknown(s)},ml.apply(i,arguments)}function JP(){var t=0,r=1,a=1,s=[.5],n=[0,1],i;function o(u){return u!=null&&u<=u?n[Kx(s,u,0,a)]:i}function d(){var u=-1;for(s=new Array(a);++u<a;)s[u]=((u+1)*r-(u-a)*t)/(a+1);return o}return o.domain=function(u){return arguments.length?([t,r]=u,t=+t,r=+r,d()):[t,r]},o.range=function(u){return arguments.length?(a=(n=Array.from(u)).length-1,d()):n.slice()},o.invertExtent=function(u){var m=n.indexOf(u);return m<0?[NaN,NaN]:m<1?[t,s[0]]:m>=a?[s[a-1],r]:[s[m-1],s[m]]},o.unknown=function(u){return arguments.length&&(i=u),o},o.thresholds=function(){return s.slice()},o.copy=function(){return JP().domain([t,r]).range(n).unknown(i)},ml.apply(qd(o),arguments)}function ZP(){var t=[.5],r=[0,1],a,s=1;function n(i){return i!=null&&i<=i?r[Kx(t,i,0,s)]:a}return n.domain=function(i){return arguments.length?(t=Array.from(i),s=Math.min(t.length,r.length-1),n):t.slice()},n.range=function(i){return arguments.length?(r=Array.from(i),s=Math.min(t.length,r.length-1),n):r.slice()},n.invertExtent=function(i){var o=r.indexOf(i);return[t[o-1],t[o]]},n.unknown=function(i){return arguments.length?(a=i,n):a},n.copy=function(){return ZP().domain(t).range(r).unknown(a)},ml.apply(n,arguments)}const t2=new Date,r2=new Date;function ws(t,r,a,s){function n(i){return t(i=arguments.length===0?new Date:new Date(+i)),i}return n.floor=i=>(t(i=new Date(+i)),i),n.ceil=i=>(t(i=new Date(i-1)),r(i,1),t(i),i),n.round=i=>{const o=n(i),d=n.ceil(i);return i-o<d-i?o:d},n.offset=(i,o)=>(r(i=new Date(+i),o==null?1:Math.floor(o)),i),n.range=(i,o,d)=>{const u=[];if(i=n.ceil(i),d=d==null?1:Math.floor(d),!(i<o)||!(d>0))return u;let m;do u.push(m=new Date(+i)),r(i,d),t(i);while(m<i&&i<o);return u},n.filter=i=>ws(o=>{if(o>=o)for(;t(o),!i(o);)o.setTime(o-1)},(o,d)=>{if(o>=o)if(d<0)for(;++d<=0;)for(;r(o,-1),!i(o););else for(;--d>=0;)for(;r(o,1),!i(o););}),a&&(n.count=(i,o)=>(t2.setTime(+i),r2.setTime(+o),t(t2),t(r2),Math.floor(a(t2,r2))),n.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?n.filter(s?o=>s(o)%i===0:o=>n.count(0,o)%i===0):n)),n}const Dg=ws(()=>{},(t,r)=>{t.setTime(+t+r)},(t,r)=>r-t);Dg.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?ws(r=>{r.setTime(Math.floor(r/t)*t)},(r,a)=>{r.setTime(+r+a*t)},(r,a)=>(a-r)/t):Dg);Dg.range;const uc=1e3,ol=uc*60,mc=ol*60,Nc=mc*24,l5=Nc*7,_7=Nc*30,a2=Nc*365,Ru=ws(t=>{t.setTime(t-t.getMilliseconds())},(t,r)=>{t.setTime(+t+r*uc)},(t,r)=>(r-t)/uc,t=>t.getUTCSeconds());Ru.range;const o5=ws(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*uc)},(t,r)=>{t.setTime(+t+r*ol)},(t,r)=>(r-t)/ol,t=>t.getMinutes());o5.range;const c5=ws(t=>{t.setUTCSeconds(0,0)},(t,r)=>{t.setTime(+t+r*ol)},(t,r)=>(r-t)/ol,t=>t.getUTCMinutes());c5.range;const d5=ws(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*uc-t.getMinutes()*ol)},(t,r)=>{t.setTime(+t+r*mc)},(t,r)=>(r-t)/mc,t=>t.getHours());d5.range;const u5=ws(t=>{t.setUTCMinutes(0,0,0)},(t,r)=>{t.setTime(+t+r*mc)},(t,r)=>(r-t)/mc,t=>t.getUTCHours());u5.range;const Jx=ws(t=>t.setHours(0,0,0,0),(t,r)=>t.setDate(t.getDate()+r),(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*ol)/Nc,t=>t.getDate()-1);Jx.range;const Py=ws(t=>{t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r)},(t,r)=>(r-t)/Nc,t=>t.getUTCDate()-1);Py.range;const QP=ws(t=>{t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r)},(t,r)=>(r-t)/Nc,t=>Math.floor(t/Nc));QP.range;function cm(t){return ws(r=>{r.setDate(r.getDate()-(r.getDay()+7-t)%7),r.setHours(0,0,0,0)},(r,a)=>{r.setDate(r.getDate()+a*7)},(r,a)=>(a-r-(a.getTimezoneOffset()-r.getTimezoneOffset())*ol)/l5)}const Ty=cm(0),Lg=cm(1),JZ=cm(2),ZZ=cm(3),Cf=cm(4),QZ=cm(5),eQ=cm(6);Ty.range;Lg.range;JZ.range;ZZ.range;Cf.range;QZ.range;eQ.range;function dm(t){return ws(r=>{r.setUTCDate(r.getUTCDate()-(r.getUTCDay()+7-t)%7),r.setUTCHours(0,0,0,0)},(r,a)=>{r.setUTCDate(r.getUTCDate()+a*7)},(r,a)=>(a-r)/l5)}const Oy=dm(0),Mg=dm(1),tQ=dm(2),rQ=dm(3),Ef=dm(4),aQ=dm(5),sQ=dm(6);Oy.range;Mg.range;tQ.range;rQ.range;Ef.range;aQ.range;sQ.range;const m5=ws(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,r)=>{t.setMonth(t.getMonth()+r)},(t,r)=>r.getMonth()-t.getMonth()+(r.getFullYear()-t.getFullYear())*12,t=>t.getMonth());m5.range;const f5=ws(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCMonth(t.getUTCMonth()+r)},(t,r)=>r.getUTCMonth()-t.getUTCMonth()+(r.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());f5.range;const wc=ws(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r)},(t,r)=>r.getFullYear()-t.getFullYear(),t=>t.getFullYear());wc.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ws(r=>{r.setFullYear(Math.floor(r.getFullYear()/t)*t),r.setMonth(0,1),r.setHours(0,0,0,0)},(r,a)=>{r.setFullYear(r.getFullYear()+a*t)});wc.range;const Sc=ws(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r)},(t,r)=>r.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Sc.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ws(r=>{r.setUTCFullYear(Math.floor(r.getUTCFullYear()/t)*t),r.setUTCMonth(0,1),r.setUTCHours(0,0,0,0)},(r,a)=>{r.setUTCFullYear(r.getUTCFullYear()+a*t)});Sc.range;function eT(t,r,a,s,n,i){const o=[[Ru,1,uc],[Ru,5,5*uc],[Ru,15,15*uc],[Ru,30,30*uc],[i,1,ol],[i,5,5*ol],[i,15,15*ol],[i,30,30*ol],[n,1,mc],[n,3,3*mc],[n,6,6*mc],[n,12,12*mc],[s,1,Nc],[s,2,2*Nc],[a,1,l5],[r,1,_7],[r,3,3*_7],[t,1,a2]];function d(m,f,x){const b=f<m;b&&([m,f]=[f,m]);const p=x&&typeof x.range=="function"?x:u(m,f,x),v=p?p.range(m,+f+1):[];return b?v.reverse():v}function u(m,f,x){const b=Math.abs(f-m)/x,p=KN(([,,w])=>w).right(o,b);if(p===o.length)return t.every(Ij(m/a2,f/a2,x));if(p===0)return Dg.every(Math.max(Ij(m,f,x),1));const[v,j]=o[b/o[p-1][2]<o[p][2]/b?p-1:p];return v.every(j)}return[d,u]}const[nQ,iQ]=eT(Sc,f5,Oy,QP,u5,c5),[lQ,oQ]=eT(wc,m5,Ty,Jx,d5,o5);function s2(t){if(0<=t.y&&t.y<100){var r=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return r.setFullYear(t.y),r}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function n2(t){if(0<=t.y&&t.y<100){var r=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return r.setUTCFullYear(t.y),r}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Xh(t,r,a){return{y:t,m:r,d:a,H:0,M:0,S:0,L:0}}function cQ(t){var r=t.dateTime,a=t.date,s=t.time,n=t.periods,i=t.days,o=t.shortDays,d=t.months,u=t.shortMonths,m=Jh(n),f=Zh(n),x=Jh(i),b=Zh(i),p=Jh(o),v=Zh(o),j=Jh(d),w=Zh(d),N=Jh(u),P=Zh(u),A={a:V,A:Z,b:X,B:J,c:null,d:T7,e:T7,f:OQ,g:UQ,G:HQ,H:EQ,I:PQ,j:TQ,L:tT,m:DQ,M:LQ,p:be,q:z,Q:L7,s:M7,S:MQ,u:RQ,U:$Q,V:IQ,w:FQ,W:BQ,x:null,X:null,y:zQ,Y:qQ,Z:GQ,"%":D7},D={a:re,A:G,b:Q,B:ve,c:null,d:O7,e:O7,f:WQ,g:nee,G:lee,H:YQ,I:VQ,j:KQ,L:aT,m:XQ,M:JQ,p:ye,q:ne,Q:L7,s:M7,S:ZQ,u:QQ,U:eee,V:tee,w:ree,W:aee,x:null,X:null,y:see,Y:iee,Z:oee,"%":D7},T={a:Y,A:$,b:M,B:F,c:K,d:E7,e:E7,f:_Q,g:C7,G:k7,H:P7,I:P7,j:jQ,L:SQ,m:vQ,M:NQ,p:k,q:bQ,Q:kQ,s:CQ,S:wQ,u:hQ,U:xQ,V:pQ,w:fQ,W:gQ,x:q,X:U,y:C7,Y:k7,Z:yQ,"%":AQ};A.x=R(a,A),A.X=R(s,A),A.c=R(r,A),D.x=R(a,D),D.X=R(s,D),D.c=R(r,D);function R(te,Ae){return function(we){var le=[],xe=-1,oe=0,me=te.length,tt,rt,it;for(we instanceof Date||(we=new Date(+we));++xe<me;)te.charCodeAt(xe)===37&&(le.push(te.slice(oe,xe)),(rt=A7[tt=te.charAt(++xe)])!=null?tt=te.charAt(++xe):rt=tt==="e"?" ":"0",(it=Ae[tt])&&(tt=it(we,rt)),le.push(tt),oe=xe+1);return le.push(te.slice(oe,xe)),le.join("")}}function E(te,Ae){return function(we){var le=Xh(1900,void 0,1),xe=O(le,te,we+="",0),oe,me;if(xe!=we.length)return null;if("Q"in le)return new Date(le.Q);if("s"in le)return new Date(le.s*1e3+("L"in le?le.L:0));if(Ae&&!("Z"in le)&&(le.Z=0),"p"in le&&(le.H=le.H%12+le.p*12),le.m===void 0&&(le.m="q"in le?le.q:0),"V"in le){if(le.V<1||le.V>53)return null;"w"in le||(le.w=1),"Z"in le?(oe=n2(Xh(le.y,0,1)),me=oe.getUTCDay(),oe=me>4||me===0?Mg.ceil(oe):Mg(oe),oe=Py.offset(oe,(le.V-1)*7),le.y=oe.getUTCFullYear(),le.m=oe.getUTCMonth(),le.d=oe.getUTCDate()+(le.w+6)%7):(oe=s2(Xh(le.y,0,1)),me=oe.getDay(),oe=me>4||me===0?Lg.ceil(oe):Lg(oe),oe=Jx.offset(oe,(le.V-1)*7),le.y=oe.getFullYear(),le.m=oe.getMonth(),le.d=oe.getDate()+(le.w+6)%7)}else("W"in le||"U"in le)&&("w"in le||(le.w="u"in le?le.u%7:"W"in le?1:0),me="Z"in le?n2(Xh(le.y,0,1)).getUTCDay():s2(Xh(le.y,0,1)).getDay(),le.m=0,le.d="W"in le?(le.w+6)%7+le.W*7-(me+5)%7:le.w+le.U*7-(me+6)%7);return"Z"in le?(le.H+=le.Z/100|0,le.M+=le.Z%100,n2(le)):s2(le)}}function O(te,Ae,we,le){for(var xe=0,oe=Ae.length,me=we.length,tt,rt;xe<oe;){if(le>=me)return-1;if(tt=Ae.charCodeAt(xe++),tt===37){if(tt=Ae.charAt(xe++),rt=T[tt in A7?Ae.charAt(xe++):tt],!rt||(le=rt(te,we,le))<0)return-1}else if(tt!=we.charCodeAt(le++))return-1}return le}function k(te,Ae,we){var le=m.exec(Ae.slice(we));return le?(te.p=f.get(le[0].toLowerCase()),we+le[0].length):-1}function Y(te,Ae,we){var le=p.exec(Ae.slice(we));return le?(te.w=v.get(le[0].toLowerCase()),we+le[0].length):-1}function $(te,Ae,we){var le=x.exec(Ae.slice(we));return le?(te.w=b.get(le[0].toLowerCase()),we+le[0].length):-1}function M(te,Ae,we){var le=N.exec(Ae.slice(we));return le?(te.m=P.get(le[0].toLowerCase()),we+le[0].length):-1}function F(te,Ae,we){var le=j.exec(Ae.slice(we));return le?(te.m=w.get(le[0].toLowerCase()),we+le[0].length):-1}function K(te,Ae,we){return O(te,r,Ae,we)}function q(te,Ae,we){return O(te,a,Ae,we)}function U(te,Ae,we){return O(te,s,Ae,we)}function V(te){return o[te.getDay()]}function Z(te){return i[te.getDay()]}function X(te){return u[te.getMonth()]}function J(te){return d[te.getMonth()]}function be(te){return n[+(te.getHours()>=12)]}function z(te){return 1+~~(te.getMonth()/3)}function re(te){return o[te.getUTCDay()]}function G(te){return i[te.getUTCDay()]}function Q(te){return u[te.getUTCMonth()]}function ve(te){return d[te.getUTCMonth()]}function ye(te){return n[+(te.getUTCHours()>=12)]}function ne(te){return 1+~~(te.getUTCMonth()/3)}return{format:function(te){var Ae=R(te+="",A);return Ae.toString=function(){return te},Ae},parse:function(te){var Ae=E(te+="",!1);return Ae.toString=function(){return te},Ae},utcFormat:function(te){var Ae=R(te+="",D);return Ae.toString=function(){return te},Ae},utcParse:function(te){var Ae=E(te+="",!0);return Ae.toString=function(){return te},Ae}}}var A7={"-":"",_:" ",0:"0"},Bs=/^\s*\d+/,dQ=/^%/,uQ=/[\\^$*+?|[\]().{}]/g;function Tr(t,r,a){var s=t<0?"-":"",n=(s?-t:t)+"",i=n.length;return s+(i<a?new Array(a-i+1).join(r)+n:n)}function mQ(t){return t.replace(uQ,"\\$&")}function Jh(t){return new RegExp("^(?:"+t.map(mQ).join("|")+")","i")}function Zh(t){return new Map(t.map((r,a)=>[r.toLowerCase(),a]))}function fQ(t,r,a){var s=Bs.exec(r.slice(a,a+1));return s?(t.w=+s[0],a+s[0].length):-1}function hQ(t,r,a){var s=Bs.exec(r.slice(a,a+1));return s?(t.u=+s[0],a+s[0].length):-1}function xQ(t,r,a){var s=Bs.exec(r.slice(a,a+2));return s?(t.U=+s[0],a+s[0].length):-1}function pQ(t,r,a){var s=Bs.exec(r.slice(a,a+2));return s?(t.V=+s[0],a+s[0].length):-1}function gQ(t,r,a){var s=Bs.exec(r.slice(a,a+2));return s?(t.W=+s[0],a+s[0].length):-1}function k7(t,r,a){var s=Bs.exec(r.slice(a,a+4));return s?(t.y=+s[0],a+s[0].length):-1}function C7(t,r,a){var s=Bs.exec(r.slice(a,a+2));return s?(t.y=+s[0]+(+s[0]>68?1900:2e3),a+s[0].length):-1}function yQ(t,r,a){var s=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(r.slice(a,a+6));return s?(t.Z=s[1]?0:-(s[2]+(s[3]||"00")),a+s[0].length):-1}function bQ(t,r,a){var s=Bs.exec(r.slice(a,a+1));return s?(t.q=s[0]*3-3,a+s[0].length):-1}function vQ(t,r,a){var s=Bs.exec(r.slice(a,a+2));return s?(t.m=s[0]-1,a+s[0].length):-1}function E7(t,r,a){var s=Bs.exec(r.slice(a,a+2));return s?(t.d=+s[0],a+s[0].length):-1}function jQ(t,r,a){var s=Bs.exec(r.slice(a,a+3));return s?(t.m=0,t.d=+s[0],a+s[0].length):-1}function P7(t,r,a){var s=Bs.exec(r.slice(a,a+2));return s?(t.H=+s[0],a+s[0].length):-1}function NQ(t,r,a){var s=Bs.exec(r.slice(a,a+2));return s?(t.M=+s[0],a+s[0].length):-1}function wQ(t,r,a){var s=Bs.exec(r.slice(a,a+2));return s?(t.S=+s[0],a+s[0].length):-1}function SQ(t,r,a){var s=Bs.exec(r.slice(a,a+3));return s?(t.L=+s[0],a+s[0].length):-1}function _Q(t,r,a){var s=Bs.exec(r.slice(a,a+6));return s?(t.L=Math.floor(s[0]/1e3),a+s[0].length):-1}function AQ(t,r,a){var s=dQ.exec(r.slice(a,a+1));return s?a+s[0].length:-1}function kQ(t,r,a){var s=Bs.exec(r.slice(a));return s?(t.Q=+s[0],a+s[0].length):-1}function CQ(t,r,a){var s=Bs.exec(r.slice(a));return s?(t.s=+s[0],a+s[0].length):-1}function T7(t,r){return Tr(t.getDate(),r,2)}function EQ(t,r){return Tr(t.getHours(),r,2)}function PQ(t,r){return Tr(t.getHours()%12||12,r,2)}function TQ(t,r){return Tr(1+Jx.count(wc(t),t),r,3)}function tT(t,r){return Tr(t.getMilliseconds(),r,3)}function OQ(t,r){return tT(t,r)+"000"}function DQ(t,r){return Tr(t.getMonth()+1,r,2)}function LQ(t,r){return Tr(t.getMinutes(),r,2)}function MQ(t,r){return Tr(t.getSeconds(),r,2)}function RQ(t){var r=t.getDay();return r===0?7:r}function $Q(t,r){return Tr(Ty.count(wc(t)-1,t),r,2)}function rT(t){var r=t.getDay();return r>=4||r===0?Cf(t):Cf.ceil(t)}function IQ(t,r){return t=rT(t),Tr(Cf.count(wc(t),t)+(wc(t).getDay()===4),r,2)}function FQ(t){return t.getDay()}function BQ(t,r){return Tr(Lg.count(wc(t)-1,t),r,2)}function zQ(t,r){return Tr(t.getFullYear()%100,r,2)}function UQ(t,r){return t=rT(t),Tr(t.getFullYear()%100,r,2)}function qQ(t,r){return Tr(t.getFullYear()%1e4,r,4)}function HQ(t,r){var a=t.getDay();return t=a>=4||a===0?Cf(t):Cf.ceil(t),Tr(t.getFullYear()%1e4,r,4)}function GQ(t){var r=t.getTimezoneOffset();return(r>0?"-":(r*=-1,"+"))+Tr(r/60|0,"0",2)+Tr(r%60,"0",2)}function O7(t,r){return Tr(t.getUTCDate(),r,2)}function YQ(t,r){return Tr(t.getUTCHours(),r,2)}function VQ(t,r){return Tr(t.getUTCHours()%12||12,r,2)}function KQ(t,r){return Tr(1+Py.count(Sc(t),t),r,3)}function aT(t,r){return Tr(t.getUTCMilliseconds(),r,3)}function WQ(t,r){return aT(t,r)+"000"}function XQ(t,r){return Tr(t.getUTCMonth()+1,r,2)}function JQ(t,r){return Tr(t.getUTCMinutes(),r,2)}function ZQ(t,r){return Tr(t.getUTCSeconds(),r,2)}function QQ(t){var r=t.getUTCDay();return r===0?7:r}function eee(t,r){return Tr(Oy.count(Sc(t)-1,t),r,2)}function sT(t){var r=t.getUTCDay();return r>=4||r===0?Ef(t):Ef.ceil(t)}function tee(t,r){return t=sT(t),Tr(Ef.count(Sc(t),t)+(Sc(t).getUTCDay()===4),r,2)}function ree(t){return t.getUTCDay()}function aee(t,r){return Tr(Mg.count(Sc(t)-1,t),r,2)}function see(t,r){return Tr(t.getUTCFullYear()%100,r,2)}function nee(t,r){return t=sT(t),Tr(t.getUTCFullYear()%100,r,2)}function iee(t,r){return Tr(t.getUTCFullYear()%1e4,r,4)}function lee(t,r){var a=t.getUTCDay();return t=a>=4||a===0?Ef(t):Ef.ceil(t),Tr(t.getUTCFullYear()%1e4,r,4)}function oee(){return"+0000"}function D7(){return"%"}function L7(t){return+t}function M7(t){return Math.floor(+t/1e3)}var ef,nT,iT;cee({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function cee(t){return ef=cQ(t),nT=ef.format,ef.parse,iT=ef.utcFormat,ef.utcParse,ef}function dee(t){return new Date(t)}function uee(t){return t instanceof Date?+t:+new Date(+t)}function h5(t,r,a,s,n,i,o,d,u,m){var f=e5(),x=f.invert,b=f.domain,p=m(".%L"),v=m(":%S"),j=m("%I:%M"),w=m("%I %p"),N=m("%a %d"),P=m("%b %d"),A=m("%B"),D=m("%Y");function T(R){return(u(R)<R?p:d(R)<R?v:o(R)<R?j:i(R)<R?w:s(R)<R?n(R)<R?N:P:a(R)<R?A:D)(R)}return f.invert=function(R){return new Date(x(R))},f.domain=function(R){return arguments.length?b(Array.from(R,uee)):b().map(dee)},f.ticks=function(R){var E=b();return t(E[0],E[E.length-1],R??10)},f.tickFormat=function(R,E){return E==null?T:m(E)},f.nice=function(R){var E=b();return(!R||typeof R.range!="function")&&(R=r(E[0],E[E.length-1],R??10)),R?b(YP(E,R)):f},f.copy=function(){return Xx(f,h5(t,r,a,s,n,i,o,d,u,m))},f}function mee(){return ml.apply(h5(lQ,oQ,wc,m5,Ty,Jx,d5,o5,Ru,nT).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function fee(){return ml.apply(h5(nQ,iQ,Sc,f5,Oy,Py,u5,c5,Ru,iT).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Dy(){var t=0,r=1,a,s,n,i,o=Tn,d=!1,u;function m(x){return x==null||isNaN(x=+x)?u:o(n===0?.5:(x=(i(x)-a)*n,d?Math.max(0,Math.min(1,x)):x))}m.domain=function(x){return arguments.length?([t,r]=x,a=i(t=+t),s=i(r=+r),n=a===s?0:1/(s-a),m):[t,r]},m.clamp=function(x){return arguments.length?(d=!!x,m):d},m.interpolator=function(x){return arguments.length?(o=x,m):o};function f(x){return function(b){var p,v;return arguments.length?([p,v]=b,o=x(p,v),m):[o(0),o(1)]}}return m.range=f(Bf),m.rangeRound=f(QN),m.unknown=function(x){return arguments.length?(u=x,m):u},function(x){return i=x,a=x(t),s=x(r),n=a===s?0:1/(s-a),m}}function Hd(t,r){return r.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function lT(){var t=qd(Dy()(Tn));return t.copy=function(){return Hd(t,lT())},Pc.apply(t,arguments)}function oT(){var t=a5(Dy()).domain([1,10]);return t.copy=function(){return Hd(t,oT()).base(t.base())},Pc.apply(t,arguments)}function cT(){var t=s5(Dy());return t.copy=function(){return Hd(t,cT()).constant(t.constant())},Pc.apply(t,arguments)}function x5(){var t=n5(Dy());return t.copy=function(){return Hd(t,x5()).exponent(t.exponent())},Pc.apply(t,arguments)}function hee(){return x5.apply(null,arguments).exponent(.5)}function dT(){var t=[],r=Tn;function a(s){if(s!=null&&!isNaN(s=+s))return r((Kx(t,s,1)-1)/(t.length-1))}return a.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let n of s)n!=null&&!isNaN(n=+n)&&t.push(n);return t.sort(Ed),a},a.interpolator=function(s){return arguments.length?(r=s,a):r},a.range=function(){return t.map((s,n)=>r(n/(t.length-1)))},a.quantiles=function(s){return Array.from({length:s+1},(n,i)=>QJ(t,i/s))},a.copy=function(){return dT(r).domain(t)},Pc.apply(a,arguments)}function Ly(){var t=0,r=.5,a=1,s=1,n,i,o,d,u,m=Tn,f,x=!1,b;function p(j){return isNaN(j=+j)?b:(j=.5+((j=+f(j))-i)*(s*j<s*i?d:u),m(x?Math.max(0,Math.min(1,j)):j))}p.domain=function(j){return arguments.length?([t,r,a]=j,n=f(t=+t),i=f(r=+r),o=f(a=+a),d=n===i?0:.5/(i-n),u=i===o?0:.5/(o-i),s=i<n?-1:1,p):[t,r,a]},p.clamp=function(j){return arguments.length?(x=!!j,p):x},p.interpolator=function(j){return arguments.length?(m=j,p):m};function v(j){return function(w){var N,P,A;return arguments.length?([N,P,A]=w,m=AZ(j,[N,P,A]),p):[m(0),m(.5),m(1)]}}return p.range=v(Bf),p.rangeRound=v(QN),p.unknown=function(j){return arguments.length?(b=j,p):b},function(j){return f=j,n=j(t),i=j(r),o=j(a),d=n===i?0:.5/(i-n),u=i===o?0:.5/(o-i),s=i<n?-1:1,p}}function uT(){var t=qd(Ly()(Tn));return t.copy=function(){return Hd(t,uT())},Pc.apply(t,arguments)}function mT(){var t=a5(Ly()).domain([.1,1,10]);return t.copy=function(){return Hd(t,mT()).base(t.base())},Pc.apply(t,arguments)}function fT(){var t=s5(Ly());return t.copy=function(){return Hd(t,fT()).constant(t.constant())},Pc.apply(t,arguments)}function p5(){var t=n5(Ly());return t.copy=function(){return Hd(t,p5()).exponent(t.exponent())},Pc.apply(t,arguments)}function xee(){return p5.apply(null,arguments).exponent(.5)}const ax=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:XN,scaleDiverging:uT,scaleDivergingLog:mT,scaleDivergingPow:p5,scaleDivergingSqrt:xee,scaleDivergingSymlog:fT,scaleIdentity:GP,scaleImplicit:Fj,scaleLinear:HP,scaleLog:VP,scaleOrdinal:WN,scalePoint:rZ,scalePow:i5,scaleQuantile:XP,scaleQuantize:JP,scaleRadial:WP,scaleSequential:lT,scaleSequentialLog:oT,scaleSequentialPow:x5,scaleSequentialQuantile:dT,scaleSequentialSqrt:hee,scaleSequentialSymlog:cT,scaleSqrt:WZ,scaleSymlog:KP,scaleThreshold:ZP,scaleTime:mee,scaleUtc:fee,tickFormat:qP},Symbol.toStringTag,{value:"Module"}));var Gd=t=>t.chartData,g5=ze([Gd],t=>{var r=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:r,dataStartIndex:0}}),My=(t,r,a,s)=>s?g5(t):Gd(t);function Pf(t){if(Array.isArray(t)&&t.length===2){var[r,a]=t;if(Ei(r)&&Ei(a))return!0}return!1}function R7(t,r,a){return a?t:[Math.min(t[0],r[0]),Math.max(t[1],r[1])]}function pee(t,r){if(r&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[a,s]=t,n,i;if(Ei(a))n=a;else if(typeof a=="function")return;if(Ei(s))i=s;else if(typeof s=="function")return;var o=[n,i];if(Pf(o))return o}}function gee(t,r,a){if(!(!a&&r==null)){if(typeof t=="function"&&r!=null)try{var s=t(r,a);if(Pf(s))return R7(s,r,a)}catch{}if(Array.isArray(t)&&t.length===2){var[n,i]=t,o,d;if(n==="auto")r!=null&&(o=Math.min(...r));else if(kt(n))o=n;else if(typeof n=="function")try{r!=null&&(o=n(r?.[0]))}catch{}else if(typeof n=="string"&&C8.test(n)){var u=C8.exec(n);if(u==null||r==null)o=void 0;else{var m=+u[1];o=r[0]-m}}else o=r?.[0];if(i==="auto")r!=null&&(d=Math.max(...r));else if(kt(i))d=i;else if(typeof i=="function")try{r!=null&&(d=i(r?.[1]))}catch{}else if(typeof i=="string"&&E8.test(i)){var f=E8.exec(i);if(f==null||r==null)d=void 0;else{var x=+f[1];d=r[1]+x}}else d=r?.[1];var b=[o,d];if(Pf(b))return r==null?b:R7(b,r,a)}}}var zf=1e9,yee={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},b5,Aa=!0,ul="[DecimalError] ",Gu=ul+"Invalid argument: ",y5=ul+"Exponent out of range: ",Uf=Math.floor,Pu=Math.pow,bee=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Si,Ms=1e7,ma=7,hT=9007199254740991,Rg=Uf(hT/ma),mt={};mt.absoluteValue=mt.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};mt.comparedTo=mt.cmp=function(t){var r,a,s,n,i=this;if(t=new i.constructor(t),i.s!==t.s)return i.s||-t.s;if(i.e!==t.e)return i.e>t.e^i.s<0?1:-1;for(s=i.d.length,n=t.d.length,r=0,a=s<n?s:n;r<a;++r)if(i.d[r]!==t.d[r])return i.d[r]>t.d[r]^i.s<0?1:-1;return s===n?0:s>n^i.s<0?1:-1};mt.decimalPlaces=mt.dp=function(){var t=this,r=t.d.length-1,a=(r-t.e)*ma;if(r=t.d[r],r)for(;r%10==0;r/=10)a--;return a<0?0:a};mt.dividedBy=mt.div=function(t){return hc(this,new this.constructor(t))};mt.dividedToIntegerBy=mt.idiv=function(t){var r=this,a=r.constructor;return ra(hc(r,new a(t),0,1),a.precision)};mt.equals=mt.eq=function(t){return!this.cmp(t)};mt.exponent=function(){return us(this)};mt.greaterThan=mt.gt=function(t){return this.cmp(t)>0};mt.greaterThanOrEqualTo=mt.gte=function(t){return this.cmp(t)>=0};mt.isInteger=mt.isint=function(){return this.e>this.d.length-2};mt.isNegative=mt.isneg=function(){return this.s<0};mt.isPositive=mt.ispos=function(){return this.s>0};mt.isZero=function(){return this.s===0};mt.lessThan=mt.lt=function(t){return this.cmp(t)<0};mt.lessThanOrEqualTo=mt.lte=function(t){return this.cmp(t)<1};mt.logarithm=mt.log=function(t){var r,a=this,s=a.constructor,n=s.precision,i=n+5;if(t===void 0)t=new s(10);else if(t=new s(t),t.s<1||t.eq(Si))throw Error(ul+"NaN");if(a.s<1)throw Error(ul+(a.s?"NaN":"-Infinity"));return a.eq(Si)?new s(0):(Aa=!1,r=hc(Px(a,i),Px(t,i),i),Aa=!0,ra(r,n))};mt.minus=mt.sub=function(t){var r=this;return t=new r.constructor(t),r.s==t.s?gT(r,t):xT(r,(t.s=-t.s,t))};mt.modulo=mt.mod=function(t){var r,a=this,s=a.constructor,n=s.precision;if(t=new s(t),!t.s)throw Error(ul+"NaN");return a.s?(Aa=!1,r=hc(a,t,0,1).times(t),Aa=!0,a.minus(r)):ra(new s(a),n)};mt.naturalExponential=mt.exp=function(){return pT(this)};mt.naturalLogarithm=mt.ln=function(){return Px(this)};mt.negated=mt.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};mt.plus=mt.add=function(t){var r=this;return t=new r.constructor(t),r.s==t.s?xT(r,t):gT(r,(t.s=-t.s,t))};mt.precision=mt.sd=function(t){var r,a,s,n=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Gu+t);if(r=us(n)+1,s=n.d.length-1,a=s*ma+1,s=n.d[s],s){for(;s%10==0;s/=10)a--;for(s=n.d[0];s>=10;s/=10)a++}return t&&r>a?r:a};mt.squareRoot=mt.sqrt=function(){var t,r,a,s,n,i,o,d=this,u=d.constructor;if(d.s<1){if(!d.s)return new u(0);throw Error(ul+"NaN")}for(t=us(d),Aa=!1,n=Math.sqrt(+d),n==0||n==1/0?(r=wo(d.d),(r.length+t)%2==0&&(r+="0"),n=Math.sqrt(r),t=Uf((t+1)/2)-(t<0||t%2),n==1/0?r="5e"+t:(r=n.toExponential(),r=r.slice(0,r.indexOf("e")+1)+t),s=new u(r)):s=new u(n.toString()),a=u.precision,n=o=a+3;;)if(i=s,s=i.plus(hc(d,i,o+2)).times(.5),wo(i.d).slice(0,o)===(r=wo(s.d)).slice(0,o)){if(r=r.slice(o-3,o+1),n==o&&r=="4999"){if(ra(i,a+1,0),i.times(i).eq(d)){s=i;break}}else if(r!="9999")break;o+=4}return Aa=!0,ra(s,a)};mt.times=mt.mul=function(t){var r,a,s,n,i,o,d,u,m,f=this,x=f.constructor,b=f.d,p=(t=new x(t)).d;if(!f.s||!t.s)return new x(0);for(t.s*=f.s,a=f.e+t.e,u=b.length,m=p.length,u<m&&(i=b,b=p,p=i,o=u,u=m,m=o),i=[],o=u+m,s=o;s--;)i.push(0);for(s=m;--s>=0;){for(r=0,n=u+s;n>s;)d=i[n]+p[s]*b[n-s-1]+r,i[n--]=d%Ms|0,r=d/Ms|0;i[n]=(i[n]+r)%Ms|0}for(;!i[--o];)i.pop();return r?++a:i.shift(),t.d=i,t.e=a,Aa?ra(t,x.precision):t};mt.toDecimalPlaces=mt.todp=function(t,r){var a=this,s=a.constructor;return a=new s(a),t===void 0?a:(Co(t,0,zf),r===void 0?r=s.rounding:Co(r,0,8),ra(a,t+us(a)+1,r))};mt.toExponential=function(t,r){var a,s=this,n=s.constructor;return t===void 0?a=sm(s,!0):(Co(t,0,zf),r===void 0?r=n.rounding:Co(r,0,8),s=ra(new n(s),t+1,r),a=sm(s,!0,t+1)),a};mt.toFixed=function(t,r){var a,s,n=this,i=n.constructor;return t===void 0?sm(n):(Co(t,0,zf),r===void 0?r=i.rounding:Co(r,0,8),s=ra(new i(n),t+us(n)+1,r),a=sm(s.abs(),!1,t+us(s)+1),n.isneg()&&!n.isZero()?"-"+a:a)};mt.toInteger=mt.toint=function(){var t=this,r=t.constructor;return ra(new r(t),us(t)+1,r.rounding)};mt.toNumber=function(){return+this};mt.toPower=mt.pow=function(t){var r,a,s,n,i,o,d=this,u=d.constructor,m=12,f=+(t=new u(t));if(!t.s)return new u(Si);if(d=new u(d),!d.s){if(t.s<1)throw Error(ul+"Infinity");return d}if(d.eq(Si))return d;if(s=u.precision,t.eq(Si))return ra(d,s);if(r=t.e,a=t.d.length-1,o=r>=a,i=d.s,o){if((a=f<0?-f:f)<=hT){for(n=new u(Si),r=Math.ceil(s/ma+4),Aa=!1;a%2&&(n=n.times(d),I7(n.d,r)),a=Uf(a/2),a!==0;)d=d.times(d),I7(d.d,r);return Aa=!0,t.s<0?new u(Si).div(n):ra(n,s)}}else if(i<0)throw Error(ul+"NaN");return i=i<0&&t.d[Math.max(r,a)]&1?-1:1,d.s=1,Aa=!1,n=t.times(Px(d,s+m)),Aa=!0,n=pT(n),n.s=i,n};mt.toPrecision=function(t,r){var a,s,n=this,i=n.constructor;return t===void 0?(a=us(n),s=sm(n,a<=i.toExpNeg||a>=i.toExpPos)):(Co(t,1,zf),r===void 0?r=i.rounding:Co(r,0,8),n=ra(new i(n),t,r),a=us(n),s=sm(n,t<=a||a<=i.toExpNeg,t)),s};mt.toSignificantDigits=mt.tosd=function(t,r){var a=this,s=a.constructor;return t===void 0?(t=s.precision,r=s.rounding):(Co(t,1,zf),r===void 0?r=s.rounding:Co(r,0,8)),ra(new s(a),t,r)};mt.toString=mt.valueOf=mt.val=mt.toJSON=mt[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,r=us(t),a=t.constructor;return sm(t,r<=a.toExpNeg||r>=a.toExpPos)};function xT(t,r){var a,s,n,i,o,d,u,m,f=t.constructor,x=f.precision;if(!t.s||!r.s)return r.s||(r=new f(t)),Aa?ra(r,x):r;if(u=t.d,m=r.d,o=t.e,n=r.e,u=u.slice(),i=o-n,i){for(i<0?(s=u,i=-i,d=m.length):(s=m,n=o,d=u.length),o=Math.ceil(x/ma),d=o>d?o+1:d+1,i>d&&(i=d,s.length=1),s.reverse();i--;)s.push(0);s.reverse()}for(d=u.length,i=m.length,d-i<0&&(i=d,s=m,m=u,u=s),a=0;i;)a=(u[--i]=u[i]+m[i]+a)/Ms|0,u[i]%=Ms;for(a&&(u.unshift(a),++n),d=u.length;u[--d]==0;)u.pop();return r.d=u,r.e=n,Aa?ra(r,x):r}function Co(t,r,a){if(t!==~~t||t<r||t>a)throw Error(Gu+t)}function wo(t){var r,a,s,n=t.length-1,i="",o=t[0];if(n>0){for(i+=o,r=1;r<n;r++)s=t[r]+"",a=ma-s.length,a&&(i+=wd(a)),i+=s;o=t[r],s=o+"",a=ma-s.length,a&&(i+=wd(a))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var hc=function(){function t(s,n){var i,o=0,d=s.length;for(s=s.slice();d--;)i=s[d]*n+o,s[d]=i%Ms|0,o=i/Ms|0;return o&&s.unshift(o),s}function r(s,n,i,o){var d,u;if(i!=o)u=i>o?1:-1;else for(d=u=0;d<i;d++)if(s[d]!=n[d]){u=s[d]>n[d]?1:-1;break}return u}function a(s,n,i){for(var o=0;i--;)s[i]-=o,o=s[i]<n[i]?1:0,s[i]=o*Ms+s[i]-n[i];for(;!s[0]&&s.length>1;)s.shift()}return function(s,n,i,o){var d,u,m,f,x,b,p,v,j,w,N,P,A,D,T,R,E,O,k=s.constructor,Y=s.s==n.s?1:-1,$=s.d,M=n.d;if(!s.s)return new k(s);if(!n.s)throw Error(ul+"Division by zero");for(u=s.e-n.e,E=M.length,T=$.length,p=new k(Y),v=p.d=[],m=0;M[m]==($[m]||0);)++m;if(M[m]>($[m]||0)&&--u,i==null?P=i=k.precision:o?P=i+(us(s)-us(n))+1:P=i,P<0)return new k(0);if(P=P/ma+2|0,m=0,E==1)for(f=0,M=M[0],P++;(m<T||f)&&P--;m++)A=f*Ms+($[m]||0),v[m]=A/M|0,f=A%M|0;else{for(f=Ms/(M[0]+1)|0,f>1&&(M=t(M,f),$=t($,f),E=M.length,T=$.length),D=E,j=$.slice(0,E),w=j.length;w<E;)j[w++]=0;O=M.slice(),O.unshift(0),R=M[0],M[1]>=Ms/2&&++R;do f=0,d=r(M,j,E,w),d<0?(N=j[0],E!=w&&(N=N*Ms+(j[1]||0)),f=N/R|0,f>1?(f>=Ms&&(f=Ms-1),x=t(M,f),b=x.length,w=j.length,d=r(x,j,b,w),d==1&&(f--,a(x,E<b?O:M,b))):(f==0&&(d=f=1),x=M.slice()),b=x.length,b<w&&x.unshift(0),a(j,x,w),d==-1&&(w=j.length,d=r(M,j,E,w),d<1&&(f++,a(j,E<w?O:M,w))),w=j.length):d===0&&(f++,j=[0]),v[m++]=f,d&&j[0]?j[w++]=$[D]||0:(j=[$[D]],w=1);while((D++<T||j[0]!==void 0)&&P--)}return v[0]||v.shift(),p.e=u,ra(p,o?i+us(p)+1:i)}}();function pT(t,r){var a,s,n,i,o,d,u=0,m=0,f=t.constructor,x=f.precision;if(us(t)>16)throw Error(y5+us(t));if(!t.s)return new f(Si);for(Aa=!1,d=x,o=new f(.03125);t.abs().gte(.1);)t=t.times(o),m+=5;for(s=Math.log(Pu(2,m))/Math.LN10*2+5|0,d+=s,a=n=i=new f(Si),f.precision=d;;){if(n=ra(n.times(t),d),a=a.times(++u),o=i.plus(hc(n,a,d)),wo(o.d).slice(0,d)===wo(i.d).slice(0,d)){for(;m--;)i=ra(i.times(i),d);return f.precision=x,r==null?(Aa=!0,ra(i,x)):i}i=o}}function us(t){for(var r=t.e*ma,a=t.d[0];a>=10;a/=10)r++;return r}function i2(t,r,a){if(r>t.LN10.sd())throw Aa=!0,a&&(t.precision=a),Error(ul+"LN10 precision limit exceeded");return ra(new t(t.LN10),r)}function wd(t){for(var r="";t--;)r+="0";return r}function Px(t,r){var a,s,n,i,o,d,u,m,f,x=1,b=10,p=t,v=p.d,j=p.constructor,w=j.precision;if(p.s<1)throw Error(ul+(p.s?"NaN":"-Infinity"));if(p.eq(Si))return new j(0);if(r==null?(Aa=!1,m=w):m=r,p.eq(10))return r==null&&(Aa=!0),i2(j,m);if(m+=b,j.precision=m,a=wo(v),s=a.charAt(0),i=us(p),Math.abs(i)<15e14){for(;s<7&&s!=1||s==1&&a.charAt(1)>3;)p=p.times(t),a=wo(p.d),s=a.charAt(0),x++;i=us(p),s>1?(p=new j("0."+a),i++):p=new j(s+"."+a.slice(1))}else return u=i2(j,m+2,w).times(i+""),p=Px(new j(s+"."+a.slice(1)),m-b).plus(u),j.precision=w,r==null?(Aa=!0,ra(p,w)):p;for(d=o=p=hc(p.minus(Si),p.plus(Si),m),f=ra(p.times(p),m),n=3;;){if(o=ra(o.times(f),m),u=d.plus(hc(o,new j(n),m)),wo(u.d).slice(0,m)===wo(d.d).slice(0,m))return d=d.times(2),i!==0&&(d=d.plus(i2(j,m+2,w).times(i+""))),d=hc(d,new j(x),m),j.precision=w,r==null?(Aa=!0,ra(d,w)):d;d=u,n+=2}}function $7(t,r){var a,s,n;for((a=r.indexOf("."))>-1&&(r=r.replace(".","")),(s=r.search(/e/i))>0?(a<0&&(a=s),a+=+r.slice(s+1),r=r.substring(0,s)):a<0&&(a=r.length),s=0;r.charCodeAt(s)===48;)++s;for(n=r.length;r.charCodeAt(n-1)===48;)--n;if(r=r.slice(s,n),r){if(n-=s,a=a-s-1,t.e=Uf(a/ma),t.d=[],s=(a+1)%ma,a<0&&(s+=ma),s<n){for(s&&t.d.push(+r.slice(0,s)),n-=ma;s<n;)t.d.push(+r.slice(s,s+=ma));r=r.slice(s),s=ma-r.length}else s-=n;for(;s--;)r+="0";if(t.d.push(+r),Aa&&(t.e>Rg||t.e<-Rg))throw Error(y5+a)}else t.s=0,t.e=0,t.d=[0];return t}function ra(t,r,a){var s,n,i,o,d,u,m,f,x=t.d;for(o=1,i=x[0];i>=10;i/=10)o++;if(s=r-o,s<0)s+=ma,n=r,m=x[f=0];else{if(f=Math.ceil((s+1)/ma),i=x.length,f>=i)return t;for(m=i=x[f],o=1;i>=10;i/=10)o++;s%=ma,n=s-ma+o}if(a!==void 0&&(i=Pu(10,o-n-1),d=m/i%10|0,u=r<0||x[f+1]!==void 0||m%i,u=a<4?(d||u)&&(a==0||a==(t.s<0?3:2)):d>5||d==5&&(a==4||u||a==6&&(s>0?n>0?m/Pu(10,o-n):0:x[f-1])%10&1||a==(t.s<0?8:7))),r<1||!x[0])return u?(i=us(t),x.length=1,r=r-i-1,x[0]=Pu(10,(ma-r%ma)%ma),t.e=Uf(-r/ma)||0):(x.length=1,x[0]=t.e=t.s=0),t;if(s==0?(x.length=f,i=1,f--):(x.length=f+1,i=Pu(10,ma-s),x[f]=n>0?(m/Pu(10,o-n)%Pu(10,n)|0)*i:0),u)for(;;)if(f==0){(x[0]+=i)==Ms&&(x[0]=1,++t.e);break}else{if(x[f]+=i,x[f]!=Ms)break;x[f--]=0,i=1}for(s=x.length;x[--s]===0;)x.pop();if(Aa&&(t.e>Rg||t.e<-Rg))throw Error(y5+us(t));return t}function gT(t,r){var a,s,n,i,o,d,u,m,f,x,b=t.constructor,p=b.precision;if(!t.s||!r.s)return r.s?r.s=-r.s:r=new b(t),Aa?ra(r,p):r;if(u=t.d,x=r.d,s=r.e,m=t.e,u=u.slice(),o=m-s,o){for(f=o<0,f?(a=u,o=-o,d=x.length):(a=x,s=m,d=u.length),n=Math.max(Math.ceil(p/ma),d)+2,o>n&&(o=n,a.length=1),a.reverse(),n=o;n--;)a.push(0);a.reverse()}else{for(n=u.length,d=x.length,f=n<d,f&&(d=n),n=0;n<d;n++)if(u[n]!=x[n]){f=u[n]<x[n];break}o=0}for(f&&(a=u,u=x,x=a,r.s=-r.s),d=u.length,n=x.length-d;n>0;--n)u[d++]=0;for(n=x.length;n>o;){if(u[--n]<x[n]){for(i=n;i&&u[--i]===0;)u[i]=Ms-1;--u[i],u[n]+=Ms}u[n]-=x[n]}for(;u[--d]===0;)u.pop();for(;u[0]===0;u.shift())--s;return u[0]?(r.d=u,r.e=s,Aa?ra(r,p):r):new b(0)}function sm(t,r,a){var s,n=us(t),i=wo(t.d),o=i.length;return r?(a&&(s=a-o)>0?i=i.charAt(0)+"."+i.slice(1)+wd(s):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(n<0?"e":"e+")+n):n<0?(i="0."+wd(-n-1)+i,a&&(s=a-o)>0&&(i+=wd(s))):n>=o?(i+=wd(n+1-o),a&&(s=a-n-1)>0&&(i=i+"."+wd(s))):((s=n+1)<o&&(i=i.slice(0,s)+"."+i.slice(s)),a&&(s=a-o)>0&&(n+1===o&&(i+="."),i+=wd(s))),t.s<0?"-"+i:i}function I7(t,r){if(t.length>r)return t.length=r,!0}function yT(t){var r,a,s;function n(i){var o=this;if(!(o instanceof n))return new n(i);if(o.constructor=n,i instanceof n){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Gu+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return $7(o,i.toString())}else if(typeof i!="string")throw Error(Gu+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,bee.test(i))$7(o,i);else throw Error(Gu+i)}if(n.prototype=mt,n.ROUND_UP=0,n.ROUND_DOWN=1,n.ROUND_CEIL=2,n.ROUND_FLOOR=3,n.ROUND_HALF_UP=4,n.ROUND_HALF_DOWN=5,n.ROUND_HALF_EVEN=6,n.ROUND_HALF_CEIL=7,n.ROUND_HALF_FLOOR=8,n.clone=yT,n.config=n.set=vee,t===void 0&&(t={}),t)for(s=["precision","rounding","toExpNeg","toExpPos","LN10"],r=0;r<s.length;)t.hasOwnProperty(a=s[r++])||(t[a]=this[a]);return n.config(t),n}function vee(t){if(!t||typeof t!="object")throw Error(ul+"Object expected");var r,a,s,n=["precision",1,zf,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(r=0;r<n.length;r+=3)if((s=t[a=n[r]])!==void 0)if(Uf(s)===s&&s>=n[r+1]&&s<=n[r+2])this[a]=s;else throw Error(Gu+a+": "+s);if((s=t[a="LN10"])!==void 0)if(s==Math.LN10)this[a]=new this(s);else throw Error(Gu+a+": "+s);return this}var b5=yT(yee);Si=new b5(1);const Hr=b5;var jee=t=>t,bT={},vT=t=>t===bT,F7=t=>function r(){return arguments.length===0||arguments.length===1&&vT(arguments.length<=0?void 0:arguments[0])?r:t(...arguments)},jT=(t,r)=>t===1?r:F7(function(){for(var a=arguments.length,s=new Array(a),n=0;n<a;n++)s[n]=arguments[n];var i=s.filter(o=>o!==bT).length;return i>=t?r(...s):jT(t-i,F7(function(){for(var o=arguments.length,d=new Array(o),u=0;u<o;u++)d[u]=arguments[u];var m=s.map(f=>vT(f)?d.shift():f);return r(...m,...d)}))}),Ry=t=>jT(t.length,t),qj=(t,r)=>{for(var a=[],s=t;s<r;++s)a[s-t]=s;return a},Nee=Ry((t,r)=>Array.isArray(r)?r.map(t):Object.keys(r).map(a=>r[a]).map(t)),wee=function(){for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];if(!a.length)return jee;var n=a.reverse(),i=n[0],o=n.slice(1);return function(){return o.reduce((d,u)=>u(d),i(...arguments))}},Hj=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join(""),NT=t=>{var r=null,a=null;return function(){for(var s=arguments.length,n=new Array(s),i=0;i<s;i++)n[i]=arguments[i];return r&&n.every((o,d)=>{var u;return o===((u=r)===null||u===void 0?void 0:u[d])})||(r=n,a=t(...n)),a}};function wT(t){var r;return t===0?r=1:r=Math.floor(new Hr(t).abs().log(10).toNumber())+1,r}function ST(t,r,a){for(var s=new Hr(t),n=0,i=[];s.lt(r)&&n<1e5;)i.push(s.toNumber()),s=s.add(a),n++;return i}Ry((t,r,a)=>{var s=+t,n=+r;return s+a*(n-s)});Ry((t,r,a)=>{var s=r-+t;return s=s||1/0,(a-t)/s});Ry((t,r,a)=>{var s=r-+t;return s=s||1/0,Math.max(0,Math.min(1,(a-t)/s))});var _T=t=>{var[r,a]=t,[s,n]=[r,a];return r>a&&([s,n]=[a,r]),[s,n]},AT=(t,r,a)=>{if(t.lte(0))return new Hr(0);var s=wT(t.toNumber()),n=new Hr(10).pow(s),i=t.div(n),o=s!==1?.05:.1,d=new Hr(Math.ceil(i.div(o).toNumber())).add(a).mul(o),u=d.mul(n);return r?new Hr(u.toNumber()):new Hr(Math.ceil(u.toNumber()))},See=(t,r,a)=>{var s=new Hr(1),n=new Hr(t);if(!n.isint()&&a){var i=Math.abs(t);i<1?(s=new Hr(10).pow(wT(t)-1),n=new Hr(Math.floor(n.div(s).toNumber())).mul(s)):i>1&&(n=new Hr(Math.floor(t)))}else t===0?n=new Hr(Math.floor((r-1)/2)):a||(n=new Hr(Math.floor(t)));var o=Math.floor((r-1)/2),d=wee(Nee(u=>n.add(new Hr(u-o).mul(s)).toNumber()),qj);return d(0,r)},kT=function(r,a,s,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((a-r)/(s-1)))return{step:new Hr(0),tickMin:new Hr(0),tickMax:new Hr(0)};var o=AT(new Hr(a).sub(r).div(s-1),n,i),d;r<=0&&a>=0?d=new Hr(0):(d=new Hr(r).add(a).div(2),d=d.sub(new Hr(d).mod(o)));var u=Math.ceil(d.sub(r).div(o).toNumber()),m=Math.ceil(new Hr(a).sub(d).div(o).toNumber()),f=u+m+1;return f>s?kT(r,a,s,n,i+1):(f<s&&(m=a>0?m+(s-f):m,u=a>0?u:u+(s-f)),{step:o,tickMin:d.sub(new Hr(u).mul(o)),tickMax:d.add(new Hr(m).mul(o))})};function _ee(t){var[r,a]=t,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(s,2),[o,d]=_T([r,a]);if(o===-1/0||d===1/0){var u=d===1/0?[o,...qj(0,s-1).map(()=>1/0)]:[...qj(0,s-1).map(()=>-1/0),d];return r>a?Hj(u):u}if(o===d)return See(o,s,n);var{step:m,tickMin:f,tickMax:x}=kT(o,d,i,n,0),b=ST(f,x.add(new Hr(.1).mul(m)),m);return r>a?Hj(b):b}function Aee(t,r){var[a,s]=t,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[i,o]=_T([a,s]);if(i===-1/0||o===1/0)return[a,s];if(i===o)return[i];var d=Math.max(r,2),u=AT(new Hr(o).sub(i).div(d-1),n,0),m=[...ST(new Hr(i),new Hr(o),u),o];return n===!1&&(m=m.map(f=>Math.round(f))),a>s?Hj(m):m}var kee=NT(_ee),Cee=NT(Aee),CT=t=>t.rootProps.maxBarSize,Eee=t=>t.rootProps.barGap,ET=t=>t.rootProps.barCategoryGap,Pee=t=>t.rootProps.barSize,Zx=t=>t.rootProps.stackOffset,v5=t=>t.options.chartName,j5=t=>t.rootProps.syncId,PT=t=>t.rootProps.syncMethod,N5=t=>t.options.eventEmitter,cc={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Ni={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},$y=(t,r)=>{if(!(!t||!r))return t!=null&&t.reversed?[r[1],r[0]]:r},Tee={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:cc.angleAxisId,includeHidden:!1,name:void 0,reversed:cc.reversed,scale:cc.scale,tick:cc.tick,tickCount:void 0,ticks:void 0,type:cc.type,unit:void 0},Oee={allowDataOverflow:Ni.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Ni.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ni.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ni.scale,tick:Ni.tick,tickCount:Ni.tickCount,ticks:void 0,type:Ni.type,unit:void 0},Dee={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:cc.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:cc.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:cc.scale,tick:cc.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Lee={allowDataOverflow:Ni.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Ni.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ni.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ni.scale,tick:Ni.tick,tickCount:Ni.tickCount,ticks:void 0,type:"category",unit:void 0},w5=(t,r)=>t.polarAxis.angleAxis[r]!=null?t.polarAxis.angleAxis[r]:t.layout.layoutType==="radial"?Dee:Tee,S5=(t,r)=>t.polarAxis.radiusAxis[r]!=null?t.polarAxis.radiusAxis[r]:t.layout.layoutType==="radial"?Lee:Oee,Iy=t=>t.polarOptions,_5=ze([Cc,Ec,Ns],uP),TT=ze([Iy,_5],(t,r)=>{if(t!=null)return pn(t.innerRadius,r,0)}),OT=ze([Iy,_5],(t,r)=>{if(t!=null)return pn(t.outerRadius,r,r*.8)}),Mee=t=>{if(t==null)return[0,0];var{startAngle:r,endAngle:a}=t;return[r,a]},DT=ze([Iy],Mee);ze([w5,DT],$y);var LT=ze([_5,TT,OT],(t,r,a)=>{if(!(t==null||r==null||a==null))return[r,a]});ze([S5,LT],$y);var MT=ze([wr,Iy,TT,OT,Cc,Ec],(t,r,a,s,n,i)=>{if(!(t!=="centric"&&t!=="radial"||r==null||a==null||s==null)){var{cx:o,cy:d,startAngle:u,endAngle:m}=r;return{cx:pn(o,n,n/2),cy:pn(d,i,i/2),innerRadius:a,outerRadius:s,startAngle:u,endAngle:m,clockWise:!1}}}),Ca=(t,r)=>r,Qx=(t,r,a)=>a;function A5(t){return t?.id}var Ss=t=>{var r=wr(t);return r==="horizontal"?"xAxis":r==="vertical"?"yAxis":r==="centric"?"angleAxis":"radiusAxis"},qf=t=>t.tooltip.settings.axisId,zs=t=>{var r=Ss(t),a=qf(t);return e0(t,r,a)},RT=ze([zs],t=>t?.dataKey);function $T(t,r,a){var{chartData:s=[]}=r,{allowDuplicatedCategory:n,dataKey:i}=a,o=new Map;return t.forEach(d=>{var u,m=(u=d.data)!==null&&u!==void 0?u:s;if(!(m==null||m.length===0)){var f=A5(d);m.forEach((x,b)=>{var p=i==null||n?b:String(ta(x,i,null)),v=ta(x,d.dataKey,0),j;o.has(p)?j=o.get(p):j={},Object.assign(j,{[f]:v}),o.set(p,j)})}}),Array.from(o.values())}function Fy(t){return t.stackId!=null&&t.dataKey!=null}function B7(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,s)}return a}function $g(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?B7(Object(a),!0).forEach(function(s){Ree(t,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):B7(Object(a)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(a,s))})}return t}function Ree(t,r,a){return(r=$ee(r))in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function $ee(t){var r=Iee(t,"string");return typeof r=="symbol"?r:r+""}function Iee(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var Gj=[0,"auto"],vi={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},IT=(t,r)=>t.cartesianAxis.xAxis[r],Yd=(t,r)=>{var a=IT(t,r);return a??vi},ji={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Gj,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Gx},FT=(t,r)=>t.cartesianAxis.yAxis[r],Vd=(t,r)=>{var a=FT(t,r);return a??ji},Fee={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},k5=(t,r)=>{var a=t.cartesianAxis.zAxis[r];return a??Fee},as=(t,r,a)=>{switch(r){case"xAxis":return Yd(t,a);case"yAxis":return Vd(t,a);case"zAxis":return k5(t,a);case"angleAxis":return w5(t,a);case"radiusAxis":return S5(t,a);default:throw new Error("Unexpected axis type: ".concat(r))}},Bee=(t,r,a)=>{switch(r){case"xAxis":return Yd(t,a);case"yAxis":return Vd(t,a);default:throw new Error("Unexpected axis type: ".concat(r))}},e0=(t,r,a)=>{switch(r){case"xAxis":return Yd(t,a);case"yAxis":return Vd(t,a);case"angleAxis":return w5(t,a);case"radiusAxis":return S5(t,a);default:throw new Error("Unexpected axis type: ".concat(r))}},BT=t=>t.graphicalItems.cartesianItems.some(r=>r.type==="bar")||t.graphicalItems.polarItems.some(r=>r.type==="radialBar");function C5(t,r){return a=>{switch(t){case"xAxis":return"xAxisId"in a&&a.xAxisId===r;case"yAxis":return"yAxisId"in a&&a.yAxisId===r;case"zAxis":return"zAxisId"in a&&a.zAxisId===r;case"angleAxis":return"angleAxisId"in a&&a.angleAxisId===r;case"radiusAxis":return"radiusAxisId"in a&&a.radiusAxisId===r;default:return!1}}}var By=t=>t.graphicalItems.cartesianItems,zee=ze([Ca,Qx],C5),E5=(t,r,a)=>t.filter(a).filter(s=>r?.includeHidden===!0?!0:!s.hide),t0=ze([By,as,zee],E5),zT=ze([t0],t=>t.filter(r=>r.type==="area"||r.type==="bar").filter(Fy)),UT=t=>t.filter(r=>!("stackId"in r)||r.stackId===void 0),qT=ze([t0],UT),P5=t=>t.map(r=>r.data).filter(Boolean).flat(1),Uee=ze([t0],P5),T5=(t,r)=>{var{chartData:a=[],dataStartIndex:s,dataEndIndex:n}=r;return t.length>0?t:a.slice(s,n+1)},O5=ze([Uee,My],T5),D5=(t,r,a)=>r?.dataKey!=null?t.map(s=>({value:ta(s,r.dataKey)})):a.length>0?a.map(s=>s.dataKey).flatMap(s=>t.map(n=>({value:ta(n,s)}))):t.map(s=>({value:s})),zy=ze([O5,as,t0],D5);function HT(t,r){switch(t){case"xAxis":return r.direction==="x";case"yAxis":return r.direction==="y";default:return!1}}function um(t){return t.filter(r=>ko(r)||r instanceof Date).map(Number).filter(r=>ki(r)===!1)}function qee(t,r,a){return!a||typeof r!="number"||ki(r)?[]:a.length?um(a.flatMap(s=>{var n=ta(t,s.dataKey),i,o;if(Array.isArray(n)?[i,o]=n:i=o=n,!(!Ei(i)||!Ei(o)))return[r-i,r+o]})):[]}var Hee=ze([zT,My,zs],$T),GT=(t,r,a)=>{var s={},n=r.reduce((i,o)=>(o.stackId==null||(i[o.stackId]==null&&(i[o.stackId]=[]),i[o.stackId].push(o)),i),s);return Object.fromEntries(Object.entries(n).map(i=>{var[o,d]=i,u=d.map(A5);return[o,{stackedData:lX(t,u,a),graphicalItems:d}]}))},Yj=ze([Hee,zT,Zx],GT),YT=(t,r,a)=>{var{dataStartIndex:s,dataEndIndex:n}=r;if(a!=="zAxis"){var i=mX(t,s,n);if(!(i!=null&&i[0]===0&&i[1]===0))return i}},Gee=ze([Yj,Gd,Ca],YT),VT=(t,r,a,s,n)=>a.length>0?t.flatMap(i=>a.flatMap(o=>{var d,u,m=(d=s[o.id])===null||d===void 0?void 0:d.filter(x=>HT(n,x)),f=ta(i,(u=r.dataKey)!==null&&u!==void 0?u:o.dataKey);return{value:f,errorDomain:qee(i,f,m)}})).filter(Boolean):r?.dataKey!=null?t.map(i=>({value:ta(i,r.dataKey),errorDomain:[]})):t.map(i=>({value:i,errorDomain:[]})),Uy=t=>t.errorBars,KT=(t,r,a)=>t.flatMap(s=>r[s.id]).filter(Boolean).filter(s=>HT(a,s));ze([qT,Uy,Ca],KT);var Yee=ze([O5,as,qT,Uy,Ca],VT);function Vee(t){var{value:r}=t;if(ko(r)||r instanceof Date)return r}var z7=t=>{var r=t.flatMap(s=>[s.value,s.errorDomain]).flat(1),a=um(r);if(a.length!==0)return[Math.min(...a),Math.max(...a)]},Kee=(t,r,a)=>{var s=t.map(Vee).filter(n=>n!=null);return a&&(r.dataKey==null||r.allowDuplicatedCategory&&nE(s))?DP(0,t.length):r.allowDuplicatedCategory?s:Array.from(new Set(s))},L5=t=>{var r;if(t==null||!("domain"in t))return Gj;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var a=um(t.ticks);return[Math.min(...a),Math.max(...a)]}if(t.type==="category")return t.ticks.map(String)}return(r=t?.domain)!==null&&r!==void 0?r:Gj},Ig=function(){for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];var n=a.filter(Boolean);if(n.length!==0){var i=n.flat(),o=Math.min(...i),d=Math.max(...i);return[o,d]}},WT=t=>t.referenceElements.dots,Hf=(t,r,a)=>t.filter(s=>s.ifOverflow==="extendDomain").filter(s=>r==="xAxis"?s.xAxisId===a:s.yAxisId===a),Wee=ze([WT,Ca,Qx],Hf),XT=t=>t.referenceElements.areas,Xee=ze([XT,Ca,Qx],Hf),JT=t=>t.referenceElements.lines,Jee=ze([JT,Ca,Qx],Hf),ZT=(t,r)=>{var a=um(t.map(s=>r==="xAxis"?s.x:s.y));if(a.length!==0)return[Math.min(...a),Math.max(...a)]},Zee=ze(Wee,Ca,ZT),QT=(t,r)=>{var a=um(t.flatMap(s=>[r==="xAxis"?s.x1:s.y1,r==="xAxis"?s.x2:s.y2]));if(a.length!==0)return[Math.min(...a),Math.max(...a)]},Qee=ze([Xee,Ca],QT),eO=(t,r)=>{var a=um(t.map(s=>r==="xAxis"?s.x:s.y));if(a.length!==0)return[Math.min(...a),Math.max(...a)]},ete=ze(Jee,Ca,eO),tte=ze(Zee,ete,Qee,(t,r,a)=>Ig(t,a,r)),tO=ze([as],L5),M5=(t,r,a,s,n,i,o)=>{var d=pee(r,t.allowDataOverflow);if(d!=null)return d;var u=i==="vertical"&&o==="xAxis"||i==="horizontal"&&o==="yAxis",m=u?Ig(a,n,z7(s)):Ig(n,z7(s));return gee(r,m,t.allowDataOverflow)},rte=ze([as,tO,Gee,Yee,tte,wr,Ca],M5),ate=[0,1],R5=(t,r,a,s,n,i,o)=>{if(!((t==null||a==null||a.length===0)&&o===void 0)){var{dataKey:d,type:u}=t,m=Ud(r,i);return m&&d==null?DP(0,a.length):u==="category"?Kee(s,t,m):n==="expand"?ate:o}},$5=ze([as,wr,O5,zy,Zx,Ca,rte],R5),rO=(t,r,a,s,n)=>{if(t!=null){var{scale:i,type:o}=t;if(i==="auto")return r==="radial"&&n==="radiusAxis"?"band":r==="radial"&&n==="angleAxis"?"linear":o==="category"&&s&&(s.indexOf("LineChart")>=0||s.indexOf("AreaChart")>=0||s.indexOf("ComposedChart")>=0&&!a)?"point":o==="category"?"band":"linear";if(typeof i=="string"){var d="scale".concat(Ux(i));return d in ax?d:"point"}}},Gf=ze([as,wr,BT,v5,Ca],rO);function ste(t){if(t!=null){if(t in ax)return ax[t]();var r="scale".concat(Ux(t));if(r in ax)return ax[r]()}}function I5(t,r,a,s){if(!(a==null||s==null)){if(typeof t.scale=="function")return t.scale.copy().domain(a).range(s);var n=ste(r);if(n!=null){var i=n.domain(a).range(s);return rX(i),i}}}var F5=(t,r,a)=>{var s=L5(r);if(!(a!=="auto"&&a!=="linear")){if(r!=null&&r.tickCount&&Array.isArray(s)&&(s[0]==="auto"||s[1]==="auto")&&Pf(t))return kee(t,r.tickCount,r.allowDecimals);if(r!=null&&r.tickCount&&r.type==="number"&&Pf(t))return Cee(t,r.tickCount,r.allowDecimals)}},B5=ze([$5,e0,Gf],F5),z5=(t,r,a,s)=>{if(s!=="angleAxis"&&t?.type==="number"&&Pf(r)&&Array.isArray(a)&&a.length>0){var n=r[0],i=a[0],o=r[1],d=a[a.length-1];return[Math.min(n,i),Math.max(o,d)]}return r},nte=ze([as,$5,B5,Ca],z5),ite=ze(zy,as,(t,r)=>{if(!(!r||r.type!=="number")){var a=1/0,s=Array.from(um(t.map(d=>d.value))).sort((d,u)=>d-u);if(s.length<2)return 1/0;var n=s[s.length-1]-s[0];if(n===0)return 1/0;for(var i=0;i<s.length-1;i++){var o=s[i+1]-s[i];a=Math.min(a,o)}return a/n}}),aO=ze(ite,wr,ET,Ns,(t,r,a,s)=>s,(t,r,a,s,n)=>{if(!Ei(t))return 0;var i=r==="vertical"?s.height:s.width;if(n==="gap")return t*i/2;if(n==="no-gap"){var o=pn(a,t*i),d=t*i/2;return d-o-(d-o)/i*o}return 0}),lte=(t,r)=>{var a=Yd(t,r);return a==null||typeof a.padding!="string"?0:aO(t,"xAxis",r,a.padding)},ote=(t,r)=>{var a=Vd(t,r);return a==null||typeof a.padding!="string"?0:aO(t,"yAxis",r,a.padding)},cte=ze(Yd,lte,(t,r)=>{var a,s;if(t==null)return{left:0,right:0};var{padding:n}=t;return typeof n=="string"?{left:r,right:r}:{left:((a=n.left)!==null&&a!==void 0?a:0)+r,right:((s=n.right)!==null&&s!==void 0?s:0)+r}}),dte=ze(Vd,ote,(t,r)=>{var a,s;if(t==null)return{top:0,bottom:0};var{padding:n}=t;return typeof n=="string"?{top:r,bottom:r}:{top:((a=n.top)!==null&&a!==void 0?a:0)+r,bottom:((s=n.bottom)!==null&&s!==void 0?s:0)+r}}),ute=ze([Ns,cte,ky,Ay,(t,r,a)=>a],(t,r,a,s,n)=>{var{padding:i}=s;return n?[i.left,a.width-i.right]:[t.left+r.left,t.left+t.width-r.right]}),mte=ze([Ns,wr,dte,ky,Ay,(t,r,a)=>a],(t,r,a,s,n,i)=>{var{padding:o}=n;return i?[s.height-o.bottom,o.top]:r==="horizontal"?[t.top+t.height-a.bottom,t.top+a.top]:[t.top+a.top,t.top+t.height-a.bottom]}),r0=(t,r,a,s)=>{var n;switch(r){case"xAxis":return ute(t,a,s);case"yAxis":return mte(t,a,s);case"zAxis":return(n=k5(t,a))===null||n===void 0?void 0:n.range;case"angleAxis":return DT(t);case"radiusAxis":return LT(t,a);default:return}},sO=ze([as,r0],$y),Yf=ze([as,Gf,nte,sO],I5);ze([t0,Uy,Ca],KT);function nO(t,r){return t.id<r.id?-1:t.id>r.id?1:0}var qy=(t,r)=>r,Hy=(t,r,a)=>a,fte=ze(Sy,qy,Hy,(t,r,a)=>t.filter(s=>s.orientation===r).filter(s=>s.mirror===a).sort(nO)),hte=ze(_y,qy,Hy,(t,r,a)=>t.filter(s=>s.orientation===r).filter(s=>s.mirror===a).sort(nO)),iO=(t,r)=>({width:t.width,height:r.height}),xte=(t,r)=>{var a=typeof r.width=="number"?r.width:Gx;return{width:a,height:t.height}},lO=ze(Ns,Yd,iO),pte=(t,r,a)=>{switch(r){case"top":return t.top;case"bottom":return a-t.bottom;default:return 0}},gte=(t,r,a)=>{switch(r){case"left":return t.left;case"right":return a-t.right;default:return 0}},yte=ze(Ec,Ns,fte,qy,Hy,(t,r,a,s,n)=>{var i={},o;return a.forEach(d=>{var u=iO(r,d);o==null&&(o=pte(r,s,t));var m=s==="top"&&!n||s==="bottom"&&n;i[d.id]=o-Number(m)*u.height,o+=(m?-1:1)*u.height}),i}),bte=ze(Cc,Ns,hte,qy,Hy,(t,r,a,s,n)=>{var i={},o;return a.forEach(d=>{var u=xte(r,d);o==null&&(o=gte(r,s,t));var m=s==="left"&&!n||s==="right"&&n;i[d.id]=o-Number(m)*u.width,o+=(m?-1:1)*u.width}),i}),vte=(t,r)=>{var a=Ns(t),s=Yd(t,r);if(s!=null){var n=yte(t,s.orientation,s.mirror),i=n[r];return i==null?{x:a.left,y:0}:{x:a.left,y:i}}},jte=(t,r)=>{var a=Ns(t),s=Vd(t,r);if(s!=null){var n=bte(t,s.orientation,s.mirror),i=n[r];return i==null?{x:0,y:a.top}:{x:i,y:a.top}}},oO=ze(Ns,Vd,(t,r)=>{var a=typeof r.width=="number"?r.width:Gx;return{width:a,height:t.height}}),U7=(t,r,a)=>{switch(r){case"xAxis":return lO(t,a).width;case"yAxis":return oO(t,a).height;default:return}},cO=(t,r,a,s)=>{if(a!=null){var{allowDuplicatedCategory:n,type:i,dataKey:o}=a,d=Ud(t,s),u=r.map(m=>m.value);if(o&&d&&i==="category"&&n&&nE(u))return u}},U5=ze([wr,zy,as,Ca],cO),dO=(t,r,a,s)=>{if(!(a==null||a.dataKey==null)){var{type:n,scale:i}=a,o=Ud(t,s);if(o&&(n==="number"||i!=="auto"))return r.map(d=>d.value)}},q5=ze([wr,zy,e0,Ca],dO),q7=ze([wr,Bee,Gf,Yf,U5,q5,r0,B5,Ca],(t,r,a,s,n,i,o,d,u)=>{if(r==null)return null;var m=Ud(t,u);return{angle:r.angle,interval:r.interval,minTickGap:r.minTickGap,orientation:r.orientation,tick:r.tick,tickCount:r.tickCount,tickFormatter:r.tickFormatter,ticks:r.ticks,type:r.type,unit:r.unit,axisType:u,categoricalDomain:i,duplicateDomain:n,isCategorical:m,niceTicks:d,range:o,realScaleType:a,scale:s}}),Nte=(t,r,a,s,n,i,o,d,u)=>{if(!(r==null||s==null)){var m=Ud(t,u),{type:f,ticks:x,tickCount:b}=r,p=a==="scaleBand"&&typeof s.bandwidth=="function"?s.bandwidth()/2:2,v=f==="category"&&s.bandwidth?s.bandwidth()/p:0;v=u==="angleAxis"&&i!=null&&i.length>=2?$s(i[0]-i[1])*2*v:v;var j=x||n;if(j){var w=j.map((N,P)=>{var A=o?o.indexOf(N):N;return{index:P,coordinate:s(A)+v,value:N,offset:v}});return w.filter(N=>!ki(N.coordinate))}return m&&d?d.map((N,P)=>({coordinate:s(N)+v,value:N,index:P,offset:v})):s.ticks?s.ticks(b).map(N=>({coordinate:s(N)+v,value:N,offset:v})):s.domain().map((N,P)=>({coordinate:s(N)+v,value:o?o[N]:N,index:P,offset:v}))}},uO=ze([wr,e0,Gf,Yf,B5,r0,U5,q5,Ca],Nte),wte=(t,r,a,s,n,i,o)=>{if(!(r==null||a==null||s==null||s[0]===s[1])){var d=Ud(t,o),{tickCount:u}=r,m=0;return m=o==="angleAxis"&&s?.length>=2?$s(s[0]-s[1])*2*m:m,d&&i?i.map((f,x)=>({coordinate:a(f)+m,value:f,index:x,offset:m})):a.ticks?a.ticks(u).map(f=>({coordinate:a(f)+m,value:f,offset:m})):a.domain().map((f,x)=>({coordinate:a(f)+m,value:n?n[f]:f,index:x,offset:m}))}},Rd=ze([wr,e0,Yf,r0,U5,q5,Ca],wte),$d=ze(as,Yf,(t,r)=>{if(!(t==null||r==null))return $g($g({},t),{},{scale:r})}),Ste=ze([as,Gf,$5,sO],I5);ze((t,r,a)=>k5(t,a),Ste,(t,r)=>{if(!(t==null||r==null))return $g($g({},t),{},{scale:r})});var _te=ze([wr,Sy,_y],(t,r,a)=>{switch(t){case"horizontal":return r.some(s=>s.reversed)?"right-to-left":"left-to-right";case"vertical":return a.some(s=>s.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),mO=t=>t.options.defaultTooltipEventType,fO=t=>t.options.validateTooltipEventTypes;function hO(t,r,a){if(t==null)return r;var s=t?"axis":"item";return a==null?r:a.includes(s)?s:r}function H5(t,r){var a=mO(t),s=fO(t);return hO(r,a,s)}function Ate(t){return jt(r=>H5(r,t))}var xO=(t,r)=>{var a,s=Number(r);if(!(ki(s)||r==null))return s>=0?t==null||(a=t[s])===null||a===void 0?void 0:a.value:void 0},kte=t=>t.tooltip.settings,_d={active:!1,index:null,dataKey:void 0,coordinate:void 0},Cte={itemInteraction:{click:_d,hover:_d},axisInteraction:{click:_d,hover:_d},keyboardInteraction:_d,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},pO=Ti({name:"tooltip",initialState:Cte,reducers:{addTooltipEntrySettings(t,r){t.tooltipItemPayloads.push(r.payload)},removeTooltipEntrySettings(t,r){var a=fc(t).tooltipItemPayloads.indexOf(r.payload);a>-1&&t.tooltipItemPayloads.splice(a,1)},setTooltipSettingsState(t,r){t.settings=r.payload},setActiveMouseOverItemIndex(t,r){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=r.payload.activeIndex,t.itemInteraction.hover.dataKey=r.payload.activeDataKey,t.itemInteraction.hover.coordinate=r.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,r){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=r.payload.activeIndex,t.itemInteraction.click.dataKey=r.payload.activeDataKey,t.itemInteraction.click.coordinate=r.payload.activeCoordinate},setMouseOverAxisIndex(t,r){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=r.payload.activeIndex,t.axisInteraction.hover.dataKey=r.payload.activeDataKey,t.axisInteraction.hover.coordinate=r.payload.activeCoordinate},setMouseClickAxisIndex(t,r){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=r.payload.activeIndex,t.axisInteraction.click.dataKey=r.payload.activeDataKey,t.axisInteraction.click.coordinate=r.payload.activeCoordinate},setSyncInteraction(t,r){t.syncInteraction=r.payload},setKeyboardInteraction(t,r){t.keyboardInteraction.active=r.payload.active,t.keyboardInteraction.index=r.payload.activeIndex,t.keyboardInteraction.coordinate=r.payload.activeCoordinate,t.keyboardInteraction.dataKey=r.payload.activeDataKey}}}),{addTooltipEntrySettings:Ete,removeTooltipEntrySettings:Pte,setTooltipSettingsState:Tte,setActiveMouseOverItemIndex:gO,mouseLeaveItem:Ote,mouseLeaveChart:yO,setActiveClickItemIndex:Dte,setMouseOverAxisIndex:bO,setMouseClickAxisIndex:Lte,setSyncInteraction:Vj,setKeyboardInteraction:Kj}=pO.actions,Mte=pO.reducer;function H7(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,s)}return a}function Pp(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?H7(Object(a),!0).forEach(function(s){Rte(t,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):H7(Object(a)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(a,s))})}return t}function Rte(t,r,a){return(r=$te(r))in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function $te(t){var r=Ite(t,"string");return typeof r=="symbol"?r:r+""}function Ite(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function Fte(t,r,a){return r==="axis"?a==="click"?t.axisInteraction.click:t.axisInteraction.hover:a==="click"?t.itemInteraction.click:t.itemInteraction.hover}function Bte(t){return t.index!=null}var vO=(t,r,a,s)=>{if(r==null)return _d;var n=Fte(t,r,a);if(n==null)return _d;if(n.active)return n;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var i=t.settings.active===!0;if(Bte(n)){if(i)return Pp(Pp({},n),{},{active:!0})}else if(s!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:s};return Pp(Pp({},_d),{},{coordinate:n.coordinate})},G5=(t,r)=>{var a=t?.index;if(a==null)return null;var s=Number(a);if(!Ei(s))return a;var n=0,i=1/0;return r.length>0&&(i=r.length-1),String(Math.max(n,Math.min(s,i)))},jO=(t,r,a,s,n,i,o,d)=>{if(!(i==null||d==null)){var u=o[0],m=u==null?void 0:d(u.positions,i);if(m!=null)return m;var f=n?.[Number(i)];if(f)switch(a){case"horizontal":return{x:f.coordinate,y:(s.top+r)/2};default:return{x:(s.left+t)/2,y:f.coordinate}}}},NO=(t,r,a,s)=>{if(r==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var n;return a==="hover"?n=t.itemInteraction.hover.dataKey:n=t.itemInteraction.click.dataKey,n==null&&s!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(i=>{var o;return((o=i.settings)===null||o===void 0?void 0:o.dataKey)===n})},a0=t=>t.options.tooltipPayloadSearcher,Vf=t=>t.tooltip;function G7(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,s)}return a}function Y7(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?G7(Object(a),!0).forEach(function(s){zte(t,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):G7(Object(a)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(a,s))})}return t}function zte(t,r,a){return(r=Ute(r))in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function Ute(t){var r=qte(t,"string");return typeof r=="symbol"?r:r+""}function qte(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function Hte(t,r){return t??r}var wO=(t,r,a,s,n,i,o)=>{if(!(r==null||i==null)){var{chartData:d,computedData:u,dataStartIndex:m,dataEndIndex:f}=a,x=[];return t.reduce((b,p)=>{var v,{dataDefinedOnItem:j,settings:w}=p,N=Hte(j,d),P=Array.isArray(N)?mP(N,m,f):N,A=(v=w?.dataKey)!==null&&v!==void 0?v:s,D=w?.nameKey,T;if(s&&Array.isArray(P)&&!Array.isArray(P[0])&&o==="axis"?T=iE(P,s,n):T=i(P,r,u,D),Array.isArray(T))T.forEach(E=>{var O=Y7(Y7({},w),{},{name:E.name,unit:E.unit,color:void 0,fill:void 0});b.push(P8({tooltipEntrySettings:O,dataKey:E.dataKey,payload:E.payload,value:ta(E.payload,E.dataKey),name:E.name}))});else{var R;b.push(P8({tooltipEntrySettings:w,dataKey:A,payload:T,value:ta(T,A),name:(R=ta(T,D))!==null&&R!==void 0?R:w?.name}))}return b},x)}},Y5=ze([zs,wr,BT,v5,Ss],rO),Gte=ze([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,r)=>[...t,...r]),Yte=ze([Ss,qf],C5),s0=ze([Gte,zs,Yte],E5),Vte=ze([s0],t=>t.filter(Fy)),Kte=ze([s0],P5),Kf=ze([Kte,Gd],T5),Wte=ze([Vte,Gd,zs],$T),V5=ze([Kf,zs,s0],D5),Xte=ze([zs],L5),Jte=ze([s0],t=>t.filter(Fy)),Zte=ze([Wte,Jte,Zx],GT),Qte=ze([Zte,Gd,Ss],YT),ere=ze([s0],UT),tre=ze([Kf,zs,ere,Uy,Ss],VT),rre=ze([WT,Ss,qf],Hf),are=ze([rre,Ss],ZT),sre=ze([XT,Ss,qf],Hf),nre=ze([sre,Ss],QT),ire=ze([JT,Ss,qf],Hf),lre=ze([ire,Ss],eO),ore=ze([are,lre,nre],Ig),cre=ze([zs,Xte,Qte,tre,ore,wr,Ss],M5),SO=ze([zs,wr,Kf,V5,Zx,Ss,cre],R5),dre=ze([SO,zs,Y5],F5),ure=ze([zs,SO,dre,Ss],z5),_O=t=>{var r=Ss(t),a=qf(t),s=!1;return r0(t,r,a,s)},AO=ze([zs,_O],$y),kO=ze([zs,Y5,ure,AO],I5),mre=ze([wr,V5,zs,Ss],cO),fre=ze([wr,V5,zs,Ss],dO),hre=(t,r,a,s,n,i,o,d)=>{if(r){var{type:u}=r,m=Ud(t,d);if(s){var f=a==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,x=u==="category"&&s.bandwidth?s.bandwidth()/f:0;return x=d==="angleAxis"&&n!=null&&n?.length>=2?$s(n[0]-n[1])*2*x:x,m&&o?o.map((b,p)=>({coordinate:s(b)+x,value:b,index:p,offset:x})):s.domain().map((b,p)=>({coordinate:s(b)+x,value:i?i[b]:b,index:p,offset:x}))}}},Tc=ze([wr,zs,Y5,kO,_O,mre,fre,Ss],hre),K5=ze([mO,fO,kte],(t,r,a)=>hO(a.shared,t,r)),CO=t=>t.tooltip.settings.trigger,W5=t=>t.tooltip.settings.defaultIndex,Gy=ze([Vf,K5,CO,W5],vO),Id=ze([Gy,Kf],G5),EO=ze([Tc,Id],xO),PO=ze([Gy],t=>{if(t)return t.dataKey}),TO=ze([Vf,K5,CO,W5],NO),xre=ze([Cc,Ec,wr,Ns,Tc,W5,TO,a0],jO),pre=ze([Gy,xre],(t,r)=>t!=null&&t.coordinate?t.coordinate:r),gre=ze([Gy],t=>t.active),yre=ze([TO,Id,Gd,RT,EO,a0,K5],wO),bre=ze([yre],t=>{if(t!=null){var r=t.map(a=>a.payload).filter(a=>a!=null);return Array.from(new Set(r))}});function V7(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,s)}return a}function K7(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?V7(Object(a),!0).forEach(function(s){vre(t,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):V7(Object(a)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(a,s))})}return t}function vre(t,r,a){return(r=jre(r))in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function jre(t){var r=Nre(t,"string");return typeof r=="symbol"?r:r+""}function Nre(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var wre=()=>jt(zs),Sre=()=>{var t=wre(),r=jt(Tc),a=jt(kO);return Sx(K7(K7({},t),{},{scale:a}),r)},_re=()=>jt(v5),X5=(t,r)=>r,OO=(t,r,a)=>a,J5=(t,r,a,s)=>s,Are=ze(Tc,t=>yy(t,r=>r.coordinate)),Z5=ze([Vf,X5,OO,J5],vO),DO=ze([Z5,Kf],G5),kre=(t,r,a)=>{if(r!=null){var s=Vf(t);return r==="axis"?a==="hover"?s.axisInteraction.hover.dataKey:s.axisInteraction.click.dataKey:a==="hover"?s.itemInteraction.hover.dataKey:s.itemInteraction.click.dataKey}},LO=ze([Vf,X5,OO,J5],NO),Fg=ze([Cc,Ec,wr,Ns,Tc,J5,LO,a0],jO),Cre=ze([Z5,Fg],(t,r)=>{var a;return(a=t.coordinate)!==null&&a!==void 0?a:r}),MO=ze(Tc,DO,xO),Ere=ze([LO,DO,Gd,RT,MO,a0,X5],wO),Pre=ze([Z5],t=>({isActive:t.active,activeIndex:t.index})),Tre=(t,r,a,s,n,i,o,d)=>{if(!(!t||!r||!s||!n||!i)){var u=fX(t.chartX,t.chartY,r,a,d);if(u){var m=xX(u,r),f=eX(m,o,i,s,n),x=hX(r,i,f,u);return{activeIndex:String(f),activeCoordinate:x}}}};function Wj(){return Wj=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var s in a)({}).hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},Wj.apply(null,arguments)}function W7(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,s)}return a}function Tp(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?W7(Object(a),!0).forEach(function(s){Ore(t,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):W7(Object(a)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(a,s))})}return t}function Ore(t,r,a){return(r=Dre(r))in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function Dre(t){var r=Lre(t,"string");return typeof r=="symbol"?r:r+""}function Lre(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function Mre(t){var{coordinate:r,payload:a,index:s,offset:n,tooltipAxisBandSize:i,layout:o,cursor:d,tooltipEventType:u,chartName:m}=t,f=r,x=a,b=s;if(!d||!f||m!=="ScatterChart"&&u!=="axis")return null;var p,v;if(m==="ScatterChart")p=f,v=rJ;else if(m==="BarChart")p=aJ(o,f,n,i),v=EP;else if(o==="radial"){var{cx:j,cy:w,radius:N,startAngle:P,endAngle:A}=PP(f);p={cx:j,cy:w,startAngle:P,endAngle:A,innerRadius:N,outerRadius:N},v=OP}else p={points:RJ(o,f,n)},v=VN;var D=typeof d=="object"&&"className"in d?d.className:void 0,T=Tp(Tp(Tp(Tp({stroke:"#ccc",pointerEvents:"none"},n),p),_a(d,!1)),{},{payload:x,payloadIndex:b,className:Dr("recharts-tooltip-cursor",D)});return g.isValidElement(d)?g.cloneElement(d,T):g.createElement(v,T)}function Rre(t){var r=Sre(),a=yP(),s=Cy(),n=_re();return g.createElement(Mre,Wj({},t,{coordinate:t.coordinate,index:t.index,payload:t.payload,offset:a,layout:s,tooltipAxisBandSize:r,chartName:n}))}var RO=g.createContext(null),$re=()=>g.useContext(RO),l2={exports:{}},X7;function Ire(){return X7||(X7=1,function(t){var r=Object.prototype.hasOwnProperty,a="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(a=!1));function n(u,m,f){this.fn=u,this.context=m,this.once=f||!1}function i(u,m,f,x,b){if(typeof f!="function")throw new TypeError("The listener must be a function");var p=new n(f,x||u,b),v=a?a+m:m;return u._events[v]?u._events[v].fn?u._events[v]=[u._events[v],p]:u._events[v].push(p):(u._events[v]=p,u._eventsCount++),u}function o(u,m){--u._eventsCount===0?u._events=new s:delete u._events[m]}function d(){this._events=new s,this._eventsCount=0}d.prototype.eventNames=function(){var m=[],f,x;if(this._eventsCount===0)return m;for(x in f=this._events)r.call(f,x)&&m.push(a?x.slice(1):x);return Object.getOwnPropertySymbols?m.concat(Object.getOwnPropertySymbols(f)):m},d.prototype.listeners=function(m){var f=a?a+m:m,x=this._events[f];if(!x)return[];if(x.fn)return[x.fn];for(var b=0,p=x.length,v=new Array(p);b<p;b++)v[b]=x[b].fn;return v},d.prototype.listenerCount=function(m){var f=a?a+m:m,x=this._events[f];return x?x.fn?1:x.length:0},d.prototype.emit=function(m,f,x,b,p,v){var j=a?a+m:m;if(!this._events[j])return!1;var w=this._events[j],N=arguments.length,P,A;if(w.fn){switch(w.once&&this.removeListener(m,w.fn,void 0,!0),N){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,f),!0;case 3:return w.fn.call(w.context,f,x),!0;case 4:return w.fn.call(w.context,f,x,b),!0;case 5:return w.fn.call(w.context,f,x,b,p),!0;case 6:return w.fn.call(w.context,f,x,b,p,v),!0}for(A=1,P=new Array(N-1);A<N;A++)P[A-1]=arguments[A];w.fn.apply(w.context,P)}else{var D=w.length,T;for(A=0;A<D;A++)switch(w[A].once&&this.removeListener(m,w[A].fn,void 0,!0),N){case 1:w[A].fn.call(w[A].context);break;case 2:w[A].fn.call(w[A].context,f);break;case 3:w[A].fn.call(w[A].context,f,x);break;case 4:w[A].fn.call(w[A].context,f,x,b);break;default:if(!P)for(T=1,P=new Array(N-1);T<N;T++)P[T-1]=arguments[T];w[A].fn.apply(w[A].context,P)}}return!0},d.prototype.on=function(m,f,x){return i(this,m,f,x,!1)},d.prototype.once=function(m,f,x){return i(this,m,f,x,!0)},d.prototype.removeListener=function(m,f,x,b){var p=a?a+m:m;if(!this._events[p])return this;if(!f)return o(this,p),this;var v=this._events[p];if(v.fn)v.fn===f&&(!b||v.once)&&(!x||v.context===x)&&o(this,p);else{for(var j=0,w=[],N=v.length;j<N;j++)(v[j].fn!==f||b&&!v[j].once||x&&v[j].context!==x)&&w.push(v[j]);w.length?this._events[p]=w.length===1?w[0]:w:o(this,p)}return this},d.prototype.removeAllListeners=function(m){var f;return m?(f=a?a+m:m,this._events[f]&&o(this,f)):(this._events=new s,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=a,d.EventEmitter=d,t.exports=d}(l2)),l2.exports}var Fre=Ire();const Bre=Eo(Fre);var Tx=new Bre,Xj="recharts.syncEvent.tooltip",J7="recharts.syncEvent.brush";function Q5(t,r){if(r){var a=Number.parseInt(r,10);if(!ki(a))return t?.[a]}}var zre={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},$O=Ti({name:"options",initialState:zre,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Ure=$O.reducer,{createEventEmitter:qre}=$O.actions;function Hre(t){return t.tooltip.syncInteraction}var Gre={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},IO=Ti({name:"chartData",initialState:Gre,reducers:{setChartData(t,r){if(t.chartData=r.payload,r.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}r.payload.length>0&&t.dataEndIndex!==r.payload.length-1&&(t.dataEndIndex=r.payload.length-1)},setComputedData(t,r){t.computedData=r.payload},setDataStartEndIndexes(t,r){var{startIndex:a,endIndex:s}=r.payload;a!=null&&(t.dataStartIndex=a),s!=null&&(t.dataEndIndex=s)}}}),{setChartData:Z7,setDataStartEndIndexes:Yre,setComputedData:aue}=IO.actions,Vre=IO.reducer,Kre=["x","y"];function Q7(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,s)}return a}function Au(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?Q7(Object(a),!0).forEach(function(s){Wre(t,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Q7(Object(a)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(a,s))})}return t}function Wre(t,r,a){return(r=Xre(r))in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function Xre(t){var r=Jre(t,"string");return typeof r=="symbol"?r:r+""}function Jre(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function Zre(t,r){if(t==null)return{};var a,s,n=Qre(t,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)a=i[s],r.indexOf(a)===-1&&{}.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}function Qre(t,r){if(t==null)return{};var a={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(r.indexOf(s)!==-1)continue;a[s]=t[s]}return a}var FO=()=>{};function eae(){var t=jt(j5),r=jt(N5),a=rs(),s=jt(PT),n=jt(Tc),i=Cy(),o=YN(),d=jt(u=>u.rootProps.className);g.useEffect(()=>{if(t==null)return FO;var u=(m,f,x)=>{if(r!==x&&t===m){if(s==="index"){var b;if(o&&f!==null&&f!==void 0&&(b=f.payload)!==null&&b!==void 0&&b.coordinate){var p=f.payload.coordinate,{x:v,y:j}=p,w=Zre(p,Kre),N=Au(Au(Au({},w),typeof v=="number"&&{x:Math.max(o.x,Math.min(v,o.x+o.width))}),typeof j=="number"&&{y:Math.max(o.y,Math.min(j,o.y+o.height))}),P=Au(Au({},f),{},{payload:Au(Au({},f.payload),{},{coordinate:N})});a(P)}else a(f);return}if(n!=null){var A;if(typeof s=="function"){var D={activeTooltipIndex:f.payload.index==null?void 0:Number(f.payload.index),isTooltipActive:f.payload.active,activeIndex:f.payload.index==null?void 0:Number(f.payload.index),activeLabel:f.payload.label,activeDataKey:f.payload.dataKey,activeCoordinate:f.payload.coordinate},T=s(n,D);A=n[T]}else s==="value"&&(A=n.find(F=>String(F.value)===f.payload.label));var{coordinate:R}=f.payload;if(A==null||f.payload.active===!1||R==null||o==null){a(Vj({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:E,y:O}=R,k=Math.min(E,o.x+o.width),Y=Math.min(O,o.y+o.height),$={x:i==="horizontal"?A.coordinate:k,y:i==="horizontal"?Y:A.coordinate},M=Vj({active:f.payload.active,coordinate:$,dataKey:f.payload.dataKey,index:String(A.index),label:f.payload.label});a(M)}}};return Tx.on(Xj,u),()=>{Tx.off(Xj,u)}},[d,a,r,t,s,n,i,o])}function tae(){var t=jt(j5),r=jt(N5),a=rs();g.useEffect(()=>{if(t==null)return FO;var s=(n,i,o)=>{r!==o&&t===n&&a(Yre(i))};return Tx.on(J7,s),()=>{Tx.off(J7,s)}},[a,r,t])}function rae(){var t=rs();g.useEffect(()=>{t(qre())},[t]),eae(),tae()}function aae(t,r,a,s,n,i){var o=jt(b=>kre(b,t,r)),d=jt(N5),u=jt(j5),m=jt(PT),f=jt(Hre),x=f?.active;g.useEffect(()=>{if(!x&&u!=null&&d!=null){var b=Vj({active:i,coordinate:a,dataKey:o,index:n,label:typeof s=="number"?String(s):s});Tx.emit(Xj,u,b,d)}},[x,a,o,n,s,d,u,m,i])}function eA(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,s)}return a}function tA(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?eA(Object(a),!0).forEach(function(s){sae(t,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):eA(Object(a)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(a,s))})}return t}function sae(t,r,a){return(r=nae(r))in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function nae(t){var r=iae(t,"string");return typeof r=="symbol"?r:r+""}function iae(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function lae(t){return t.dataKey}function oae(t,r){return g.isValidElement(t)?g.cloneElement(t,r):typeof t=="function"?g.createElement(t,r):g.createElement(LX,r)}var rA=[],cae={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!om.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Bl(t){var r=ti(t,cae),{active:a,allowEscapeViewBox:s,animationDuration:n,animationEasing:i,content:o,filterNull:d,isAnimationActive:u,offset:m,payloadUniqBy:f,position:x,reverseDirection:b,useTranslate3d:p,wrapperStyle:v,cursor:j,shared:w,trigger:N,defaultIndex:P,portal:A,axisId:D}=r,T=rs(),R=typeof P=="number"?String(P):P;g.useEffect(()=>{T(Tte({shared:w,trigger:N,axisId:D,active:a,defaultIndex:R}))},[T,w,N,D,a,R]);var E=YN(),O=SP(),k=Ate(w),{activeIndex:Y,isActive:$}=jt(Q=>Pre(Q,k,N,R)),M=jt(Q=>Ere(Q,k,N,R)),F=jt(Q=>MO(Q,k,N,R)),K=jt(Q=>Cre(Q,k,N,R)),q=M,U=$re(),V=a??$,[Z,X]=HK([q,V]),J=k==="axis"?F:void 0;aae(k,N,K,J,Y,V);var be=A??U;if(be==null)return null;var z=q??rA;V||(z=rA),d&&z.length&&(z=pK(q.filter(Q=>Q.value!=null&&(Q.hide!==!0||r.includeHidden)),f,lae));var re=z.length>0,G=g.createElement(zX,{allowEscapeViewBox:s,animationDuration:n,animationEasing:i,isAnimationActive:u,active:V,coordinate:K,hasPayload:re,offset:m,position:x,reverseDirection:b,useTranslate3d:p,viewBox:E,wrapperStyle:v,lastBoundingBox:Z,innerRef:X,hasPortalFromProps:!!A},oae(o,tA(tA({},r),{},{payload:z,label:J,active:V,coordinate:K,accessibilityLayer:O})));return g.createElement(g.Fragment,null,QL.createPortal(G,be),V&&g.createElement(Rre,{cursor:j,tooltipEventType:k,coordinate:K,payload:q,index:Y}))}var o2={},c2={},d2={},aA;function dae(){return aA||(aA=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function r(a,s,{signal:n,edges:i}={}){let o,d=null;const u=i!=null&&i.includes("leading"),m=i==null||i.includes("trailing"),f=()=>{d!==null&&(a.apply(o,d),o=void 0,d=null)},x=()=>{m&&f(),j()};let b=null;const p=()=>{b!=null&&clearTimeout(b),b=setTimeout(()=>{b=null,x()},s)},v=()=>{b!==null&&(clearTimeout(b),b=null)},j=()=>{v(),o=void 0,d=null},w=()=>{f()},N=function(...P){if(n?.aborted)return;o=this,d=P;const A=b==null;p(),u&&A&&f()};return N.schedule=p,N.cancel=j,N.flush=w,n?.addEventListener("abort",j,{once:!0}),N}t.debounce=r}(d2)),d2}var sA;function uae(){return sA||(sA=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=dae();function a(s,n=0,i={}){typeof i!="object"&&(i={});const{leading:o=!1,trailing:d=!0,maxWait:u}=i,m=Array(2);o&&(m[0]="leading"),d&&(m[1]="trailing");let f,x=null;const b=r.debounce(function(...j){f=s.apply(this,j),x=null},n,{edges:m}),p=function(...j){return u!=null&&(x===null&&(x=Date.now()),Date.now()-x>=u)?(f=s.apply(this,j),x=Date.now(),b.cancel(),b.schedule(),f):(b.apply(this,j),f)},v=()=>(b.flush(),f);return p.cancel=b.cancel,p.flush=v,p}t.debounce=a}(c2)),c2}var nA;function mae(){return nA||(nA=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=uae();function a(s,n=0,i={}){const{leading:o=!0,trailing:d=!0}=i;return r.debounce(s,n,{leading:o,maxWait:n,trailing:d})}t.throttle=a}(o2)),o2}var u2,iA;function fae(){return iA||(iA=1,u2=mae().throttle),u2}var hae=fae();const xae=Eo(hae);var dx=function(r,a){for(var s=arguments.length,n=new Array(s>2?s-2:0),i=2;i<s;i++)n[i-2]=arguments[i]};function lA(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,s)}return a}function m2(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?lA(Object(a),!0).forEach(function(s){pae(t,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):lA(Object(a)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(a,s))})}return t}function pae(t,r,a){return(r=gae(r))in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function gae(t){var r=yae(t,"string");return typeof r=="symbol"?r:r+""}function yae(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var zl=g.forwardRef((t,r)=>{var{aspect:a,initialDimension:s={width:-1,height:-1},width:n="100%",height:i="100%",minWidth:o=0,minHeight:d,maxHeight:u,children:m,debounce:f=0,id:x,className:b,onResize:p,style:v={}}=t,j=g.useRef(null),w=g.useRef();w.current=p,g.useImperativeHandle(r,()=>j.current);var[N,P]=g.useState({containerWidth:s.width,containerHeight:s.height}),A=g.useCallback((T,R)=>{P(E=>{var O=Math.round(T),k=Math.round(R);return E.containerWidth===O&&E.containerHeight===k?E:{containerWidth:O,containerHeight:k}})},[]);g.useEffect(()=>{var T=k=>{var Y,{width:$,height:M}=k[0].contentRect;A($,M),(Y=w.current)===null||Y===void 0||Y.call(w,$,M)};f>0&&(T=xae(T,f,{trailing:!0,leading:!1}));var R=new ResizeObserver(T),{width:E,height:O}=j.current.getBoundingClientRect();return A(E,O),R.observe(j.current),()=>{R.disconnect()}},[A,f]);var D=g.useMemo(()=>{var{containerWidth:T,containerHeight:R}=N;if(T<0||R<0)return null;dx(Lu(n)||Lu(i),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,n,i),dx(!a||a>0,"The aspect(%s) must be greater than zero.",a);var E=Lu(n)?T:n,O=Lu(i)?R:i;return a&&a>0&&(E?O=E/a:O&&(E=O*a),u&&O>u&&(O=u)),dx(E>0||O>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,E,O,n,i,o,d,a),g.Children.map(m,k=>g.cloneElement(k,{width:E,height:O,style:m2({width:E,height:O},k.props.style)}))},[a,m,i,u,d,o,N,n]);return g.createElement("div",{id:x?"".concat(x):void 0,className:Dr("recharts-responsive-container",b),style:m2(m2({},v),{},{width:n,height:i,minWidth:o,minHeight:d,maxHeight:u}),ref:j},g.createElement("div",{style:{width:0,height:0,overflow:"visible"}},D))}),Fd=t=>null;Fd.displayName="Cell";function bae(t,r,a){return(r=vae(r))in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function vae(t){var r=jae(t,"string");return typeof r=="symbol"?r:r+""}function jae(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}class Nae{constructor(r){bae(this,"cache",new Map),this.maxSize=r}get(r){var a=this.cache.get(r);return a!==void 0&&(this.cache.delete(r),this.cache.set(r,a)),a}set(r,a){if(this.cache.has(r))this.cache.delete(r);else if(this.cache.size>=this.maxSize){var s=this.cache.keys().next().value;this.cache.delete(s)}this.cache.set(r,a)}clear(){this.cache.clear()}size(){return this.cache.size}}function oA(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,s)}return a}function wae(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?oA(Object(a),!0).forEach(function(s){Sae(t,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):oA(Object(a)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(a,s))})}return t}function Sae(t,r,a){return(r=_ae(r))in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function _ae(t){var r=Aae(t,"string");return typeof r=="symbol"?r:r+""}function Aae(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var kae={cacheSize:2e3,enableCache:!0},BO=wae({},kae),cA=new Nae(BO.cacheSize),Cae={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},dA="recharts_measurement_span";function Eae(t,r){var a=r.fontSize||"",s=r.fontFamily||"",n=r.fontWeight||"",i=r.fontStyle||"",o=r.letterSpacing||"",d=r.textTransform||"";return"".concat(t,"|").concat(a,"|").concat(s,"|").concat(n,"|").concat(i,"|").concat(o,"|").concat(d)}var uA=(t,r)=>{try{var a=document.getElementById(dA);a||(a=document.createElement("span"),a.setAttribute("id",dA),a.setAttribute("aria-hidden","true"),document.body.appendChild(a)),Object.assign(a.style,Cae,r),a.textContent="".concat(t);var s=a.getBoundingClientRect();return{width:s.width,height:s.height}}catch{return{width:0,height:0}}},ux=function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(r==null||om.isSsr)return{width:0,height:0};if(!BO.enableCache)return uA(r,a);var s=Eae(r,a),n=cA.get(s);if(n)return n;var i=uA(r,a);return cA.set(s,i),i},mA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,fA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Pae=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Tae=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,zO={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Oae=Object.keys(zO),lf="NaN";function Dae(t,r){return t*zO[r]}class Vn{static parse(r){var a,[,s,n]=(a=Tae.exec(r))!==null&&a!==void 0?a:[];return new Vn(parseFloat(s),n??"")}constructor(r,a){this.num=r,this.unit=a,this.num=r,this.unit=a,ki(r)&&(this.unit=""),a!==""&&!Pae.test(a)&&(this.num=NaN,this.unit=""),Oae.includes(a)&&(this.num=Dae(r,a),this.unit="px")}add(r){return this.unit!==r.unit?new Vn(NaN,""):new Vn(this.num+r.num,this.unit)}subtract(r){return this.unit!==r.unit?new Vn(NaN,""):new Vn(this.num-r.num,this.unit)}multiply(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new Vn(NaN,""):new Vn(this.num*r.num,this.unit||r.unit)}divide(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new Vn(NaN,""):new Vn(this.num/r.num,this.unit||r.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return ki(this.num)}}function UO(t){if(t.includes(lf))return lf;for(var r=t;r.includes("*")||r.includes("/");){var a,[,s,n,i]=(a=mA.exec(r))!==null&&a!==void 0?a:[],o=Vn.parse(s??""),d=Vn.parse(i??""),u=n==="*"?o.multiply(d):o.divide(d);if(u.isNaN())return lf;r=r.replace(mA,u.toString())}for(;r.includes("+")||/.-\d+(?:\.\d+)?/.test(r);){var m,[,f,x,b]=(m=fA.exec(r))!==null&&m!==void 0?m:[],p=Vn.parse(f??""),v=Vn.parse(b??""),j=x==="+"?p.add(v):p.subtract(v);if(j.isNaN())return lf;r=r.replace(fA,j.toString())}return r}var hA=/\(([^()]*)\)/;function Lae(t){for(var r=t,a;(a=hA.exec(r))!=null;){var[,s]=a;r=r.replace(hA,UO(s))}return r}function Mae(t){var r=t.replace(/\s+/g,"");return r=Lae(r),r=UO(r),r}function Rae(t){try{return Mae(t)}catch{return lf}}function f2(t){var r=Rae(t.slice(5,-1));return r===lf?"":r}var $ae=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Iae=["dx","dy","angle","className","breakAll"];function Jj(){return Jj=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var s in a)({}).hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},Jj.apply(null,arguments)}function xA(t,r){if(t==null)return{};var a,s,n=Fae(t,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)a=i[s],r.indexOf(a)===-1&&{}.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}function Fae(t,r){if(t==null)return{};var a={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(r.indexOf(s)!==-1)continue;a[s]=t[s]}return a}var qO=/[ \f\n\r\t\v\u2028\u2029]+/,HO=t=>{var{children:r,breakAll:a,style:s}=t;try{var n=[];ka(r)||(a?n=r.toString().split(""):n=r.toString().split(qO));var i=n.map(d=>({word:d,width:ux(d,s).width})),o=a?0:ux(" ",s).width;return{wordsWithComputedWidth:i,spaceWidth:o}}catch{return null}},Bae=(t,r,a,s,n)=>{var{maxLines:i,children:o,style:d,breakAll:u}=t,m=kt(i),f=o,x=function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return $.reduce((M,F)=>{var{word:K,width:q}=F,U=M[M.length-1];if(U&&(s==null||n||U.width+q+a<Number(s)))U.words.push(K),U.width+=q+a;else{var V={words:[K],width:q};M.push(V)}return M},[])},b=x(r),p=Y=>Y.reduce(($,M)=>$.width>M.width?$:M);if(!m||n)return b;var v=b.length>i||p(b).width>Number(s);if(!v)return b;for(var j="…",w=Y=>{var $=f.slice(0,Y),M=HO({breakAll:u,style:d,children:$+j}).wordsWithComputedWidth,F=x(M),K=F.length>i||p(F).width>Number(s);return[K,F]},N=0,P=f.length-1,A=0,D;N<=P&&A<=f.length-1;){var T=Math.floor((N+P)/2),R=T-1,[E,O]=w(R),[k]=w(T);if(!E&&!k&&(N=T+1),E&&k&&(P=T-1),!E&&k){D=O;break}A++}return D||b},pA=t=>{var r=ka(t)?[]:t.toString().split(qO);return[{words:r}]},zae=t=>{var{width:r,scaleToFit:a,children:s,style:n,breakAll:i,maxLines:o}=t;if((r||a)&&!om.isSsr){var d,u,m=HO({breakAll:i,children:s,style:n});if(m){var{wordsWithComputedWidth:f,spaceWidth:x}=m;d=f,u=x}else return pA(s);return Bae({breakAll:i,children:s,maxLines:o,style:n},d,u,r,a)}return pA(s)},gA="#808080",Yy=g.forwardRef((t,r)=>{var{x:a=0,y:s=0,lineHeight:n="1em",capHeight:i="0.71em",scaleToFit:o=!1,textAnchor:d="start",verticalAnchor:u="end",fill:m=gA}=t,f=xA(t,$ae),x=g.useMemo(()=>zae({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:o,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,o,f.style,f.width]),{dx:b,dy:p,angle:v,className:j,breakAll:w}=f,N=xA(f,Iae);if(!ko(a)||!ko(s)||x.length===0)return null;var P=a+(kt(b)?b:0),A=s+(kt(p)?p:0),D;switch(u){case"start":D=f2("calc(".concat(i,")"));break;case"middle":D=f2("calc(".concat((x.length-1)/2," * -").concat(n," + (").concat(i," / 2))"));break;default:D=f2("calc(".concat(x.length-1," * -").concat(n,")"));break}var T=[];if(o){var R=x[0].width,{width:E}=f;T.push("scale(".concat(kt(E)?E/R:1,")"))}return v&&T.push("rotate(".concat(v,", ").concat(P,", ").concat(A,")")),T.length&&(N.transform=T.join(" ")),g.createElement("text",Jj({},_a(N,!0),{ref:r,x:P,y:A,className:Dr("recharts-text",j),textAnchor:d,fill:m.includes("url")?gA:m}),x.map((O,k)=>{var Y=O.words.join(w?"":" ");return g.createElement("tspan",{x:P,dy:k===0?D:n,key:"".concat(Y,"-").concat(k)},Y)}))});Yy.displayName="Text";var Uae=["labelRef"];function qae(t,r){if(t==null)return{};var a,s,n=Hae(t,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)a=i[s],r.indexOf(a)===-1&&{}.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}function Hae(t,r){if(t==null)return{};var a={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(r.indexOf(s)!==-1)continue;a[s]=t[s]}return a}function yA(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,s)}return a}function Ja(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?yA(Object(a),!0).forEach(function(s){Gae(t,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):yA(Object(a)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(a,s))})}return t}function Gae(t,r,a){return(r=Yae(r))in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function Yae(t){var r=Vae(t,"string");return typeof r=="symbol"?r:r+""}function Vae(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function dc(){return dc=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var s in a)({}).hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},dc.apply(null,arguments)}var GO=g.createContext(null),Kae=t=>{var{x:r,y:a,width:s,height:n,children:i}=t,o=g.useMemo(()=>({x:r,y:a,width:s,height:n}),[r,a,s,n]);return g.createElement(GO.Provider,{value:o},i)},YO=()=>{var t=g.useContext(GO),r=YN();return t||r},Wae=g.createContext(null),Xae=()=>{var t=g.useContext(Wae),r=jt(MT);return t||r},Jae=t=>{var{value:r,formatter:a}=t,s=ka(t.children)?r:t.children;return typeof a=="function"?a(s):s},ew=t=>t!=null&&typeof t=="function",Zae=(t,r)=>{var a=$s(r-t),s=Math.min(Math.abs(r-t),360);return a*s},Qae=(t,r,a,s,n)=>{var{offset:i,className:o}=t,{cx:d,cy:u,innerRadius:m,outerRadius:f,startAngle:x,endAngle:b,clockWise:p}=n,v=(m+f)/2,j=Zae(x,b),w=j>=0?1:-1,N,P;switch(r){case"insideStart":N=x+w*i,P=p;break;case"insideEnd":N=b-w*i,P=!p;break;case"end":N=b+w*i,P=p;break;default:throw new Error("Unsupported position ".concat(r))}P=j<=0?P:!P;var A=ds(d,u,v,N),D=ds(d,u,v,N+(P?1:-1)*359),T="M".concat(A.x,",").concat(A.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(P?0:1,`,
    `).concat(D.x,",").concat(D.y),R=ka(t.id)?jx("recharts-radial-line-"):t.id;return g.createElement("text",dc({},s,{dominantBaseline:"central",className:Dr("recharts-radial-bar-label",o)}),g.createElement("defs",null,g.createElement("path",{id:R,d:T})),g.createElement("textPath",{xlinkHref:"#".concat(R)},a))},ese=(t,r,a)=>{var{cx:s,cy:n,innerRadius:i,outerRadius:o,startAngle:d,endAngle:u}=t,m=(d+u)/2;if(a==="outside"){var{x:f,y:x}=ds(s,n,o+r,m);return{x:f,y:x,textAnchor:f>=s?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:s,y:n,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:s,y:n,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:s,y:n,textAnchor:"middle",verticalAnchor:"end"};var b=(i+o)/2,{x:p,y:v}=ds(s,n,b,m);return{x:p,y:v,textAnchor:"middle",verticalAnchor:"middle"}},VO=t=>"cx"in t&&kt(t.cx),tse=(t,r)=>{var{parentViewBox:a,offset:s,position:n}=t,i;a!=null&&!VO(a)&&(i=a);var{x:o,y:d,width:u,height:m}=r,f=m>=0?1:-1,x=f*s,b=f>0?"end":"start",p=f>0?"start":"end",v=u>=0?1:-1,j=v*s,w=v>0?"end":"start",N=v>0?"start":"end";if(n==="top"){var P={x:o+u/2,y:d-f*s,textAnchor:"middle",verticalAnchor:b};return Ja(Ja({},P),i?{height:Math.max(d-i.y,0),width:u}:{})}if(n==="bottom"){var A={x:o+u/2,y:d+m+x,textAnchor:"middle",verticalAnchor:p};return Ja(Ja({},A),i?{height:Math.max(i.y+i.height-(d+m),0),width:u}:{})}if(n==="left"){var D={x:o-j,y:d+m/2,textAnchor:w,verticalAnchor:"middle"};return Ja(Ja({},D),i?{width:Math.max(D.x-i.x,0),height:m}:{})}if(n==="right"){var T={x:o+u+j,y:d+m/2,textAnchor:N,verticalAnchor:"middle"};return Ja(Ja({},T),i?{width:Math.max(i.x+i.width-T.x,0),height:m}:{})}var R=i?{width:u,height:m}:{};return n==="insideLeft"?Ja({x:o+j,y:d+m/2,textAnchor:N,verticalAnchor:"middle"},R):n==="insideRight"?Ja({x:o+u-j,y:d+m/2,textAnchor:w,verticalAnchor:"middle"},R):n==="insideTop"?Ja({x:o+u/2,y:d+x,textAnchor:"middle",verticalAnchor:p},R):n==="insideBottom"?Ja({x:o+u/2,y:d+m-x,textAnchor:"middle",verticalAnchor:b},R):n==="insideTopLeft"?Ja({x:o+j,y:d+x,textAnchor:N,verticalAnchor:p},R):n==="insideTopRight"?Ja({x:o+u-j,y:d+x,textAnchor:w,verticalAnchor:p},R):n==="insideBottomLeft"?Ja({x:o+j,y:d+m-x,textAnchor:N,verticalAnchor:b},R):n==="insideBottomRight"?Ja({x:o+u-j,y:d+m-x,textAnchor:w,verticalAnchor:b},R):n&&typeof n=="object"&&(kt(n.x)||Lu(n.x))&&(kt(n.y)||Lu(n.y))?Ja({x:o+pn(n.x,u),y:d+pn(n.y,m),textAnchor:"end",verticalAnchor:"end"},R):Ja({x:o+u/2,y:d+m/2,textAnchor:"middle",verticalAnchor:"middle"},R)},rse={offset:5};function Sd(t){var r=ti(t,rse),{viewBox:a,position:s,value:n,children:i,content:o,className:d="",textBreakAll:u,labelRef:m}=r,f=Xae(),x=YO(),b=s==="center"?x:f??x,p=a||b;if(!p||ka(n)&&ka(i)&&!g.isValidElement(o)&&typeof o!="function")return null;var v=Ja(Ja({},r),{},{viewBox:p});if(g.isValidElement(o)){var{labelRef:j}=v,w=qae(v,Uae);return g.cloneElement(o,w)}var N;if(typeof o=="function"){if(N=g.createElement(o,v),g.isValidElement(N))return N}else N=Jae(r);var P=VO(p),A=_a(r,!0);if(P&&(s==="insideStart"||s==="insideEnd"||s==="end"))return Qae(r,s,N,A,p);var D=P?ese(p,r.offset,r.position):tse(r,p);return g.createElement(Yy,dc({ref:m,className:Dr("recharts-label",d)},A,D,{breakAll:u}),N)}Sd.displayName="Label";var ase=(t,r,a)=>{if(!t)return null;var s={viewBox:r,labelRef:a};return t===!0?g.createElement(Sd,dc({key:"label-implicit"},s)):ko(t)?g.createElement(Sd,dc({key:"label-implicit",value:t},s)):g.isValidElement(t)?t.type===Sd?g.cloneElement(t,Ja({key:"label-implicit"},s)):g.createElement(Sd,dc({key:"label-implicit",content:t},s)):ew(t)?g.createElement(Sd,dc({key:"label-implicit",content:t},s)):t&&typeof t=="object"?g.createElement(Sd,dc({},t,{key:"label-implicit"},s)):null};function sse(t){var{label:r}=t,a=YO();return ase(r,a)||null}var h2={},x2={},bA;function nse(){return bA||(bA=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function r(a){return a[a.length-1]}t.last=r}(x2)),x2}var p2={},vA;function ise(){return vA||(vA=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function r(a){return Array.isArray(a)?a:Array.from(a)}t.toArray=r}(p2)),p2}var jA;function lse(){return jA||(jA=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=nse(),a=ise(),s=$N();function n(i){if(s.isArrayLike(i))return r.last(a.toArray(i))}t.last=n}(h2)),h2}var g2,NA;function ose(){return NA||(NA=1,g2=lse().last),g2}var cse=ose();const dse=Eo(cse);var use=["valueAccessor"],mse=["dataKey","clockWise","id","textBreakAll"];function Bg(){return Bg=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var s in a)({}).hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},Bg.apply(null,arguments)}function wA(t,r){if(t==null)return{};var a,s,n=fse(t,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)a=i[s],r.indexOf(a)===-1&&{}.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}function fse(t,r){if(t==null)return{};var a={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(r.indexOf(s)!==-1)continue;a[s]=t[s]}return a}var hse=t=>Array.isArray(t.value)?dse(t.value):t.value,KO=g.createContext(void 0),WO=KO.Provider,XO=g.createContext(void 0),xse=XO.Provider;function pse(){return g.useContext(KO)}function gse(){return g.useContext(XO)}function Vp(t){var{valueAccessor:r=hse}=t,a=wA(t,use),{dataKey:s,clockWise:n,id:i,textBreakAll:o}=a,d=wA(a,mse),u=pse(),m=gse(),f=u||m;return!f||!f.length?null:g.createElement(nn,{className:"recharts-label-list"},f.map((x,b)=>{var p,v=ka(s)?r(x,b):ta(x&&x.payload,s),j=ka(i)?{}:{id:"".concat(i,"-").concat(b)};return g.createElement(Sd,Bg({},_a(x,!0),d,j,{fill:(p=a.fill)!==null&&p!==void 0?p:x.fill,parentViewBox:x.parentViewBox,value:v,textBreakAll:o,viewBox:x.viewBox,key:"label-".concat(b),index:b}))}))}Vp.displayName="LabelList";function tw(t){var{label:r}=t;return r?r===!0?g.createElement(Vp,{key:"labelList-implicit"}):g.isValidElement(r)||ew(r)?g.createElement(Vp,{key:"labelList-implicit",content:r}):typeof r=="object"?g.createElement(Vp,Bg({key:"labelList-implicit"},r,{type:String(r.type)})):null:null}function Zj(){return Zj=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var s in a)({}).hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},Zj.apply(null,arguments)}var JO=t=>{var{cx:r,cy:a,r:s,className:n}=t,i=Dr("recharts-dot",n);return r===+r&&a===+a&&s===+s?g.createElement("circle",Zj({},kc(t),ON(t),{className:i,cx:r,cy:a,r:s})):null},ZO=t=>t.graphicalItems.polarItems,yse=ze([Ca,Qx],C5),rw=ze([ZO,as,yse],E5),bse=ze([rw],P5),aw=ze([bse,g5],T5),vse=ze([aw,as,rw],D5),jse=ze([aw,as,rw],(t,r,a)=>a.length>0?t.flatMap(s=>a.flatMap(n=>{var i,o=ta(s,(i=r.dataKey)!==null&&i!==void 0?i:n.dataKey);return{value:o,errorDomain:[]}})).filter(Boolean):r?.dataKey!=null?t.map(s=>({value:ta(s,r.dataKey),errorDomain:[]})):t.map(s=>({value:s,errorDomain:[]}))),SA=()=>{},Nse=ze([as,tO,SA,jse,SA,wr,Ca],M5),QO=ze([as,wr,aw,vse,Zx,Ca,Nse],R5),wse=ze([QO,as,Gf],F5);ze([as,QO,wse,Ca],z5);var Sse={radiusAxis:{},angleAxis:{}},eD=Ti({name:"polarAxis",initialState:Sse,reducers:{addRadiusAxis(t,r){t.radiusAxis[r.payload.id]=r.payload},removeRadiusAxis(t,r){delete t.radiusAxis[r.payload.id]},addAngleAxis(t,r){t.angleAxis[r.payload.id]=r.payload},removeAngleAxis(t,r){delete t.angleAxis[r.payload.id]}}}),{addRadiusAxis:sue,removeRadiusAxis:nue,addAngleAxis:iue,removeAngleAxis:lue}=eD.actions,_se=eD.reducer;function _A(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,s)}return a}function AA(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?_A(Object(a),!0).forEach(function(s){Ase(t,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):_A(Object(a)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(a,s))})}return t}function Ase(t,r,a){return(r=kse(r))in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function kse(t){var r=Cse(t,"string");return typeof r=="symbol"?r:r+""}function Cse(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var Ese=(t,r)=>r,sw=ze([ZO,Ese],(t,r)=>t.filter(a=>a.type==="pie").find(a=>a.id===r)),Pse=[],nw=(t,r,a)=>a?.length===0?Pse:a,tD=ze([g5,sw,nw],(t,r,a)=>{var{chartData:s}=t;if(r!=null){var n;if(r?.data!=null&&r.data.length>0?n=r.data:n=s,(!n||!n.length)&&a!=null&&(n=a.map(i=>AA(AA({},r.presentationProps),i.props))),n!=null)return n}}),Tse=ze([tD,sw,nw],(t,r,a)=>{if(!(t==null||r==null))return t.map((s,n)=>{var i,o=ta(s,r.nameKey,r.name),d;return a!=null&&(i=a[n])!==null&&i!==void 0&&(i=i.props)!==null&&i!==void 0&&i.fill?d=a[n].props.fill:typeof s=="object"&&s!=null&&"fill"in s?d=s.fill:d=r.fill,{value:Ff(o,r.dataKey),color:d,payload:s,type:r.legendType}})}),Ose=ze([tD,sw,nw,Ns],(t,r,a,s)=>{if(!(r==null||t==null))return Ene({offset:s,pieSettings:r,displayedData:t,cells:a})}),y2={},kA;function Dse(){return kA||(kA=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function r(a){if(typeof a!="object"||a==null)return!1;if(Object.getPrototypeOf(a)===null)return!0;if(Object.prototype.toString.call(a)!=="[object Object]"){const n=a[Symbol.toStringTag];return n==null||!Object.getOwnPropertyDescriptor(a,Symbol.toStringTag)?.writable?!1:a.toString()===`[object ${n}]`}let s=a;for(;Object.getPrototypeOf(s)!==null;)s=Object.getPrototypeOf(s);return Object.getPrototypeOf(a)===s}t.isPlainObject=r}(y2)),y2}var b2,CA;function Lse(){return CA||(CA=1,b2=Dse().isPlainObject),b2}var Mse=Lse();const Rse=Eo(Mse);function EA(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,s)}return a}function PA(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?EA(Object(a),!0).forEach(function(s){$se(t,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):EA(Object(a)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(a,s))})}return t}function $se(t,r,a){return(r=Ise(r))in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function Ise(t){var r=Fse(t,"string");return typeof r=="symbol"?r:r+""}function Fse(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function zg(){return zg=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var s in a)({}).hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},zg.apply(null,arguments)}var TA=(t,r,a,s,n)=>{var i=a-s,o;return o="M ".concat(t,",").concat(r),o+="L ".concat(t+a,",").concat(r),o+="L ".concat(t+a-i/2,",").concat(r+n),o+="L ".concat(t+a-i/2-s,",").concat(r+n),o+="L ".concat(t,",").concat(r," Z"),o},Bse={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},zse=t=>{var r=ti(t,Bse),{x:a,y:s,upperWidth:n,lowerWidth:i,height:o,className:d}=r,{animationEasing:u,animationDuration:m,animationBegin:f,isUpdateAnimationActive:x}=r,b=g.useRef(),[p,v]=g.useState(-1),j=g.useRef(n),w=g.useRef(i),N=g.useRef(o),P=g.useRef(a),A=g.useRef(s),D=Vx(t,"trapezoid-");if(g.useEffect(()=>{if(b.current&&b.current.getTotalLength)try{var K=b.current.getTotalLength();K&&v(K)}catch{}},[]),a!==+a||s!==+s||n!==+n||i!==+i||o!==+o||n===0&&i===0||o===0)return null;var T=Dr("recharts-trapezoid",d);if(!x)return g.createElement("g",null,g.createElement("path",zg({},_a(r,!0),{className:T,d:TA(a,s,n,i,o)})));var R=j.current,E=w.current,O=N.current,k=P.current,Y=A.current,$="0px ".concat(p===-1?1:p,"px"),M="".concat(p,"px 0px"),F=_P(["strokeDasharray"],m,u);return g.createElement(Yx,{animationId:D,key:D,canBegin:p>0,duration:m,easing:u,isActive:x,begin:f},K=>{var q=Ua(R,n,K),U=Ua(E,i,K),V=Ua(O,o,K),Z=Ua(k,a,K),X=Ua(Y,s,K);b.current&&(j.current=q,w.current=U,N.current=V,P.current=Z,A.current=X);var J=K>0?{transition:F,strokeDasharray:M}:{strokeDasharray:$};return g.createElement("path",zg({},_a(r,!0),{className:T,d:TA(Z,X,q,U,V),ref:b,style:PA(PA({},J),r.style)}))})},Use=["option","shapeType","propTransformer","activeClassName","isActive"];function qse(t,r){if(t==null)return{};var a,s,n=Hse(t,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)a=i[s],r.indexOf(a)===-1&&{}.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}function Hse(t,r){if(t==null)return{};var a={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(r.indexOf(s)!==-1)continue;a[s]=t[s]}return a}function OA(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,s)}return a}function Ug(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?OA(Object(a),!0).forEach(function(s){Gse(t,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):OA(Object(a)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(a,s))})}return t}function Gse(t,r,a){return(r=Yse(r))in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function Yse(t){var r=Vse(t,"string");return typeof r=="symbol"?r:r+""}function Vse(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function Kse(t,r){return Ug(Ug({},r),t)}function Wse(t,r){return t==="symbols"}function DA(t){var{shapeType:r,elementProps:a}=t;switch(r){case"rectangle":return g.createElement(EP,a);case"trapezoid":return g.createElement(zse,a);case"sector":return g.createElement(OP,a);case"symbols":if(Wse(r))return g.createElement(CE,a);break;default:return null}}function Xse(t){return g.isValidElement(t)?t.props:t}function rD(t){var{option:r,shapeType:a,propTransformer:s=Kse,activeClassName:n="recharts-active-shape",isActive:i}=t,o=qse(t,Use),d;if(g.isValidElement(r))d=g.cloneElement(r,Ug(Ug({},o),Xse(r)));else if(typeof r=="function")d=r(o);else if(Rse(r)&&typeof r!="boolean"){var u=s(r,o);d=g.createElement(DA,{shapeType:a,elementProps:u})}else{var m=o;d=g.createElement(DA,{shapeType:a,elementProps:m})}return i?g.createElement(nn,{className:n},d):d}var iw=(t,r)=>{var a=rs();return(s,n)=>i=>{t?.(s,n,i),a(gO({activeIndex:String(n),activeDataKey:r,activeCoordinate:s.tooltipPosition}))}},lw=t=>{var r=rs();return(a,s)=>n=>{t?.(a,s,n),r(Ote())}},ow=(t,r)=>{var a=rs();return(s,n)=>i=>{t?.(s,n,i),a(Dte({activeIndex:String(n),activeDataKey:r,activeCoordinate:s.tooltipPosition}))}};function cw(t){var{fn:r,args:a}=t,s=rs(),n=ei();return g.useEffect(()=>{if(!n){var i=r(a);return s(Ete(i)),()=>{s(Pte(i))}}},[r,a,s,n]),null}var aD=()=>{};function sD(t){var{legendPayload:r}=t,a=rs(),s=ei();return g.useEffect(()=>s?aD:(a(NP(r)),()=>{a(wP(r))}),[a,s,r]),null}function Jse(t){var{legendPayload:r}=t,a=rs(),s=jt(wr);return g.useEffect(()=>s!=="centric"&&s!=="radial"?aD:(a(NP(r)),()=>{a(wP(r))}),[a,s,r]),null}var v2,Zse=()=>{var[t]=g.useState(()=>jx("uid-"));return t},Qse=(v2=ak.useId)!==null&&v2!==void 0?v2:Zse;function ene(t,r){var a=Qse();return r||(t?"".concat(t,"-").concat(a):a)}var tne=g.createContext(void 0),dw=t=>{var{id:r,type:a,children:s}=t,n=ene("recharts-".concat(a),r);return g.createElement(tne.Provider,{value:n},s(n))},rne={cartesianItems:[],polarItems:[]},nD=Ti({name:"graphicalItems",initialState:rne,reducers:{addCartesianGraphicalItem(t,r){t.cartesianItems.push(r.payload)},replaceCartesianGraphicalItem(t,r){var{prev:a,next:s}=r.payload,n=fc(t).cartesianItems.indexOf(a);n>-1&&(t.cartesianItems[n]=s)},removeCartesianGraphicalItem(t,r){var a=fc(t).cartesianItems.indexOf(r.payload);a>-1&&t.cartesianItems.splice(a,1)},addPolarGraphicalItem(t,r){t.polarItems.push(r.payload)},removePolarGraphicalItem(t,r){var a=fc(t).polarItems.indexOf(r.payload);a>-1&&t.polarItems.splice(a,1)}}}),{addCartesianGraphicalItem:ane,replaceCartesianGraphicalItem:sne,removeCartesianGraphicalItem:nne,addPolarGraphicalItem:ine,removePolarGraphicalItem:lne}=nD.actions,one=nD.reducer;function iD(t){var r=rs(),a=g.useRef(null);return g.useEffect(()=>{a.current===null?r(ane(t)):a.current!==t&&r(sne({prev:a.current,next:t})),a.current=t},[r,t]),g.useEffect(()=>()=>{a.current&&(r(nne(a.current)),a.current=null)},[r]),null}function cne(t){var r=rs();return g.useEffect(()=>(r(ine(t)),()=>{r(lne(t))}),[r,t]),null}var dne=["onMouseEnter","onClick","onMouseLeave"],une=["id"],mne=["id"];function uw(t,r){if(t==null)return{};var a,s,n=fne(t,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)a=i[s],r.indexOf(a)===-1&&{}.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}function fne(t,r){if(t==null)return{};var a={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(r.indexOf(s)!==-1)continue;a[s]=t[s]}return a}function LA(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,s)}return a}function Sa(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?LA(Object(a),!0).forEach(function(s){hne(t,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):LA(Object(a)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(a,s))})}return t}function hne(t,r,a){return(r=xne(r))in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function xne(t){var r=pne(t,"string");return typeof r=="symbol"?r:r+""}function pne(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function Bd(){return Bd=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var s in a)({}).hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},Bd.apply(null,arguments)}function gne(t){var r=g.useMemo(()=>DN(t.children,Fd),[t.children]),a=jt(s=>Tse(s,t.id,r));return a==null?null:g.createElement(Jse,{legendPayload:a})}function yne(t){var{dataKey:r,nameKey:a,sectors:s,stroke:n,strokeWidth:i,fill:o,name:d,hide:u,tooltipType:m}=t;return{dataDefinedOnItem:s.map(f=>f.tooltipPayload),positions:s.map(f=>f.tooltipPosition),settings:{stroke:n,strokeWidth:i,fill:o,dataKey:r,nameKey:a,name:Ff(d,r),hide:u,type:m,color:o,unit:""}}}var bne=(t,r)=>t>r?"start":t<r?"end":"middle",vne=(t,r,a)=>pn(typeof r=="function"?r(t):r,a,a*.8),jne=(t,r,a)=>{var{top:s,left:n,width:i,height:o}=r,d=uP(i,o),u=n+pn(t.cx,i,i/2),m=s+pn(t.cy,o,o/2),f=pn(t.innerRadius,d,0),x=vne(a,t.outerRadius,d),b=t.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:u,cy:m,innerRadius:f,outerRadius:x,maxRadius:b}},Nne=(t,r)=>{var a=$s(r-t),s=Math.min(Math.abs(r-t),360);return a*s};function wne(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}var Sne=(t,r)=>{if(g.isValidElement(t))return g.cloneElement(t,r);if(typeof t=="function")return t(r);var a=Dr("recharts-pie-label-line",typeof t!="boolean"?t.className:"");return g.createElement(VN,Bd({},r,{type:"linear",className:a}))},_ne=(t,r,a)=>{if(g.isValidElement(t))return g.cloneElement(t,r);var s=a;if(typeof t=="function"&&(s=t(r),g.isValidElement(s)))return s;var n=Dr("recharts-pie-label-text",wne(t));return g.createElement(Yy,Bd({},r,{alignmentBaseline:"middle",className:n}),s)};function Ane(t){var{sectors:r,props:a,showLabels:s}=t,{label:n,labelLine:i,dataKey:o}=a;if(!s||!n||!r)return null;var d=kc(a),u=_a(n,!1),m=_a(i,!1),f=typeof n=="object"&&"offsetRadius"in n&&typeof n.offsetRadius=="number"&&n.offsetRadius||20,x=r.map((b,p)=>{var v=(b.startAngle+b.endAngle)/2,j=ds(b.cx,b.cy,b.outerRadius+f,v),w=Sa(Sa(Sa(Sa({},d),b),{},{stroke:"none"},u),{},{index:p,textAnchor:bne(j.x,b.cx)},j),N=Sa(Sa(Sa(Sa({},d),b),{},{fill:"none",stroke:b.fill},m),{},{index:p,points:[ds(b.cx,b.cy,b.outerRadius,v),j],key:"line"});return g.createElement(nn,{key:"label-".concat(b.startAngle,"-").concat(b.endAngle,"-").concat(b.midAngle,"-").concat(p)},i&&Sne(i,N),_ne(n,w,ta(b,o)))});return g.createElement(nn,{className:"recharts-pie-labels"},x)}function kne(t){var{sectors:r,props:a,showLabels:s}=t,{label:n}=a;return typeof n=="object"&&n!=null&&"position"in n?g.createElement(tw,{label:a.label}):g.createElement(Ane,{sectors:r,props:a,showLabels:s})}function Cne(t){var{sectors:r,activeShape:a,inactiveShape:s,allOtherPieProps:n}=t,i=jt(Id),{onMouseEnter:o,onClick:d,onMouseLeave:u}=n,m=uw(n,dne),f=iw(o,n.dataKey),x=lw(u),b=ow(d,n.dataKey);return r==null||r.length===0?null:g.createElement(g.Fragment,null,r.map((p,v)=>{if(p?.startAngle===0&&p?.endAngle===0&&r.length!==1)return null;var j=a&&String(v)===i,w=i?s:null,N=j?a:w,P=Sa(Sa({},p),{},{stroke:p.stroke,tabIndex:-1,[pP]:v,[gP]:n.dataKey});return g.createElement(nn,Bd({tabIndex:-1,className:"recharts-pie-sector"},hy(m,p,v),{onMouseEnter:f(p,v),onMouseLeave:x(p,v),onClick:b(p,v),key:"sector-".concat(p?.startAngle,"-").concat(p?.endAngle,"-").concat(p.midAngle,"-").concat(v)}),g.createElement(rD,Bd({option:N,isActive:j,shapeType:"sector"},P)))}))}function Ene(t){var r,{pieSettings:a,displayedData:s,cells:n,offset:i}=t,{cornerRadius:o,startAngle:d,endAngle:u,dataKey:m,nameKey:f,tooltipType:x}=a,b=Math.abs(a.minAngle),p=Nne(d,u),v=Math.abs(p),j=s.length<=1?0:(r=a.paddingAngle)!==null&&r!==void 0?r:0,w=s.filter(R=>ta(R,m,0)!==0).length,N=(v>=360?w:w-1)*j,P=v-w*b-N,A=s.reduce((R,E)=>{var O=ta(E,m,0);return R+(kt(O)?O:0)},0),D;if(A>0){var T;D=s.map((R,E)=>{var O=ta(R,m,0),k=ta(R,f,E),Y=jne(a,i,R),$=(kt(O)?O:0)/A,M,F=Sa(Sa({},R),n&&n[E]&&n[E].props);E?M=T.endAngle+$s(p)*j*(O!==0?1:0):M=d;var K=M+$s(p)*((O!==0?b:0)+$*P),q=(M+K)/2,U=(Y.innerRadius+Y.outerRadius)/2,V=[{name:k,value:O,payload:F,dataKey:m,type:x}],Z=ds(Y.cx,Y.cy,U,q);return T=Sa(Sa(Sa(Sa({},a.presentationProps),{},{percent:$,cornerRadius:o,name:k,tooltipPayload:V,midAngle:q,middleRadius:U,tooltipPosition:Z},F),Y),{},{value:ta(R,m),startAngle:M,endAngle:K,payload:F,paddingAngle:$s(p)*j}),T})}return D}function Pne(t){var{showLabels:r,sectors:a,children:s}=t,n=g.useMemo(()=>!r||!a?[]:a.map(i=>({value:i.value,payload:i.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:i.cx,cy:i.cy,innerRadius:i.innerRadius,outerRadius:i.outerRadius,startAngle:i.startAngle,endAngle:i.endAngle,clockWise:!1},fill:i.fill})),[a,r]);return g.createElement(xse,{value:r?n:void 0},s)}function Tne(t){var{props:r,previousSectorsRef:a}=t,{sectors:s,isAnimationActive:n,animationBegin:i,animationDuration:o,animationEasing:d,activeShape:u,inactiveShape:m,onAnimationStart:f,onAnimationEnd:x}=r,b=Vx(r,"recharts-pie-"),p=a.current,[v,j]=g.useState(!1),w=g.useCallback(()=>{typeof x=="function"&&x(),j(!1)},[x]),N=g.useCallback(()=>{typeof f=="function"&&f(),j(!0)},[f]);return g.createElement(Pne,{showLabels:!v,sectors:s},g.createElement(Yx,{animationId:b,begin:i,duration:o,isActive:n,easing:d,onAnimationStart:N,onAnimationEnd:w,key:b},P=>{var A=[],D=s&&s[0],T=D?.startAngle;return s?.forEach((R,E)=>{var O=p&&p[E],k=E>0?tm(R,"paddingAngle",0):0;if(O){var Y=Ua(O.endAngle-O.startAngle,R.endAngle-R.startAngle,P),$=Sa(Sa({},R),{},{startAngle:T+k,endAngle:T+Y+k});A.push($),T=$.endAngle}else{var{endAngle:M,startAngle:F}=R,K=Ua(0,M-F,P),q=Sa(Sa({},R),{},{startAngle:T+k,endAngle:T+K+k});A.push(q),T=q.endAngle}}),a.current=A,g.createElement(nn,null,g.createElement(Cne,{sectors:A,activeShape:u,inactiveShape:m,allOtherPieProps:r}))}),g.createElement(kne,{showLabels:!v,sectors:s,props:r}),r.children)}var One={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!om.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function Dne(t){var{id:r}=t,a=uw(t,une),{hide:s,className:n,rootTabIndex:i}=t,o=g.useMemo(()=>DN(t.children,Fd),[t.children]),d=jt(f=>Ose(f,r,o)),u=g.useRef(null),m=Dr("recharts-pie",n);return s||d==null?(u.current=null,g.createElement(nn,{tabIndex:i,className:m})):g.createElement(g.Fragment,null,g.createElement(cw,{fn:yne,args:Sa(Sa({},t),{},{sectors:d})}),g.createElement(nn,{tabIndex:i,className:m},g.createElement(Tne,{props:Sa(Sa({},a),{},{sectors:d}),previousSectorsRef:u})))}function Ox(t){var r=ti(t,One),{id:a}=r,s=uw(r,mne),n=kc(s);return g.createElement(dw,{id:a,type:"pie"},i=>g.createElement(g.Fragment,null,g.createElement(cne,{type:"pie",id:i,data:s.data,dataKey:s.dataKey,hide:s.hide,angleAxisId:0,radiusAxisId:0,name:s.name,nameKey:s.nameKey,tooltipType:s.tooltipType,legendType:s.legendType,fill:s.fill,cx:s.cx,cy:s.cy,startAngle:s.startAngle,endAngle:s.endAngle,paddingAngle:s.paddingAngle,minAngle:s.minAngle,innerRadius:s.innerRadius,outerRadius:s.outerRadius,cornerRadius:s.cornerRadius,presentationProps:n}),g.createElement(gne,Bd({},s,{id:i})),g.createElement(Dne,Bd({},s,{id:i}))))}Ox.displayName="Pie";function MA(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,s)}return a}function RA(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?MA(Object(a),!0).forEach(function(s){Lne(t,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):MA(Object(a)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(a,s))})}return t}function Lne(t,r,a){return(r=Mne(r))in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function Mne(t){var r=Rne(t,"string");return typeof r=="symbol"?r:r+""}function Rne(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var $ne={xAxis:{},yAxis:{},zAxis:{}},lD=Ti({name:"cartesianAxis",initialState:$ne,reducers:{addXAxis(t,r){t.xAxis[r.payload.id]=r.payload},removeXAxis(t,r){delete t.xAxis[r.payload.id]},addYAxis(t,r){t.yAxis[r.payload.id]=r.payload},removeYAxis(t,r){delete t.yAxis[r.payload.id]},addZAxis(t,r){t.zAxis[r.payload.id]=r.payload},removeZAxis(t,r){delete t.zAxis[r.payload.id]},updateYAxisWidth(t,r){var{id:a,width:s}=r.payload;t.yAxis[a]&&(t.yAxis[a]=RA(RA({},t.yAxis[a]),{},{width:s}))}}}),{addXAxis:Ine,removeXAxis:Fne,addYAxis:Bne,removeYAxis:zne,addZAxis:oue,removeZAxis:cue,updateYAxisWidth:Une}=lD.actions,qne=lD.reducer,Hne=ze([Ns],t=>{if(t)return{top:t.top,bottom:t.bottom,left:t.left,right:t.right}}),Gne=ze([Hne,Cc,Ec],(t,r,a)=>{if(!(!t||r==null||a==null))return{x:t.left,y:t.top,width:Math.max(0,r-t.left-t.right),height:Math.max(0,a-t.top-t.bottom)}}),mw=()=>jt(Gne),Yne=()=>jt(bre);function $A(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,s)}return a}function IA(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?$A(Object(a),!0).forEach(function(s){Vne(t,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):$A(Object(a)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(a,s))})}return t}function Vne(t,r,a){return(r=Kne(r))in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function Kne(t){var r=Wne(t,"string");return typeof r=="symbol"?r:r+""}function Wne(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var Xne=t=>{var{point:r,childIndex:a,mainColor:s,activeDot:n,dataKey:i}=t;if(n===!1||r.x==null||r.y==null)return null;var o=IA(IA({index:a,dataKey:i,cx:r.x,cy:r.y,r:4,fill:s??"none",strokeWidth:2,stroke:"#fff",payload:r.payload,value:r.value},_a(n,!1)),ON(n)),d;return g.isValidElement(n)?d=g.cloneElement(n,o):typeof n=="function"?d=n(o):d=g.createElement(JO,o),g.createElement(nn,{className:"recharts-active-dot"},d)};function Jne(t){var{points:r,mainColor:a,activeDot:s,itemDataKey:n}=t,i=jt(Id),o=Yne();if(r==null||o==null)return null;var d=r.find(u=>o.includes(u.payload));return ka(d)?null:Xne({point:d,childIndex:Number(i),mainColor:a,dataKey:n,activeDot:s})}var Zne="Invariant failed";function Qne(t,r){throw new Error(Zne)}var eie=["x","y"];function Qj(){return Qj=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var s in a)({}).hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},Qj.apply(null,arguments)}function FA(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,s)}return a}function Qh(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?FA(Object(a),!0).forEach(function(s){tie(t,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):FA(Object(a)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(a,s))})}return t}function tie(t,r,a){return(r=rie(r))in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function rie(t){var r=aie(t,"string");return typeof r=="symbol"?r:r+""}function aie(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function sie(t,r){if(t==null)return{};var a,s,n=nie(t,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)a=i[s],r.indexOf(a)===-1&&{}.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}function nie(t,r){if(t==null)return{};var a={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(r.indexOf(s)!==-1)continue;a[s]=t[s]}return a}function iie(t,r){var{x:a,y:s}=t,n=sie(t,eie),i="".concat(a),o=parseInt(i,10),d="".concat(s),u=parseInt(d,10),m="".concat(r.height||n.height),f=parseInt(m,10),x="".concat(r.width||n.width),b=parseInt(x,10);return Qh(Qh(Qh(Qh(Qh({},r),n),o?{x:o}:{}),u?{y:u}:{}),{},{height:f,width:b,name:r.name,radius:r.radius})}function fw(t){return g.createElement(rD,Qj({shapeType:"rectangle",propTransformer:iie,activeClassName:"recharts-active-bar"},t))}var lie=function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(s,n)=>{if(kt(r))return r;var i=kt(s)||ka(s);return i?r(s,n):(i||Qne(),a)}},oie={},oD=Ti({name:"errorBars",initialState:oie,reducers:{addErrorBar:(t,r)=>{var{itemId:a,errorBar:s}=r.payload;t[a]||(t[a]=[]),t[a].push(s)},replaceErrorBar:(t,r)=>{var{itemId:a,prev:s,next:n}=r.payload;t[a]&&(t[a]=t[a].map(i=>i.dataKey===s.dataKey&&i.direction===s.direction?n:i))},removeErrorBar:(t,r)=>{var{itemId:a,errorBar:s}=r.payload;t[a]&&(t[a]=t[a].filter(n=>n.dataKey!==s.dataKey||n.direction!==s.direction))}}}),{addErrorBar:due,replaceErrorBar:uue,removeErrorBar:mue}=oD.actions,cie=oD.reducer,die=["children"];function uie(t,r){if(t==null)return{};var a,s,n=mie(t,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)a=i[s],r.indexOf(a)===-1&&{}.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}function mie(t,r){if(t==null)return{};var a={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(r.indexOf(s)!==-1)continue;a[s]=t[s]}return a}var fie={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},hie=g.createContext(fie);function cD(t){var{children:r}=t,a=uie(t,die);return g.createElement(hie.Provider,{value:a},r)}function hw(t,r){var a,s,n=jt(m=>Yd(m,t)),i=jt(m=>Vd(m,r)),o=(a=n?.allowDataOverflow)!==null&&a!==void 0?a:vi.allowDataOverflow,d=(s=i?.allowDataOverflow)!==null&&s!==void 0?s:ji.allowDataOverflow,u=o||d;return{needClip:u,needClipX:o,needClipY:d}}function dD(t){var{xAxisId:r,yAxisId:a,clipPathId:s}=t,n=mw(),{needClipX:i,needClipY:o,needClip:d}=hw(r,a);if(!d)return null;var{x:u,y:m,width:f,height:x}=n;return g.createElement("clipPath",{id:"clipPath-".concat(s)},g.createElement("rect",{x:i?u:u-f/2,y:o?m:m-x/2,width:i?f:f*2,height:o?x:x*2}))}var xie=["onMouseEnter","onMouseLeave","onClick"],pie=["value","background","tooltipPosition"],gie=["id"],yie=["onMouseEnter","onClick","onMouseLeave"];function zd(){return zd=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var s in a)({}).hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},zd.apply(null,arguments)}function BA(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,s)}return a}function En(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?BA(Object(a),!0).forEach(function(s){bie(t,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):BA(Object(a)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(a,s))})}return t}function bie(t,r,a){return(r=vie(r))in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function vie(t){var r=jie(t,"string");return typeof r=="symbol"?r:r+""}function jie(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function qg(t,r){if(t==null)return{};var a,s,n=Nie(t,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)a=i[s],r.indexOf(a)===-1&&{}.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}function Nie(t,r){if(t==null)return{};var a={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(r.indexOf(s)!==-1)continue;a[s]=t[s]}return a}var wie=t=>{var{dataKey:r,name:a,fill:s,legendType:n,hide:i}=t;return[{inactive:i,dataKey:r,type:n,color:s,value:Ff(a,r),payload:t}]};function Sie(t){var{dataKey:r,stroke:a,strokeWidth:s,fill:n,name:i,hide:o,unit:d}=t;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:a,strokeWidth:s,fill:n,dataKey:r,nameKey:void 0,name:Ff(i,r),hide:o,type:t.tooltipType,color:t.fill,unit:d}}}function _ie(t){var r=jt(Id),{data:a,dataKey:s,background:n,allOtherBarProps:i}=t,{onMouseEnter:o,onMouseLeave:d,onClick:u}=i,m=qg(i,xie),f=iw(o,s),x=lw(d),b=ow(u,s);if(!n||a==null)return null;var p=_a(n,!1);return g.createElement(g.Fragment,null,a.map((v,j)=>{var{value:w,background:N,tooltipPosition:P}=v,A=qg(v,pie);if(!N)return null;var D=f(v,j),T=x(v,j),R=b(v,j),E=En(En(En(En(En({option:n,isActive:String(j)===r},A),{},{fill:"#eee"},N),p),hy(m,v,j)),{},{onMouseEnter:D,onMouseLeave:T,onClick:R,dataKey:s,index:j,className:"recharts-bar-background-rectangle"});return g.createElement(fw,zd({key:"background-bar-".concat(j)},E))}))}function Aie(t){var{showLabels:r,children:a,rects:s}=t,n=s?.map(i=>{var o={x:i.x,y:i.y,width:i.width,height:i.height};return En(En({},o),{},{value:i.value,payload:i.payload,parentViewBox:i.parentViewBox,viewBox:o,fill:i.fill})});return g.createElement(WO,{value:r?n:void 0},a)}function kie(t){var{shape:r,activeBar:a,baseProps:s,entry:n,index:i,dataKey:o}=t,d=jt(Id),u=jt(PO),m=a&&String(i)===d&&(u==null||o===u),f=m?a:r;return g.createElement(fw,zd({},s,n,{isActive:m,option:f,index:i,dataKey:o}))}function Cie(t){var{shape:r,baseProps:a,entry:s,index:n,dataKey:i}=t;return g.createElement(fw,zd({},a,s,{isActive:!1,option:r,index:n,dataKey:i}))}function Eie(t){var{data:r,props:a}=t,s=kc(a),{id:n}=s,i=qg(s,gie),{shape:o,dataKey:d,activeBar:u}=a,{onMouseEnter:m,onClick:f,onMouseLeave:x}=a,b=qg(a,yie),p=iw(m,d),v=lw(x),j=ow(f,d);return r?g.createElement(g.Fragment,null,r.map((w,N)=>g.createElement(nn,zd({className:"recharts-bar-rectangle"},hy(b,w,N),{onMouseEnter:p(w,N),onMouseLeave:v(w,N),onClick:j(w,N),key:"rectangle-".concat(w?.x,"-").concat(w?.y,"-").concat(w?.value,"-").concat(N)}),u?g.createElement(kie,{shape:o,activeBar:u,baseProps:i,entry:w,index:N,dataKey:d}):g.createElement(Cie,{shape:o,baseProps:i,entry:w,index:N,dataKey:d})))):null}function Pie(t){var{props:r,previousRectanglesRef:a}=t,{data:s,layout:n,isAnimationActive:i,animationBegin:o,animationDuration:d,animationEasing:u,onAnimationEnd:m,onAnimationStart:f}=r,x=a.current,b=Vx(r,"recharts-bar-"),[p,v]=g.useState(!1),j=!p,w=g.useCallback(()=>{typeof m=="function"&&m(),v(!1)},[m]),N=g.useCallback(()=>{typeof f=="function"&&f(),v(!0)},[f]);return g.createElement(Aie,{showLabels:j,rects:s},g.createElement(Yx,{animationId:b,begin:o,duration:d,isActive:i,easing:u,onAnimationEnd:w,onAnimationStart:N,key:b},P=>{var A=P===1?s:s?.map((D,T)=>{var R=x&&x[T];if(R)return En(En({},D),{},{x:Ua(R.x,D.x,P),y:Ua(R.y,D.y,P),width:Ua(R.width,D.width,P),height:Ua(R.height,D.height,P)});if(n==="horizontal"){var E=Ua(0,D.height,P);return En(En({},D),{},{y:D.y+D.height-E,height:E})}var O=Ua(0,D.width,P);return En(En({},D),{},{width:O})});return P>0&&(a.current=A??null),A==null?null:g.createElement(nn,null,g.createElement(Eie,{props:r,data:A}))}),g.createElement(tw,{label:r.label}),r.children)}function Tie(t){var r=g.useRef(null);return g.createElement(Pie,{previousRectanglesRef:r,props:t})}var uD=0,Oie=(t,r)=>{var a=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:a,errorVal:ta(t,r)}};class Die extends g.PureComponent{render(){var{hide:r,data:a,dataKey:s,className:n,xAxisId:i,yAxisId:o,needClip:d,background:u,id:m}=this.props;if(r||a==null)return null;var f=Dr("recharts-bar",n),x=m;return g.createElement(nn,{className:f,id:m},d&&g.createElement("defs",null,g.createElement(dD,{clipPathId:x,xAxisId:i,yAxisId:o})),g.createElement(nn,{className:"recharts-bar-rectangles",clipPath:d?"url(#clipPath-".concat(x,")"):void 0},g.createElement(_ie,{data:a,dataKey:s,background:u,allOtherBarProps:this.props}),g.createElement(Tie,this.props)))}}var Lie={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!om.isSsr,legendType:"rect",minPointSize:uD,xAxisId:0,yAxisId:0};function Mie(t){var{xAxisId:r,yAxisId:a,hide:s,legendType:n,minPointSize:i,activeBar:o,animationBegin:d,animationDuration:u,animationEasing:m,isAnimationActive:f}=t,{needClip:x}=hw(r,a),b=Cy(),p=ei(),v=DN(t.children,Fd),j=jt(P=>ole(P,r,a,p,t.id,v));if(b!=="vertical"&&b!=="horizontal")return null;var w,N=j?.[0];return N==null||N.height==null||N.width==null?w=0:w=b==="vertical"?N.height/2:N.width/2,g.createElement(cD,{xAxisId:r,yAxisId:a,data:j,dataPointFormatter:Oie,errorBarOffset:w},g.createElement(Die,zd({},t,{layout:b,needClip:x,data:j,xAxisId:r,yAxisId:a,hide:s,legendType:n,minPointSize:i,activeBar:o,animationBegin:d,animationDuration:u,animationEasing:m,isAnimationActive:f})))}function Rie(t){var{layout:r,barSettings:{dataKey:a,minPointSize:s},pos:n,bandSize:i,xAxis:o,yAxis:d,xAxisTicks:u,yAxisTicks:m,stackedData:f,displayedData:x,offset:b,cells:p,parentViewBox:v}=t,j=r==="horizontal"?d:o,w=f?j.scale.domain():null,N=cX({numericAxis:j});return x.map((P,A)=>{var D,T,R,E,O,k;f?D=aX(f[A],w):(D=ta(P,a),Array.isArray(D)||(D=[N,D]));var Y=lie(s,uD)(D[1],A);if(r==="horizontal"){var $,[M,F]=[d.scale(D[0]),d.scale(D[1])];T=k8({axis:o,ticks:u,bandSize:i,offset:n.offset,entry:P,index:A}),R=($=F??M)!==null&&$!==void 0?$:void 0,E=n.size;var K=M-F;if(O=ki(K)?0:K,k={x:T,y:b.top,width:E,height:b.height},Math.abs(Y)>0&&Math.abs(O)<Math.abs(Y)){var q=$s(O||Y)*(Math.abs(Y)-Math.abs(O));R-=q,O+=q}}else{var[U,V]=[o.scale(D[0]),o.scale(D[1])];if(T=U,R=k8({axis:d,ticks:m,bandSize:i,offset:n.offset,entry:P,index:A}),E=V-U,O=n.size,k={x:b.left,y:R,width:b.width,height:O},Math.abs(Y)>0&&Math.abs(E)<Math.abs(Y)){var Z=$s(E||Y)*(Math.abs(Y)-Math.abs(E));E+=Z}}if(T==null||R==null||E==null||O==null)return null;var X=En(En({},P),{},{x:T,y:R,width:E,height:O,value:f?D:D[1],payload:P,background:k,tooltipPosition:{x:T+E/2,y:R+O/2},parentViewBox:v},p&&p[A]&&p[A].props);return X}).filter(Boolean)}function Yu(t){var r=ti(t,Lie),a=ei();return g.createElement(dw,{id:r.id,type:"bar"},s=>g.createElement(g.Fragment,null,g.createElement(sD,{legendPayload:wie(r)}),g.createElement(cw,{fn:Sie,args:r}),g.createElement(iD,{type:"bar",id:s,data:void 0,xAxisId:r.xAxisId,yAxisId:r.yAxisId,zAxisId:0,dataKey:r.dataKey,stackId:oX(r.stackId),hide:r.hide,barSize:r.barSize,minPointSize:r.minPointSize,maxBarSize:r.maxBarSize,isPanorama:a}),g.createElement(Mie,zd({},r,{id:s}))))}Yu.displayName="Bar";function zA(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,s)}return a}function Op(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?zA(Object(a),!0).forEach(function(s){$ie(t,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):zA(Object(a)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(a,s))})}return t}function $ie(t,r,a){return(r=Iie(r))in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function Iie(t){var r=Fie(t,"string");return typeof r=="symbol"?r:r+""}function Fie(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var Bie=(t,r)=>r,zie=(t,r,a)=>a,Uie=(t,r,a,s)=>s,qie=(t,r,a,s,n)=>n,n0=ze([By,qie],(t,r)=>t.filter(a=>a.type==="bar").find(a=>a.id===r)),Hie=ze([n0],t=>t?.maxBarSize),Gie=(t,r,a,s,n,i)=>i,UA=(t,r,a)=>{var s=a??t;if(!ka(s))return pn(s,r,0)},Yie=ze([wr,By,Bie,zie,Uie],(t,r,a,s,n)=>r.filter(i=>t==="horizontal"?i.xAxisId===a:i.yAxisId===s).filter(i=>i.isPanorama===n).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),Vie=(t,r,a,s)=>{var n=wr(t);return n==="horizontal"?Yj(t,"yAxis",a,s):Yj(t,"xAxis",r,s)},Kie=(t,r,a)=>{var s=wr(t);return s==="horizontal"?U7(t,"xAxis",r):U7(t,"yAxis",a)},Wie=(t,r,a)=>{var s={},n=t.filter(Fy),i=t.filter(m=>m.stackId==null),o=n.reduce((m,f)=>(m[f.stackId]||(m[f.stackId]=[]),m[f.stackId].push(f),m),s),d=Object.entries(o).map(m=>{var[f,x]=m,b=x.map(v=>v.dataKey),p=UA(r,a,x[0].barSize);return{stackId:f,dataKeys:b,barSize:p}}),u=i.map(m=>{var f=[m.dataKey].filter(b=>b!=null),x=UA(r,a,m.barSize);return{stackId:void 0,dataKeys:f,barSize:x}});return[...d,...u]},Xie=ze([Yie,Pee,Kie],Wie),Jie=(t,r,a,s,n)=>{var i,o,d=n0(t,r,a,s,n);if(d!=null){var u=wr(t),m=CT(t),{maxBarSize:f}=d,x=ka(f)?m:f,b,p;return u==="horizontal"?(b=$d(t,"xAxis",r,s),p=Rd(t,"xAxis",r,s)):(b=$d(t,"yAxis",a,s),p=Rd(t,"yAxis",a,s)),(i=(o=Sx(b,p,!0))!==null&&o!==void 0?o:x)!==null&&i!==void 0?i:0}},mD=(t,r,a,s)=>{var n=wr(t),i,o;return n==="horizontal"?(i=$d(t,"xAxis",r,s),o=Rd(t,"xAxis",r,s)):(i=$d(t,"yAxis",a,s),o=Rd(t,"yAxis",a,s)),Sx(i,o)};function Zie(t,r,a,s,n){var i=s.length;if(!(i<1)){var o=pn(t,a,0,!0),d,u=[];if(Ei(s[0].barSize)){var m=!1,f=a/i,x=s.reduce((N,P)=>N+(P.barSize||0),0);x+=(i-1)*o,x>=a&&(x-=(i-1)*o,o=0),x>=a&&f>0&&(m=!0,f*=.9,x=i*f);var b=(a-x)/2>>0,p={offset:b-o,size:0};d=s.reduce((N,P)=>{var A,D={stackId:P.stackId,dataKeys:P.dataKeys,position:{offset:p.offset+p.size+o,size:m?f:(A=P.barSize)!==null&&A!==void 0?A:0}},T=[...N,D];return p=T[T.length-1].position,T},u)}else{var v=pn(r,a,0,!0);a-2*v-(i-1)*o<=0&&(o=0);var j=(a-2*v-(i-1)*o)/i;j>1&&(j>>=0);var w=Ei(n)?Math.min(j,n):j;d=s.reduce((N,P,A)=>[...N,{stackId:P.stackId,dataKeys:P.dataKeys,position:{offset:v+(j+o)*A+(j-w)/2,size:w}}],u)}return d}}var Qie=(t,r,a,s,n,i,o)=>{var d=ka(o)?r:o,u=Zie(a,s,n!==i?n:i,t,d);return n!==i&&u!=null&&(u=u.map(m=>Op(Op({},m),{},{position:Op(Op({},m.position),{},{offset:m.position.offset-n/2})}))),u},ele=ze([Xie,CT,Eee,ET,Jie,mD,Hie],Qie),tle=(t,r,a,s)=>$d(t,"xAxis",r,s),rle=(t,r,a,s)=>$d(t,"yAxis",a,s),ale=(t,r,a,s)=>Rd(t,"xAxis",r,s),sle=(t,r,a,s)=>Rd(t,"yAxis",a,s),nle=ze([ele,n0],(t,r)=>{if(!(t==null||r==null)){var a=t.find(s=>s.stackId===r.stackId&&r.dataKey!=null&&s.dataKeys.includes(r.dataKey));if(a!=null)return a.position}}),ile=(t,r)=>{var a=A5(r);if(!(!t||a==null||r==null)){var{stackId:s}=r;if(s!=null){var n=t[s];if(n){var{stackedData:i}=n;if(i)return i.find(o=>o.key===a)}}}},lle=ze([Vie,n0],ile),ole=ze([Ns,GN,tle,rle,ale,sle,nle,wr,My,mD,lle,n0,Gie],(t,r,a,s,n,i,o,d,u,m,f,x,b)=>{var{chartData:p,dataStartIndex:v,dataEndIndex:j}=u;if(!(x==null||o==null||r==null||d!=="horizontal"&&d!=="vertical"||a==null||s==null||n==null||i==null||m==null)){var{data:w}=x,N;if(w!=null&&w.length>0?N=w:N=p?.slice(v,j+1),N!=null)return Rie({layout:d,barSettings:x,pos:o,parentViewBox:r,bandSize:m,xAxis:a,yAxis:s,xAxisTicks:n,yAxisTicks:i,stackedData:f,displayedData:N,offset:t,cells:b})}}),fD=t=>{var{chartData:r}=t,a=rs(),s=ei();return g.useEffect(()=>s?()=>{}:(a(Z7(r)),()=>{a(Z7(void 0))}),[r,a,s]),null},qA={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},hD=Ti({name:"brush",initialState:qA,reducers:{setBrushSettings(t,r){return r.payload==null?qA:r.payload}}}),{setBrushSettings:fue}=hD.actions,cle=hD.reducer;function dle(t,r,a){return(r=ule(r))in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function ule(t){var r=mle(t,"string");return typeof r=="symbol"?r:r+""}function mle(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}class xw{static create(r){return new xw(r)}constructor(r){this.scale=r}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(r){var{bandAware:a,position:s}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(r!==void 0){if(s)switch(s){case"start":return this.scale(r);case"middle":{var n=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+n}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(r)+i}default:return this.scale(r)}if(a){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}return this.scale(r)}}isInRange(r){var a=this.range(),s=a[0],n=a[a.length-1];return s<=n?r>=s&&r<=n:r>=n&&r<=s}}dle(xw,"EPS",1e-4);function fle(t){return(t%180+180)%180}var hle=function(r){var{width:a,height:s}=r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=fle(n),o=i*Math.PI/180,d=Math.atan(s/a),u=o>d&&o<Math.PI-d?s/Math.sin(o):a/Math.cos(o);return Math.abs(u)},xle={dots:[],areas:[],lines:[]},xD=Ti({name:"referenceElements",initialState:xle,reducers:{addDot:(t,r)=>{t.dots.push(r.payload)},removeDot:(t,r)=>{var a=fc(t).dots.findIndex(s=>s===r.payload);a!==-1&&t.dots.splice(a,1)},addArea:(t,r)=>{t.areas.push(r.payload)},removeArea:(t,r)=>{var a=fc(t).areas.findIndex(s=>s===r.payload);a!==-1&&t.areas.splice(a,1)},addLine:(t,r)=>{t.lines.push(r.payload)},removeLine:(t,r)=>{var a=fc(t).lines.findIndex(s=>s===r.payload);a!==-1&&t.lines.splice(a,1)}}}),{addDot:hue,removeDot:xue,addArea:pue,removeArea:gue,addLine:yue,removeLine:bue}=xD.actions,ple=xD.reducer,gle=g.createContext(void 0),yle=t=>{var{children:r}=t,[a]=g.useState("".concat(jx("recharts"),"-clip")),s=mw();if(s==null)return null;var{x:n,y:i,width:o,height:d}=s;return g.createElement(gle.Provider,{value:a},g.createElement("defs",null,g.createElement("clipPath",{id:a},g.createElement("rect",{x:n,y:i,height:d,width:o}))),r)};function j2(t,r){for(var a in t)if({}.hasOwnProperty.call(t,a)&&(!{}.hasOwnProperty.call(r,a)||t[a]!==r[a]))return!1;for(var s in r)if({}.hasOwnProperty.call(r,s)&&!{}.hasOwnProperty.call(t,s))return!1;return!0}function pD(t,r,a){if(r<1)return[];if(r===1&&a===void 0)return t;for(var s=[],n=0;n<t.length;n+=r)s.push(t[n]);return s}function ble(t,r,a){var s={width:t.width+r.width,height:t.height+r.height};return hle(s,a)}function vle(t,r,a){var s=a==="width",{x:n,y:i,width:o,height:d}=t;return r===1?{start:s?n:i,end:s?n+o:i+d}:{start:s?n+o:i+d,end:s?n:i}}function Hg(t,r,a,s,n){if(t*r<t*s||t*r>t*n)return!1;var i=a();return t*(r-t*i/2-s)>=0&&t*(r+t*i/2-n)<=0}function jle(t,r){return pD(t,r+1)}function Nle(t,r,a,s,n){for(var i=(s||[]).slice(),{start:o,end:d}=r,u=0,m=1,f=o,x=function(){var v=s?.[u];if(v===void 0)return{v:pD(s,m)};var j=u,w,N=()=>(w===void 0&&(w=a(v,j)),w),P=v.coordinate,A=u===0||Hg(t,P,N,f,d);A||(u=0,f=o,m+=1),A&&(f=P+t*(N()/2+n),u+=m)},b;m<=i.length;)if(b=x(),b)return b.v;return[]}function HA(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,s)}return a}function fn(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?HA(Object(a),!0).forEach(function(s){wle(t,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):HA(Object(a)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(a,s))})}return t}function wle(t,r,a){return(r=Sle(r))in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function Sle(t){var r=_le(t,"string");return typeof r=="symbol"?r:r+""}function _le(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function Ale(t,r,a,s,n){for(var i=(s||[]).slice(),o=i.length,{start:d}=r,{end:u}=r,m=function(b){var p=i[b],v,j=()=>(v===void 0&&(v=a(p,b)),v);if(b===o-1){var w=t*(p.coordinate+t*j()/2-u);i[b]=p=fn(fn({},p),{},{tickCoord:w>0?p.coordinate-w*t:p.coordinate})}else i[b]=p=fn(fn({},p),{},{tickCoord:p.coordinate});var N=Hg(t,p.tickCoord,j,d,u);N&&(u=p.tickCoord-t*(j()/2+n),i[b]=fn(fn({},p),{},{isShow:!0}))},f=o-1;f>=0;f--)m(f);return i}function kle(t,r,a,s,n,i){var o=(s||[]).slice(),d=o.length,{start:u,end:m}=r;if(i){var f=s[d-1],x=a(f,d-1),b=t*(f.coordinate+t*x/2-m);o[d-1]=f=fn(fn({},f),{},{tickCoord:b>0?f.coordinate-b*t:f.coordinate});var p=Hg(t,f.tickCoord,()=>x,u,m);p&&(m=f.tickCoord-t*(x/2+n),o[d-1]=fn(fn({},f),{},{isShow:!0}))}for(var v=i?d-1:d,j=function(P){var A=o[P],D,T=()=>(D===void 0&&(D=a(A,P)),D);if(P===0){var R=t*(A.coordinate-t*T()/2-u);o[P]=A=fn(fn({},A),{},{tickCoord:R<0?A.coordinate-R*t:A.coordinate})}else o[P]=A=fn(fn({},A),{},{tickCoord:A.coordinate});var E=Hg(t,A.tickCoord,T,u,m);E&&(u=A.tickCoord+t*(T()/2+n),o[P]=fn(fn({},A),{},{isShow:!0}))},w=0;w<v;w++)j(w);return o}function pw(t,r,a){var{tick:s,ticks:n,viewBox:i,minTickGap:o,orientation:d,interval:u,tickFormatter:m,unit:f,angle:x}=t;if(!n||!n.length||!s)return[];if(kt(u)||om.isSsr){var b;return(b=jle(n,kt(u)?u:0))!==null&&b!==void 0?b:[]}var p=[],v=d==="top"||d==="bottom"?"width":"height",j=f&&v==="width"?ux(f,{fontSize:r,letterSpacing:a}):{width:0,height:0},w=(A,D)=>{var T=typeof m=="function"?m(A.value,D):A.value;return v==="width"?ble(ux(T,{fontSize:r,letterSpacing:a}),j,x):ux(T,{fontSize:r,letterSpacing:a})[v]},N=n.length>=2?$s(n[1].coordinate-n[0].coordinate):1,P=vle(i,N,v);return u==="equidistantPreserveStart"?Nle(N,P,w,n,o):(u==="preserveStart"||u==="preserveStartEnd"?p=kle(N,P,w,n,o,u==="preserveStartEnd"):p=Ale(N,P,w,n,o),p.filter(A=>A.isShow))}var Cle=["viewBox"],Ele=["viewBox"];function of(){return of=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var s in a)({}).hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},of.apply(null,arguments)}function GA(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,s)}return a}function vs(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?GA(Object(a),!0).forEach(function(s){gw(t,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):GA(Object(a)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(a,s))})}return t}function YA(t,r){if(t==null)return{};var a,s,n=Ple(t,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)a=i[s],r.indexOf(a)===-1&&{}.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}function Ple(t,r){if(t==null)return{};var a={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(r.indexOf(s)!==-1)continue;a[s]=t[s]}return a}function gw(t,r,a){return(r=Tle(r))in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function Tle(t){var r=Ole(t,"string");return typeof r=="symbol"?r:r+""}function Ole(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}class Kd extends g.Component{constructor(r){super(r),this.tickRefs=g.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(r,a){var{viewBox:s}=r,n=YA(r,Cle),i=this.props,{viewBox:o}=i,d=YA(i,Ele);return!j2(s,o)||!j2(n,d)||!j2(a,this.state)}getTickLineCoord(r){var{x:a,y:s,width:n,height:i,orientation:o,tickSize:d,mirror:u,tickMargin:m}=this.props,f,x,b,p,v,j,w=u?-1:1,N=r.tickSize||d,P=kt(r.tickCoord)?r.tickCoord:r.coordinate;switch(o){case"top":f=x=r.coordinate,p=s+ +!u*i,b=p-w*N,j=b-w*m,v=P;break;case"left":b=p=r.coordinate,x=a+ +!u*n,f=x-w*N,v=f-w*m,j=P;break;case"right":b=p=r.coordinate,x=a+ +u*n,f=x+w*N,v=f+w*m,j=P;break;default:f=x=r.coordinate,p=s+ +u*i,b=p+w*N,j=b+w*m,v=P;break}return{line:{x1:f,y1:b,x2:x,y2:p},tick:{x:v,y:j}}}getTickTextAnchor(){var{orientation:r,mirror:a}=this.props;switch(r){case"left":return a?"start":"end";case"right":return a?"end":"start";default:return"middle"}}getTickVerticalAnchor(){var{orientation:r,mirror:a}=this.props;switch(r){case"left":case"right":return"middle";case"top":return a?"start":"end";default:return a?"end":"start"}}renderAxisLine(){var{x:r,y:a,width:s,height:n,orientation:i,mirror:o,axisLine:d}=this.props,u=vs(vs(vs({},_a(this.props,!1)),_a(d,!1)),{},{fill:"none"});if(i==="top"||i==="bottom"){var m=+(i==="top"&&!o||i==="bottom"&&o);u=vs(vs({},u),{},{x1:r,y1:a+m*n,x2:r+s,y2:a+m*n})}else{var f=+(i==="left"&&!o||i==="right"&&o);u=vs(vs({},u),{},{x1:r+f*s,y1:a,x2:r+f*s,y2:a+n})}return g.createElement("line",of({},u,{className:Dr("recharts-cartesian-axis-line",tm(d,"className"))}))}static renderTickItem(r,a,s){var n,i=Dr(a.className,"recharts-cartesian-axis-tick-value");if(g.isValidElement(r))n=g.cloneElement(r,vs(vs({},a),{},{className:i}));else if(typeof r=="function")n=r(vs(vs({},a),{},{className:i}));else{var o="recharts-cartesian-axis-tick-value";typeof r!="boolean"&&(o=Dr(o,r.className)),n=g.createElement(Yy,of({},a,{className:o}),s)}return n}renderTicks(r,a){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:n,stroke:i,tick:o,tickFormatter:d,unit:u,padding:m,tickTextProps:f}=this.props,x=pw(vs(vs({},this.props),{},{ticks:s}),r,a),b=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),v=kc(this.props),j=_a(o,!1),w=vs(vs({},v),{},{fill:"none"},_a(n,!1)),N=x.map((P,A)=>{var{line:D,tick:T}=this.getTickLineCoord(P),R=vs(vs(vs(vs({textAnchor:b,verticalAnchor:p},v),{},{stroke:"none",fill:i},j),T),{},{index:A,payload:P,visibleTicksCount:x.length,tickFormatter:d,padding:m},f);return g.createElement(nn,of({className:"recharts-cartesian-axis-tick",key:"tick-".concat(P.value,"-").concat(P.coordinate,"-").concat(P.tickCoord)},hy(this.props,P,A)),n&&g.createElement("line",of({},w,D,{className:Dr("recharts-cartesian-axis-tick-line",tm(n,"className"))})),o&&Kd.renderTickItem(o,R,"".concat(typeof d=="function"?d(P.value,A):P.value).concat(u||"")))});return N.length>0?g.createElement("g",{className:"recharts-cartesian-axis-ticks"},N):null}render(){var{axisLine:r,width:a,height:s,className:n,hide:i}=this.props;if(i)return null;var{ticks:o}=this.props;return a!=null&&a<=0||s!=null&&s<=0?null:g.createElement(nn,{className:Dr("recharts-cartesian-axis",n),ref:d=>{if(d){var u=d.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(u);var m=u[0];if(m){var f=window.getComputedStyle(m).fontSize,x=window.getComputedStyle(m).letterSpacing;(f!==this.state.fontSize||x!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(m).fontSize,letterSpacing:window.getComputedStyle(m).letterSpacing})}}}},r&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,o),g.createElement(Kae,{x:this.props.x,y:this.props.y,width:this.props.width,height:this.props.height},g.createElement(sse,{label:this.props.label}),this.props.children))}}gw(Kd,"displayName","CartesianAxis");gw(Kd,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Dle=["x1","y1","x2","y2","key"],Lle=["offset"],Mle=["xAxisId","yAxisId"],Rle=["xAxisId","yAxisId"];function VA(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,s)}return a}function hn(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?VA(Object(a),!0).forEach(function(s){$le(t,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):VA(Object(a)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(a,s))})}return t}function $le(t,r,a){return(r=Ile(r))in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function Ile(t){var r=Fle(t,"string");return typeof r=="symbol"?r:r+""}function Fle(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function $u(){return $u=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var s in a)({}).hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},$u.apply(null,arguments)}function Gg(t,r){if(t==null)return{};var a,s,n=Ble(t,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)a=i[s],r.indexOf(a)===-1&&{}.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}function Ble(t,r){if(t==null)return{};var a={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(r.indexOf(s)!==-1)continue;a[s]=t[s]}return a}var zle=t=>{var{fill:r}=t;if(!r||r==="none")return null;var{fillOpacity:a,x:s,y:n,width:i,height:o,ry:d}=t;return g.createElement("rect",{x:s,y:n,ry:d,width:i,height:o,stroke:"none",fill:r,fillOpacity:a,className:"recharts-cartesian-grid-bg"})};function gD(t,r){var a;if(g.isValidElement(t))a=g.cloneElement(t,r);else if(typeof t=="function")a=t(r);else{var{x1:s,y1:n,x2:i,y2:o,key:d}=r,u=Gg(r,Dle),m=kc(u),{offset:f}=m,x=Gg(m,Lle);a=g.createElement("line",$u({},x,{x1:s,y1:n,x2:i,y2:o,fill:"none",key:d}))}return a}function Ule(t){var{x:r,width:a,horizontal:s=!0,horizontalPoints:n}=t;if(!s||!n||!n.length)return null;var{xAxisId:i,yAxisId:o}=t,d=Gg(t,Mle),u=n.map((m,f)=>{var x=hn(hn({},d),{},{x1:r,y1:m,x2:r+a,y2:m,key:"line-".concat(f),index:f});return gD(s,x)});return g.createElement("g",{className:"recharts-cartesian-grid-horizontal"},u)}function qle(t){var{y:r,height:a,vertical:s=!0,verticalPoints:n}=t;if(!s||!n||!n.length)return null;var{xAxisId:i,yAxisId:o}=t,d=Gg(t,Rle),u=n.map((m,f)=>{var x=hn(hn({},d),{},{x1:m,y1:r,x2:m,y2:r+a,key:"line-".concat(f),index:f});return gD(s,x)});return g.createElement("g",{className:"recharts-cartesian-grid-vertical"},u)}function Hle(t){var{horizontalFill:r,fillOpacity:a,x:s,y:n,width:i,height:o,horizontalPoints:d,horizontal:u=!0}=t;if(!u||!r||!r.length)return null;var m=d.map(x=>Math.round(x+n-n)).sort((x,b)=>x-b);n!==m[0]&&m.unshift(0);var f=m.map((x,b)=>{var p=!m[b+1],v=p?n+o-x:m[b+1]-x;if(v<=0)return null;var j=b%r.length;return g.createElement("rect",{key:"react-".concat(b),y:x,x:s,height:v,width:i,stroke:"none",fill:r[j],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return g.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function Gle(t){var{vertical:r=!0,verticalFill:a,fillOpacity:s,x:n,y:i,width:o,height:d,verticalPoints:u}=t;if(!r||!a||!a.length)return null;var m=u.map(x=>Math.round(x+n-n)).sort((x,b)=>x-b);n!==m[0]&&m.unshift(0);var f=m.map((x,b)=>{var p=!m[b+1],v=p?n+o-x:m[b+1]-x;if(v<=0)return null;var j=b%a.length;return g.createElement("rect",{key:"react-".concat(b),x,y:i,width:v,height:d,stroke:"none",fill:a[j],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return g.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var Yle=(t,r)=>{var{xAxis:a,width:s,height:n,offset:i}=t;return fP(pw(hn(hn(hn({},Kd.defaultProps),a),{},{ticks:hP(a),viewBox:{x:0,y:0,width:s,height:n}})),i.left,i.left+i.width,r)},Vle=(t,r)=>{var{yAxis:a,width:s,height:n,offset:i}=t;return fP(pw(hn(hn(hn({},Kd.defaultProps),a),{},{ticks:hP(a),viewBox:{x:0,y:0,width:s,height:n}})),i.top,i.top+i.height,r)},Kle={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function Pd(t){var r=bP(),a=vP(),s=yP(),n=hn(hn({},ti(t,Kle)),{},{x:kt(t.x)?t.x:s.left,y:kt(t.y)?t.y:s.top,width:kt(t.width)?t.width:s.width,height:kt(t.height)?t.height:s.height}),{xAxisId:i,yAxisId:o,x:d,y:u,width:m,height:f,syncWithTicks:x,horizontalValues:b,verticalValues:p}=n,v=ei(),j=jt(k=>q7(k,"xAxis",i,v)),w=jt(k=>q7(k,"yAxis",o,v));if(!kt(m)||m<=0||!kt(f)||f<=0||!kt(d)||d!==+d||!kt(u)||u!==+u)return null;var N=n.verticalCoordinatesGenerator||Yle,P=n.horizontalCoordinatesGenerator||Vle,{horizontalPoints:A,verticalPoints:D}=n;if((!A||!A.length)&&typeof P=="function"){var T=b&&b.length,R=P({yAxis:w?hn(hn({},w),{},{ticks:T?b:w.ticks}):void 0,width:r,height:a,offset:s},T?!0:x);dx(Array.isArray(R),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof R,"]")),Array.isArray(R)&&(A=R)}if((!D||!D.length)&&typeof N=="function"){var E=p&&p.length,O=N({xAxis:j?hn(hn({},j),{},{ticks:E?p:j.ticks}):void 0,width:r,height:a,offset:s},E?!0:x);dx(Array.isArray(O),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof O,"]")),Array.isArray(O)&&(D=O)}return g.createElement("g",{className:"recharts-cartesian-grid"},g.createElement(zle,{fill:n.fill,fillOpacity:n.fillOpacity,x:n.x,y:n.y,width:n.width,height:n.height,ry:n.ry}),g.createElement(Hle,$u({},n,{horizontalPoints:A})),g.createElement(Gle,$u({},n,{verticalPoints:D})),g.createElement(Ule,$u({},n,{offset:s,horizontalPoints:A,xAxis:j,yAxis:w})),g.createElement(qle,$u({},n,{offset:s,verticalPoints:D,xAxis:j,yAxis:w})))}Pd.displayName="CartesianGrid";var yD=(t,r,a,s)=>$d(t,"xAxis",r,s),bD=(t,r,a,s)=>Rd(t,"xAxis",r,s),vD=(t,r,a,s)=>$d(t,"yAxis",a,s),jD=(t,r,a,s)=>Rd(t,"yAxis",a,s),Wle=ze([wr,yD,vD,bD,jD],(t,r,a,s,n)=>Ud(t,"xAxis")?Sx(r,s,!1):Sx(a,n,!1)),Xle=(t,r,a,s,n)=>n;function Jle(t){return t.type==="line"}var Zle=ze([By,Xle],(t,r)=>t.filter(Jle).find(a=>a.id===r)),Qle=ze([wr,yD,vD,bD,jD,Zle,Wle,My],(t,r,a,s,n,i,o,d)=>{var{chartData:u,dataStartIndex:m,dataEndIndex:f}=d;if(!(i==null||r==null||a==null||s==null||n==null||s.length===0||n.length===0||o==null)){var{dataKey:x,data:b}=i,p;if(b!=null&&b.length>0?p=b:p=u?.slice(m,f+1),p!=null)return joe({layout:t,xAxis:r,yAxis:a,xAxisTicks:s,yAxisTicks:n,dataKey:x,bandSize:o,displayedData:p})}}),eoe=["id"],toe=["type","layout","connectNulls","needClip"],roe=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function KA(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,s)}return a}function wi(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?KA(Object(a),!0).forEach(function(s){aoe(t,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):KA(Object(a)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(a,s))})}return t}function aoe(t,r,a){return(r=soe(r))in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function soe(t){var r=noe(t,"string");return typeof r=="symbol"?r:r+""}function noe(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function yw(t,r){if(t==null)return{};var a,s,n=ioe(t,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)a=i[s],r.indexOf(a)===-1&&{}.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}function ioe(t,r){if(t==null)return{};var a={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(r.indexOf(s)!==-1)continue;a[s]=t[s]}return a}function nm(){return nm=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var s in a)({}).hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},nm.apply(null,arguments)}var loe=t=>{var{dataKey:r,name:a,stroke:s,legendType:n,hide:i}=t;return[{inactive:i,dataKey:r,type:n,color:s,value:Ff(a,r),payload:t}]};function ooe(t){var{dataKey:r,data:a,stroke:s,strokeWidth:n,fill:i,name:o,hide:d,unit:u}=t;return{dataDefinedOnItem:a,positions:void 0,settings:{stroke:s,strokeWidth:n,fill:i,dataKey:r,nameKey:void 0,name:Ff(o,r),hide:d,type:t.tooltipType,color:t.stroke,unit:u}}}var ND=(t,r)=>"".concat(r,"px ").concat(t-r,"px");function coe(t,r){for(var a=t.length%2!==0?[...t,0]:t,s=[],n=0;n<r;++n)s=[...s,...a];return s}var doe=(t,r,a)=>{var s=a.reduce((x,b)=>x+b);if(!s)return ND(r,t);for(var n=Math.floor(t/s),i=t%s,o=r-t,d=[],u=0,m=0;u<a.length;m+=a[u],++u)if(m+a[u]>i){d=[...a.slice(0,u),i-m];break}var f=d.length%2===0?[0,o]:[o];return[...coe(a,n),...d,...f].map(x=>"".concat(x,"px")).join(", ")};function uoe(t,r){var a;if(g.isValidElement(t))a=g.cloneElement(t,r);else if(typeof t=="function")a=t(r);else{var s=Dr("recharts-line-dot",typeof t!="boolean"?t.className:"");a=g.createElement(JO,nm({},r,{className:s}))}return a}function moe(t,r){return t==null?!1:r?!0:t.length===1}function foe(t){var{clipPathId:r,points:a,props:s}=t,{dot:n,dataKey:i,needClip:o}=s;if(!moe(a,n))return null;var{id:d}=s,u=yw(s,eoe),m=cE(n),f=kc(u),x=_a(n,!0),b=a.map((v,j)=>{var w=wi(wi(wi({key:"dot-".concat(j),r:3},f),x),{},{index:j,cx:v.x,cy:v.y,dataKey:i,value:v.value,payload:v.payload,points:a});return uoe(n,w)}),p={clipPath:o?"url(#clipPath-".concat(m?"":"dots-").concat(r,")"):void 0};return g.createElement(nn,nm({className:"recharts-line-dots",key:"dots"},p),b)}function hoe(t){var{showLabels:r,children:a,points:s}=t,n=g.useMemo(()=>s?.map(i=>{var o={x:i.x,y:i.y,width:0,height:0};return wi(wi({},o),{},{value:i.value,payload:i.payload,viewBox:o,parentViewBox:void 0,fill:void 0})}),[s]);return g.createElement(WO,{value:r?n:null},a)}function WA(t){var{clipPathId:r,pathRef:a,points:s,strokeDasharray:n,props:i}=t,{type:o,layout:d,connectNulls:u,needClip:m}=i,f=yw(i,toe),x=wi(wi({},_a(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:m?"url(#clipPath-".concat(r,")"):void 0,points:s,type:o,layout:d,connectNulls:u,strokeDasharray:n??i.strokeDasharray});return g.createElement(g.Fragment,null,s?.length>1&&g.createElement(VN,nm({},x,{pathRef:a})),g.createElement(foe,{points:s,clipPathId:r,props:i}))}function xoe(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function poe(t){var{clipPathId:r,props:a,pathRef:s,previousPointsRef:n,longestAnimatedLengthRef:i}=t,{points:o,strokeDasharray:d,isAnimationActive:u,animationBegin:m,animationDuration:f,animationEasing:x,animateNewValues:b,width:p,height:v,onAnimationEnd:j,onAnimationStart:w}=a,N=n.current,P=Vx(a,"recharts-line-"),[A,D]=g.useState(!1),T=!A,R=g.useCallback(()=>{typeof j=="function"&&j(),D(!1)},[j]),E=g.useCallback(()=>{typeof w=="function"&&w(),D(!0)},[w]),O=xoe(s.current),k=i.current;return g.createElement(hoe,{points:o,showLabels:T},a.children,g.createElement(Yx,{animationId:P,begin:m,duration:f,isActive:u,easing:x,onAnimationEnd:R,onAnimationStart:E,key:P},Y=>{var $=Ua(k,O+k,Y),M=Math.min($,O),F;if(u)if(d){var K="".concat(d).split(/[,\s]+/gim).map(V=>parseFloat(V));F=doe(M,O,K)}else F=ND(O,M);else F=d==null?void 0:String(d);if(N){var q=N.length/o.length,U=Y===1?o:o.map((V,Z)=>{var X=Math.floor(Z*q);if(N[X]){var J=N[X];return wi(wi({},V),{},{x:Ua(J.x,V.x,Y),y:Ua(J.y,V.y,Y)})}return b?wi(wi({},V),{},{x:Ua(p*2,V.x,Y),y:Ua(v/2,V.y,Y)}):wi(wi({},V),{},{x:V.x,y:V.y})});return n.current=U,g.createElement(WA,{props:a,points:U,clipPathId:r,pathRef:s,strokeDasharray:F})}return Y>0&&O>0&&(n.current=o,i.current=M),g.createElement(WA,{props:a,points:o,clipPathId:r,pathRef:s,strokeDasharray:F})}),g.createElement(tw,{label:a.label}))}function goe(t){var{clipPathId:r,props:a}=t,s=g.useRef(null),n=g.useRef(0),i=g.useRef(null);return g.createElement(poe,{props:a,clipPathId:r,previousPointsRef:s,longestAnimatedLengthRef:n,pathRef:i})}var yoe=(t,r)=>({x:t.x,y:t.y,value:t.value,errorVal:ta(t.payload,r)});class boe extends g.Component{render(){var r,{hide:a,dot:s,points:n,className:i,xAxisId:o,yAxisId:d,top:u,left:m,width:f,height:x,id:b,needClip:p}=this.props;if(a)return null;var v=Dr("recharts-line",i),j=b,{r:w=3,strokeWidth:N=2}=(r=_a(s,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},P=cE(s),A=w*2+N;return g.createElement(g.Fragment,null,g.createElement(nn,{className:v},p&&g.createElement("defs",null,g.createElement(dD,{clipPathId:j,xAxisId:o,yAxisId:d}),!P&&g.createElement("clipPath",{id:"clipPath-dots-".concat(j)},g.createElement("rect",{x:m-A/2,y:u-A/2,width:f+A,height:x+A}))),g.createElement(cD,{xAxisId:o,yAxisId:d,data:n,dataPointFormatter:yoe,errorBarOffset:0},g.createElement(goe,{props:this.props,clipPathId:j}))),g.createElement(Jne,{activeDot:this.props.activeDot,points:n,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var wD={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!om.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function voe(t){var r=ti(t,wD),{activeDot:a,animateNewValues:s,animationBegin:n,animationDuration:i,animationEasing:o,connectNulls:d,dot:u,hide:m,isAnimationActive:f,label:x,legendType:b,xAxisId:p,yAxisId:v,id:j}=r,w=yw(r,roe),{needClip:N}=hw(p,v),P=mw(),A=Cy(),D=ei(),T=jt(Y=>Qle(Y,p,v,D,j));if(A!=="horizontal"&&A!=="vertical"||T==null||P==null)return null;var{height:R,width:E,x:O,y:k}=P;return g.createElement(boe,nm({},w,{id:j,connectNulls:d,dot:u,activeDot:a,animateNewValues:s,animationBegin:n,animationDuration:i,animationEasing:o,isAnimationActive:f,hide:m,label:x,legendType:b,xAxisId:p,yAxisId:v,points:T,layout:A,height:R,width:E,left:O,top:k,needClip:N}))}function joe(t){var{layout:r,xAxis:a,yAxis:s,xAxisTicks:n,yAxisTicks:i,dataKey:o,bandSize:d,displayedData:u}=t;return u.map((m,f)=>{var x=ta(m,o);if(r==="horizontal"){var b=A8({axis:a,ticks:n,bandSize:d,entry:m,index:f}),p=ka(x)?null:s.scale(x);return{x:b,y:p,value:x,payload:m}}var v=ka(x)?null:a.scale(x),j=A8({axis:s,ticks:i,bandSize:d,entry:m,index:f});return v==null||j==null?null:{x:v,y:j,value:x,payload:m}}).filter(Boolean)}function Vy(t){var r=ti(t,wD),a=ei();return g.createElement(dw,{id:r.id,type:"line"},s=>g.createElement(g.Fragment,null,g.createElement(sD,{legendPayload:loe(r)}),g.createElement(cw,{fn:ooe,args:r}),g.createElement(iD,{type:"line",id:s,data:r.data,xAxisId:r.xAxisId,yAxisId:r.yAxisId,zAxisId:0,dataKey:r.dataKey,hide:r.hide,isPanorama:a}),g.createElement(voe,nm({},r,{id:s}))))}Vy.displayName="Line";var Noe=["children"],woe=["dangerouslySetInnerHTML","ticks"],Soe=["id"];function SD(t,r,a){return(r=_oe(r))in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function _oe(t){var r=Aoe(t,"string");return typeof r=="symbol"?r:r+""}function Aoe(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function eN(){return eN=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var s in a)({}).hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},eN.apply(null,arguments)}function tN(t,r){if(t==null)return{};var a,s,n=koe(t,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)a=i[s],r.indexOf(a)===-1&&{}.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}function koe(t,r){if(t==null)return{};var a={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(r.indexOf(s)!==-1)continue;a[s]=t[s]}return a}function Coe(t){var r=rs(),a=g.useMemo(()=>{var{children:s}=t,n=tN(t,Noe);return n},[t]);return g.useEffect(()=>(r(Ine(a)),()=>{r(Fne(a))}),[a,r]),t.children}var Eoe=t=>{var{xAxisId:r,className:a}=t,s=jt(GN),n=ei(),i="xAxis",o=jt(w=>Yf(w,i,r,n)),d=jt(w=>uO(w,i,r,n)),u=jt(w=>lO(w,r)),m=jt(w=>vte(w,r)),f=jt(w=>IT(w,r));if(u==null||m==null||f==null)return null;var{dangerouslySetInnerHTML:x,ticks:b}=t,p=tN(t,woe),{id:v}=f,j=tN(f,Soe);return g.createElement(Kd,eN({},p,j,{scale:o,x:m.x,y:m.y,width:u.width,height:u.height,className:Dr("recharts-".concat(i," ").concat(i),a),viewBox:s,ticks:d}))},Poe=t=>{var r,a,s,n,i;return g.createElement(Coe,{interval:(r=t.interval)!==null&&r!==void 0?r:"preserveEnd",id:t.xAxisId,scale:t.scale,type:t.type,padding:t.padding,allowDataOverflow:t.allowDataOverflow,domain:t.domain,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,includeHidden:(a=t.includeHidden)!==null&&a!==void 0?a:!1,reversed:t.reversed,ticks:t.ticks,height:t.height,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:(s=t.angle)!==null&&s!==void 0?s:0,minTickGap:(n=t.minTickGap)!==null&&n!==void 0?n:5,tick:(i=t.tick)!==null&&i!==void 0?i:!0,tickFormatter:t.tickFormatter},g.createElement(Eoe,t))};class xc extends g.Component{render(){return g.createElement(Poe,this.props)}}SD(xc,"displayName","XAxis");SD(xc,"defaultProps",{allowDataOverflow:vi.allowDataOverflow,allowDecimals:vi.allowDecimals,allowDuplicatedCategory:vi.allowDuplicatedCategory,height:vi.height,hide:!1,mirror:vi.mirror,orientation:vi.orientation,padding:vi.padding,reversed:vi.reversed,scale:vi.scale,tickCount:vi.tickCount,type:vi.type,xAxisId:0});var Toe=t=>{var{ticks:r,label:a,labelGapWithTick:s=5,tickSize:n=0,tickMargin:i=0}=t,o=0;if(r){r.forEach(f=>{if(f){var x=f.getBoundingClientRect();x.width>o&&(o=x.width)}});var d=a?a.getBoundingClientRect().width:0,u=n+i,m=o+u+d+(a?s:0);return Math.round(m)}return 0},Ooe=["dangerouslySetInnerHTML","ticks"],Doe=["id"];function _D(t,r,a){return(r=Loe(r))in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function Loe(t){var r=Moe(t,"string");return typeof r=="symbol"?r:r+""}function Moe(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function rN(){return rN=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var s in a)({}).hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},rN.apply(null,arguments)}function XA(t,r){if(t==null)return{};var a,s,n=Roe(t,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)a=i[s],r.indexOf(a)===-1&&{}.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}function Roe(t,r){if(t==null)return{};var a={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(r.indexOf(s)!==-1)continue;a[s]=t[s]}return a}function $oe(t){var r=rs();return g.useEffect(()=>(r(Bne(t)),()=>{r(zne(t))}),[t,r]),null}var Ioe=t=>{var r,{yAxisId:a,className:s,width:n,label:i}=t,o=g.useRef(null),d=g.useRef(null),u=jt(GN),m=ei(),f=rs(),x="yAxis",b=jt(R=>Yf(R,x,a,m)),p=jt(R=>oO(R,a)),v=jt(R=>jte(R,a)),j=jt(R=>uO(R,x,a,m)),w=jt(R=>FT(R,a));if(g.useLayoutEffect(()=>{var R;if(!(n!=="auto"||!p||ew(i)||g.isValidElement(i)||w==null)){var E=o.current,O=E==null||(R=E.tickRefs)===null||R===void 0?void 0:R.current,{tickSize:k,tickMargin:Y}=E.props,$=Toe({ticks:O,label:d.current,labelGapWithTick:5,tickSize:k,tickMargin:Y});Math.round(p.width)!==Math.round($)&&f(Une({id:a,width:$}))}},[o,o==null||(r=o.current)===null||r===void 0||(r=r.tickRefs)===null||r===void 0?void 0:r.current,p?.width,p,f,i,a,n]),p==null||v==null||w==null)return null;var{dangerouslySetInnerHTML:N,ticks:P}=t,A=XA(t,Ooe),{id:D}=w,T=XA(w,Doe);return g.createElement(Kd,rN({},A,T,{ref:o,labelRef:d,scale:b,x:v.x,y:v.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:p.width,height:p.height,className:Dr("recharts-".concat(x," ").concat(x),s),viewBox:u,ticks:j}))},Foe=t=>{var r,a,s,n,i;return g.createElement(g.Fragment,null,g.createElement($oe,{interval:(r=t.interval)!==null&&r!==void 0?r:"preserveEnd",id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:(a=t.includeHidden)!==null&&a!==void 0?a:!1,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:(s=t.angle)!==null&&s!==void 0?s:0,minTickGap:(n=t.minTickGap)!==null&&n!==void 0?n:5,tick:(i=t.tick)!==null&&i!==void 0?i:!0,tickFormatter:t.tickFormatter}),g.createElement(Ioe,t))},Boe={allowDataOverflow:ji.allowDataOverflow,allowDecimals:ji.allowDecimals,allowDuplicatedCategory:ji.allowDuplicatedCategory,hide:!1,mirror:ji.mirror,orientation:ji.orientation,padding:ji.padding,reversed:ji.reversed,scale:ji.scale,tickCount:ji.tickCount,type:ji.type,width:ji.width,yAxisId:0};class pc extends g.Component{render(){return g.createElement(Foe,this.props)}}_D(pc,"displayName","YAxis");_D(pc,"defaultProps",Boe);var N2={exports:{}},w2={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JA;function zoe(){if(JA)return w2;JA=1;var t=Tf();function r(u,m){return u===m&&(u!==0||1/u===1/m)||u!==u&&m!==m}var a=typeof Object.is=="function"?Object.is:r,s=t.useSyncExternalStore,n=t.useRef,i=t.useEffect,o=t.useMemo,d=t.useDebugValue;return w2.useSyncExternalStoreWithSelector=function(u,m,f,x,b){var p=n(null);if(p.current===null){var v={hasValue:!1,value:null};p.current=v}else v=p.current;p=o(function(){function w(T){if(!N){if(N=!0,P=T,T=x(T),b!==void 0&&v.hasValue){var R=v.value;if(b(R,T))return A=R}return A=T}if(R=A,a(P,T))return R;var E=x(T);return b!==void 0&&b(R,E)?(P=T,R):(P=T,A=E)}var N=!1,P,A,D=f===void 0?null:f;return[function(){return w(m())},D===null?void 0:function(){return w(D())}]},[m,f,x,b]);var j=s(u,p[0],p[1]);return i(function(){v.hasValue=!0,v.value=j},[j]),d(j),j},w2}var ZA;function Uoe(){return ZA||(ZA=1,N2.exports=zoe()),N2.exports}Uoe();function qoe(t){t()}function Hoe(){let t=null,r=null;return{clear(){t=null,r=null},notify(){qoe(()=>{let a=t;for(;a;)a.callback(),a=a.next})},get(){const a=[];let s=t;for(;s;)a.push(s),s=s.next;return a},subscribe(a){let s=!0;const n=r={callback:a,next:null,prev:r};return n.prev?n.prev.next=n:t=n,function(){!s||t===null||(s=!1,n.next?n.next.prev=n.prev:r=n.prev,n.prev?n.prev.next=n.next:t=n.next)}}}}var QA={notify(){},get:()=>[]};function Goe(t,r){let a,s=QA,n=0,i=!1;function o(j){f();const w=s.subscribe(j);let N=!1;return()=>{N||(N=!0,w(),x())}}function d(){s.notify()}function u(){v.onStateChange&&v.onStateChange()}function m(){return i}function f(){n++,a||(a=t.subscribe(u),s=Hoe())}function x(){n--,a&&n===0&&(a(),a=void 0,s.clear(),s=QA)}function b(){i||(i=!0,f())}function p(){i&&(i=!1,x())}const v={addNestedSub:o,notifyNestedSubs:d,handleChangeWrapper:u,isSubscribed:m,trySubscribe:b,tryUnsubscribe:p,getListeners:()=>s};return v}var Yoe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Voe=Yoe(),Koe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Woe=Koe(),Xoe=()=>Voe||Woe?g.useLayoutEffect:g.useEffect,Joe=Xoe(),Zoe=Symbol.for("react-redux-context"),Qoe=typeof globalThis<"u"?globalThis:{};function ece(){if(!g.createContext)return{};const t=Qoe[Zoe]??=new Map;let r=t.get(g.createContext);return r||(r=g.createContext(null),t.set(g.createContext,r)),r}var tce=ece();function rce(t){const{children:r,context:a,serverState:s,store:n}=t,i=g.useMemo(()=>{const u=Goe(n);return{store:n,subscription:u,getServerState:s?()=>s:void 0}},[n,s]),o=g.useMemo(()=>n.getState(),[n]);Joe(()=>{const{subscription:u}=i;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),o!==n.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[i,o]);const d=a||tce;return g.createElement(d.Provider,{value:i},r)}var ace=rce,sce=(t,r)=>r,bw=ze([sce,wr,MT,Ss,AO,Tc,Are,Ns],Tre),vw=t=>{var r=t.currentTarget.getBoundingClientRect(),a=r.width/t.currentTarget.offsetWidth,s=r.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-r.left)/a),chartY:Math.round((t.clientY-r.top)/s)}},AD=dl("mouseClick"),kD=Hx();kD.startListening({actionCreator:AD,effect:(t,r)=>{var a=t.payload,s=bw(r.getState(),vw(a));s?.activeIndex!=null&&r.dispatch(Lte({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}});var aN=dl("mouseMove"),CD=Hx();CD.startListening({actionCreator:aN,effect:(t,r)=>{var a=t.payload,s=r.getState(),n=H5(s,s.tooltip.settings.shared),i=bw(s,vw(a));n==="axis"&&(i?.activeIndex!=null?r.dispatch(bO({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate})):r.dispatch(yO()))}});function nce(t,r){return r instanceof HTMLElement?"HTMLElement <".concat(r.tagName,' class="').concat(r.className,'">'):r===window?"global.window":r}var ek={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},ED=Ti({name:"rootProps",initialState:ek,reducers:{updateOptions:(t,r)=>{var a;t.accessibilityLayer=r.payload.accessibilityLayer,t.barCategoryGap=r.payload.barCategoryGap,t.barGap=(a=r.payload.barGap)!==null&&a!==void 0?a:ek.barGap,t.barSize=r.payload.barSize,t.maxBarSize=r.payload.maxBarSize,t.stackOffset=r.payload.stackOffset,t.syncId=r.payload.syncId,t.syncMethod=r.payload.syncMethod,t.className=r.payload.className}}}),ice=ED.reducer,{updateOptions:lce}=ED.actions,PD=Ti({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,r)=>r.payload}}),{updatePolarOptions:oce}=PD.actions,cce=PD.reducer,TD=dl("keyDown"),OD=dl("focus"),jw=Hx();jw.startListening({actionCreator:TD,effect:(t,r)=>{var a=r.getState(),s=a.rootProps.accessibilityLayer!==!1;if(s){var{keyboardInteraction:n}=a.tooltip,i=t.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var o=Number(G5(n,Kf(a))),d=Tc(a);if(i==="Enter"){var u=Fg(a,"axis","hover",String(n.index));r.dispatch(Kj({active:!n.active,activeIndex:n.index,activeDataKey:n.dataKey,activeCoordinate:u}));return}var m=_te(a),f=m==="left-to-right"?1:-1,x=i==="ArrowRight"?1:-1,b=o+x*f;if(!(d==null||b>=d.length||b<0)){var p=Fg(a,"axis","hover",String(b));r.dispatch(Kj({active:!0,activeIndex:b.toString(),activeDataKey:void 0,activeCoordinate:p}))}}}}});jw.startListening({actionCreator:OD,effect:(t,r)=>{var a=r.getState(),s=a.rootProps.accessibilityLayer!==!1;if(s){var{keyboardInteraction:n}=a.tooltip;if(!n.active&&n.index==null){var i="0",o=Fg(a,"axis","hover",String(i));r.dispatch(Kj({activeDataKey:void 0,active:!0,activeIndex:i,activeCoordinate:o}))}}}});var il=dl("externalEvent"),DD=Hx();DD.startListening({actionCreator:il,effect:(t,r)=>{if(t.payload.handler!=null){var a=r.getState(),s={activeCoordinate:pre(a),activeDataKey:PO(a),activeIndex:Id(a),activeLabel:EO(a),activeTooltipIndex:Id(a),isTooltipActive:gre(a)};t.payload.handler(s,t.payload.reactEvent)}}});var dce=ze([Vf],t=>t.tooltipItemPayloads),uce=ze([dce,a0,(t,r,a)=>r,(t,r,a)=>a],(t,r,a,s)=>{var n=t.find(d=>d.settings.dataKey===s);if(n!=null){var{positions:i}=n;if(i!=null){var o=r(i,a);return o}}}),LD=dl("touchMove"),MD=Hx();MD.startListening({actionCreator:LD,effect:(t,r)=>{var a=t.payload,s=r.getState(),n=H5(s,s.tooltip.settings.shared);if(n==="axis"){var i=bw(s,vw({clientX:a.touches[0].clientX,clientY:a.touches[0].clientY,currentTarget:a.currentTarget}));i?.activeIndex!=null&&r.dispatch(bO({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}else if(n==="item"){var o,d=a.touches[0],u=document.elementFromPoint(d.clientX,d.clientY);if(!u||!u.getAttribute)return;var m=u.getAttribute(pP),f=(o=u.getAttribute(gP))!==null&&o!==void 0?o:void 0,x=uce(r.getState(),m,f);r.dispatch(gO({activeDataKey:f,activeIndex:m,activeCoordinate:x}))}}});var mce=UE({brush:cle,cartesianAxis:qne,chartData:Vre,errorBars:cie,graphicalItems:one,layout:zW,legend:EX,options:Ure,polarAxis:_se,polarOptions:cce,referenceElements:ple,rootProps:ice,tooltip:Mte}),fce=function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return mW({reducer:mce,preloadedState:r,middleware:s=>s({serializableCheck:!1}).concat([kD.middleware,CD.middleware,jw.middleware,DD.middleware,MD.middleware]),devTools:!!window.RECHARTS_DEV_TOOLS_ENABLED&&{serialize:{replacer:nce},name:"recharts-".concat(a)}})};function RD(t){var{preloadedState:r,children:a,reduxStoreName:s}=t,n=ei(),i=g.useRef(null);if(n)return a;i.current==null&&(i.current=fce(r,s));var o=FN;return g.createElement(ace,{context:o,store:i.current},a)}function $D(t){var{layout:r,width:a,height:s,margin:n}=t,i=rs(),o=ei();return g.useEffect(()=>{o||(i(IW(r)),i(FW({width:a,height:s})),i($W(n)))},[i,o,r,a,s,n]),null}function ID(t){var r=rs();return g.useEffect(()=>{r(lce(t))},[r,t]),null}var hce=["children"];function xce(t,r){if(t==null)return{};var a,s,n=pce(t,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)a=i[s],r.indexOf(a)===-1&&{}.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}function pce(t,r){if(t==null)return{};var a={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(r.indexOf(s)!==-1)continue;a[s]=t[s]}return a}function Yg(){return Yg=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var s in a)({}).hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},Yg.apply(null,arguments)}var gce={width:"100%",height:"100%"},yce=g.forwardRef((t,r)=>{var a=bP(),s=vP(),n=SP();if(!Af(a)||!Af(s))return null;var{children:i,otherAttributes:o,title:d,desc:u}=t,m,f;return typeof o.tabIndex=="number"?m=o.tabIndex:m=n?0:void 0,typeof o.role=="string"?f=o.role:f=n?"application":void 0,g.createElement(dE,Yg({},o,{title:d,desc:u,role:f,tabIndex:m,width:a,height:s,style:gce,ref:r}),i)}),bce=t=>{var{children:r}=t,a=jt(ky);if(!a)return null;var{width:s,height:n,y:i,x:o}=a;return g.createElement(dE,{width:s,height:n,x:o,y:i},r)},tk=g.forwardRef((t,r)=>{var{children:a}=t,s=xce(t,hce),n=ei();return n?g.createElement(bce,null,a):g.createElement(yce,Yg({ref:r},s),a)});function vce(){var t=rs(),[r,a]=g.useState(null),s=jt(pX);return g.useEffect(()=>{if(r!=null){var n=r.getBoundingClientRect(),i=n.width/r.offsetWidth;Ei(i)&&i!==s&&t(BW(i))}},[r,t,s]),a}function rk(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,s)}return a}function jce(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?rk(Object(a),!0).forEach(function(s){Nce(t,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):rk(Object(a)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(a,s))})}return t}function Nce(t,r,a){return(r=wce(r))in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function wce(t){var r=Sce(t,"string");return typeof r=="symbol"?r:r+""}function Sce(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var _ce=g.forwardRef((t,r)=>{var{children:a,className:s,height:n,onClick:i,onContextMenu:o,onDoubleClick:d,onMouseDown:u,onMouseEnter:m,onMouseLeave:f,onMouseMove:x,onMouseUp:b,onTouchEnd:p,onTouchMove:v,onTouchStart:j,style:w,width:N}=t,P=rs(),[A,D]=g.useState(null),[T,R]=g.useState(null);rae();var E=vce(),O=g.useCallback(z=>{E(z),typeof r=="function"&&r(z),D(z),R(z)},[E,r,D,R]),k=g.useCallback(z=>{P(AD(z)),P(il({handler:i,reactEvent:z}))},[P,i]),Y=g.useCallback(z=>{P(aN(z)),P(il({handler:m,reactEvent:z}))},[P,m]),$=g.useCallback(z=>{P(yO()),P(il({handler:f,reactEvent:z}))},[P,f]),M=g.useCallback(z=>{P(aN(z)),P(il({handler:x,reactEvent:z}))},[P,x]),F=g.useCallback(()=>{P(OD())},[P]),K=g.useCallback(z=>{P(TD(z.key))},[P]),q=g.useCallback(z=>{P(il({handler:o,reactEvent:z}))},[P,o]),U=g.useCallback(z=>{P(il({handler:d,reactEvent:z}))},[P,d]),V=g.useCallback(z=>{P(il({handler:u,reactEvent:z}))},[P,u]),Z=g.useCallback(z=>{P(il({handler:b,reactEvent:z}))},[P,b]),X=g.useCallback(z=>{P(il({handler:j,reactEvent:z}))},[P,j]),J=g.useCallback(z=>{P(LD(z)),P(il({handler:v,reactEvent:z}))},[P,v]),be=g.useCallback(z=>{P(il({handler:p,reactEvent:z}))},[P,p]);return g.createElement(RO.Provider,{value:A},g.createElement(lV.Provider,{value:T},g.createElement("div",{className:Dr("recharts-wrapper",s),style:jce({position:"relative",cursor:"default",width:N,height:n},w),onClick:k,onContextMenu:q,onDoubleClick:U,onFocus:F,onKeyDown:K,onMouseDown:V,onMouseEnter:Y,onMouseLeave:$,onMouseMove:M,onMouseUp:Z,onTouchEnd:be,onTouchMove:J,onTouchStart:X,ref:O},a)))}),Ace=["children","className","width","height","style","compact","title","desc"];function kce(t,r){if(t==null)return{};var a,s,n=Cce(t,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)a=i[s],r.indexOf(a)===-1&&{}.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}function Cce(t,r){if(t==null)return{};var a={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(r.indexOf(s)!==-1)continue;a[s]=t[s]}return a}var FD=g.forwardRef((t,r)=>{var{children:a,className:s,width:n,height:i,style:o,compact:d,title:u,desc:m}=t,f=kce(t,Ace),x=kc(f);return d?g.createElement(tk,{otherAttributes:x,title:u,desc:m},a):g.createElement(_ce,{className:s,style:o,width:n,height:i,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},g.createElement(tk,{otherAttributes:x,title:u,desc:m,ref:r},g.createElement(yle,null,a)))}),Ece=["width","height"];function sN(){return sN=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var s in a)({}).hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},sN.apply(null,arguments)}function Pce(t,r){if(t==null)return{};var a,s,n=Tce(t,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)a=i[s],r.indexOf(a)===-1&&{}.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}function Tce(t,r){if(t==null)return{};var a={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(r.indexOf(s)!==-1)continue;a[s]=t[s]}return a}var Oce={top:5,right:5,bottom:5,left:5},Dce={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Oce,reverseStackOrder:!1,syncMethod:"index"},BD=g.forwardRef(function(r,a){var s,n=ti(r.categoricalChartProps,Dce),{width:i,height:o}=n,d=Pce(n,Ece);if(!Af(i)||!Af(o))return null;var{chartName:u,defaultTooltipEventType:m,validateTooltipEventTypes:f,tooltipPayloadSearcher:x,categoricalChartProps:b}=r,p={chartName:u,defaultTooltipEventType:m,validateTooltipEventTypes:f,tooltipPayloadSearcher:x,eventEmitter:void 0};return g.createElement(RD,{preloadedState:{options:p},reduxStoreName:(s=b.id)!==null&&s!==void 0?s:u},g.createElement(fD,{chartData:b.data}),g.createElement($D,{width:i,height:o,layout:n.layout,margin:n.margin}),g.createElement(ID,{accessibilityLayer:n.accessibilityLayer,barCategoryGap:n.barCategoryGap,maxBarSize:n.maxBarSize,stackOffset:n.stackOffset,barGap:n.barGap,barSize:n.barSize,syncId:n.syncId,syncMethod:n.syncMethod,className:n.className}),g.createElement(FD,sN({},d,{width:i,height:o,ref:a})))}),Lce=["axis"],Nw=g.forwardRef((t,r)=>g.createElement(BD,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Lce,tooltipPayloadSearcher:Q5,categoricalChartProps:t,ref:r})),Mce=["axis","item"],Vg=g.forwardRef((t,r)=>g.createElement(BD,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Mce,tooltipPayloadSearcher:Q5,categoricalChartProps:t,ref:r}));function Rce(t){var r=rs();return g.useEffect(()=>{r(oce(t))},[r,t]),null}var $ce=["width","height","layout"];function nN(){return nN=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var s in a)({}).hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},nN.apply(null,arguments)}function Ice(t,r){if(t==null)return{};var a,s,n=Fce(t,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)a=i[s],r.indexOf(a)===-1&&{}.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}function Fce(t,r){if(t==null)return{};var a={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(r.indexOf(s)!==-1)continue;a[s]=t[s]}return a}var Bce={top:5,right:5,bottom:5,left:5},zce={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Bce,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},Uce=g.forwardRef(function(r,a){var s,n=ti(r.categoricalChartProps,zce),{width:i,height:o,layout:d}=n,u=Ice(n,$ce);if(!Af(i)||!Af(o))return null;var{chartName:m,defaultTooltipEventType:f,validateTooltipEventTypes:x,tooltipPayloadSearcher:b}=r,p={chartName:m,defaultTooltipEventType:f,validateTooltipEventTypes:x,tooltipPayloadSearcher:b,eventEmitter:void 0};return g.createElement(RD,{preloadedState:{options:p},reduxStoreName:(s=n.id)!==null&&s!==void 0?s:m},g.createElement(fD,{chartData:n.data}),g.createElement($D,{width:i,height:o,layout:d,margin:n.margin}),g.createElement(ID,{accessibilityLayer:n.accessibilityLayer,barCategoryGap:n.barCategoryGap,maxBarSize:n.maxBarSize,stackOffset:n.stackOffset,barGap:n.barGap,barSize:n.barSize,syncId:n.syncId,syncMethod:n.syncMethod,className:n.className}),g.createElement(Rce,{cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius}),g.createElement(FD,nN({width:i,height:o},u,{ref:a})))}),qce=["item"],Hce={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Kg=g.forwardRef((t,r)=>{var a=ti(t,Hce);return g.createElement(Uce,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:qce,tooltipPayloadSearcher:Q5,categoricalChartProps:a,ref:r})});const Gce=()=>{const{token:t}=et(),[r,a]=g.useState(!1),[s,n]=g.useState(null),[i,o]=g.useState("breakdown"),[d,u]=g.useState({year:new Date().getFullYear(),month:new Date().getMonth()+1,start_date:"",end_date:"",period:"monthly"}),[m,f]=g.useState(null),[x,b]=g.useState(null),[p,v]=g.useState(null),j=t?{Authorization:`Bearer ${t}`}:{},w=async()=>{try{a(!0);const O=new URLSearchParams;d.start_date&&d.end_date?(O.append("start_date",d.start_date),O.append("end_date",d.end_date)):d.year&&d.month?(O.append("year",d.year),O.append("month",d.month)):d.year&&O.append("year",d.year);const k=await de.get(`${ce}/analytics/expenses/monthly-breakdown?${O}`,{headers:j});f(k.data.data)}catch(O){n("Failed to fetch expense breakdown"),console.error("Error fetching expense breakdown:",O)}finally{a(!1)}},N=async()=>{try{a(!0);const O=new URLSearchParams;d.start_date&&d.end_date?(O.append("start_date",d.start_date),O.append("end_date",d.end_date)):d.year&&d.term?(O.append("year",d.year),O.append("term",d.term)):d.year&&O.append("year",d.year);const k=await de.get(`${ce}/analytics/expenses/cost-per-student?${O}`,{headers:j});b(k.data.data)}catch(O){n("Failed to fetch cost per student analysis"),console.error("Error fetching cost per student analysis:",O)}finally{a(!1)}},P=async()=>{try{a(!0);const O=new URLSearchParams;O.append("period",d.period),d.start_date&&d.end_date?(O.append("start_date",d.start_date),O.append("end_date",d.end_date)):d.year&&O.append("year",d.year);const k=await de.get(`${ce}/analytics/expenses/trends?${O}`,{headers:j});v(k.data.data)}catch(O){n("Failed to fetch expense trends"),console.error("Error fetching expense trends:",O)}finally{a(!1)}},A=(O,k)=>{u(Y=>({...Y,[O]:k}))},D=()=>{i==="breakdown"?w():i==="cost-per-student"?N():i==="trends"&&P()},T=O=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(O),R=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#06b6d4"],E=({active:O,payload:k,label:Y})=>O&&k&&k.length?e.jsxs("div",{className:"bg-white p-3 border border-gray-200 shadow-lg",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:Y}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Amount: ",T(k[0].value)]})]}):null;return e.jsx("div",{className:"container mx-auto px-4 py-6",children:e.jsxs("div",{className:"bg-white border border-gray-200",children:[e.jsx("div",{className:"px-4 py-3 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(I,{icon:Ju,className:"text-gray-600 text-sm"}),e.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:"Expense Analysis"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("button",{className:"px-3 py-1 text-xs bg-gray-100 text-gray-700 hover:bg-gray-200",children:[e.jsx(I,{icon:js,className:"mr-1"}),"Export"]}),e.jsxs("button",{className:"px-3 py-1 text-xs bg-gray-100 text-gray-700 hover:bg-gray-200",children:[e.jsx(I,{icon:Is,className:"mr-1"}),"Print"]})]})]})}),e.jsx("div",{className:"px-4 py-3 border-b border-gray-200",children:e.jsxs("div",{className:"flex flex-wrap gap-4 items-end",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(I,{icon:ts,className:"text-gray-400 text-xs"}),e.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Year:"}),e.jsx("input",{type:"number",value:d.year,onChange:O=>A("year",parseInt(O.target.value)||new Date().getFullYear()),className:"border border-gray-300 px-2 py-1 text-xs w-20 focus:outline-none focus:border-gray-400",placeholder:"2024",min:"2000",max:"2100"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Month:"}),e.jsx("select",{value:d.month,onChange:O=>A("month",O.target.value),className:"border border-gray-300 px-2 py-1 text-xs focus:outline-none focus:border-gray-400",children:Array.from({length:12},(O,k)=>k+1).map(O=>e.jsx("option",{value:O,children:new Date(0,O-1).toLocaleString("default",{month:"long"})},O))})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Period:"}),e.jsxs("select",{value:d.period,onChange:O=>A("period",O.target.value),className:"border border-gray-300 px-2 py-1 text-xs focus:outline-none focus:border-gray-400",children:[e.jsx("option",{value:"monthly",children:"Monthly"}),e.jsx("option",{value:"quarterly",children:"Quarterly"})]})]}),e.jsxs("button",{onClick:D,disabled:r,className:"px-4 py-1 text-xs bg-blue-600 text-white hover:bg-blue-700 disabled:opacity-50",children:[r?e.jsx(I,{icon:an,className:"animate-spin mr-1"}):e.jsx(I,{icon:yr,className:"mr-1"}),"Search"]})]})}),e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"flex space-x-8 px-4",children:[{id:"breakdown",label:"Expense Breakdown",icon:Ju},{id:"cost-per-student",label:"Cost Per Student",icon:Ir},{id:"trends",label:"Expense Trends",icon:So}].map(O=>e.jsxs("button",{onClick:()=>o(O.id),className:`py-3 px-1 border-b-2 text-xs font-medium ${i===O.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(I,{icon:O.icon,className:"mr-1"}),O.label]},O.id))})}),e.jsxs("div",{className:"p-4",children:[s&&e.jsxs("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-700 text-xs",children:[e.jsx(I,{icon:ur,className:"mr-1"}),s]}),i==="breakdown"&&e.jsx("div",{className:"space-y-6",children:m?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 p-4",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-4",children:"Expenses by Category"}),e.jsx(zl,{width:"100%",height:300,children:e.jsxs(Kg,{children:[e.jsx(Ox,{data:m.expenses,cx:"50%",cy:"50%",labelLine:!1,label:({category_name:O,percent:k})=>`${O} ${(k*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"total_amount",children:m.expenses.map((O,k)=>e.jsx(Fd,{fill:R[k%R.length]},`cell-${k}`))}),e.jsx(Bl,{formatter:O=>T(O)})]})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-blue-50 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-blue-900",children:"Total Expenses"}),e.jsx("span",{className:"text-lg font-bold text-blue-900",children:T(m.total_expenses)})]}),e.jsxs("div",{className:"text-xs text-blue-700 mt-1",children:["Period: ",m.period]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Top Categories"}),m.expenses.slice(0,5).map((O,k)=>e.jsxs("div",{className:"flex justify-between items-center py-1",children:[e.jsx("span",{className:"text-xs text-gray-700",children:O.category_name}),e.jsxs("div",{className:"text-right",children:[e.jsx("span",{className:"text-xs font-medium text-gray-900",children:T(O.total_amount)}),e.jsxs("span",{className:"text-xs text-gray-500 ml-2",children:["(",O.percentage,"%)"]})]})]},O.category_name))]})]})]})}):e.jsx("div",{className:"text-center py-8 text-gray-500",children:'Click "Search" to load expense breakdown data'})}),i==="cost-per-student"&&e.jsx("div",{className:"space-y-6",children:x?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-blue-50 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-blue-900",children:"Total Expenses"}),e.jsx(I,{icon:$r,className:"text-blue-600"})]}),e.jsx("div",{className:"text-lg font-bold text-blue-900 mt-1",children:T(x.total_expenses)})]}),e.jsxs("div",{className:"bg-green-50 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-green-900",children:"Active Students"}),e.jsx(I,{icon:Ir,className:"text-green-600"})]}),e.jsx("div",{className:"text-lg font-bold text-green-900 mt-1",children:x.active_students})]}),e.jsxs("div",{className:"bg-purple-50 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-purple-900",children:"Cost Per Student"}),e.jsx(I,{icon:$r,className:"text-purple-600"})]}),e.jsx("div",{className:"text-lg font-bold text-purple-900 mt-1",children:T(x.cost_per_student)})]})]}),e.jsxs("div",{className:"bg-gray-50 p-4",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-4",children:"Cost Per Student by Category"}),e.jsx("div",{className:"space-y-2",children:x.expenses_by_category.map((O,k)=>e.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-200 last:border-b-0",children:[e.jsx("span",{className:"text-xs text-gray-700",children:O.category_name}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-xs font-medium text-gray-900",children:[T(O.cost_per_student)," per student"]}),e.jsxs("div",{className:"text-xs text-gray-500",children:["Total: ",T(O.total_amount)]})]})]},O.category_name))})]})]}):e.jsx("div",{className:"text-center py-8 text-gray-500",children:'Click "Search" to load cost per student analysis'})}),i==="trends"&&e.jsx("div",{className:"space-y-6",children:p?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"bg-gray-50 p-4",children:[e.jsxs("h4",{className:"text-sm font-medium text-gray-900 mb-4",children:["Expense Trends (",p.period_type,")"]}),e.jsx(zl,{width:"100%",height:300,children:e.jsxs(Nw,{data:p.trends,children:[e.jsx(Pd,{strokeDasharray:"3 3"}),e.jsx(xc,{dataKey:"period_label",tick:{fontSize:12},height:40}),e.jsx(pc,{tick:{fontSize:12},tickFormatter:O=>`$${O}`}),e.jsx(Bl,{content:e.jsx(E,{})}),e.jsx(Vy,{type:"monotone",dataKey:"total_expenses",stroke:"#3b82f6",strokeWidth:2,dot:{fill:"#3b82f6",strokeWidth:2,r:4}})]})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Trend Data"}),p.trends.map((O,k)=>e.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-200 last:border-b-0",children:[e.jsx("span",{className:"text-xs text-gray-700",children:O.period_label}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-xs font-medium text-gray-900",children:T(O.total_expenses)}),e.jsxs("div",{className:"text-xs text-gray-500",children:[O.transaction_count," transactions"]})]})]},k))]})]}):e.jsx("div",{className:"text-center py-8 text-gray-500",children:'Click "Search" to load expense trends'})})]})]})})},Yce=()=>{const{token:t}=et(),[r,a]=g.useState(!1),[s,n]=g.useState(null),[i,o]=g.useState("trends"),[d,u]=g.useState({year:new Date().getFullYear(),start_date:"",end_date:"",period:"monthly"}),[m,f]=g.useState(null),[x,b]=g.useState(null),[p,v]=g.useState(null),[j,w]=g.useState(null),N=t?{Authorization:`Bearer ${t}`}:{},P=async()=>{try{a(!0);const $=new URLSearchParams;$.append("period",d.period),d.start_date&&d.end_date?($.append("start_date",d.start_date),$.append("end_date",d.end_date)):d.year&&$.append("year",d.year);const M=await de.get(`${ce}/analytics/revenue/trends?${$}`,{headers:N});f(M.data.data)}catch($){n("Failed to fetch revenue trends"),console.error("Error fetching revenue trends:",$)}finally{a(!1)}},A=async()=>{try{a(!0);const $=new URLSearchParams;d.start_date&&d.end_date?($.append("start_date",d.start_date),$.append("end_date",d.end_date)):d.year&&$.append("year",d.year);const M=await de.get(`${ce}/analytics/revenue/fee-collection-trends?${$}`,{headers:N});b(M.data.data)}catch($){n("Failed to fetch fee collection trends"),console.error("Error fetching fee collection trends:",$)}finally{a(!1)}},D=async()=>{try{a(!0);const $=new URLSearchParams;d.start_date&&d.end_date?($.append("start_date",d.start_date),$.append("end_date",d.end_date)):d.year&&$.append("year",d.year);const M=await de.get(`${ce}/analytics/revenue/breakdown?${$}`,{headers:N});v(M.data.data)}catch($){n("Failed to fetch revenue breakdown"),console.error("Error fetching revenue breakdown:",$)}finally{a(!1)}},T=async()=>{try{a(!0);const $=new URLSearchParams;d.start_date&&d.end_date?($.append("start_date",d.start_date),$.append("end_date",d.end_date)):d.year&&$.append("year",d.year);const M=await de.get(`${ce}/analytics/revenue/payment-methods?${$}`,{headers:N});w(M.data.data)}catch($){n("Failed to fetch payment methods"),console.error("Error fetching payment methods:",$)}finally{a(!1)}},R=($,M)=>{u(F=>({...F,[$]:M}))},E=()=>{i==="trends"?P():i==="fee-collection"?A():i==="breakdown"?D():i==="payment-methods"&&T()},O=$=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format($),k=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#06b6d4"],Y=({active:$,payload:M,label:F})=>$&&M&&M.length?e.jsxs("div",{className:"bg-white p-3 border border-gray-200 shadow-lg",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:F}),M.map((K,q)=>e.jsxs("p",{className:"text-sm text-gray-600",children:[K.dataKey,": ",O(K.value)]},q))]}):null;return e.jsx("div",{className:"container mx-auto px-4 py-6",children:e.jsxs("div",{className:"bg-white border border-gray-200",children:[e.jsx("div",{className:"px-4 py-3 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(I,{icon:So,className:"text-gray-600 text-sm"}),e.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:"Revenue Analysis"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("button",{className:"px-3 py-1 text-xs bg-gray-100 text-gray-700 hover:bg-gray-200",children:[e.jsx(I,{icon:js,className:"mr-1"}),"Export"]}),e.jsxs("button",{className:"px-3 py-1 text-xs bg-gray-100 text-gray-700 hover:bg-gray-200",children:[e.jsx(I,{icon:Is,className:"mr-1"}),"Print"]})]})]})}),e.jsx("div",{className:"px-4 py-3 border-b border-gray-200",children:e.jsxs("div",{className:"flex flex-wrap gap-4 items-end",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(I,{icon:ts,className:"text-gray-400 text-xs"}),e.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Year:"}),e.jsx("input",{type:"number",value:d.year,onChange:$=>R("year",parseInt($.target.value)||new Date().getFullYear()),className:"border border-gray-300 px-2 py-1 text-xs w-20 focus:outline-none focus:border-gray-400",placeholder:"2024",min:"2000",max:"2100"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Period:"}),e.jsxs("select",{value:d.period,onChange:$=>R("period",$.target.value),className:"border border-gray-300 px-2 py-1 text-xs focus:outline-none focus:border-gray-400",children:[e.jsx("option",{value:"monthly",children:"Monthly"}),e.jsx("option",{value:"quarterly",children:"Quarterly"})]})]}),e.jsxs("button",{onClick:E,disabled:r,className:"px-4 py-1 text-xs bg-blue-600 text-white hover:bg-blue-700 disabled:opacity-50",children:[r?e.jsx(I,{icon:an,className:"animate-spin mr-1"}):e.jsx(I,{icon:yr,className:"mr-1"}),"Search"]})]})}),e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"flex space-x-8 px-4",children:[{id:"trends",label:"Revenue Trends",icon:So},{id:"fee-collection",label:"Fee Collection",icon:$r},{id:"breakdown",label:"Revenue Breakdown",icon:Ju},{id:"payment-methods",label:"Payment Methods",icon:Pn}].map($=>e.jsxs("button",{onClick:()=>o($.id),className:`py-3 px-1 border-b-2 text-xs font-medium ${i===$.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(I,{icon:$.icon,className:"mr-1"}),$.label]},$.id))})}),e.jsxs("div",{className:"p-4",children:[s&&e.jsxs("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-700 text-xs",children:[e.jsx(I,{icon:ur,className:"mr-1"}),s]}),i==="trends"&&e.jsx("div",{className:"space-y-6",children:m?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"bg-gray-50 p-4",children:[e.jsxs("h4",{className:"text-sm font-medium text-gray-900 mb-4",children:["Revenue Trends (",m.period_type,")"]}),e.jsx(zl,{width:"100%",height:300,children:e.jsxs(Nw,{data:m.trends,children:[e.jsx(Pd,{strokeDasharray:"3 3"}),e.jsx(xc,{dataKey:"period_label",tick:{fontSize:12},height:40}),e.jsx(pc,{tick:{fontSize:12},tickFormatter:$=>`$${$}`}),e.jsx(Bl,{content:e.jsx(Y,{})}),e.jsx(Vy,{type:"monotone",dataKey:"total_revenue",stroke:"#10b981",strokeWidth:2,dot:{fill:"#10b981",strokeWidth:2,r:4}})]})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Trend Data"}),m.trends.map(($,M)=>e.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-200 last:border-b-0",children:[e.jsx("span",{className:"text-xs text-gray-700",children:$.period_label}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-xs font-medium text-gray-900",children:O($.total_revenue)}),e.jsxs("div",{className:"text-xs text-gray-500",children:[$.transaction_count," transactions"]})]})]},M))]})]}):e.jsx("div",{className:"text-center py-8 text-gray-500",children:'Click "Search" to load revenue trends'})}),i==="fee-collection"&&e.jsx("div",{className:"space-y-6",children:x?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"bg-gray-50 p-4",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-4",children:"Fee Collection Trends by Type"}),e.jsx(zl,{width:"100%",height:300,children:e.jsxs(Vg,{data:x.trends,children:[e.jsx(Pd,{strokeDasharray:"3 3"}),e.jsx(xc,{dataKey:"period_label",tick:{fontSize:12},height:40}),e.jsx(pc,{tick:{fontSize:12},tickFormatter:$=>`$${$}`}),e.jsx(Bl,{content:e.jsx(Y,{})}),e.jsx(Yu,{dataKey:"tuition",stackId:"a",fill:"#3b82f6",name:"Tuition"}),e.jsx(Yu,{dataKey:"boarding",stackId:"a",fill:"#10b981",name:"Boarding"}),e.jsx(Yu,{dataKey:"transport",stackId:"a",fill:"#f59e0b",name:"Transport"})]})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Collection Data"}),x.trends.map(($,M)=>e.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-200 last:border-b-0",children:[e.jsx("span",{className:"text-xs text-gray-700",children:$.period_label}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-xs font-medium text-gray-900",children:["Total: ",O($.total)]}),e.jsxs("div",{className:"text-xs text-gray-500",children:["T: ",O($.tuition)," | B: ",O($.boarding)," | Tr: ",O($.transport)]})]})]},M))]})]}):e.jsx("div",{className:"text-center py-8 text-gray-500",children:'Click "Search" to load fee collection trends'})}),i==="breakdown"&&e.jsx("div",{className:"space-y-6",children:p?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 p-4",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-4",children:"Revenue by Source"}),e.jsx(zl,{width:"100%",height:300,children:e.jsxs(Kg,{children:[e.jsx(Ox,{data:p.revenue_sources,cx:"50%",cy:"50%",labelLine:!1,label:({source_name:$,percent:M})=>`${$} ${(M*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"total_amount",children:p.revenue_sources.map(($,M)=>e.jsx(Fd,{fill:k[M%k.length]},`cell-${M}`))}),e.jsx(Bl,{formatter:$=>O($)})]})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-green-50 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-green-900",children:"Total Revenue"}),e.jsx("span",{className:"text-lg font-bold text-green-900",children:O(p.total_revenue)})]}),e.jsxs("div",{className:"text-xs text-green-700 mt-1",children:["Period: ",p.period]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Revenue Sources"}),p.revenue_sources.map(($,M)=>e.jsxs("div",{className:"flex justify-between items-center py-1",children:[e.jsx("span",{className:"text-xs text-gray-700",children:$.source_name}),e.jsxs("div",{className:"text-right",children:[e.jsx("span",{className:"text-xs font-medium text-gray-900",children:O($.total_amount)}),e.jsxs("span",{className:"text-xs text-gray-500 ml-2",children:["(",$.percentage,"%)"]})]})]},$.source_name))]})]})]})}):e.jsx("div",{className:"text-center py-8 text-gray-500",children:'Click "Search" to load revenue breakdown'})}),i==="payment-methods"&&e.jsx("div",{className:"space-y-6",children:j?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 p-4",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-4",children:"Payment Methods Distribution"}),e.jsx(zl,{width:"100%",height:300,children:e.jsxs(Kg,{children:[e.jsx(Ox,{data:j.payment_methods,cx:"50%",cy:"50%",labelLine:!1,label:({payment_method:$,percent:M})=>`${$} ${(M*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"total_amount",children:j.payment_methods.map(($,M)=>e.jsx(Fd,{fill:k[M%k.length]},`cell-${M}`))}),e.jsx(Bl,{formatter:$=>O($)})]})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-blue-50 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-blue-900",children:"Total Collected"}),e.jsx("span",{className:"text-lg font-bold text-blue-900",children:O(j.total_amount)})]}),e.jsxs("div",{className:"text-xs text-blue-700 mt-1",children:["Period: ",j.period]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Payment Methods"}),j.payment_methods.map(($,M)=>e.jsxs("div",{className:"flex justify-between items-center py-1",children:[e.jsx("span",{className:"text-xs text-gray-700 capitalize",children:$.payment_method}),e.jsxs("div",{className:"text-right",children:[e.jsx("span",{className:"text-xs font-medium text-gray-900",children:O($.total_amount)}),e.jsxs("span",{className:"text-xs text-gray-500 ml-2",children:["(",$.percentage,"%)"]})]})]},$.payment_method))]})]})]})}):e.jsx("div",{className:"text-center py-8 text-gray-500",children:'Click "Search" to load payment methods analysis'})})]})]})})},Vce=()=>{const{token:t}=et(),[r,a]=g.useState(!1),[s,n]=g.useState(null),[i,o]=g.useState("outstanding-balances"),[d,u]=g.useState({year:new Date().getFullYear(),term:"",start_date:"",end_date:""}),[m,f]=g.useState(null),[x,b]=g.useState(null),[p,v]=g.useState(null),[j,w]=g.useState(null),N=t?{Authorization:`Bearer ${t}`}:{},P=async()=>{try{a(!0);const M=new URLSearchParams;d.year&&M.append("year",d.year),d.term&&M.append("term",d.term);const F=await de.get(`${ce}/analytics/student-financial/outstanding-balances?${M}`,{headers:N});f(F.data.data)}catch(M){n("Failed to fetch outstanding balances"),console.error("Error fetching outstanding balances:",M)}finally{a(!1)}},A=async()=>{try{a(!0);const M=new URLSearchParams;d.start_date&&d.end_date?(M.append("start_date",d.start_date),M.append("end_date",d.end_date)):d.year&&d.term?(M.append("year",d.year),M.append("term",d.term)):d.year&&M.append("year",d.year);const F=await de.get(`${ce}/analytics/student-financial/payment-completion-rates?${M}`,{headers:N});b(F.data.data)}catch(M){n("Failed to fetch payment completion rates"),console.error("Error fetching payment completion rates:",M)}finally{a(!1)}},D=async()=>{try{a(!0);const M=new URLSearchParams;d.start_date&&d.end_date?(M.append("start_date",d.start_date),M.append("end_date",d.end_date)):d.year&&d.term?(M.append("year",d.year),M.append("term",d.term)):d.year&&M.append("year",d.year);const F=await de.get(`${ce}/analytics/student-financial/efficiency-metrics?${M}`,{headers:N});v(F.data.data)}catch(M){n("Failed to fetch efficiency metrics"),console.error("Error fetching efficiency metrics:",M)}finally{a(!1)}},T=async()=>{try{a(!0);const M=await de.get(`${ce}/analytics/student-financial/health-summary`,{headers:N});w(M.data.data)}catch(M){n("Failed to fetch health summary"),console.error("Error fetching health summary:",M)}finally{a(!1)}},R=(M,F)=>{u(K=>({...K,[M]:F}))},E=()=>{i==="outstanding-balances"?P():i==="completion-rates"?A():i==="efficiency"?D():i==="health-summary"&&T()},O=M=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(M),k=({active:M,payload:F,label:K})=>M&&F&&F.length?e.jsxs("div",{className:"bg-white p-3 border border-gray-200 shadow-lg",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:K}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Outstanding: ",O(F[0].value)]})]}):null,Y=M=>M>=90?"text-green-600":M>=70?"text-yellow-600":"text-red-600",$=M=>M>=90?aa:M>=70?vv:Wu;return e.jsx("div",{className:"container mx-auto px-4 py-6",children:e.jsxs("div",{className:"bg-white border border-gray-200",children:[e.jsx("div",{className:"px-4 py-3 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(I,{icon:Ir,className:"text-gray-600 text-sm"}),e.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:"Student Financial Analytics"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("button",{className:"px-3 py-1 text-xs bg-gray-100 text-gray-700 hover:bg-gray-200",children:[e.jsx(I,{icon:js,className:"mr-1"}),"Export"]}),e.jsxs("button",{className:"px-3 py-1 text-xs bg-gray-100 text-gray-700 hover:bg-gray-200",children:[e.jsx(I,{icon:Is,className:"mr-1"}),"Print"]})]})]})}),e.jsx("div",{className:"px-4 py-3 border-b border-gray-200",children:e.jsxs("div",{className:"flex flex-wrap gap-4 items-end",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(I,{icon:ts,className:"text-gray-400 text-xs"}),e.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Year:"}),e.jsx("input",{type:"number",value:d.year,onChange:M=>R("year",parseInt(M.target.value)||new Date().getFullYear()),className:"border border-gray-300 px-2 py-1 text-xs w-20 focus:outline-none focus:border-gray-400",placeholder:"2024",min:"2000",max:"2100"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Term:"}),e.jsxs("select",{value:d.term,onChange:M=>R("term",M.target.value),className:"border border-gray-300 px-2 py-1 text-xs focus:outline-none focus:border-gray-400",children:[e.jsx("option",{value:"",children:"All Terms"}),e.jsx("option",{value:"1",children:"Term 1"}),e.jsx("option",{value:"2",children:"Term 2"}),e.jsx("option",{value:"3",children:"Term 3"})]})]}),e.jsxs("button",{onClick:E,disabled:r,className:"px-4 py-1 text-xs bg-blue-600 text-white hover:bg-blue-700 disabled:opacity-50",children:[r?e.jsx(I,{icon:an,className:"animate-spin mr-1"}):e.jsx(I,{icon:yr,className:"mr-1"}),"Search"]})]})}),e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"flex space-x-8 px-4",children:[{id:"outstanding-balances",label:"Outstanding Balances",icon:$r},{id:"completion-rates",label:"Completion Rates",icon:yv},{id:"efficiency",label:"Efficiency Metrics",icon:Ao},{id:"health-summary",label:"Health Summary",icon:Ir}].map(M=>e.jsxs("button",{onClick:()=>o(M.id),className:`py-3 px-1 border-b-2 text-xs font-medium ${i===M.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(I,{icon:M.icon,className:"mr-1"}),M.label]},M.id))})}),e.jsxs("div",{className:"p-4",children:[s&&e.jsxs("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-700 text-xs",children:[e.jsx(I,{icon:ur,className:"mr-1"}),s]}),i==="outstanding-balances"&&e.jsx("div",{className:"space-y-6",children:m?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-red-50 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-red-900",children:"Total Outstanding"}),e.jsx(I,{icon:$r,className:"text-red-600"})]}),e.jsx("div",{className:"text-lg font-bold text-red-900 mt-1",children:O(m.total_outstanding_amount)})]}),e.jsxs("div",{className:"bg-orange-50 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-orange-900",children:"Students with Balances"}),e.jsx(I,{icon:Ir,className:"text-orange-600"})]}),e.jsx("div",{className:"text-lg font-bold text-orange-900 mt-1",children:m.total_students_with_balances})]}),e.jsxs("div",{className:"bg-blue-50 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-blue-900",children:"Average Outstanding"}),e.jsx(I,{icon:$r,className:"text-blue-600"})]}),e.jsx("div",{className:"text-lg font-bold text-blue-900 mt-1",children:O(m.total_outstanding_amount/Math.max(m.total_students_with_balances,1))})]})]}),e.jsxs("div",{className:"bg-gray-50 p-4",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-4",children:"Outstanding Balances by Class"}),e.jsx(zl,{width:"100%",height:300,children:e.jsxs(Vg,{data:m.balances_by_class,children:[e.jsx(Pd,{strokeDasharray:"3 3"}),e.jsx(xc,{dataKey:"class_name",tick:{fontSize:12},height:40}),e.jsx(pc,{tick:{fontSize:12},tickFormatter:M=>`$${M}`}),e.jsx(Bl,{content:e.jsx(k,{})}),e.jsx(Yu,{dataKey:"total_outstanding",fill:"#ef4444",radius:[2,2,0,0]})]})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Class Details"}),m.balances_by_class.map((M,F)=>e.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-200 last:border-b-0",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-xs font-medium text-gray-900",children:M.class_name}),e.jsxs("span",{className:"text-xs text-gray-500 ml-2",children:["(",M.stream_name,")"]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-xs font-medium text-gray-900",children:O(M.total_outstanding)}),e.jsxs("div",{className:"text-xs text-gray-500",children:[M.student_count," students"]})]})]},F))]})]}):e.jsx("div",{className:"text-center py-8 text-gray-500",children:'Click "Search" to load outstanding balances'})}),i==="completion-rates"&&e.jsx("div",{className:"space-y-6",children:x?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-green-50 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-green-900",children:"Completion Rate"}),e.jsx(I,{icon:yv,className:"text-green-600"})]}),e.jsxs("div",{className:"text-lg font-bold text-green-900 mt-1",children:[x.overall_completion_rate,"%"]})]}),e.jsxs("div",{className:"bg-blue-50 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-blue-900",children:"Total Charged"}),e.jsx(I,{icon:$r,className:"text-blue-600"})]}),e.jsx("div",{className:"text-lg font-bold text-blue-900 mt-1",children:O(x.total_charged)})]}),e.jsxs("div",{className:"bg-green-50 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-green-900",children:"Total Paid"}),e.jsx(I,{icon:$r,className:"text-green-600"})]}),e.jsx("div",{className:"text-lg font-bold text-green-900 mt-1",children:O(x.total_paid)})]}),e.jsxs("div",{className:"bg-red-50 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-red-900",children:"Outstanding"}),e.jsx(I,{icon:$r,className:"text-red-600"})]}),e.jsx("div",{className:"text-lg font-bold text-red-900 mt-1",children:O(x.outstanding_amount)})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Completion by Class"}),x.completion_by_class.map((M,F)=>e.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-200 last:border-b-0",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-xs font-medium text-gray-900",children:M.class_name}),e.jsxs("span",{className:"text-xs text-gray-500 ml-2",children:["(",M.stream_name,")"]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-xs font-medium text-gray-900",children:[M.completion_rate,"% complete"]}),e.jsxs("div",{className:"text-xs text-gray-500",children:[M.students_paid_up,"/",M.total_students," students"]})]}),e.jsx(I,{icon:$(parseFloat(M.completion_rate)),className:`text-sm ${Y(parseFloat(M.completion_rate))}`})]})]},F))]})]}):e.jsx("div",{className:"text-center py-8 text-gray-500",children:'Click "Search" to load payment completion rates'})}),i==="efficiency"&&e.jsx("div",{className:"space-y-6",children:p?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-blue-50 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-blue-900",children:"Collection Rate"}),e.jsx(I,{icon:yv,className:"text-blue-600"})]}),e.jsxs("div",{className:"text-lg font-bold text-blue-900 mt-1",children:[p.efficiency_metrics.collection_rate,"%"]})]}),e.jsxs("div",{className:"bg-green-50 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-green-900",children:"Success Rate"}),e.jsx(I,{icon:aa,className:"text-green-600"})]}),e.jsxs("div",{className:"text-lg font-bold text-green-900 mt-1",children:[p.efficiency_metrics.success_rate,"%"]})]}),e.jsxs("div",{className:"bg-purple-50 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-purple-900",children:"Avg Payment/Student"}),e.jsx(I,{icon:$r,className:"text-purple-600"})]}),e.jsx("div",{className:"text-lg font-bold text-purple-900 mt-1",children:O(p.efficiency_metrics.average_payment_per_student)})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 p-4",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-4",children:"Payment Methods"}),e.jsx("div",{className:"space-y-2",children:Object.entries(p.payment_methods).map(([M,F])=>e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs text-gray-700 capitalize",children:M.replace("_"," ")}),e.jsx("span",{className:"text-xs font-medium text-gray-900",children:F})]},M))})]}),e.jsxs("div",{className:"bg-gray-50 p-4",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-4",children:"Payment Status"}),e.jsx("div",{className:"space-y-2",children:Object.entries(p.payment_status).map(([M,F])=>e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs text-gray-700 capitalize",children:M}),e.jsx("span",{className:"text-xs font-medium text-gray-900",children:F})]},M))})]})]})]}):e.jsx("div",{className:"text-center py-8 text-gray-500",children:'Click "Search" to load efficiency metrics'})}),i==="health-summary"&&e.jsx("div",{className:"space-y-6",children:j?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-blue-50 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-blue-900",children:"Total Students"}),e.jsx(I,{icon:Ir,className:"text-blue-600"})]}),e.jsx("div",{className:"text-lg font-bold text-blue-900 mt-1",children:j.total_students})]}),e.jsxs("div",{className:"bg-green-50 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-green-900",children:"Paid Up"}),e.jsx(I,{icon:aa,className:"text-green-600"})]}),e.jsx("div",{className:"text-lg font-bold text-green-900 mt-1",children:j.students_paid_up})]}),e.jsxs("div",{className:"bg-red-50 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-red-900",children:"Total Outstanding"}),e.jsx(I,{icon:$r,className:"text-red-600"})]}),e.jsx("div",{className:"text-lg font-bold text-red-900 mt-1",children:O(j.total_outstanding)})]}),e.jsxs("div",{className:"bg-purple-50 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-purple-900",children:"Avg Outstanding"}),e.jsx(I,{icon:$r,className:"text-purple-600"})]}),e.jsx("div",{className:"text-lg font-bold text-purple-900 mt-1",children:O(j.average_outstanding)})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-yellow-50 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-yellow-900",children:"Small Balance"}),e.jsx(I,{icon:vv,className:"text-yellow-600"})]}),e.jsx("div",{className:"text-lg font-bold text-yellow-900 mt-1",children:j.students_small_balance}),e.jsx("div",{className:"text-xs text-yellow-700",children:"$0 - $100"})]}),e.jsxs("div",{className:"bg-orange-50 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-orange-900",children:"Medium Balance"}),e.jsx(I,{icon:vv,className:"text-orange-600"})]}),e.jsx("div",{className:"text-lg font-bold text-orange-900 mt-1",children:j.students_medium_balance}),e.jsx("div",{className:"text-xs text-orange-700",children:"$100 - $500"})]}),e.jsxs("div",{className:"bg-red-50 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-red-900",children:"Large Balance"}),e.jsx(I,{icon:Wu,className:"text-red-600"})]}),e.jsx("div",{className:"text-lg font-bold text-red-900 mt-1",children:j.students_large_balance}),e.jsx("div",{className:"text-xs text-red-700",children:"$500+"})]})]}),e.jsxs("div",{className:"bg-gray-50 p-4",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-4",children:"Recent Activity (Last 30 Days)"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs text-gray-700",children:"Payments Made"}),e.jsx("span",{className:"text-xs font-medium text-gray-900",children:j.recent_activity.payments_last_30_days})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs text-gray-700",children:"Amount Collected"}),e.jsx("span",{className:"text-xs font-medium text-gray-900",children:O(j.recent_activity.amount_last_30_days)})]})]})]})]}):e.jsx("div",{className:"text-center py-8 text-gray-500",children:'Click "Search" to load health summary'})})]})]})})},Kce=()=>{const{token:t}=et(),[r,a]=g.useState(!1),[s,n]=g.useState(null),[i,o]=g.useState("overview"),[d,u]=g.useState({year:new Date().getFullYear(),term:"",class_id:"",subject_id:""}),[m,f]=g.useState(null),[x,b]=g.useState(null),[p,v]=g.useState(null),[j,w]=g.useState(null),[N,P]=g.useState([]),[A,D]=g.useState([]),T=t?{Authorization:`Bearer ${t}`}:{},R=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#06b6d4","#f97316","#84cc16"],E=async()=>{try{a(!0);const q=new URLSearchParams;d.year&&q.append("year",d.year),d.term&&q.append("term",d.term),d.class_id&&q.append("class_id",d.class_id),d.subject_id&&q.append("subject_id",d.subject_id);const U=await de.get(`${ce}/analytics/student-results/academic-performance?${q}`,{headers:T});f(U.data.data)}catch(q){n("Failed to fetch academic performance overview"),console.error("Error fetching academic performance overview:",q)}finally{a(!1)}},O=async()=>{try{a(!0);const q=new URLSearchParams;d.year&&q.append("year",d.year),d.term&&q.append("term",d.term),d.class_id&&q.append("class_id",d.class_id),d.subject_id&&q.append("subject_id",d.subject_id);const U=await de.get(`${ce}/analytics/student-results/grade-distribution?${q}`,{headers:T});b(U.data.data)}catch(q){n("Failed to fetch grade distribution"),console.error("Error fetching grade distribution:",q)}finally{a(!1)}},k=async()=>{try{a(!0);const q=new URLSearchParams;d.year&&q.append("year",d.year),d.class_id&&q.append("class_id",d.class_id),d.subject_id&&q.append("subject_id",d.subject_id),q.append("period","monthly");const U=await de.get(`${ce}/analytics/student-results/performance-trends?${q}`,{headers:T});v(U.data.data)}catch(q){n("Failed to fetch performance trends"),console.error("Error fetching performance trends:",q)}finally{a(!1)}},Y=async()=>{try{a(!0);const q=new URLSearchParams;d.year&&q.append("year",d.year),d.term&&q.append("term",d.term),d.class_id&&q.append("class_id",d.class_id),d.subject_id&&q.append("subject_id",d.subject_id);const U=await de.get(`${ce}/analytics/student-results/top-bottom-performers?${q}`,{headers:T});w(U.data.data)}catch(q){n("Failed to fetch top and bottom performers"),console.error("Error fetching top and bottom performers:",q)}finally{a(!1)}},$=async()=>{try{const[q,U]=await Promise.all([de.get(`${ce}/classes/gradelevel-classes`,{headers:T}),de.get(`${ce}/classes/subjects`,{headers:T})]);P(q.data.data||[]),D(U.data.data||[])}catch(q){console.error("Error fetching filter data:",q)}},M=(q,U)=>{u(V=>({...V,[q]:U}))},F=()=>{i==="overview"?E():i==="grade-distribution"?O():i==="trends"?k():i==="performers"&&Y()},K=({active:q,payload:U,label:V})=>q&&U&&U.length?e.jsxs("div",{className:"bg-white p-3 border border-gray-200 shadow-lg",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:V}),U.map((Z,X)=>e.jsxs("p",{className:"text-sm text-gray-600",children:[Z.dataKey,": ",Z.value]},X))]}):null;return g.useEffect(()=>{$()},[]),e.jsx("div",{className:"container mx-auto px-4 py-6",children:e.jsxs("div",{className:"bg-white border border-gray-200",children:[e.jsx("div",{className:"px-4 py-3 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(I,{icon:px,className:"text-gray-600 text-sm"}),e.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:"Student Results Analytics"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("button",{className:"px-3 py-1 text-xs bg-gray-100 text-gray-700 hover:bg-gray-200",children:[e.jsx(I,{icon:js,className:"mr-1"}),"Export"]}),e.jsxs("button",{className:"px-3 py-1 text-xs bg-gray-100 text-gray-700 hover:bg-gray-200",children:[e.jsx(I,{icon:Is,className:"mr-1"}),"Print"]})]})]})}),e.jsx("div",{className:"px-4 py-3 border-b border-gray-200",children:e.jsxs("div",{className:"flex flex-wrap gap-4 items-end",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(I,{icon:ts,className:"text-gray-400 text-xs"}),e.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Year:"}),e.jsx("input",{type:"number",value:d.year,onChange:q=>M("year",parseInt(q.target.value)||new Date().getFullYear()),className:"border border-gray-300 px-2 py-1 text-xs w-20 focus:outline-none focus:border-gray-400",placeholder:"2024",min:"2000",max:"2100"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Term:"}),e.jsxs("select",{value:d.term,onChange:q=>M("term",q.target.value),className:"border border-gray-300 px-2 py-1 text-xs focus:outline-none focus:border-gray-400",children:[e.jsx("option",{value:"",children:"All Terms"}),e.jsx("option",{value:"1",children:"Term 1"}),e.jsx("option",{value:"2",children:"Term 2"}),e.jsx("option",{value:"3",children:"Term 3"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Class:"}),e.jsxs("select",{value:d.class_id,onChange:q=>M("class_id",q.target.value),className:"border border-gray-300 px-2 py-1 text-xs focus:outline-none focus:border-gray-400",children:[e.jsx("option",{value:"",children:"All Classes"}),N.map(q=>e.jsx("option",{value:q.id,children:q.name},q.id))]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Subject:"}),e.jsxs("select",{value:d.subject_id,onChange:q=>M("subject_id",q.target.value),className:"border border-gray-300 px-2 py-1 text-xs focus:outline-none focus:border-gray-400",children:[e.jsx("option",{value:"",children:"All Subjects"}),A.map(q=>e.jsx("option",{value:q.id,children:q.name},q.id))]})]}),e.jsxs("button",{onClick:F,disabled:r,className:"px-4 py-1 text-xs bg-blue-600 text-white hover:bg-blue-700 disabled:opacity-50",children:[r?e.jsx(I,{icon:an,className:"animate-spin mr-1"}):e.jsx(I,{icon:yr,className:"mr-1"}),"Search"]})]})}),e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"flex space-x-8 px-4",children:[{id:"overview",label:"Academic Overview",icon:Ao},{id:"grade-distribution",label:"Grade Distribution",icon:xB},{id:"trends",label:"Performance Trends",icon:So},{id:"performers",label:"Top/Bottom Performers",icon:Ld}].map(q=>e.jsxs("button",{onClick:()=>o(q.id),className:`py-3 px-1 border-b-2 text-xs font-medium ${i===q.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(I,{icon:q.icon,className:"mr-1"}),q.label]},q.id))})}),e.jsxs("div",{className:"p-4",children:[s&&e.jsxs("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-700 text-xs",children:[e.jsx(I,{icon:ur,className:"mr-1"}),s]}),i==="overview"&&e.jsx("div",{className:"space-y-6",children:m?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-blue-50 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-blue-900",children:"Total Students"}),e.jsx(I,{icon:La,className:"text-blue-600"})]}),e.jsx("div",{className:"text-lg font-bold text-blue-900 mt-1",children:m.overview.total_students})]}),e.jsxs("div",{className:"bg-green-50 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-green-900",children:"Average Marks"}),e.jsx(I,{icon:SB,className:"text-green-600"})]}),e.jsxs("div",{className:"text-lg font-bold text-green-900 mt-1",children:[m.overview.average_marks,"%"]})]}),e.jsxs("div",{className:"bg-yellow-50 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-yellow-900",children:"Highest Marks"}),e.jsx(I,{icon:Ld,className:"text-yellow-600"})]}),e.jsxs("div",{className:"text-lg font-bold text-yellow-900 mt-1",children:[m.overview.highest_marks,"%"]})]}),e.jsxs("div",{className:"bg-purple-50 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-purple-900",children:"Exam Records"}),e.jsx(I,{icon:Ao,className:"text-purple-600"})]}),e.jsx("div",{className:"text-lg font-bold text-purple-900 mt-1",children:m.overview.total_exam_records})]})]}),e.jsxs("div",{className:"bg-gray-50 p-4",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-4",children:"Performance Distribution"}),e.jsx(zl,{width:"100%",height:300,children:e.jsxs(Kg,{children:[e.jsx(Ox,{data:[{name:"Excellent (80%+)",value:parseFloat(m.overview.performance_distribution.excellent)},{name:"Good (60-79%)",value:parseFloat(m.overview.performance_distribution.good)},{name:"Average (40-59%)",value:parseFloat(m.overview.performance_distribution.average)},{name:"Poor (<40%)",value:parseFloat(m.overview.performance_distribution.poor)}],cx:"50%",cy:"50%",labelLine:!1,label:({name:q,percent:U})=>`${q} ${(U*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:[0,1,2,3].map((q,U)=>e.jsx(Fd,{fill:R[U%R.length]},`cell-${U}`))}),e.jsx(Bl,{formatter:q=>`${q}%`})]})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Performance by Class"}),e.jsx("div",{className:"bg-gray-50 p-4",children:e.jsx(zl,{width:"100%",height:300,children:e.jsxs(Vg,{data:m.performance_by_class,children:[e.jsx(Pd,{strokeDasharray:"3 3"}),e.jsx(xc,{dataKey:"class_name",tick:{fontSize:12},height:40}),e.jsx(pc,{tick:{fontSize:12},tickFormatter:q=>`${q}%`}),e.jsx(Bl,{content:e.jsx(K,{})}),e.jsx(Yu,{dataKey:"average_marks",fill:"#3b82f6",radius:[2,2,0,0]})]})})})]})]}):e.jsx("div",{className:"text-center py-8 text-gray-500",children:'Click "Search" to load academic performance overview'})}),i==="grade-distribution"&&e.jsx("div",{className:"space-y-6",children:x&&x.grade_distribution&&x.grade_distribution.length>0?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"bg-gray-50 p-4",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-4",children:"Grade Distribution"}),e.jsx(zl,{width:"100%",height:300,children:e.jsxs(Vg,{data:x.grade_distribution,children:[e.jsx(Pd,{strokeDasharray:"3 3"}),e.jsx(xc,{dataKey:"grade",tick:{fontSize:12},height:40}),e.jsx(pc,{tick:{fontSize:12}}),e.jsx(Bl,{content:e.jsx(K,{})}),e.jsx(Yu,{dataKey:"count",fill:"#10b981",radius:[2,2,0,0]})]})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Grade Details"}),x.grade_distribution.map((q,U)=>e.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-200 last:border-b-0",children:[e.jsx("span",{className:"text-xs font-medium text-gray-900",children:q.grade}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-xs font-medium text-gray-900",children:[q.count," students"]}),e.jsxs("div",{className:"text-xs text-gray-500",children:[q.percentage,"%"]})]})]},U))]})]}):x&&x.grade_distribution&&x.grade_distribution.length===0?e.jsx("div",{className:"text-center py-8 text-gray-500",children:"No grade distribution data found for the selected filters"}):e.jsx("div",{className:"text-center py-8 text-gray-500",children:'Click "Search" to load grade distribution'})}),i==="trends"&&e.jsx("div",{className:"space-y-6",children:p?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"bg-gray-50 p-4",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-4",children:"Performance Trends"}),e.jsx(zl,{width:"100%",height:300,children:e.jsxs(Nw,{data:p.trends,children:[e.jsx(Pd,{strokeDasharray:"3 3"}),e.jsx(xc,{dataKey:"period_label",tick:{fontSize:12},height:40}),e.jsx(pc,{tick:{fontSize:12},tickFormatter:q=>`${q}%`}),e.jsx(Bl,{content:e.jsx(K,{})}),e.jsx(Vy,{type:"monotone",dataKey:"average_marks",stroke:"#3b82f6",strokeWidth:2,dot:{fill:"#3b82f6",strokeWidth:2,r:4}})]})})]})}):e.jsx("div",{className:"text-center py-8 text-gray-500",children:'Click "Search" to load performance trends'})}),i==="performers"&&e.jsx("div",{className:"space-y-6",children:j?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-4",children:"Top Performers"}),e.jsx("div",{className:"space-y-2",children:j.top_performers.map((q,U)=>e.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-200 last:border-b-0",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-xs font-medium text-gray-900",children:q.full_name}),e.jsxs("span",{className:"text-xs text-gray-500 ml-2",children:["(",q.class_name,")"]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-xs font-medium text-gray-900",children:[q.average_marks,"%"]}),e.jsxs("div",{className:"text-xs text-gray-500",children:[q.exam_count," exams"]})]})]},U))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-4",children:"Bottom Performers"}),e.jsx("div",{className:"space-y-2",children:j.bottom_performers.map((q,U)=>e.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-200 last:border-b-0",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-xs font-medium text-gray-900",children:q.full_name}),e.jsxs("span",{className:"text-xs text-gray-500 ml-2",children:["(",q.class_name,")"]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-xs font-medium text-gray-900",children:[q.average_marks,"%"]}),e.jsxs("div",{className:"text-xs text-gray-500",children:[q.exam_count," exams"]})]})]},U))})]})]})}):e.jsx("div",{className:"text-center py-8 text-gray-500",children:'Click "Search" to load top and bottom performers'})})]})]})})},Wce=()=>{const{token:t}=et(),[r,a]=g.useState(!1),[s,n]=g.useState(""),[i,o]=g.useState(""),[d,u]=g.useState(!1),[m,f]=g.useState(!1),[x,b]=g.useState({totalRequests:0,pendingApproval:0,approved:0,delivered:0,totalValue:0}),[p,v]=g.useState([]),[j,w]=g.useState({search:"",status:"",start_date:"",end_date:"",page:1,limit:10});g.useEffect(()=>{N()},[]);const N=async()=>{a(!0),n("");try{const E=await de.get(`${ce}/procurement/stats`,{headers:{Authorization:`Bearer ${t}`}});b(E.data.data);const O=await de.get(`${ce}/procurement/purchase-requests`,{params:{page:1,limit:5,sort:"created_at",order:"desc"},headers:{Authorization:`Bearer ${t}`}});v(O.data.data||[])}catch(E){console.error("Error fetching procurement data:",E),n(E.response?.data?.message||"Failed to fetch procurement data"),f(!0)}finally{a(!1)}},P=async E=>{if(window.confirm("Are you sure you want to delete this purchase request?"))try{await de.delete(`${ce}/procurement/purchase-requests/${E}`,{headers:{Authorization:`Bearer ${t}`}}),o("Purchase request deleted successfully"),u(!0),N()}catch(O){console.error("Error deleting purchase request:",O),n(O.response?.data?.message||"Failed to delete purchase request"),f(!0)}},A=E=>{switch(E){case"pending":return"text-yellow-600 bg-yellow-100";case"approved":return"text-blue-600 bg-blue-100";case"delivered":return"text-green-600 bg-green-100";case"rejected":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},D=E=>{switch(E){case"pending":return sn;case"approved":return aa;case"delivered":return vf;case"rejected":return ur;default:return ur}},T=E=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(E),R=E=>new Date(E).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return r?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsx("div",{className:"text-gray-500",children:"Loading procurement data..."})}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsx("div",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Procurement Dashboard"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage purchase requests and procurement activities"})]}),e.jsx("div",{className:"flex items-center space-x-3",children:e.jsxs(Yt,{to:"/dashboard/procurement/purchase-requests/new",className:"bg-blue-600 text-white px-4 py-2 hover:bg-blue-700 flex items-center space-x-2 text-sm font-medium transition-colors",children:[e.jsx(I,{icon:_t}),e.jsx("span",{children:"New Purchase Request"})]})})]})})}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4 mb-6",children:[e.jsx("div",{className:"bg-white border border-gray-200 p-4 shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-gray-600",children:"Total Requests"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900",children:x.totalRequests})]}),e.jsx("div",{className:"bg-blue-100 p-2",children:e.jsx(I,{icon:eg,className:"text-blue-600 text-sm"})})]})}),e.jsx("div",{className:"bg-white border border-gray-200 p-4 shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-gray-600",children:"Pending Approval"}),e.jsx("p",{className:"text-lg font-semibold text-yellow-600",children:x.pendingApproval})]}),e.jsx("div",{className:"bg-yellow-100 p-2",children:e.jsx(I,{icon:sn,className:"text-yellow-600 text-sm"})})]})}),e.jsx("div",{className:"bg-white border border-gray-200 p-4 shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-gray-600",children:"Approved"}),e.jsx("p",{className:"text-lg font-semibold text-blue-600",children:x.approved})]}),e.jsx("div",{className:"bg-blue-100 p-2",children:e.jsx(I,{icon:aa,className:"text-blue-600 text-sm"})})]})}),e.jsx("div",{className:"bg-white border border-gray-200 p-4 shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-gray-600",children:"Delivered"}),e.jsx("p",{className:"text-lg font-semibold text-green-600",children:x.delivered})]}),e.jsx("div",{className:"bg-green-100 p-2",children:e.jsx(I,{icon:vf,className:"text-green-600 text-sm"})})]})}),e.jsx("div",{className:"bg-white border border-gray-200 p-4 shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-gray-600",children:"Total Value"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900",children:T(x.totalValue)})]}),e.jsx("div",{className:"bg-green-100 p-2",children:e.jsx(I,{icon:Ao,className:"text-green-600 text-sm"})})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4 mb-6",children:[e.jsx(Yt,{to:"/dashboard/procurement/purchase-requests",className:"bg-white border border-gray-200 p-4 hover:border-blue-300 hover:shadow-md transition-all",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"bg-blue-100 p-2",children:e.jsx(I,{icon:eg,className:"text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Purchase Requests"}),e.jsx("p",{className:"text-xs text-gray-500",children:"View and manage requests"})]})]})}),e.jsx(Yt,{to:"/dashboard/procurement/suppliers",className:"bg-white border border-gray-200 p-4 hover:border-blue-300 hover:shadow-md transition-all",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"bg-green-100 p-2",children:e.jsx(I,{icon:$C,className:"text-green-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Suppliers"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Manage vendor relationships"})]})]})}),e.jsx(Yt,{to:"/dashboard/procurement/purchase-orders",className:"bg-white border border-gray-200 p-4 hover:border-blue-300 hover:shadow-md transition-all",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"bg-purple-100 p-2",children:e.jsx(I,{icon:Fu,className:"text-purple-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Purchase Orders"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Track orders and deliveries"})]})]})}),e.jsx(Yt,{to:"/dashboard/procurement/reports",className:"bg-white border border-gray-200 p-4 hover:border-blue-300 hover:shadow-md transition-all",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"bg-orange-100 p-2",children:e.jsx(I,{icon:Ao,className:"text-orange-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Reports"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Analytics and insights"})]})]})}),e.jsx("div",{className:"bg-white border border-gray-200 p-4 hover:border-red-300 hover:shadow-md transition-all cursor-default",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"bg-red-100 p-2",children:e.jsx(I,{icon:jf,className:"text-red-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Admin"}),e.jsx("p",{className:"text-xs text-gray-500",children:"User management & configuration"}),e.jsxs("div",{className:"mt-2 space-y-1",children:[e.jsx(Yt,{to:"/dashboard/settings",className:"block text-xs text-blue-600 hover:text-blue-800 font-medium cursor-pointer",onClick:E=>E.stopPropagation(),children:"User Management"}),e.jsx(Yt,{to:"/dashboard/configurations",className:"block text-xs text-green-600 hover:text-green-800 font-medium cursor-pointer",onClick:E=>E.stopPropagation(),children:"System Configurations"})]})]})]})})]}),e.jsxs("div",{className:"bg-white border border-gray-200 shadow",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-base font-semibold text-gray-900",children:"Recent Purchase Requests"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Yt,{to:"/dashboard/procurement/purchase-requests",className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"View All"}),e.jsx("button",{onClick:()=>window.print(),className:"text-gray-600 hover:text-gray-700 p-1",title:"Print",children:e.jsx(I,{icon:Is,className:"text-sm"})}),e.jsx("button",{onClick:()=>{},className:"text-gray-600 hover:text-gray-700 p-1",title:"Export",children:e.jsx(I,{icon:js,className:"text-sm"})})]})]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Request"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Requester"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Department"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:p.length>0?p.map(E=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:E.title}),e.jsxs("div",{className:"text-xs text-gray-500",children:["#",E.id]})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:E.requester})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:E.department})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-medium text-gray-900",children:T(E.amount)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 text-xs font-medium ${A(E.status)}`,children:[e.jsx(I,{icon:D(E.status),className:"mr-1"}),E.status.charAt(0).toUpperCase()+E.status.slice(1)]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:R(E.created_at)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Yt,{to:`/dashboard/procurement/purchase-requests/${E.id}`,className:"text-blue-600 hover:text-blue-900",title:"View Details",children:e.jsx(I,{icon:Fr})}),e.jsx(Yt,{to:`/dashboard/procurement/purchase-requests/${E.id}/edit`,className:"text-green-600 hover:text-green-900",title:"Edit",children:e.jsx(I,{icon:lr})}),e.jsx("button",{onClick:()=>P(E.id),className:"text-red-600 hover:text-red-900",title:"Delete",children:e.jsx(I,{icon:Mt})})]})})]},E.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"7",className:"px-6 py-4 text-center text-sm text-gray-500",children:"No purchase requests found"})})})]})})]})]}),e.jsx(Bx,{isOpen:d,onClose:()=>u(!1),title:"Success",message:i}),e.jsx($f,{isOpen:m,onClose:()=>f(!1),title:"Error",message:s})]})},Xce=()=>{const[t,r]=g.useState(""),[a,s]=g.useState("all"),[n,i]=g.useState("all"),o=[{id:1,title:"Office Supplies",requester:"John Doe",department:"Administration",amount:2500,status:"pending",date:"2025-01-15",priority:"medium",description:"Office supplies including paper, pens, and other stationery items"},{id:2,title:"Computer Equipment",requester:"Jane Smith",department:"IT",amount:15e3,status:"approved",date:"2025-01-14",priority:"high",description:"New computers and peripherals for IT department"},{id:3,title:"Laboratory Materials",requester:"Dr. Johnson",department:"Science",amount:8500,status:"delivered",date:"2025-01-13",priority:"high",description:"Laboratory equipment and chemicals for science department"},{id:4,title:"Library Books",requester:"Mary Wilson",department:"Library",amount:3200,status:"pending",date:"2025-01-12",priority:"low",description:"New books for library collection"},{id:5,title:"Sports Equipment",requester:"Coach Brown",department:"Physical Education",amount:4500,status:"approved",date:"2025-01-11",priority:"medium",description:"Sports equipment for physical education classes"},{id:6,title:"Maintenance Tools",requester:"Mike Davis",department:"Facilities",amount:1800,status:"delivered",date:"2025-01-10",priority:"medium",description:"Tools and equipment for facility maintenance"}],d=["Administration","IT","Science","Library","Physical Education","Facilities"],u=["pending","approved","delivered","rejected"],m=v=>{switch(v){case"pending":return"text-yellow-600 bg-yellow-100";case"approved":return"text-blue-600 bg-blue-100";case"delivered":return"text-green-600 bg-green-100";case"rejected":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},f=v=>{switch(v){case"pending":return sn;case"approved":return aa;case"delivered":return vf;case"rejected":return ur;default:return ur}},x=v=>{switch(v){case"high":return"text-red-600 bg-red-100";case"medium":return"text-yellow-600 bg-yellow-100";case"low":return"text-green-600 bg-green-100";default:return"text-gray-600 bg-gray-100"}},b=v=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(v),p=o.filter(v=>{const j=v.title.toLowerCase().includes(t.toLowerCase())||v.requester.toLowerCase().includes(t.toLowerCase())||v.description.toLowerCase().includes(t.toLowerCase()),w=a==="all"||v.status===a,N=n==="all"||v.department===n;return j&&w&&N});return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsx("div",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Purchase Requests"}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Manage and track purchase requests"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("button",{className:"bg-gray-600 text-white px-3 py-1.5 hover:bg-gray-700 flex items-center space-x-2 text-xs font-medium",children:[e.jsx(I,{icon:js}),e.jsx("span",{children:"Export"})]}),e.jsxs("button",{className:"bg-gray-600 text-white px-3 py-1.5 hover:bg-gray-700 flex items-center space-x-2 text-xs font-medium",children:[e.jsx(I,{icon:Is}),e.jsx("span",{children:"Print"})]}),e.jsxs(Yt,{to:"/dashboard/procurement/purchase-requests/new",className:"bg-blue-600 text-white px-4 py-2 hover:bg-blue-700 flex items-center space-x-2 text-sm font-medium rounded-md",children:[e.jsx(I,{icon:_t}),e.jsx("span",{children:"New Request"})]})]})]})})}),e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsx("div",{className:"px-6 py-3",children:e.jsxs("div",{className:"flex items-center space-x-6",children:[e.jsx("div",{className:"flex-1 max-w-md",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(I,{icon:Vt,className:"text-gray-400 text-xs"})}),e.jsx("input",{type:"text",placeholder:"Search requests...",value:t,onChange:v=>r(v.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 text-sm"})]})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(I,{icon:ts,className:"text-gray-400 text-xs"}),e.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Status:"}),e.jsxs("select",{value:a,onChange:v=>s(v.target.value),className:"border border-gray-300 px-2 py-1 text-xs focus:outline-none focus:border-gray-400 rounded",children:[e.jsx("option",{value:"all",children:"All Status"}),u.map(v=>e.jsx("option",{value:v,children:v.charAt(0).toUpperCase()+v.slice(1)},v))]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(I,{icon:ts,className:"text-gray-400 text-xs"}),e.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Department:"}),e.jsxs("select",{value:n,onChange:v=>i(v.target.value),className:"border border-gray-300 px-2 py-1 text-xs focus:outline-none focus:border-gray-400 rounded",children:[e.jsx("option",{value:"all",children:"All Departments"}),d.map(v=>e.jsx("option",{value:v,children:v},v))]})]})]})})}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[e.jsx("div",{className:"bg-white border border-gray-200 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-gray-600",children:"Total Requests"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900",children:o.length})]}),e.jsx("div",{className:"bg-blue-100 p-2 rounded",children:e.jsx(I,{icon:sn,className:"text-blue-600 text-sm"})})]})}),e.jsx("div",{className:"bg-white border border-gray-200 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-gray-600",children:"Pending"}),e.jsx("p",{className:"text-lg font-semibold text-yellow-600",children:o.filter(v=>v.status==="pending").length})]}),e.jsx("div",{className:"bg-yellow-100 p-2 rounded",children:e.jsx(I,{icon:sn,className:"text-yellow-600 text-sm"})})]})}),e.jsx("div",{className:"bg-white border border-gray-200 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-gray-600",children:"Approved"}),e.jsx("p",{className:"text-lg font-semibold text-blue-600",children:o.filter(v=>v.status==="approved").length})]}),e.jsx("div",{className:"bg-blue-100 p-2 rounded",children:e.jsx(I,{icon:aa,className:"text-blue-600 text-sm"})})]})}),e.jsx("div",{className:"bg-white border border-gray-200 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-gray-600",children:"Delivered"}),e.jsx("p",{className:"text-lg font-semibold text-green-600",children:o.filter(v=>v.status==="delivered").length})]}),e.jsx("div",{className:"bg-green-100 p-2 rounded",children:e.jsx(I,{icon:vf,className:"text-green-600 text-sm"})})]})})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsxs("h2",{className:"text-base font-semibold text-gray-900",children:["Purchase Requests (",p.length,")"]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Request"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Requester"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Department"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Priority"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:p.map(v=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:v.title}),e.jsx("div",{className:"text-sm text-gray-500 truncate max-w-xs",children:v.description})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:v.requester})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:v.department})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-medium text-gray-900",children:b(v.amount)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${x(v.priority)}`,children:v.priority.charAt(0).toUpperCase()+v.priority.slice(1)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${m(v.status)}`,children:[e.jsx(I,{icon:f(v.status),className:"mr-1"}),v.status.charAt(0).toUpperCase()+v.status.slice(1)]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:new Date(v.date).toLocaleDateString()})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Yt,{to:`/dashboard/procurement/purchase-requests/${v.id}`,className:"text-blue-600 hover:text-blue-900",title:"View Details",children:e.jsx(I,{icon:Fr})}),e.jsx(Yt,{to:`/dashboard/procurement/purchase-requests/${v.id}/edit`,className:"text-green-600 hover:text-green-900",title:"Edit Request",children:e.jsx(I,{icon:lr})}),e.jsx("button",{className:"text-red-600 hover:text-red-900",title:"Delete Request",children:e.jsx(I,{icon:Mt})})]})})]},v.id))})]})}),p.length===0&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx(I,{icon:Vt,className:"text-gray-400 text-4xl mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No requests found"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"Try adjusting your search criteria or filters."})]})]})]})]})},Jce=()=>{const[t,r]=g.useState(""),[a,s]=g.useState("all"),[n,i]=g.useState("all"),o=[{id:1,name:"ABC Office Supplies",contactPerson:"John Smith",email:"john.smith@abcoffice.com",phone:"+1 (555) 123-4567",address:"123 Business St, City, State 12345",website:"www.abcoffice.com",category:"Office Supplies",status:"active",rating:4.5,totalOrders:45,totalSpent:125e3,lastOrder:"2025-01-10"},{id:2,name:"Tech Solutions Inc",contactPerson:"Sarah Johnson",email:"sarah.johnson@techsolutions.com",phone:"+1 (555) 234-5678",address:"456 Tech Ave, City, State 12345",website:"www.techsolutions.com",category:"Technology",status:"active",rating:4.8,totalOrders:32,totalSpent:89e3,lastOrder:"2025-01-12"},{id:3,name:"Lab Equipment Pro",contactPerson:"Dr. Michael Brown",email:"michael.brown@labequipment.com",phone:"+1 (555) 345-6789",address:"789 Science Blvd, City, State 12345",website:"www.labequipment.com",category:"Laboratory",status:"active",rating:4.2,totalOrders:18,totalSpent:67e3,lastOrder:"2025-01-08"},{id:4,name:"Book World Publishers",contactPerson:"Emily Davis",email:"emily.davis@bookworld.com",phone:"+1 (555) 456-7890",address:"321 Library Lane, City, State 12345",website:"www.bookworld.com",category:"Books",status:"inactive",rating:3.9,totalOrders:25,totalSpent:45e3,lastOrder:"2024-12-15"},{id:5,name:"Sports Equipment Co",contactPerson:"Coach Wilson",email:"coach.wilson@sportsequipment.com",phone:"+1 (555) 567-8901",address:"654 Sports Way, City, State 12345",website:"www.sportsequipment.com",category:"Sports",status:"active",rating:4.6,totalOrders:12,totalSpent:28e3,lastOrder:"2025-01-05"},{id:6,name:"Maintenance Tools Ltd",contactPerson:"Robert Garcia",email:"robert.garcia@maintools.com",phone:"+1 (555) 678-9012",address:"987 Tool Street, City, State 12345",website:"www.maintools.com",category:"Tools",status:"active",rating:4.3,totalOrders:28,totalSpent:52e3,lastOrder:"2025-01-09"}],d=["Office Supplies","Technology","Laboratory","Books","Sports","Tools"],u=["active","inactive"],m=v=>{switch(v){case"active":return"text-green-600 bg-green-100";case"inactive":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},f=v=>({"Office Supplies":"text-blue-600 bg-blue-100",Technology:"text-purple-600 bg-purple-100",Laboratory:"text-green-600 bg-green-100",Books:"text-orange-600 bg-orange-100",Sports:"text-red-600 bg-red-100",Tools:"text-gray-600 bg-gray-100"})[v]||"text-gray-600 bg-gray-100",x=v=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(v),b=v=>{const j=[],w=Math.floor(v),N=v%1!==0;for(let A=0;A<w;A++)j.push(e.jsx(I,{icon:uf,className:"text-yellow-400 text-xs"},A));N&&j.push(e.jsx(I,{icon:uf,className:"text-yellow-400 text-xs opacity-50"},"half"));const P=5-Math.ceil(v);for(let A=0;A<P;A++)j.push(e.jsx(I,{icon:uf,className:"text-gray-300 text-xs"},`empty-${A}`));return j},p=o.filter(v=>{const j=v.name.toLowerCase().includes(t.toLowerCase())||v.contactPerson.toLowerCase().includes(t.toLowerCase())||v.email.toLowerCase().includes(t.toLowerCase()),w=a==="all"||v.category===a,N=n==="all"||v.status===n;return j&&w&&N});return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsx("div",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Suppliers"}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Manage vendor relationships and supplier information"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("button",{className:"bg-gray-600 text-white px-3 py-1.5 hover:bg-gray-700 flex items-center space-x-2 text-xs font-medium",children:[e.jsx(I,{icon:js}),e.jsx("span",{children:"Export"})]}),e.jsxs("button",{className:"bg-gray-600 text-white px-3 py-1.5 hover:bg-gray-700 flex items-center space-x-2 text-xs font-medium",children:[e.jsx(I,{icon:Is}),e.jsx("span",{children:"Print"})]}),e.jsxs(Yt,{to:"/dashboard/procurement/suppliers/new",className:"bg-blue-600 text-white px-4 py-2 hover:bg-blue-700 flex items-center space-x-2 text-sm font-medium rounded-md",children:[e.jsx(I,{icon:_t}),e.jsx("span",{children:"Add Supplier"})]})]})]})})}),e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsx("div",{className:"px-6 py-3",children:e.jsxs("div",{className:"flex items-center space-x-6",children:[e.jsx("div",{className:"flex-1 max-w-md",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(I,{icon:Vt,className:"text-gray-400 text-xs"})}),e.jsx("input",{type:"text",placeholder:"Search suppliers...",value:t,onChange:v=>r(v.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 text-sm"})]})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(I,{icon:ts,className:"text-gray-400 text-xs"}),e.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Category:"}),e.jsxs("select",{value:a,onChange:v=>s(v.target.value),className:"border border-gray-300 px-2 py-1 text-xs focus:outline-none focus:border-gray-400 rounded",children:[e.jsx("option",{value:"all",children:"All Categories"}),d.map(v=>e.jsx("option",{value:v,children:v},v))]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(I,{icon:ts,className:"text-gray-400 text-xs"}),e.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Status:"}),e.jsxs("select",{value:n,onChange:v=>i(v.target.value),className:"border border-gray-300 px-2 py-1 text-xs focus:outline-none focus:border-gray-400 rounded",children:[e.jsx("option",{value:"all",children:"All Status"}),u.map(v=>e.jsx("option",{value:v,children:v.charAt(0).toUpperCase()+v.slice(1)},v))]})]})]})})}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[e.jsx("div",{className:"bg-white border border-gray-200 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-gray-600",children:"Total Suppliers"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900",children:o.length})]}),e.jsx("div",{className:"bg-blue-100 p-2 rounded",children:e.jsx(I,{icon:yn,className:"text-blue-600 text-sm"})})]})}),e.jsx("div",{className:"bg-white border border-gray-200 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-gray-600",children:"Active Suppliers"}),e.jsx("p",{className:"text-lg font-semibold text-green-600",children:o.filter(v=>v.status==="active").length})]}),e.jsx("div",{className:"bg-green-100 p-2 rounded",children:e.jsx(I,{icon:aa,className:"text-green-600 text-sm"})})]})}),e.jsx("div",{className:"bg-white border border-gray-200 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-gray-600",children:"Total Orders"}),e.jsx("p",{className:"text-lg font-semibold text-blue-600",children:o.reduce((v,j)=>v+j.totalOrders,0)})]}),e.jsx("div",{className:"bg-blue-100 p-2 rounded",children:e.jsx(I,{icon:eg,className:"text-blue-600 text-sm"})})]})}),e.jsx("div",{className:"bg-white border border-gray-200 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-gray-600",children:"Total Spent"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900",children:x(o.reduce((v,j)=>v+j.totalSpent,0))})]}),e.jsx("div",{className:"bg-green-100 p-2 rounded",children:e.jsx(I,{icon:Ao,className:"text-green-600 text-sm"})})]})})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:p.map(v=>e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:v.name}),e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${f(v.category)}`,children:v.category}),e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${m(v.status)}`,children:v.status.charAt(0).toUpperCase()+v.status.slice(1)})]}),e.jsxs("div",{className:"flex items-center mb-2",children:[b(v.rating),e.jsxs("span",{className:"text-xs text-gray-500 ml-1",children:["(",v.rating,")"]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Yt,{to:`/dashboard/procurement/suppliers/${v.id}`,className:"text-blue-600 hover:text-blue-900",title:"View Details",children:e.jsx(I,{icon:Fr})}),e.jsx(Yt,{to:`/dashboard/procurement/suppliers/${v.id}/edit`,className:"text-green-600 hover:text-green-900",title:"Edit Supplier",children:e.jsx(I,{icon:lr})}),e.jsx("button",{className:"text-red-600 hover:text-red-900",title:"Delete Supplier",children:e.jsx(I,{icon:Mt})})]})]}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(I,{icon:Fs,className:"w-4 h-4 mr-2 text-gray-400"}),e.jsx("span",{children:v.contactPerson})]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(I,{icon:wC,className:"w-4 h-4 mr-2 text-gray-400"}),e.jsx("span",{children:v.email})]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(I,{icon:vN,className:"w-4 h-4 mr-2 text-gray-400"}),e.jsx("span",{children:v.phone})]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(I,{icon:vc,className:"w-4 h-4 mr-2 text-gray-400"}),e.jsx("span",{className:"truncate",children:v.address})]}),v.website&&e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(I,{icon:vB,className:"w-4 h-4 mr-2 text-gray-400"}),e.jsx("span",{children:v.website})]})]}),e.jsx("div",{className:"border-t border-gray-200 pt-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Total Orders"}),e.jsx("p",{className:"font-medium text-gray-900",children:v.totalOrders})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Total Spent"}),e.jsx("p",{className:"font-medium text-gray-900",children:x(v.totalSpent)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Last Order"}),e.jsx("p",{className:"font-medium text-gray-900",children:new Date(v.lastOrder).toLocaleDateString()})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Rating"}),e.jsxs("p",{className:"font-medium text-gray-900",children:[v.rating,"/5"]})]})]})})]},v.id))}),p.length===0&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx(I,{icon:Vt,className:"text-gray-400 text-4xl mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No suppliers found"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"Try adjusting your search criteria or filters."})]})]})]})},Zce=()=>{const[t,r]=g.useState(""),[a,s]=g.useState("all"),[n,i]=g.useState("all"),o=[{id:"PO-2025-001",supplier:"ABC Office Supplies",contactPerson:"John Smith",orderDate:"2025-01-10",expectedDelivery:"2025-01-20",actualDelivery:"2025-01-18",status:"delivered",totalAmount:2500,items:[{name:"Printer Paper",quantity:50,unitPrice:25,total:1250},{name:"Pens",quantity:200,unitPrice:2.5,total:500},{name:"Notebooks",quantity:100,unitPrice:7.5,total:750}],notes:"Delivered 2 days early. All items in good condition."},{id:"PO-2025-002",supplier:"Tech Solutions Inc",contactPerson:"Sarah Johnson",orderDate:"2025-01-12",expectedDelivery:"2025-01-25",actualDelivery:null,status:"in_transit",totalAmount:15e3,items:[{name:"Laptops",quantity:10,unitPrice:1200,total:12e3},{name:"Monitors",quantity:10,unitPrice:300,total:3e3}],notes:"Order confirmed. Items being prepared for shipment."},{id:"PO-2025-003",supplier:"Lab Equipment Pro",contactPerson:"Dr. Michael Brown",orderDate:"2025-01-08",expectedDelivery:"2025-01-15",actualDelivery:"2025-01-15",status:"delivered",totalAmount:8500,items:[{name:"Microscopes",quantity:5,unitPrice:1200,total:6e3},{name:"Test Tubes",quantity:500,unitPrice:5,total:2500}],notes:"Delivered on time. Equipment tested and working properly."},{id:"PO-2025-004",supplier:"Sports Equipment Co",contactPerson:"Coach Wilson",orderDate:"2025-01-05",expectedDelivery:"2025-01-12",actualDelivery:null,status:"pending",totalAmount:4500,items:[{name:"Basketballs",quantity:20,unitPrice:50,total:1e3},{name:"Soccer Balls",quantity:15,unitPrice:40,total:600},{name:"Volleyball Nets",quantity:4,unitPrice:200,total:800},{name:"Tennis Rackets",quantity:30,unitPrice:70,total:2100}],notes:"Order submitted. Awaiting supplier confirmation."},{id:"PO-2025-005",supplier:"Maintenance Tools Ltd",contactPerson:"Robert Garcia",orderDate:"2025-01-09",expectedDelivery:"2025-01-16",actualDelivery:"2025-01-14",status:"delivered",totalAmount:1800,items:[{name:"Power Drills",quantity:3,unitPrice:300,total:900},{name:"Tool Sets",quantity:5,unitPrice:180,total:900}],notes:"Delivered early. All tools in excellent condition."},{id:"PO-2025-006",supplier:"Book World Publishers",contactPerson:"Emily Davis",orderDate:"2025-01-11",expectedDelivery:"2025-01-22",actualDelivery:null,status:"confirmed",totalAmount:3200,items:[{name:"Textbooks",quantity:100,unitPrice:25,total:2500},{name:"Reference Books",quantity:20,unitPrice:35,total:700}],notes:"Order confirmed by supplier. Processing for shipment."}],d=["ABC Office Supplies","Tech Solutions Inc","Lab Equipment Pro","Sports Equipment Co","Maintenance Tools Ltd","Book World Publishers"],u=["pending","confirmed","in_transit","delivered","cancelled"],m=v=>{switch(v){case"pending":return"text-yellow-600 bg-yellow-100";case"confirmed":return"text-blue-600 bg-blue-100";case"in_transit":return"text-purple-600 bg-purple-100";case"delivered":return"text-green-600 bg-green-100";case"cancelled":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},f=v=>{switch(v){case"pending":return sn;case"confirmed":return aa;case"in_transit":return vf;case"delivered":return aa;case"cancelled":return ur;default:return ur}},x=v=>{switch(v){case"pending":return"Pending";case"confirmed":return"Confirmed";case"in_transit":return"In Transit";case"delivered":return"Delivered";case"cancelled":return"Cancelled";default:return v}},b=v=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(v),p=o.filter(v=>{const j=v.id.toLowerCase().includes(t.toLowerCase())||v.supplier.toLowerCase().includes(t.toLowerCase())||v.contactPerson.toLowerCase().includes(t.toLowerCase()),w=a==="all"||v.status===a,N=n==="all"||v.supplier===n;return j&&w&&N});return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsx("div",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Purchase Orders"}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Track orders and deliveries"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("button",{className:"bg-gray-600 text-white px-3 py-1.5 hover:bg-gray-700 flex items-center space-x-2 text-xs font-medium",children:[e.jsx(I,{icon:js}),e.jsx("span",{children:"Export"})]}),e.jsxs("button",{className:"bg-gray-600 text-white px-3 py-1.5 hover:bg-gray-700 flex items-center space-x-2 text-xs font-medium",children:[e.jsx(I,{icon:Is}),e.jsx("span",{children:"Print"})]}),e.jsxs(Yt,{to:"/dashboard/procurement/purchase-orders/new",className:"bg-blue-600 text-white px-4 py-2 hover:bg-blue-700 flex items-center space-x-2 text-sm font-medium rounded-md",children:[e.jsx(I,{icon:_t}),e.jsx("span",{children:"New Order"})]})]})]})})}),e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsx("div",{className:"px-6 py-3",children:e.jsxs("div",{className:"flex items-center space-x-6",children:[e.jsx("div",{className:"flex-1 max-w-md",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(I,{icon:Vt,className:"text-gray-400 text-xs"})}),e.jsx("input",{type:"text",placeholder:"Search orders...",value:t,onChange:v=>r(v.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 text-sm"})]})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(I,{icon:ts,className:"text-gray-400 text-xs"}),e.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Status:"}),e.jsxs("select",{value:a,onChange:v=>s(v.target.value),className:"border border-gray-300 px-2 py-1 text-xs focus:outline-none focus:border-gray-400 rounded",children:[e.jsx("option",{value:"all",children:"All Status"}),u.map(v=>e.jsx("option",{value:v,children:x(v)},v))]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(I,{icon:ts,className:"text-gray-400 text-xs"}),e.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Supplier:"}),e.jsxs("select",{value:n,onChange:v=>i(v.target.value),className:"border border-gray-300 px-2 py-1 text-xs focus:outline-none focus:border-gray-400 rounded",children:[e.jsx("option",{value:"all",children:"All Suppliers"}),d.map(v=>e.jsx("option",{value:v,children:v},v))]})]})]})})}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[e.jsx("div",{className:"bg-white border border-gray-200 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-gray-600",children:"Total Orders"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900",children:o.length})]}),e.jsx("div",{className:"bg-blue-100 p-2 rounded",children:e.jsx(I,{icon:Fu,className:"text-blue-600 text-sm"})})]})}),e.jsx("div",{className:"bg-white border border-gray-200 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-gray-600",children:"Pending"}),e.jsx("p",{className:"text-lg font-semibold text-yellow-600",children:o.filter(v=>v.status==="pending").length})]}),e.jsx("div",{className:"bg-yellow-100 p-2 rounded",children:e.jsx(I,{icon:sn,className:"text-yellow-600 text-sm"})})]})}),e.jsx("div",{className:"bg-white border border-gray-200 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-gray-600",children:"In Transit"}),e.jsx("p",{className:"text-lg font-semibold text-purple-600",children:o.filter(v=>v.status==="in_transit").length})]}),e.jsx("div",{className:"bg-purple-100 p-2 rounded",children:e.jsx(I,{icon:vf,className:"text-purple-600 text-sm"})})]})}),e.jsx("div",{className:"bg-white border border-gray-200 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-gray-600",children:"Delivered"}),e.jsx("p",{className:"text-lg font-semibold text-green-600",children:o.filter(v=>v.status==="delivered").length})]}),e.jsx("div",{className:"bg-green-100 p-2 rounded",children:e.jsx(I,{icon:aa,className:"text-green-600 text-sm"})})]})})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsxs("h2",{className:"text-base font-semibold text-gray-900",children:["Purchase Orders (",p.length,")"]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order ID"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Supplier"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order Date"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Expected Delivery"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:p.map(v=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-medium text-gray-900",children:v.id})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:v.supplier}),e.jsx("div",{className:"text-sm text-gray-500",children:v.contactPerson})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:new Date(v.orderDate).toLocaleDateString()})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm text-gray-900",children:new Date(v.expectedDelivery).toLocaleDateString()}),v.actualDelivery&&e.jsxs("div",{className:"text-xs text-green-600",children:["Delivered: ",new Date(v.actualDelivery).toLocaleDateString()]})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-medium text-gray-900",children:b(v.totalAmount)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${m(v.status)}`,children:[e.jsx(I,{icon:f(v.status),className:"mr-1"}),x(v.status)]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Yt,{to:`/dashboard/procurement/purchase-orders/${v.id}`,className:"text-blue-600 hover:text-blue-900",title:"View Details",children:e.jsx(I,{icon:Fr})}),e.jsx(Yt,{to:`/dashboard/procurement/purchase-orders/${v.id}/edit`,className:"text-green-600 hover:text-green-900",title:"Edit Order",children:e.jsx(I,{icon:lr})}),e.jsx("button",{className:"text-red-600 hover:text-red-900",title:"Cancel Order",children:e.jsx(I,{icon:Mt})})]})})]},v.id))})]})}),p.length===0&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx(I,{icon:Vt,className:"text-gray-400 text-4xl mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No orders found"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"Try adjusting your search criteria or filters."})]})]})]})]})},Qce=()=>{const{token:t}=et(),r=br(),[a,s]=g.useState(!1),[n,i]=g.useState(null),[o,d]=g.useState({total_employees:0,current_month_payroll:0,pending_payslips:0,processed_payslips:0}),[u,m]=g.useState([]),[f,x]=g.useState(!1),[b,p]=g.useState(!1),[v,j]=g.useState(null),[w,N]=g.useState({pay_period:new Date().toISOString().slice(0,7),pay_date:new Date().toISOString().split("T")[0],bank_account_id:"",payment_method:"Bank Transfer",reference:"",notes:""}),P=()=>{const U=new Date,V=U.getFullYear(),Z=String(U.getMonth()+1).padStart(2,"0"),X=String(U.getDate()).padStart(2,"0"),J=String(U.getHours()).padStart(2,"0")+String(U.getMinutes()).padStart(2,"0");return`PAY-${V}${Z}${X}-${J}`},[A,D]=g.useState([]),[T,R]=g.useState([]),[E,O]=g.useState([]),k=t?{Authorization:`Bearer ${t}`}:{};g.useEffect(()=>{Y(),$(),M()},[]);const Y=async()=>{try{s(!0),i(null);const U=await de.get(`${ce}/payroll/summary`,{headers:k});U.data.success?(d({total_employees:U.data.data.total_employees,current_month_payroll:U.data.data.current_month_payroll,pending_payslips:U.data.data.pending_payslips,processed_payslips:U.data.data.processed_payslips}),m(U.data.data.recent_payrolls||[]),O(U.data.data.currencies||[])):i("Failed to load payroll data")}catch(U){console.error("Error loading payroll data:",U),i("Failed to load payroll data")}finally{s(!1)}},$=async()=>{try{const U=await de.get(`${ce}/payroll/bank-accounts`,{headers:k});U.data.success?D(U.data.data):i("Failed to load bank accounts")}catch(U){console.error("Error loading bank accounts:",U),i("Failed to load bank accounts")}},M=async()=>{try{const U=await de.get(`${ce}/payroll/payslips?limit=5`,{headers:k});U.data.success?R(U.data.data):i("Failed to load payslips")}catch(U){console.error("Error loading payslips:",U),i("Failed to load payslips")}},F=async()=>{try{if(!w.bank_account_id){i("Please select a bank account");return}s(!0),i(null);const U=await de.post(`${ce}/payroll/runs/run`,w,{headers:k});U.data.success?(x(!1),j(U.data.data),p(!0),Y(),M()):i(U.data.message||"Failed to run payroll")}catch(U){console.error("Error running payroll:",U),i("Failed to run payroll")}finally{s(!1)}},K=(U,V="USD")=>{if(!E.find(J=>J.code===V))return new Intl.NumberFormat("en-US",{style:"currency",currency:V,minimumFractionDigits:0}).format(U);let X="en-US";return V==="USD"?X="en-US":V==="EUR"?X="en-EU":V==="GBP"?X="en-GB":V==="KES"&&(X="en-KE"),new Intl.NumberFormat(X,{style:"currency",currency:V,minimumFractionDigits:0}).format(U)},q=U=>new Date(U).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-white border border-gray-200 p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-base font-medium text-gray-900",children:"Payroll Management"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Create payslips and process payroll"})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:()=>r("/dashboard/payroll/create"),className:"bg-blue-600 text-white px-3 py-1.5 text-xs hover:bg-blue-700 flex items-center space-x-1",children:[e.jsx(I,{icon:_t,className:"text-xs"}),e.jsx("span",{children:"Create Payslip"})]}),e.jsxs("button",{onClick:()=>{N(U=>({...U,reference:P()})),x(!0)},className:"bg-green-600 text-white px-3 py-1.5 text-xs hover:bg-green-700 flex items-center space-x-1",children:[e.jsx(I,{icon:wf,className:"text-xs"}),e.jsx("span",{children:"Run Payroll"})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx("div",{className:"bg-white border border-gray-200 p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(I,{icon:Ir,className:"text-blue-600 text-xs"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Total Employees"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900",children:o.total_employees})]})]})}),e.jsx("div",{className:"bg-white border border-gray-200 p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:e.jsx(I,{icon:Fl,className:"text-green-600 text-xs"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Current Month"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900",children:K(o.current_month_payroll,"USD")})]})]})}),e.jsx("div",{className:"bg-white border border-gray-200 p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:e.jsx(I,{icon:Fu,className:"text-yellow-600 text-xs"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Pending Payslips"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900",children:o.pending_payslips})]})]})}),e.jsx("div",{className:"bg-white border border-gray-200 p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:e.jsx(I,{icon:Xn,className:"text-green-600 text-xs"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Processed"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900",children:o.processed_payslips})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx("div",{onClick:()=>r("/dashboard/payroll/create"),className:"bg-white border border-gray-200 p-4 hover:bg-gray-50 cursor-pointer",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:e.jsx(I,{icon:_t,className:"text-blue-600 text-sm"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Create Payslip"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Enter employee details and salary components"})]})]})}),e.jsx("div",{onClick:()=>{N(U=>({...U,reference:P()})),x(!0)},className:"bg-white border border-gray-200 p-4 hover:bg-gray-50 cursor-pointer",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:e.jsx(I,{icon:wf,className:"text-green-600 text-sm"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Run Payroll"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Process payments and update accounts"})]})]})}),e.jsx("div",{onClick:()=>r("/dashboard/payroll/payslips"),className:"bg-white border border-gray-200 p-4 hover:bg-gray-50 cursor-pointer",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:e.jsx(I,{icon:Fu,className:"text-purple-600 text-sm"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"View Payslips"}),e.jsx("p",{className:"text-xs text-gray-500",children:"View and manage all payslips"})]})]})})]}),e.jsxs("div",{className:"bg-white border border-gray-200",children:[e.jsx("div",{className:"px-4 py-3 border-b border-gray-200",children:e.jsx("h2",{className:"text-sm font-medium text-gray-900",children:"Pending Payslips"})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Employee"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Pay Period"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Gross Pay"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Deductions"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Net Pay"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:T.filter(U=>U.status==="pending").map(U=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-medium text-gray-900",children:U.employee_name}),e.jsx("div",{className:"text-xs text-gray-500",children:U.employee_id})]})}),e.jsx("td",{className:"px-4 py-2 text-xs text-gray-900",children:U.pay_period}),e.jsx("td",{className:"px-4 py-2 text-xs text-gray-900",children:K(U.total_earnings,U.currency)}),e.jsx("td",{className:"px-4 py-2 text-xs text-red-600",children:K(U.total_deductions,U.currency)}),e.jsx("td",{className:"px-4 py-2 text-xs font-medium text-green-600",children:K(U.net_pay,U.currency)}),e.jsx("td",{className:"px-4 py-2",children:e.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-medium rounded-full bg-yellow-100 text-yellow-800",children:"Pending"})}),e.jsx("td",{className:"px-4 py-2",children:e.jsx("div",{className:"flex space-x-1",children:e.jsx("button",{onClick:()=>r(`/dashboard/payroll/payslips/${U.id}`),className:"text-blue-600 hover:text-blue-800 text-xs",title:"View Details",children:e.jsx(I,{icon:Fr})})})})]},U.id))})]})})]}),f&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white p-6 w-full max-w-md mx-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"Run Payroll"}),e.jsx("button",{onClick:()=>x(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx(I,{icon:Br,className:"text-xs"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 p-3 rounded",children:e.jsxs("p",{className:"text-xs text-yellow-800",children:[e.jsx("strong",{children:"Warning:"})," This will process all pending payslips, create bank transactions, and update accounting entries. This action cannot be undone."]})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Pay Period"}),e.jsx("input",{type:"month",value:w.pay_period,onChange:U=>N({...w,pay_period:U.target.value}),className:"w-full border border-gray-300 px-2 py-1.5 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Pay Date"}),e.jsx("input",{type:"date",value:w.pay_date,onChange:U=>N({...w,pay_date:U.target.value}),className:"w-full border border-gray-300 px-2 py-1.5 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Bank Account *"}),e.jsxs("select",{value:w.bank_account_id,onChange:U=>N({...w,bank_account_id:U.target.value}),className:"w-full border border-gray-300 px-2 py-1.5 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500",children:[e.jsx("option",{value:"",children:"Select Bank Account"}),A.map(U=>e.jsxs("option",{value:U.id,children:[U.name," - ",K(U.balance,U.currency)]},U.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Payment Method"}),e.jsxs("select",{value:w.payment_method,onChange:U=>N({...w,payment_method:U.target.value}),className:"w-full border border-gray-300 px-2 py-1.5 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500",children:[e.jsx("option",{value:"Bank Transfer",children:"Bank Transfer"}),e.jsx("option",{value:"Cash",children:"Cash"}),e.jsx("option",{value:"Cheque",children:"Cheque"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Reference (Auto-generated)"}),e.jsx("input",{type:"text",value:w.reference,onChange:U=>N({...w,reference:U.target.value}),placeholder:"Auto-generated reference",className:"w-full border border-gray-300 px-2 py-1.5 text-xs bg-gray-50 focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500",readOnly:!0}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Reference is automatically generated for tracking"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Notes"}),e.jsx("textarea",{value:w.notes,onChange:U=>N({...w,notes:U.target.value}),rows:"3",className:"w-full border border-gray-300 px-2 py-1.5 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500"})]})]}),e.jsxs("div",{className:"flex justify-end space-x-2 mt-6 pt-4 border-t border-gray-200",children:[e.jsx("button",{onClick:()=>x(!1),className:"px-3 py-1.5 border border-gray-300 text-gray-700 text-xs hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{onClick:F,disabled:a,className:"px-3 py-1.5 bg-green-600 text-white text-xs hover:bg-green-700 disabled:opacity-50",children:a?"Processing...":"Run Payroll"})]})]})}),b&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsx("div",{className:"bg-white p-6 w-full max-w-md mx-4 rounded-lg",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100 mb-4",children:e.jsx(I,{icon:Xn,className:"text-green-600 text-lg"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Payroll Processed Successfully!"}),e.jsxs("div",{className:"text-sm text-gray-600 space-y-2 mb-6",children:[v&&e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Payroll Run ID:"})," #",v.payroll_run_id]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Payslips Processed:"})," ",v.payslips_processed]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Total Amount:"})," ",K(v.total_amount,"USD")]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Pay Period:"})," ",v.pay_period]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Pay Date:"})," ",q(v.pay_date)]})]}),e.jsx("div",{className:"bg-green-50 border border-green-200 p-3 rounded mt-4",children:e.jsxs("p",{className:"text-xs text-green-800",children:[e.jsx("strong",{children:"✓"})," Bank transactions created",e.jsx("br",{}),e.jsx("strong",{children:"✓"})," Accounting entries updated",e.jsx("br",{}),e.jsx("strong",{children:"✓"})," Account balances updated",e.jsx("br",{}),e.jsx("strong",{children:"✓"})," Payslips marked as processed"]})})]}),e.jsx("button",{onClick:()=>p(!1),className:"w-full bg-green-600 text-white px-4 py-2 text-sm font-medium rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:"Continue"})]})})}),n&&e.jsx("div",{className:"bg-red-50 border border-red-200 p-3 text-xs text-red-700",children:n})]})},ede=()=>{const{token:t}=et(),r=br(),[a]=pk(),[s,n]=g.useState(!1),[i,o]=g.useState(null),[d,u]=g.useState([]),[m,f]=g.useState(""),[x,b]=g.useState(a.get("period")||""),[p,v]=g.useState("all"),[j,w]=g.useState(!1),[N,P]=g.useState(null),[A,D]=g.useState([]),T=t?{Authorization:`Bearer ${t}`}:{};g.useEffect(()=>{R(),E()},[x,p]);const R=async()=>{try{n(!0),o(null);const K=new URLSearchParams;x&&K.append("pay_period",x);const q=await de.get(`${ce}/payroll/payslips?${K}`,{headers:T});q.data.success?u(q.data.data):o("Failed to load payslips")}catch{o("Failed to load payslips")}finally{n(!1)}},E=async()=>{try{const K=await de.get(`${ce}/accounting/currencies`,{headers:T});K.data.success?D(K.data.data):o("Failed to load currencies")}catch(K){console.error("Error loading currencies:",K),o("Failed to load currencies")}},O=d.filter(K=>{const q=K.employee_name?.toLowerCase().includes(m.toLowerCase())||K.employee_id?.toLowerCase().includes(m.toLowerCase()),U=!x||K.pay_period===x,V=p==="all"||K.department_name===p;return q&&U&&V}),k=async K=>{try{n(!0);const q=await de.get(`${ce}/payroll/payslips/${K.id}`,{headers:T});q.data.success?(P(q.data.data),w(!0)):o("Failed to load payslip details")}catch(q){console.error("Error loading payslip details:",q),o("Failed to load payslip details")}finally{n(!1)}},Y=async K=>{try{const q=new Nt;q.setFont("helvetica"),q.setFontSize(12);const U=new Image;U.src=J2,q.addImage(U,"PNG",20,15,25,18),q.setFontSize(10),q.setFont("helvetica","bold"),q.text(K.employee_name,20,38),q.setFont("helvetica","normal"),q.text(`Employee ID: ${K.employee_id}`,20,44),q.text(`Department: ${K.department_name||"No Department"}`,20,50),q.text(`Job Title: ${K.job_title||"No Job Title"}`,20,56),q.setFontSize(9),q.setFont("helvetica","bold"),q.text("PAY DATE",140,38),q.setFont("helvetica","normal"),q.setFontSize(8),q.text(F(K.pay_date),140,44),q.setFont("helvetica","bold"),q.setFontSize(9),q.text("PAY PERIOD",140,50),q.setFont("helvetica","normal"),q.setFontSize(8),q.text(K.pay_period,140,56),q.setFont("helvetica","bold"),q.setFontSize(9),q.text("PAYSLIP #",140,62),q.setFont("helvetica","normal"),q.setFontSize(8),q.text(K.id.toString(),140,68);let V=75;q.setFontSize(10),q.setFont("helvetica","bold"),q.setFillColor(75,85,99),q.rect(20,V,170,8,"F"),q.setTextColor(255,255,255),q.text("EARNINGS",25,V+6),q.setTextColor(0,0,0),V+=15,q.setFillColor(229,231,235),q.rect(20,V,170,8,"F"),q.setFont("helvetica","bold"),q.text("DESCRIPTION",25,V+6),q.text("AMOUNT",150,V+6),V+=15,q.setFont("helvetica","normal"),K.earnings&&K.earnings.length>0?(K.earnings.forEach((Z,X)=>{q.text(Z.label,25,V+6),q.text(M(Z.amount,Z.currency),150,V+6),V+=10}),q.setFillColor(243,244,246),q.rect(20,V,170,8,"F"),q.setFont("helvetica","bold"),q.text("TOTAL EARNINGS",25,V+6),q.text(M(K.total_earnings,K.currency),150,V+6),q.setFont("helvetica","normal")):q.text("No earnings recorded",25,V+6),V+=15,q.setFontSize(10),q.setFont("helvetica","bold"),q.setFillColor(75,85,99),q.rect(20,V,170,8,"F"),q.setTextColor(255,255,255),q.text("DEDUCTIONS",25,V+6),q.setTextColor(0,0,0),V+=15,q.setFillColor(229,231,235),q.rect(20,V,170,8,"F"),q.setFont("helvetica","bold"),q.text("DESCRIPTION",25,V+6),q.text("AMOUNT",150,V+6),V+=15,q.setFont("helvetica","normal"),K.deductions&&K.deductions.length>0?(K.deductions.forEach((Z,X)=>{q.text(Z.label,25,V+6),q.text(M(Z.amount,Z.currency),150,V+6),V+=10}),q.setFillColor(243,244,246),q.rect(20,V,170,8,"F"),q.setFont("helvetica","bold"),q.text("TOTAL DEDUCTIONS",25,V+6),q.text(M(K.total_deductions,K.currency),150,V+6),q.setFont("helvetica","normal")):q.text("No deductions recorded",25,V+6),V+=15,q.setFillColor(55,65,81),q.rect(20,V,170,12,"F"),q.setTextColor(255,255,255),q.setFontSize(12),q.setFont("helvetica","bold"),q.text("NET PAY",25,V+8),q.text(M(K.net_pay,K.currency),150,V+8),q.setTextColor(0,0,0),K.notes&&(V+=20,q.setFillColor(249,250,251),q.rect(20,V,170,15,"F"),q.setFontSize(10),q.setFont("helvetica","bold"),q.text("Notes",25,V+6),q.setFont("helvetica","normal"),q.setFontSize(9),q.text(K.notes,25,V+15)),V+=25,q.setFontSize(8),q.text("If you have any questions about this payslip, please contact your HR department.",105,V,{align:"center"}),q.text(`Generated on: ${new Date().toLocaleString()}`,105,V+10,{align:"center"}),q.save(`payslip-${K.employee_id}-${K.pay_period}.pdf`)}catch(q){console.error("Error generating PDF:",q),o("Failed to generate PDF")}},$=K=>{window.print()},M=(K,q="KES")=>A.find(V=>V.code===q)?new Intl.NumberFormat("en-KE",{style:"currency",currency:q,minimumFractionDigits:0}).format(K):new Intl.NumberFormat("en-KE",{style:"currency",currency:q,minimumFractionDigits:0}).format(K),F=K=>new Date(K).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-white border border-gray-200 p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-base font-medium text-gray-900",children:"Employee Payslips"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"View and manage employee payslips"})]}),e.jsx("button",{onClick:()=>r("/dashboard/payroll"),className:"text-gray-600 hover:text-gray-800 text-xs",children:"Back to Payroll"})]})}),e.jsx("div",{className:"bg-white border border-gray-200 p-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Search Employee"}),e.jsxs("div",{className:"relative",children:[e.jsx(I,{icon:Vt,className:"absolute left-2 top-1/2 transform -translate-y-1/2 text-gray-400 text-xs"}),e.jsx("input",{type:"text",value:m,onChange:K=>f(K.target.value),placeholder:"Name or employee number...",className:"w-full pl-6 pr-2 py-1.5 border border-gray-300 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Pay Period"}),e.jsx("input",{type:"month",value:x,onChange:K=>b(K.target.value),className:"w-full border border-gray-300 px-2 py-1.5 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Department"}),e.jsxs("select",{value:p,onChange:K=>v(K.target.value),className:"w-full border border-gray-300 px-2 py-1.5 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500",children:[e.jsx("option",{value:"all",children:"All Departments"}),e.jsx("option",{value:"Teaching",children:"Teaching Staff"}),e.jsx("option",{value:"Administration",children:"Administration"}),e.jsx("option",{value:"Support",children:"Support Staff"})]})]}),e.jsx("div",{className:"flex items-end",children:e.jsxs("button",{className:"bg-gray-900 text-white px-3 py-1.5 text-xs hover:bg-gray-800 flex items-center space-x-1",children:[e.jsx(I,{icon:ts,className:"text-xs"}),e.jsx("span",{children:"Filter"})]})})]})}),e.jsxs("div",{className:"bg-white border border-gray-200",children:[e.jsx("div",{className:"px-4 py-3 border-b border-gray-200",children:e.jsxs("h2",{className:"text-sm font-medium text-gray-900",children:["Payslips (",O.length,")"]})}),e.jsx("div",{className:"overflow-x-auto",children:O.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"text-gray-500 text-sm",children:"No payslips found"}),e.jsx("div",{className:"text-gray-400 text-xs mt-1",children:"Try adjusting your filters or create a new payslip"})]}):e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Employee"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Department"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Pay Period"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Gross Pay"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Deductions"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Net Pay"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:O.map(K=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-medium text-gray-900",children:K.employee_name}),e.jsx("div",{className:"text-xs text-gray-500",children:K.employee_id})]})}),e.jsx("td",{className:"px-4 py-2 text-xs text-gray-900",children:K.department_name||"No Department"}),e.jsx("td",{className:"px-4 py-2 text-xs text-gray-900",children:K.pay_period}),e.jsx("td",{className:"px-4 py-2 text-xs text-gray-900",children:M(K.total_earnings,K.currency)}),e.jsx("td",{className:"px-4 py-2 text-xs text-red-600",children:M(K.total_deductions,K.currency)}),e.jsx("td",{className:"px-4 py-2 text-xs font-medium text-green-600",children:M(K.net_pay,K.currency)}),e.jsx("td",{className:"px-4 py-2",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${K.status==="processed"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:K.status==="processed"?"Processed":"Pending"})}),e.jsx("td",{className:"px-4 py-2",children:e.jsxs("div",{className:"flex space-x-1",children:[e.jsx("button",{onClick:()=>k(K),className:"text-blue-600 hover:text-blue-800 text-xs",title:"View Payslip",children:e.jsx(I,{icon:Fr})}),e.jsx("button",{onClick:()=>Y(K),className:"text-green-600 hover:text-green-800 text-xs",title:"Download PDF",children:e.jsx(I,{icon:js})}),e.jsx("button",{onClick:()=>$(),className:"text-purple-600 hover:text-purple-800 text-xs",title:"Print Payslip",children:e.jsx(I,{icon:Is})})]})})]},K.id))})]})})]}),j&&N&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white w-full max-w-4xl max-h-[95vh] overflow-y-auto mx-4",style:{scrollbarWidth:"thin",scrollbarColor:"#d1d5db #f3f4f6"},children:[e.jsx("div",{className:"flex justify-end p-4",children:e.jsx("button",{onClick:()=>w(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx(I,{icon:Br,className:"text-lg"})})}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("div",{children:[e.jsx("img",{src:J2,alt:"Company Logo",className:"h-8 mb-2"}),e.jsxs("div",{className:"text-xs text-gray-600",children:[e.jsx("div",{className:"font-semibold text-gray-800",children:N.employee_name}),e.jsxs("div",{children:["Employee ID: ",N.employee_id]}),e.jsxs("div",{children:["Department: ",N.department_name||"No Department"]}),e.jsxs("div",{children:["Job Title: ",N.job_title||"No Job Title"]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-xs text-gray-600",children:[e.jsx("div",{className:"font-semibold text-gray-800",children:"PAY DATE"}),e.jsx("div",{children:F(N.pay_date)})]}),e.jsxs("div",{className:"text-xs text-gray-600 mt-2",children:[e.jsx("div",{className:"font-semibold text-gray-800",children:"PAY PERIOD"}),e.jsx("div",{children:N.pay_period})]}),e.jsxs("div",{className:"text-xs text-gray-600 mt-2",children:[e.jsx("div",{className:"font-semibold text-gray-800",children:"PAYSLIP #"}),e.jsx("div",{children:N.id})]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("div",{className:"bg-gray-600 text-white font-bold p-2",children:"EARNINGS"}),e.jsxs("div",{className:"border border-gray-300",children:[e.jsxs("div",{className:"bg-gray-200 p-2 grid grid-cols-2 gap-4 font-semibold text-xs",children:[e.jsx("div",{children:"DESCRIPTION"}),e.jsx("div",{className:"text-right",children:"AMOUNT"})]}),N.earnings&&N.earnings.length>0?e.jsxs(e.Fragment,{children:[N.earnings.map((K,q)=>e.jsxs("div",{className:"p-2 border-b border-gray-200 grid grid-cols-2 gap-4 text-xs",children:[e.jsx("div",{children:K.label}),e.jsx("div",{className:"text-right",children:M(K.amount,K.currency)})]},q)),e.jsxs("div",{className:"bg-gray-100 p-2 grid grid-cols-2 gap-4 font-bold text-xs",children:[e.jsx("div",{children:"TOTAL EARNINGS"}),e.jsx("div",{className:"text-right",children:M(N.total_earnings,N.currency)})]})]}):e.jsx("div",{className:"p-2 text-xs text-gray-500",children:"No earnings recorded"})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("div",{className:"bg-gray-600 text-white font-bold p-2",children:"DEDUCTIONS"}),e.jsxs("div",{className:"border border-gray-300",children:[e.jsxs("div",{className:"bg-gray-200 p-2 grid grid-cols-2 gap-4 font-semibold text-xs",children:[e.jsx("div",{children:"DESCRIPTION"}),e.jsx("div",{className:"text-right",children:"AMOUNT"})]}),N.deductions&&N.deductions.length>0?e.jsxs(e.Fragment,{children:[N.deductions.map((K,q)=>e.jsxs("div",{className:"p-2 border-b border-gray-200 grid grid-cols-2 gap-4 text-xs",children:[e.jsx("div",{children:K.label}),e.jsx("div",{className:"text-right",children:M(K.amount,K.currency)})]},q)),e.jsxs("div",{className:"bg-gray-100 p-2 grid grid-cols-2 gap-4 font-bold text-xs",children:[e.jsx("div",{children:"TOTAL DEDUCTIONS"}),e.jsx("div",{className:"text-right",children:M(N.total_deductions,N.currency)})]})]}):e.jsx("div",{className:"p-2 text-xs text-gray-500",children:"No deductions recorded"})]})]}),e.jsx("div",{className:"bg-gray-700 text-white font-bold p-3",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("div",{className:"text-sm",children:"NET PAY"}),e.jsx("div",{className:"text-sm",children:M(N.net_pay,N.currency)})]})}),N.notes&&e.jsxs("div",{className:"mt-4 p-3 bg-gray-50",children:[e.jsx("h4",{className:"text-xs font-semibold text-gray-900 mb-1",children:"Notes"}),e.jsx("p",{className:"text-xs text-gray-600",children:N.notes})]}),e.jsx("div",{className:"mt-6 text-center text-xs text-gray-600",children:e.jsx("p",{children:"If you have any questions about this payslip, please contact your HR department."})}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-4 pt-3 border-t border-gray-200",children:[e.jsxs("button",{onClick:()=>Y(N),className:"px-3 py-1.5 bg-blue-600 text-white text-xs hover:bg-blue-700 flex items-center space-x-1",children:[e.jsx(I,{icon:js}),e.jsx("span",{children:"Download Payslip"})]}),e.jsxs("button",{onClick:()=>$(),className:"px-3 py-1.5 bg-gray-600 text-white text-xs hover:bg-gray-700 flex items-center space-x-1",children:[e.jsx(I,{icon:Is}),e.jsx("span",{children:"Print"})]})]})]})]})}),s&&e.jsx("div",{className:"bg-blue-50 border border-blue-200 p-3 text-xs text-blue-700",children:"Loading payslips..."}),i&&e.jsx("div",{className:"bg-red-50 border border-red-200 p-3 text-xs text-red-700",children:i})]})},tde=()=>{const{token:t}=et(),r=br(),[a,s]=g.useState(!1),[n,i]=g.useState(null),[o,d]=g.useState(null),[u,m]=g.useState({employee_id:"",pay_period:new Date().toISOString().slice(0,7),pay_date:new Date().toISOString().split("T")[0],currency:"KES",payment_method:"bank",bank_account_id:"",notes:""}),[f,x]=g.useState([{id:1,label:"Basic Salary",amount:"",currency:"KES"}]),[b,p]=g.useState([{id:1,label:"PAYE Tax",amount:"",currency:"KES"}]),[v,j]=g.useState([]),[w,N]=g.useState([]),[P,A]=g.useState(!1),[D,T]=g.useState([]),[R,E]=g.useState({bank_name:"",account_number:"",currency:"KES"}),O=t?{Authorization:`Bearer ${t}`}:{};g.useEffect(()=>{k(),Y()},[]),g.useEffect(()=>{u.employee_id?$(u.employee_id):N([])},[u.employee_id]);const k=async()=>{try{const z=await de.get(`${ce}/employees`,{headers:O});z.data.success?j(z.data.data):j([{id:1,name:"John Doe",employee_id:"EMP001",department:"Teaching",job_title:"Mathematics Teacher"},{id:2,name:"Jane Smith",employee_id:"EMP002",department:"Teaching",job_title:"English Teacher"},{id:3,name:"Mary Johnson",employee_id:"EMP003",department:"Administration",job_title:"Accountant"},{id:4,name:"Peter Wilson",employee_id:"EMP004",department:"Support",job_title:"IT Support"},{id:5,name:"Sarah Brown",employee_id:"EMP005",department:"Teaching",job_title:"Science Teacher"}])}catch(z){console.error("Error loading employees:",z),i("Failed to load employees")}},Y=async()=>{try{const z=await de.get(`${ce}/accounting/currencies`,{headers:O});z.data.success?T(z.data.data):i("Failed to load currencies")}catch(z){console.error("Error loading currencies:",z),i("Failed to load currencies")}},$=async z=>{try{if(!z){N([]),A(!1);return}const re=await de.get(`${ce}/employees/${z}/bank-accounts`,{headers:O});re.data.success?(N(re.data.data.bankAccounts),A(re.data.data.bankAccounts.length===0)):(N([]),A(!0))}catch(re){console.error("Error loading employee bank accounts:",re),N([]),A(!0)}},M=async()=>{try{if(!R.bank_name||!R.account_number){i("Bank name and account number are required");return}s(!0),i(null);const z=await de.post(`${ce}/employees/${u.employee_id}/bank-accounts`,{bankName:R.bank_name,accountNumber:R.account_number,currency:R.currency,isPrimary:!0},{headers:O});z.data.success?(await $(u.employee_id),m({...u,bank_account_id:z.data.data.id}),E({bank_name:"",account_number:"",currency:"KES"}),A(!1),d("Bank account added successfully!"),setTimeout(()=>{d(null)},3e3)):i(z.data.error||"Failed to add bank account")}catch(z){console.error("Error adding bank account:",z),i(z.response?.data?.error||"Failed to add bank account")}finally{s(!1)}},F=()=>{const z=Math.max(...f.map(re=>re.id),0)+1;x([...f,{id:z,label:"",amount:"",currency:"KES"}])},K=z=>{f.length>1&&x(f.filter(re=>re.id!==z))},q=(z,re,G)=>{x(f.map(Q=>Q.id===z?{...Q,[re]:G}:Q))},U=()=>{const z=Math.max(...b.map(re=>re.id),0)+1;p([...b,{id:z,label:"",amount:"",currency:"KES"}])},V=z=>{b.length>1&&p(b.filter(re=>re.id!==z))},Z=(z,re,G)=>{p(b.map(Q=>Q.id===z?{...Q,[re]:G}:Q))},X=async()=>{try{if(!u.employee_id){i("Employee is required");return}if(!u.payment_method){i("Payment method is required");return}if(u.payment_method==="bank"&&!u.bank_account_id){i("Bank account is required for bank transfer");return}const z=f.filter(Q=>Q.label.trim()&&Q.amount);if(z.length===0){i("At least one earning item is required");return}s(!0),i(null);const re={...u,earnings:z,deductions:b.filter(Q=>Q.label.trim()&&Q.amount)},G=await de.post(`${ce}/payroll/payslips`,re,{headers:O});G.data.success?(d("Payslip created successfully!"),m({employee_id:"",pay_period:new Date().toISOString().slice(0,7),pay_date:new Date().toISOString().split("T")[0],currency:"KES",payment_method:"bank",bank_account_id:"",notes:""}),N([]),A(!1),E({bank_name:"",account_number:"",currency:"KES"}),x([{id:1,label:"Basic Salary",amount:"",currency:"KES"}]),p([{id:1,label:"PAYE Tax",amount:"",currency:"KES"}]),setTimeout(()=>{r("/dashboard/payroll")},2e3)):i(G.data.message||"Failed to create payslip")}catch(z){console.error("Error creating payslip:",z),i(z.response?.data?.message||"Failed to create payslip")}finally{s(!1)}},J=()=>{const z=f.filter(G=>G.label.trim()&&G.amount).reduce((G,Q)=>G+(parseFloat(Q.amount)||0),0),re=b.filter(G=>G.label.trim()&&G.amount).reduce((G,Q)=>G+(parseFloat(Q.amount)||0),0);return z-re},be=(z,re)=>D.find(Q=>Q.code===re)?new Intl.NumberFormat("en-KE",{style:"currency",currency:re,minimumFractionDigits:0}).format(z):z;return e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-white border border-gray-200 p-4",children:e.jsx("div",{className:"flex items-center space-x-3",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-base font-medium text-gray-900",children:"Create Payslip"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Enter employee details and salary components"})]})})}),o&&e.jsx("div",{className:"bg-green-50 border border-green-200 p-3 text-xs text-green-700",children:o}),n&&e.jsx("div",{className:"bg-red-50 border border-red-200 p-3 text-xs text-red-700",children:n}),e.jsx("div",{className:"bg-white border border-gray-200 p-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900 border-b border-gray-200 pb-2",children:"Basic Information"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Employee *"}),e.jsxs("select",{value:u.employee_id,onChange:z=>m({...u,employee_id:z.target.value}),className:"w-full border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500",children:[e.jsx("option",{value:"",children:"Select Employee"}),v.map(z=>e.jsxs("option",{value:z.id,children:[z.full_name," - ",z.employee_id," (",z.department_name||"No Department",")"]},z.id))]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Pay Period *"}),e.jsx("input",{type:"month",value:u.pay_period,onChange:z=>m({...u,pay_period:z.target.value}),className:"w-full border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Pay Date *"}),e.jsx("input",{type:"date",value:u.pay_date,onChange:z=>m({...u,pay_date:z.target.value}),className:"w-full border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Default Currency"}),e.jsx("select",{value:u.currency,onChange:z=>m({...u,currency:z.target.value}),className:"w-full border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500",children:D.map(z=>e.jsxs("option",{value:z.code,children:[z.code," - ",z.name]},z.code))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Payment Method *"}),e.jsxs("select",{value:u.payment_method,onChange:z=>{m({...u,payment_method:z.target.value,bank_account_id:z.target.value==="cash"?"":u.bank_account_id})},className:"w-full border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500",children:[e.jsx("option",{value:"bank",children:"Bank Transfer"}),e.jsx("option",{value:"cash",children:"Cash Payment"})]})]}),u.payment_method==="bank"&&u.employee_id&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Bank Account *"}),w.length>0?e.jsxs("div",{className:"space-y-2",children:[e.jsxs("select",{value:u.bank_account_id,onChange:z=>m({...u,bank_account_id:z.target.value}),className:"w-full border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500",children:[e.jsx("option",{value:"",children:"Select Bank Account"}),w.map(z=>e.jsxs("option",{value:z.id,children:[z.bank_name," - ",z.account_number," (",z.currency,")"]},z.id))]}),e.jsxs("button",{onClick:()=>A(!0),className:"text-blue-600 hover:text-blue-800 text-xs flex items-center space-x-1",children:[e.jsx(I,{icon:_t,className:"text-xs"}),e.jsx("span",{children:"Add New Bank Account"})]})]}):e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-xs text-gray-600",children:"No bank accounts found for this employee. Add a new one:"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx("div",{children:e.jsx("input",{type:"text",value:R.bank_name,onChange:z=>E({...R,bank_name:z.target.value}),placeholder:"Bank Name",className:"w-full border border-gray-300 px-2 py-1 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500"})}),e.jsx("div",{children:e.jsx("input",{type:"text",value:R.account_number,onChange:z=>E({...R,account_number:z.target.value}),placeholder:"Account Number",className:"w-full border border-gray-300 px-2 py-1 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500"})})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("select",{value:R.currency,onChange:z=>E({...R,currency:z.target.value}),className:"border border-gray-300 px-2 py-1 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500",children:D.map(z=>e.jsx("option",{value:z.code,children:z.code},z.code))}),e.jsx("button",{onClick:M,disabled:a||!R.bank_name||!R.account_number,className:"px-3 py-1 bg-blue-600 text-white text-xs hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:a?"Adding...":"Add Account"})]})]}),P&&w.length>0&&e.jsxs("div",{className:"mt-3 p-3 border border-gray-200 rounded bg-gray-50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h4",{className:"text-xs font-medium text-gray-700",children:"Add New Bank Account"}),e.jsx("button",{onClick:()=>A(!1),className:"text-gray-500 hover:text-gray-700 text-xs",children:e.jsx(I,{icon:Br})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx("div",{children:e.jsx("input",{type:"text",value:R.bank_name,onChange:z=>E({...R,bank_name:z.target.value}),placeholder:"Bank Name",className:"w-full border border-gray-300 px-2 py-1 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500"})}),e.jsx("div",{children:e.jsx("input",{type:"text",value:R.account_number,onChange:z=>E({...R,account_number:z.target.value}),placeholder:"Account Number",className:"w-full border border-gray-300 px-2 py-1 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500"})})]}),e.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[e.jsx("select",{value:R.currency,onChange:z=>E({...R,currency:z.target.value}),className:"border border-gray-300 px-2 py-1 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500",children:D.map(z=>e.jsx("option",{value:z.code,children:z.code},z.code))}),e.jsx("button",{onClick:M,disabled:a||!R.bank_name||!R.account_number,className:"px-3 py-1 bg-blue-600 text-white text-xs hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:a?"Adding...":"Add Account"})]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 pb-2",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:"Earnings"}),e.jsxs("button",{onClick:F,className:"text-blue-600 hover:text-blue-800 text-xs flex items-center space-x-1",children:[e.jsx(I,{icon:_t,className:"text-xs"}),e.jsx("span",{children:"Add Earning"})]})]}),e.jsx("div",{className:"space-y-3",children:f.map((z,re)=>e.jsxs("div",{className:"flex items-center space-x-2 p-3 border border-gray-200 rounded",children:[e.jsx("div",{className:"flex-1",children:e.jsx("input",{type:"text",value:z.label,onChange:G=>q(z.id,"label",G.target.value),placeholder:"Earning description",className:"w-full border border-gray-300 px-2 py-1 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500"})}),e.jsx("div",{className:"w-24",children:e.jsx("select",{value:z.currency,onChange:G=>q(z.id,"currency",G.target.value),className:"w-full border border-gray-300 px-2 py-1 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500",children:D.map(G=>e.jsx("option",{value:G.code,children:G.code},G.code))})}),e.jsx("div",{className:"w-32",children:e.jsx("input",{type:"number",value:z.amount,onChange:G=>q(z.id,"amount",G.target.value),placeholder:"0",className:"w-full border border-gray-300 px-2 py-1 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500"})}),f.length>1&&e.jsx("button",{onClick:()=>K(z.id),className:"text-red-600 hover:text-red-800 text-xs",children:e.jsx(I,{icon:Mt})})]},z.id))})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 pb-2",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:"Deductions"}),e.jsxs("button",{onClick:U,className:"text-red-600 hover:text-red-800 text-xs flex items-center space-x-1",children:[e.jsx(I,{icon:_t,className:"text-xs"}),e.jsx("span",{children:"Add Deduction"})]})]}),e.jsx("div",{className:"space-y-3",children:b.map((z,re)=>e.jsxs("div",{className:"flex items-center space-x-2 p-3 border border-gray-200 rounded",children:[e.jsx("div",{className:"flex-1",children:e.jsx("input",{type:"text",value:z.label,onChange:G=>Z(z.id,"label",G.target.value),placeholder:"Deduction description",className:"w-full border border-gray-300 px-2 py-1 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500"})}),e.jsx("div",{className:"w-24",children:e.jsx("select",{value:z.currency,onChange:G=>Z(z.id,"currency",G.target.value),className:"w-full border border-gray-300 px-2 py-1 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500",children:D.map(G=>e.jsx("option",{value:G.code,children:G.code},G.code))})}),e.jsx("div",{className:"w-32",children:e.jsx("input",{type:"number",value:z.amount,onChange:G=>Z(z.id,"amount",G.target.value),placeholder:"0",className:"w-full border border-gray-300 px-2 py-1 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500"})}),b.length>1&&e.jsx("button",{onClick:()=>V(z.id),className:"text-red-600 hover:text-red-800 text-xs",children:e.jsx(I,{icon:Mt})})]},z.id))})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900 border-b border-gray-200 pb-2",children:"Summary"}),e.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Total Earnings:"}),e.jsx("span",{className:"font-medium",children:be(f.filter(z=>z.label.trim()&&z.amount).reduce((z,re)=>z+(parseFloat(re.amount)||0),0),u.currency)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Total Deductions:"}),e.jsx("span",{className:"font-medium text-red-600",children:be(b.filter(z=>z.label.trim()&&z.amount).reduce((z,re)=>z+(parseFloat(re.amount)||0),0),u.currency)})]}),e.jsxs("div",{className:"flex justify-between border-t border-gray-200 pt-3",children:[e.jsx("span",{className:"font-semibold text-gray-900",children:"Net Pay:"}),e.jsx("span",{className:"font-bold text-green-600 text-lg",children:be(J(),u.currency)})]})]})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Notes"}),e.jsx("textarea",{value:u.notes,onChange:z=>m({...u,notes:z.target.value}),rows:"4",className:"w-full border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500",placeholder:"Enter any additional notes or comments..."})]})]})]})}),e.jsx("div",{className:"bg-white border border-gray-200 p-4",children:e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>r("/dashboard/payroll"),className:"px-4 py-2 border border-gray-300 text-gray-700 text-sm hover:bg-gray-50",children:"Cancel"}),e.jsxs("button",{onClick:X,disabled:a,className:"px-4 py-2 bg-gray-600 text-white text-sm hover:bg-gray-700 disabled:opacity-50 flex items-center space-x-2",children:[e.jsx(I,{icon:Dn,className:"text-sm"}),e.jsx("span",{children:a?"Creating...":"Create Payslip"})]})]})})]})},rde=()=>{const{token:t}=et(),[r,a]=g.useState(!1),[s,n]=g.useState(null),[i,o]=g.useState(null),[d,u]=g.useState([]),[m,f]=g.useState({page:1,limit:10,total:0,pages:0}),[x,b]=g.useState(""),[p,v]=g.useState(""),[j,w]=g.useState(!1),[N,P]=g.useState(null),[A,D]=g.useState({route_name:"",route_code:"",pickup_point:"",dropoff_point:"",weekly_fee:"",currency:"USD"}),T=t?{Authorization:`Bearer ${t}`}:{};g.useEffect(()=>{R()},[]),g.useEffect(()=>{R()},[m.page,x,p]);const R=async()=>{try{a(!0),n(null);const U=new URLSearchParams({page:m.page,limit:m.limit});x&&U.append("search",x),p!==""&&U.append("is_active",p==="active");const V=await de.get(`${ce}/transport/routes?${U}`,{headers:T});V.data.success&&(u(V.data.data),f(V.data.pagination))}catch(U){console.error("Error loading routes:",U),n("Failed to load routes")}finally{a(!1)}},E=U=>{const{name:V,value:Z}=U.target;D(X=>({...X,[V]:Z}))},O=()=>{D({route_name:"",route_code:"",pickup_point:"",dropoff_point:"",weekly_fee:"",currency:"USD"}),P(null)},k=(U=null)=>{U?(P(U),D({route_name:U.route_name,route_code:U.route_code,pickup_point:U.pickup_point,dropoff_point:U.dropoff_point,weekly_fee:U.weekly_fee,currency:U.currency})):O(),w(!0)},Y=()=>{w(!1),O()},$=async U=>{U.preventDefault();try{a(!0),n(null),N?(await de.put(`${ce}/transport/routes/${N.id}`,A,{headers:T}),o("Route updated successfully")):(await de.post(`${ce}/transport/routes`,A,{headers:T}),o("Route created successfully")),Y(),R()}catch(V){console.error("Error saving route:",V),n(V.response?.data?.message||"Failed to save route")}finally{a(!1)}},M=async U=>{if(window.confirm("Are you sure you want to delete this route?"))try{a(!0),n(null),await de.delete(`${ce}/transport/routes/${U}`,{headers:T}),o("Route deleted successfully"),R()}catch(V){console.error("Error deleting route:",V),n(V.response?.data?.message||"Failed to delete route")}finally{a(!1)}},F=async(U,V)=>{try{a(!0),n(null),await de.put(`${ce}/transport/routes/${U}`,{is_active:!V},{headers:T}),o(`Route ${V?"deactivated":"activated"} successfully`),R()}catch(Z){console.error("Error toggling route status:",Z),n(Z.response?.data?.message||"Failed to toggle route status")}finally{a(!1)}},K=(U,V="USD")=>new Intl.NumberFormat("en-US",{style:"currency",currency:V,minimumFractionDigits:2}).format(U),q=U=>e.jsx("span",{className:`px-2 py-1 text-xs font-medium ${U?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:U?"Active":"Inactive"});return r&&d.length===0?e.jsx("div",{className:"min-h-screen bg-gray-50 py-6",children:e.jsx("div",{className:"w-full px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin h-12 w-12 border-b-2 border-gray-600"})})})}):e.jsx("div",{className:"min-h-screen bg-gray-50 py-6",children:e.jsxs("div",{className:"w-full px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Manage Transport Routes"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Create and manage transport routes for student pickup and dropoff"})]}),e.jsxs("button",{onClick:()=>k(),className:"bg-gray-900 text-white px-4 py-2 text-xs hover:bg-gray-800 flex items-center",children:[e.jsx(I,{icon:_t,className:"mr-2"}),"Add Route"]})]})}),e.jsx("div",{className:"bg-white border border-gray-200 p-4 mb-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(I,{icon:Vt,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search routes...",value:x,onChange:U=>b(U.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500"})]})}),e.jsxs("select",{value:p,onChange:U=>v(U.target.value),className:"px-4 py-2 border border-gray-300 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500",children:[e.jsx("option",{value:"",children:"All Status"}),e.jsx("option",{value:"active",children:"Active Only"}),e.jsx("option",{value:"inactive",children:"Inactive Only"})]})]})}),e.jsxs("div",{className:"bg-white border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Route Details"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Pickup/Dropoff"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Weekly Fee"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:d.map(U=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:U.route_name}),e.jsxs("div",{className:"text-sm text-gray-500",children:["Code: ",U.route_code]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"text-sm text-gray-900",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(I,{icon:vc,className:"text-green-500 text-xs"}),e.jsx("span",{children:U.pickup_point})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(I,{icon:vc,className:"text-red-500 text-xs"}),e.jsx("span",{children:U.dropoff_point})]})]})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm text-gray-900 font-medium",children:K(U.weekly_fee,U.currency)}),e.jsx("div",{className:"text-xs text-gray-500",children:"per week"})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:q(U.is_active)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>k(U),className:"text-blue-600 hover:text-blue-900",children:e.jsx(I,{icon:lr})}),e.jsx("button",{onClick:()=>F(U.id,U.is_active),className:`${U.is_active?"text-yellow-600 hover:text-yellow-900":"text-green-600 hover:text-green-900"}`,children:U.is_active?"Deactivate":"Activate"}),e.jsx("button",{onClick:()=>M(U.id),className:"text-red-600 hover:text-red-900",children:e.jsx(I,{icon:Mt})})]})})]},U.id))})]})}),m.pages>1&&e.jsxs("div",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6",children:[e.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[e.jsx("button",{onClick:()=>f(U=>({...U,page:U.page-1})),disabled:m.page===1,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:"Previous"}),e.jsx("button",{onClick:()=>f(U=>({...U,page:U.page+1})),disabled:m.page===m.pages,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:"Next"})]}),e.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[e.jsx("div",{children:e.jsxs("p",{className:"text-sm text-gray-700",children:["Showing ",e.jsx("span",{className:"font-medium",children:(m.page-1)*m.limit+1})," to"," ",e.jsx("span",{className:"font-medium",children:Math.min(m.page*m.limit,m.total)})," ","of ",e.jsx("span",{className:"font-medium",children:m.total})," results"]})}),e.jsx("div",{children:e.jsx("nav",{className:"relative z-0 inline-flex shadow-sm -space-x-px",children:Array.from({length:m.pages},(U,V)=>V+1).map(U=>e.jsx("button",{onClick:()=>f(V=>({...V,page:U})),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${U===m.page?"z-10 bg-gray-50 border-gray-500 text-gray-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:U},U))})})]})]})]}),j&&e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:e.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg bg-white",children:e.jsxs("div",{className:"mt-3",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:N?"Edit Route":"Add New Route"}),e.jsxs("form",{onSubmit:$,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Route Name"}),e.jsx("input",{type:"text",name:"route_name",value:A.route_name,onChange:E,required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 shadow-sm focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Route Code"}),e.jsx("input",{type:"text",name:"route_code",value:A.route_code,onChange:E,required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 shadow-sm focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Pickup Point"}),e.jsx("input",{type:"text",name:"pickup_point",value:A.pickup_point,onChange:E,required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 shadow-sm focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Dropoff Point"}),e.jsx("input",{type:"text",name:"dropoff_point",value:A.dropoff_point,onChange:E,required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 shadow-sm focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Weekly Fee"}),e.jsxs("div",{className:"mt-1 relative shadow-sm",children:[e.jsx("input",{type:"number",name:"weekly_fee",value:A.weekly_fee,onChange:E,step:"0.01",min:"0",required:!0,className:"block w-full pr-12 px-3 py-2 border border-gray-300 shadow-sm focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500"}),e.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:e.jsx("span",{className:"text-gray-500 sm:text-sm",children:A.currency})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Currency"}),e.jsxs("select",{name:"currency",value:A.currency,onChange:E,className:"mt-1 block w-full px-3 py-2 border border-gray-300 shadow-sm focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500",children:[e.jsx("option",{value:"USD",children:"USD"}),e.jsx("option",{value:"EUR",children:"EUR"}),e.jsx("option",{value:"GBP",children:"GBP"})]})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{type:"submit",disabled:r,className:"flex-1 bg-gray-900 hover:bg-gray-800 text-white px-4 py-2 disabled:opacity-50",children:r?"Saving...":N?"Update Route":"Create Route"}),e.jsx("button",{type:"button",onClick:Y,className:"flex-1 bg-gray-300 hover:bg-gray-400 text-gray-700 px-4 py-2",children:"Cancel"})]})]})]})})}),i&&e.jsx("div",{className:"fixed bottom-4 right-4 bg-green-500 text-white px-6 py-3 shadow-lg z-50",children:i}),s&&e.jsx("div",{className:"fixed bottom-4 right-4 bg-red-500 text-white px-6 py-3 shadow-lg z-50",children:s})]})})},ade=()=>{const{token:t}=et(),[r,a]=g.useState(!1),[s,n]=g.useState(null),[i,o]=g.useState(null),[d,u]=g.useState([]),[m,f]=g.useState([]),[x,b]=g.useState([]),[p,v]=g.useState({page:1,limit:10,total:0,pages:0}),[j,w]=g.useState(""),[N,P]=g.useState(""),[A,D]=g.useState(""),T=t?{Authorization:`Bearer ${t}`}:{};g.useEffect(()=>{R(),E(),O()},[]),g.useEffect(()=>{O()},[p.page,j,N,A]);const R=async()=>{try{const F=await de.get(`${ce}/transport/routes?limit=100`,{headers:T});F.data.success&&f(F.data.data)}catch(F){console.error("Error loading routes:",F)}},E=async()=>{try{const F=await de.get(`${ce}/students?limit=1000`,{headers:T});F.data.success&&b(F.data.data)}catch(F){console.error("Error loading students:",F)}},O=async()=>{try{a(!0),n(null);const F=new URLSearchParams({page:p.page,limit:p.limit});j&&F.append("search",j),N&&F.append("route_id",N),A&&F.append("status",A);const K=await de.get(`${ce}/transport/registrations?${F}`,{headers:T});K.data.success&&(u(K.data.data),v(K.data.pagination))}catch(F){console.error("Error loading registrations:",F),n("Failed to load registrations")}finally{a(!1)}},k=async F=>{if(window.confirm("Are you sure you want to delete this registration? This action cannot be undone."))try{a(!0),await de.delete(`${ce}/transport/registrations/${F}`,{headers:T}),o("Registration deleted successfully"),O()}catch(K){console.error("Error deleting registration:",K),n(K.response?.data?.message||"Failed to delete registration")}finally{a(!1)}},Y=(F,K="USD")=>new Intl.NumberFormat("en-US",{style:"currency",currency:K}).format(F),$=F=>new Date(F).toLocaleDateString(),M=F=>e.jsx("span",{className:`px-2 py-1 text-xs font-medium ${F?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:F?"Active":"Inactive"});return e.jsx("div",{className:"min-h-screen bg-gray-50 py-6",children:e.jsxs("div",{className:"w-full px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Student Transport Registration"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Register students for transport pickup and dropoff"})]}),e.jsxs(Yt,{to:"/dashboard/transport/registrations/add",className:"bg-gray-900 text-white px-4 py-2 text-xs hover:bg-gray-800 flex items-center",children:[e.jsx(I,{icon:_t,className:"mr-2"}),"Register Student"]})]})}),e.jsx("div",{className:"bg-white border border-gray-200 p-4 mb-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Search"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"Search by student name or registration number...",value:j,onChange:F=>w(F.target.value),className:"w-full px-3 py-2 pl-10 border border-gray-300 focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500"}),e.jsx(I,{icon:Vt,className:"absolute left-3 top-3 text-gray-400"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Route"}),e.jsxs("select",{value:N,onChange:F=>P(F.target.value),className:"w-full px-3 py-2 border border-gray-300 focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500",children:[e.jsx("option",{value:"",children:"All Routes"}),m.filter(F=>F.is_active).map(F=>e.jsx("option",{value:F.id,children:F.route_name},F.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),e.jsxs("select",{value:A,onChange:F=>D(F.target.value),className:"w-full px-3 py-2 border border-gray-300 focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500",children:[e.jsx("option",{value:"",children:"All Statuses"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})]}),e.jsx("div",{className:"flex items-end",children:e.jsx("button",{onClick:()=>{w(""),P(""),D("")},className:"w-full bg-gray-200 hover:bg-gray-300 text-gray-700 px-4 py-2 text-xs",children:"Clear Filters"})})]})}),e.jsxs("div",{className:"bg-white border border-gray-200",children:[r?e.jsx("div",{className:"p-8 text-center",children:e.jsx("div",{className:"text-gray-500",children:"Loading registrations..."})}):d.length===0?e.jsxs("div",{className:"p-8 text-center",children:[e.jsx(I,{icon:Fs,className:"text-4xl text-gray-300 mb-4"}),e.jsx("div",{className:"text-gray-500",children:"No registrations found"})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Student"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Route"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Pickup/Dropoff"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Start Date"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Weekly Fee"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:d.map(F=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:F.student_name}),e.jsxs("div",{className:"text-gray-500 text-xs",children:["Reg: ",F.student_reg_number]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:F.route_name}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.jsxs("div",{children:[e.jsxs("div",{className:"text-xs text-gray-500",children:["From: ",F.pickup_point]}),e.jsxs("div",{className:"text-xs text-gray-500",children:["To: ",F.dropoff_point]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:$(F.start_date)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:Y(F.weekly_fee,F.currency)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:M(F.is_active)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsx("div",{className:"flex gap-2",children:e.jsx("button",{onClick:()=>k(F.id),className:"text-red-600 hover:text-red-900",title:"Delete Registration",children:e.jsx(I,{icon:Mt})})})})]},F.id))})]})}),p.pages>1&&e.jsx("div",{className:"bg-white px-4 py-3 border-t border-gray-200 sm:px-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[e.jsx("button",{onClick:()=>v(F=>({...F,page:F.page-1})),disabled:p.page===1,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:"Previous"}),e.jsx("button",{onClick:()=>v(F=>({...F,page:F.page+1})),disabled:p.page===p.pages,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:"Next"})]}),e.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[e.jsx("div",{children:e.jsxs("p",{className:"text-sm text-gray-700",children:["Showing ",e.jsx("span",{className:"font-medium",children:(p.page-1)*p.limit+1})," to"," ",e.jsx("span",{className:"font-medium",children:Math.min(p.page*p.limit,p.total)})," ","of ",e.jsx("span",{className:"font-medium",children:p.total})," results"]})}),e.jsx("div",{children:e.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:[e.jsx("button",{onClick:()=>v(F=>({...F,page:F.page-1})),disabled:p.page===1,className:"relative inline-flex items-center px-2 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50",children:"Previous"}),Array.from({length:p.pages},(F,K)=>K+1).map(F=>e.jsx("button",{onClick:()=>v(K=>({...K,page:F})),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${F===p.page?"z-10 bg-gray-900 border-gray-900 text-white":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:F},F)),e.jsx("button",{onClick:()=>v(F=>({...F,page:F.page+1})),disabled:p.page===p.pages,className:"relative inline-flex items-center px-2 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50",children:"Next"})]})})]})]})})]}),i&&e.jsx("div",{className:"fixed bottom-4 right-4 bg-green-500 text-white px-6 py-3 shadow-lg z-50",children:i}),s&&e.jsx("div",{className:"fixed bottom-4 right-4 bg-red-500 text-white px-6 py-3 shadow-lg z-50",children:s})]})})},sde=()=>{const{token:t}=et(),[r,a]=g.useState(!1),[s,n]=g.useState(null),[i,o]=g.useState(null),[d,u]=g.useState([]),[m,f]=g.useState([]),[x,b]=g.useState({page:1,limit:10,total:0,pages:0}),[p,v]=g.useState(""),[j,w]=g.useState(""),[N,P]=g.useState(""),[A,D]=g.useState(""),[T,R]=g.useState(!1),[E,O]=g.useState(!1),[k,Y]=g.useState(null),[$,M]=g.useState({week_start_date:"",week_end_date:""}),[F,K]=g.useState({payment_date:"",amount:"",payment_method:"Cash",notes:""}),q=t?{Authorization:`Bearer ${t}`}:{};g.useEffect(()=>{U(),V()},[]),g.useEffect(()=>{V()},[x.page,p,j,N,A]);const U=async()=>{try{const G=await de.get(`${ce}/transport/routes?limit=100`,{headers:q});G.data.success&&f(G.data.data)}catch(G){console.error("Error loading routes:",G)}},V=async()=>{try{a(!0),n(null);const G=new URLSearchParams({page:x.page,limit:x.limit});p&&G.append("search",p),j&&G.append("status",j),N&&G.append("route_id",N),A&&G.append("week_start",A);const Q=await de.get(`${ce}/transport/fees?${G}`,{headers:q});Q.data.success&&(console.log("🔍 Fees received from API:",Q.data.data),Q.data.data.length>0&&(console.log("🔍 First fee structure:",Q.data.data[0]),console.log("🔍 student_reg_number field:",Q.data.data[0].student_reg_number)),u(Q.data.data),b(Q.data.pagination))}catch(G){console.error("Error loading fees:",G),n("Failed to load fees")}finally{a(!1)}},Z=async G=>{G.preventDefault();try{a(!0),n(null);const Q=await de.post(`${ce}/transport/fees/generate`,$,{headers:q});Q.data.success&&(o(`Weekly fees generated successfully! ${Q.data.data.fees_created} fees created, ${Q.data.data.fees_skipped} skipped.`),R(!1),M({week_start_date:"",week_end_date:""}),V())}catch(Q){console.error("Error generating fees:",Q),n(Q.response?.data?.message||"Failed to generate weekly fees")}finally{a(!1)}},X=async G=>{G.preventDefault();try{a(!0),n(null);const Q={...F,transport_fee_id:k.id,student_reg_number:k.student_reg_number||k.student_number,currency:k.currency};console.log("🔍 Payment data being sent:",Q),console.log("🔍 Selected fee:",k),console.log("🔍 Selected fee keys:",Object.keys(k)),console.log("🔍 student_reg_number value:",k.student_reg_number),console.log("🔍 student_number value:",k.student_number),console.log("🔍 Final student_reg_number:",k.student_reg_number||k.student_number);const ve=await de.post(`${ce}/transport/payments`,Q,{headers:q});ve.data.success&&(o(`Payment recorded successfully! Reference: ${ve.data.data.reference_number}`),O(!1),Y(null),K({payment_date:"",amount:"",payment_method:"Cash",notes:""}),V())}catch(Q){console.error("Error recording payment:",Q),n(Q.response?.data?.message||"Failed to record payment")}finally{a(!1)}},J=G=>{console.log("🔍 Fee data for payment:",G),Y(G),K({payment_date:new Date().toISOString().split("T")[0],amount:G.amount.toString(),payment_method:"Cash",notes:""}),O(!0)},be=(G,Q="USD")=>new Intl.NumberFormat("en-US",{style:"currency",currency:Q,minimumFractionDigits:2}).format(G),z=G=>new Date(G).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),re=G=>{switch(G){case"Paid":return e.jsxs("span",{className:"inline-flex items-center px-2 py-1 text-xs font-medium bg-green-100 text-green-800",children:[e.jsx(I,{icon:aa,className:"mr-1"}),"Paid"]});case"Pending":return e.jsxs("span",{className:"inline-flex items-center px-2 py-1 text-xs font-medium bg-yellow-100 text-yellow-800",children:[e.jsx(I,{icon:ur,className:"mr-1"}),"Pending"]});case"Overdue":return e.jsxs("span",{className:"inline-flex items-center px-2 py-1 text-xs font-medium bg-red-100 text-red-800",children:[e.jsx(I,{icon:Wu,className:"mr-1"}),"Overdue"]});default:return e.jsx("span",{className:"inline-flex items-center px-2 py-1 text-xs font-medium bg-gray-100 text-gray-800",children:"Unknown"})}};return r&&d.length===0?e.jsx("div",{className:"min-h-screen bg-gray-50 py-6",children:e.jsx("div",{className:"w-full px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin h-12 w-12 border-b-2 border-gray-600"})})})}):e.jsx("div",{className:"min-h-screen bg-gray-50 py-6",children:e.jsxs("div",{className:"w-full px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Weekly Transport Fees"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Manage weekly transport fees and payments"})]}),e.jsxs("button",{onClick:()=>R(!0),className:"bg-gray-900 text-white px-4 py-2 text-xs hover:bg-gray-800 flex items-center",children:[e.jsx(I,{icon:_t,className:"mr-2"}),"Generate Weekly Fees"]})]})}),e.jsx("div",{className:"bg-white border border-gray-200 p-4 mb-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(I,{icon:Vt,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search students or routes...",value:p,onChange:G=>v(G.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500"})]})}),e.jsxs("select",{value:j,onChange:G=>w(G.target.value),className:"px-4 py-2 border border-gray-300 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500",children:[e.jsx("option",{value:"",children:"All Status"}),e.jsx("option",{value:"Pending",children:"Pending"}),e.jsx("option",{value:"Paid",children:"Paid"}),e.jsx("option",{value:"Overdue",children:"Overdue"})]}),e.jsxs("select",{value:N,onChange:G=>P(G.target.value),className:"px-4 py-2 border border-gray-300 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500",children:[e.jsx("option",{value:"",children:"All Routes"}),m.map(G=>e.jsx("option",{value:G.id,children:G.route_name},G.id))]}),e.jsx("input",{type:"date",placeholder:"Week starting...",value:A,onChange:G=>D(G.target.value),className:"px-3 py-2 border border-gray-300 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500"})]})}),e.jsxs("div",{className:"bg-white border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Student"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Route"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Week"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Due Date"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:d.map(G=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:G.student_name}),e.jsxs("div",{className:"text-sm text-gray-500",children:["ID: ",G.student_number]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:G.route_name}),e.jsx("div",{className:"text-sm text-gray-500",children:G.route_code})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(I,{icon:yr,className:"text-blue-500 text-xs"}),e.jsxs("span",{children:[z(G.week_start_date)," - ",z(G.week_end_date)]})]})})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900 font-medium",children:be(G.amount,G.currency)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:z(G.due_date)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:re(G.status)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:G.status!=="Paid"&&e.jsxs("button",{onClick:()=>J(G),className:"text-blue-600 hover:text-blue-900 flex items-center gap-2",children:[e.jsx(I,{icon:Fl}),"Record Payment"]})})]},G.id))})]})}),x.pages>1&&e.jsxs("div",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6",children:[e.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[e.jsx("button",{onClick:()=>b(G=>({...G,page:G.page-1})),disabled:x.page===1,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:"Previous"}),e.jsx("button",{onClick:()=>b(G=>({...G,page:G.page+1})),disabled:x.page===x.pages,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:"Next"})]}),e.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[e.jsx("div",{children:e.jsxs("p",{className:"text-sm text-gray-700",children:["Showing ",e.jsx("span",{className:"font-medium",children:(x.page-1)*x.limit+1})," to"," ",e.jsx("span",{className:"font-medium",children:Math.min(x.page*x.limit,x.total)})," ","of ",e.jsx("span",{className:"font-medium",children:x.total})," results"]})}),e.jsx("div",{children:e.jsx("nav",{className:"relative z-0 inline-flex shadow-sm -space-x-px",children:Array.from({length:x.pages},(G,Q)=>Q+1).map(G=>e.jsx("button",{onClick:()=>b(Q=>({...Q,page:G})),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${G===x.page?"z-10 bg-gray-50 border-gray-500 text-gray-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:G},G))})})]})]})]}),T&&e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:e.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg bg-white",children:e.jsxs("div",{className:"mt-3",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Generate Weekly Fees"}),e.jsxs("form",{onSubmit:Z,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Week Start Date (Monday)"}),e.jsx("input",{type:"date",name:"week_start_date",value:$.week_start_date,onChange:G=>M(Q=>({...Q,week_start_date:G.target.value})),required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 shadow-sm focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Week End Date (Sunday)"}),e.jsx("input",{type:"date",name:"week_end_date",value:$.week_end_date,onChange:G=>M(Q=>({...Q,week_end_date:G.target.value})),required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 shadow-sm focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500"})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{type:"submit",disabled:r,className:"flex-1 bg-gray-900 hover:bg-gray-800 text-white px-4 py-2 rounded-md disabled:opacity-50",children:r?"Generating...":"Generate Fees"}),e.jsx("button",{type:"button",onClick:()=>R(!1),className:"flex-1 bg-gray-300 hover:bg-gray-400 text-gray-700 px-4 py-2",children:"Cancel"})]})]})]})})}),E&&k&&e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:e.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg bg-white",children:e.jsxs("div",{className:"mt-3",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Record Payment"}),e.jsx("div",{className:"mb-4 p-3 bg-gray-50",children:e.jsxs("div",{className:"text-sm text-gray-600",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Student:"})," ",k.student_name]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Route:"})," ",k.route_name]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Week:"})," ",z(k.week_start_date)," - ",z(k.week_end_date)]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Amount Due:"})," ",be(k.amount,k.currency)]})]})}),e.jsxs("form",{onSubmit:X,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Payment Date"}),e.jsx("input",{type:"date",name:"payment_date",value:F.payment_date,onChange:G=>K(Q=>({...Q,payment_date:G.target.value})),required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 shadow-sm focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Amount"}),e.jsx("input",{type:"number",name:"amount",value:F.amount,onChange:G=>K(Q=>({...Q,amount:G.target.value})),step:"0.01",min:"0",required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 shadow-sm focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Payment Method"}),e.jsxs("select",{name:"payment_method",value:F.payment_method,onChange:G=>K(Q=>({...Q,payment_method:G.target.value})),className:"mt-1 block w-full px-3 py-2 border border-gray-300 shadow-sm focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500",children:[e.jsx("option",{value:"Cash",children:"Cash"}),e.jsx("option",{value:"Bank Transfer",children:"Bank Transfer"}),e.jsx("option",{value:"Cheque",children:"Cheque"}),e.jsx("option",{value:"Mobile Money",children:"Mobile Money"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Notes (Optional)"}),e.jsx("textarea",{name:"notes",value:F.notes,onChange:G=>K(Q=>({...Q,notes:G.target.value})),rows:"3",className:"mt-1 block w-full px-3 py-2 border border-gray-300 shadow-sm focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500"})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{type:"submit",disabled:r,className:"flex-1 bg-gray-900 hover:bg-gray-800 text-white px-4 py-2 disabled:opacity-50",children:r?"Recording...":"Record Payment"}),e.jsx("button",{type:"button",onClick:()=>O(!1),className:"flex-1 bg-gray-300 hover:bg-gray-400 text-gray-700 px-4 py-2",children:"Cancel"})]})]})]})})}),i&&e.jsx("div",{className:"fixed bottom-4 right-4 bg-green-500 text-white px-6 py-3 shadow-lg z-50",children:i}),s&&e.jsx("div",{className:"fixed bottom-4 right-4 bg-red-500 text-white px-6 py-3 shadow-lg z-50",children:s})]})})},nde=()=>{const{token:t}=et(),[r,a]=g.useState(!1),[s,n]=g.useState(null),[i,o]=g.useState([]),[d,u]=g.useState([]),[m,f]=g.useState(""),[x,b]=g.useState(""),p=t?{Authorization:`Bearer ${t}`}:{};g.useEffect(()=>{v();const R=new Date,E=new Date(R),O=R.getDay(),k=R.getDate()-O+(O===0?-6:1);E.setDate(k),f(E.toISOString().split("T")[0])},[]),g.useEffect(()=>{m&&j()},[m,x]);const v=async()=>{try{const R=await de.get(`${ce}/transport/routes?limit=100`,{headers:p});R.data.success&&u(R.data.data)}catch(R){console.error("Error loading routes:",R)}},j=async()=>{try{a(!0),n(null);const R=new URLSearchParams({week_start_date:m});x&&R.append("route_id",x);const E=await de.get(`${ce}/transport/schedules/weekly?${R}`,{headers:p});E.data.success&&o(E.data.data)}catch(R){console.error("Error loading weekly schedule:",R),n("Failed to load weekly schedule")}finally{a(!1)}},w=R=>new Date(`2000-01-01T${R}`).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0}),N=R=>new Date(R).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"short",day:"numeric"}),P=R=>{switch(R){case"Paid":return e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[e.jsx(I,{icon:aa,className:"mr-1"}),"Paid"]});case"Pending":return e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[e.jsx(I,{icon:ur,className:"mr-1"}),"Pending"]});case"Overdue":return e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[e.jsx(I,{icon:Wu,className:"mr-1"}),"Overdue"]});default:return e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:"Unknown"})}},A=R=>({Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6,Sunday:0})[R]||0,D=R=>R.sort((E,O)=>{const k=A(E.day_of_week),Y=A(O.day_of_week);return k!==Y?k-Y:E.pickup_time.localeCompare(O.pickup_time)}),T=()=>{const R=D(i),E={};return R.forEach(O=>{E[O.day_of_week]||(E[O.day_of_week]=[]),E[O.day_of_week].push(O)}),E};return r&&i.length===0?e.jsx("div",{className:"min-h-screen bg-gray-50 py-6",children:e.jsx("div",{className:"w-full px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-600"})})})}):e.jsx("div",{className:"min-h-screen bg-gray-50 py-6",children:e.jsxs("div",{className:"w-full px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"mb-6",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Weekly Transport Schedule"}),e.jsx("p",{className:"text-xs text-gray-600",children:"View transport schedule and student payment status for the week"})]})}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4 mb-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Week Starting"}),e.jsx("input",{type:"date",value:m,onChange:R=>f(R.target.value),className:"px-3 py-2 border border-gray-300 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Route (Optional)"}),e.jsxs("select",{value:x,onChange:R=>b(R.target.value),className:"px-3 py-2 border border-gray-300 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500",children:[e.jsx("option",{value:"",children:"All Routes"}),d.map(R=>e.jsx("option",{value:R.id,children:R.route_name},R.id))]})]})]})}),i.length===0?e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-8 text-center",children:[e.jsx(I,{icon:yr,className:"text-gray-400 text-4xl mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Schedule Found"}),e.jsx("p",{className:"text-sm text-gray-500",children:m?`No transport schedule found for the week starting ${N(m)}`:"Please select a week to view the schedule"})]}):e.jsx("div",{className:"space-y-6",children:Object.entries(T()).map(([R,E])=>e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:[e.jsx("div",{className:"bg-gray-50 px-6 py-3 border-b border-gray-200",children:e.jsx("h3",{className:"text-sm font-medium text-gray-900",children:R})}),e.jsx("div",{className:"divide-y divide-gray-200",children:E.map((O,k)=>e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"flex items-center gap-3 mb-3",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(I,{icon:sg,className:"text-blue-500 text-sm"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:O.route_name}),e.jsxs("span",{className:"text-xs text-gray-500",children:["(",O.route_code,")"]})]})}),e.jsxs("div",{className:"flex items-center gap-4 mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(I,{icon:sn,className:"text-green-500 text-xs"}),e.jsxs("span",{className:"text-sm text-gray-600",children:["Pickup: ",w(O.pickup_time)]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(I,{icon:sn,className:"text-red-500 text-xs"}),e.jsxs("span",{className:"text-sm text-gray-600",children:["Dropoff: ",w(O.dropoff_time)]})]})]}),O.students&&O.students.length>0?e.jsxs("div",{className:"space-y-2",children:[e.jsxs("h4",{className:"text-xs font-medium text-gray-700 uppercase tracking-wide",children:["Registered Students (",O.students.length,")"]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:O.students.map((Y,$)=>e.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg border border-gray-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(I,{icon:La,className:"text-blue-500 text-xs"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:Y.student_name})]}),e.jsxs("div",{className:"text-xs text-gray-500 mb-2",children:["ID: ",Y.student_reg_number]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-xs text-gray-600",children:["Fee: ",Y.weekly_fee," ",Y.currency]}),Y.payment_status&&e.jsx("div",{className:"ml-2",children:P(Y.payment_status)})]})]},$))})]}):e.jsxs("div",{className:"text-sm text-gray-500 italic",children:["No students registered for this route on ",R]})]})})},`${R}-${k}`))})]},R))}),s&&e.jsx("div",{className:"fixed bottom-4 right-4 bg-red-500 text-white px-6 py-3 rounded-lg shadow-lg z-50",children:s})]})})},ide=()=>{const{token:t}=et(),[r,a]=g.useState(!1),[s,n]=g.useState(null),[i,o]=g.useState(null),[d,u]=g.useState([]),[m,f]=g.useState([]),[x,b]=g.useState([]),[p,v]=g.useState(""),[j,w]=g.useState(!1),[N,P]=g.useState(null),[A,D]=g.useState({page:1,limit:10,total:0,pages:0}),[T,R]=g.useState(""),[E,O]=g.useState(""),[k,Y]=g.useState(""),[$,M]=g.useState(!1),[F,K]=g.useState(null),[q,U]=g.useState({route_id:"",student_reg_number:"",payment_date:"",amount:"",payment_method:"",reference:"",notes:""}),V=t?{Authorization:`Bearer ${t}`}:{};g.useEffect(()=>{Z(),re()},[]),g.useEffect(()=>{re()},[A.page,T,E,k]),g.useEffect(()=>{const oe=me=>{me.target.closest(".student-search-container")||w(!1)};return document.addEventListener("mousedown",oe),()=>{document.removeEventListener("mousedown",oe)}},[]);const Z=async()=>{try{const oe=await de.get(`${ce}/transport/routes?limit=100`,{headers:V});oe.data.success&&f(oe.data.data)}catch(oe){console.error("Error loading routes:",oe)}},X=async oe=>{if(!oe.trim()){b([]);return}try{try{const tt=await de.get(`${ce}/students/${oe}`,{headers:V});if(tt.data.success){b([tt.data.data]);return}}catch{}const me=await de.get(`${ce}/students/search?query=${oe}`,{headers:V});me.data.success&&b(me.data.data)}catch(me){console.error("Error searching students:",me),b([])}},J=oe=>{const me=oe.target.value;v(me),me.trim()?(X(me),w(!0)):(b([]),w(!1),P(null),U(tt=>({...tt,student_reg_number:""})))},be=oe=>{P(oe),v(`${oe.Name} ${oe.Surname} (${oe.RegNumber})`),U(me=>({...me,student_reg_number:oe.RegNumber})),w(!1)},z=()=>{const oe=Date.now(),me=Math.random().toString(36).substr(2,9).toUpperCase(),tt=`TRP-${oe}-${me}`;U(rt=>({...rt,reference:tt}))},re=async()=>{try{a(!0),n(null);const oe=new URLSearchParams({page:A.page,limit:A.limit});T&&oe.append("search",T),E&&oe.append("status",E),k&&oe.append("date",k);const me=await de.get(`${ce}/transport/payments?${oe}`,{headers:V});me.data.success&&(u(me.data.data),D(me.data.pagination))}catch(oe){console.error("Error loading payments:",oe),n("Failed to load payments")}finally{a(!1)}},G=oe=>{const{name:me,value:tt}=oe.target;U(rt=>({...rt,[me]:tt}))},Q=()=>{U({route_id:"",student_reg_number:"",payment_date:"",amount:"",payment_method:"",reference:"",notes:""}),v(""),P(null),K(null)},ve=(oe=null)=>{oe?(K(oe),U({route_id:oe.route_id||"",student_reg_number:oe.student_reg_number||"",payment_date:oe.payment_date,amount:oe.amount,payment_method:oe.payment_method,reference:oe.reference_number||"",notes:oe.notes||""}),v(oe.student_name||"")):Q(),M(!0)},ye=()=>{M(!1),Q()},ne=async oe=>{oe.preventDefault();try{if(a(!0),n(null),!q.route_id||!q.student_reg_number){n("Please select both route and student");return}const me={route_id:parseInt(q.route_id),student_reg_number:q.student_reg_number,payment_date:q.payment_date,amount:parseFloat(q.amount),payment_method:q.payment_method,reference:q.reference.trim()||null,notes:q.notes.trim()||null};F?(await de.put(`${ce}/transport/payments/${F.id}`,me,{headers:V}),o("Payment updated successfully")):(await de.post(`${ce}/transport/payments/direct`,me,{headers:V}),o("Payment recorded successfully")),ye(),re()}catch(me){console.error("Error saving payment:",me),n(me.response?.data?.message||"Failed to save payment")}finally{a(!1)}},te=async oe=>{if(window.confirm("Are you sure you want to delete this payment?"))try{a(!0),await de.delete(`${ce}/transport/payments/${oe}`,{headers:V}),o("Payment deleted successfully"),re()}catch(me){console.error("Error deleting payment:",me),n(me.response?.data?.message||"Failed to delete payment")}finally{a(!1)}},Ae=(oe,me="USD")=>new Intl.NumberFormat("en-US",{style:"currency",currency:me}).format(oe),we=oe=>new Date(oe).toLocaleDateString(),le=oe=>{const me={paid:"bg-green-100 text-green-800",pending:"bg-yellow-100 text-yellow-800",overdue:"bg-red-100 text-red-800",cancelled:"bg-gray-100 text-gray-800"};return e.jsx("span",{className:`px-2 py-1 text-xs font-medium ${me[oe]||"bg-gray-100 text-gray-800"}`,children:oe?.charAt(0).toUpperCase()+oe?.slice(1)})},xe=oe=>({cash:$r,card:Pn,bank_transfer:ix,mobile_money:Pn})[oe]||Pn;return e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-lg font-bold text-gray-900 mb-2",children:"Transport Payments"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Track and manage transport fee payments"})]}),e.jsx("div",{className:"bg-white p-4 mb-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Search"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"Search by student name or reference...",value:T,onChange:oe=>R(oe.target.value),className:"w-full px-3 py-2 pl-10 border border-gray-300 focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500"}),e.jsx(I,{icon:Vt,className:"absolute left-3 top-3 text-gray-400"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Status"}),e.jsxs("select",{value:E,onChange:oe=>O(oe.target.value),className:"w-full px-3 py-2 border border-gray-300 focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500",children:[e.jsx("option",{value:"",children:"All Statuses"}),e.jsx("option",{value:"paid",children:"Paid"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"overdue",children:"Overdue"}),e.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Date"}),e.jsx("input",{type:"date",value:k,onChange:oe=>Y(oe.target.value),className:"w-full px-3 py-2 border border-gray-300 focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500"})]}),e.jsx("div",{className:"flex items-end",children:e.jsxs("button",{onClick:()=>ve(),className:"w-full bg-gray-900 hover:bg-gray-800 text-white px-4 py-2 flex items-center justify-center",children:[e.jsx(I,{icon:_t,className:"mr-2"}),"Record Payment"]})})]})}),e.jsxs("div",{className:"bg-white",children:[r?e.jsx("div",{className:"p-8 text-center",children:e.jsx("div",{className:"text-gray-500",children:"Loading payments..."})}):d.length===0?e.jsxs("div",{className:"p-8 text-center",children:[e.jsx(I,{icon:Pn,className:"text-4xl text-gray-300 mb-4"}),e.jsx("div",{className:"text-gray-500",children:"No payments found"})]}):e.jsx("div",{className:"overflow-x-auto border border-gray-200/30 rounded-lg",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Student"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Route"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Payment Date"}),e.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Method"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Reference"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:d.map(oe=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-xs text-gray-900",children:oe.student_name}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-xs text-gray-900",children:oe.route_name}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-xs text-gray-900",children:we(oe.payment_date)}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-xs text-gray-900 text-right",children:Ae(oe.amount,oe.currency)}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-xs text-gray-900",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(I,{icon:xe(oe.payment_method),className:"mr-2 text-gray-400"}),oe.payment_method?.replace("_"," ")]})}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-xs",children:le(oe.status)}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-xs text-gray-900",children:oe.reference_number||"N/A"}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-xs text-gray-500",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>ve(oe),className:"text-gray-600 hover:text-gray-900",children:e.jsx(I,{icon:lr})}),e.jsx("button",{onClick:()=>te(oe.id),className:"text-red-600 hover:text-red-900",children:e.jsx(I,{icon:Mt})})]})})]},oe.id))})]})}),A.pages>1&&e.jsx("div",{className:"bg-white px-4 py-3 sm:px-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[e.jsx("button",{onClick:()=>D(oe=>({...oe,page:oe.page-1})),disabled:A.page===1,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:"Previous"}),e.jsx("button",{onClick:()=>D(oe=>({...oe,page:oe.page+1})),disabled:A.page===A.pages,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:"Next"})]}),e.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[e.jsx("div",{children:e.jsxs("p",{className:"text-sm text-gray-700",children:["Showing ",e.jsx("span",{className:"font-medium",children:(A.page-1)*A.limit+1})," to"," ",e.jsx("span",{className:"font-medium",children:Math.min(A.page*A.limit,A.total)})," ","of ",e.jsx("span",{className:"font-medium",children:A.total})," results"]})}),e.jsx("div",{children:e.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:[e.jsx("button",{onClick:()=>D(oe=>({...oe,page:oe.page-1})),disabled:A.page===1,className:"relative inline-flex items-center px-2 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50",children:"Previous"}),Array.from({length:A.pages},(oe,me)=>me+1).map(oe=>e.jsx("button",{onClick:()=>D(me=>({...me,page:oe})),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${oe===A.page?"z-10 bg-gray-900 border-gray-900 text-white":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:oe},oe)),e.jsx("button",{onClick:()=>D(oe=>({...oe,page:oe.page+1})),disabled:A.page===A.pages,className:"relative inline-flex items-center px-2 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50",children:"Next"})]})})]})]})})]}),$&&e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:e.jsx("div",{className:"relative top-20 mx-auto p-5 w-full max-w-2xl bg-white",children:e.jsxs("div",{className:"mt-3",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-4",children:F?"Edit Payment":"Record Transport Payment"}),e.jsxs("form",{onSubmit:ne,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Route"}),e.jsxs("select",{name:"route_id",value:q.route_id,onChange:G,required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500",children:[e.jsx("option",{value:"",children:"Select Route"}),m.filter(oe=>oe.is_active).map(oe=>e.jsxs("option",{value:oe.id,children:[oe.route_name," - ",oe.weekly_fee," ",oe.currency]},oe.id))]})]}),e.jsxs("div",{className:"student-search-container relative",children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Student Registration Number"}),e.jsx("input",{type:"text",value:p,onChange:J,placeholder:"Enter student registration number...",className:"mt-1 block w-full px-3 py-2 border border-gray-300 focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500",required:!0}),j&&x.length>0&&e.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-md shadow-lg max-h-60 overflow-y-auto",children:x.map(oe=>e.jsxs("div",{onClick:()=>be(oe),className:"px-3 py-2 hover:bg-gray-100 cursor-pointer text-xs",children:[e.jsxs("div",{className:"font-medium",children:[oe.Name," ",oe.Surname]}),e.jsxs("div",{className:"text-gray-500",children:["Reg: ",oe.RegNumber]})]},oe.RegNumber))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Payment Date"}),e.jsx("input",{type:"date",name:"payment_date",value:q.payment_date,onChange:G,required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Amount"}),e.jsx("input",{type:"number",name:"amount",value:q.amount,onChange:G,step:"0.01",min:"0",required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Payment Method"}),e.jsxs("select",{name:"payment_method",value:q.payment_method,onChange:G,required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500",children:[e.jsx("option",{value:"",children:"Select Payment Method"}),e.jsx("option",{value:"cash",children:"Cash"}),e.jsx("option",{value:"card",children:"Card"}),e.jsx("option",{value:"bank_transfer",children:"Bank Transfer"}),e.jsx("option",{value:"mobile_money",children:"Mobile Money"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Reference"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",name:"reference",value:q.reference,onChange:G,placeholder:"Payment reference (optional)",className:"flex-1 px-3 py-2 border border-gray-300 focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500"}),e.jsx("button",{type:"button",onClick:z,className:"px-3 py-2 bg-gray-200 hover:bg-gray-300 text-gray-700 text-xs whitespace-nowrap",children:"Auto Generate"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Notes"}),e.jsx("textarea",{name:"notes",value:q.notes,onChange:G,rows:3,placeholder:"Additional notes (optional)",className:"mt-1 block w-full px-3 py-2 border border-gray-300 focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500"})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{type:"submit",disabled:r,className:"flex-1 bg-gray-900 hover:bg-gray-800 text-white px-4 py-2 disabled:opacity-50",children:r?"Saving...":F?"Update Payment":"Record Payment"}),e.jsx("button",{type:"button",onClick:ye,className:"flex-1 bg-gray-300 hover:bg-gray-400 text-gray-700 px-4 py-2",children:"Cancel"})]})]})]})})}),i&&e.jsx("div",{className:"fixed bottom-4 right-4 bg-green-500 text-white px-6 py-3 z-50",children:i}),s&&e.jsx("div",{className:"fixed bottom-4 right-4 bg-red-500 text-white px-6 py-3 z-50",children:s})]})},lde=()=>{const{token:t}=et(),r=br(),[a,s]=g.useState(!1),[n,i]=g.useState(null),[o,d]=g.useState(null),[u,m]=g.useState([]),[f,x]=g.useState([]),[b,p]=g.useState(""),[v,j]=g.useState(!1),[w,N]=g.useState(null),[P,A]=g.useState({student_reg_number:"",route_id:"",pickup_point:"",dropoff_point:"",start_date:"",end_date:"",weekly_fee:"",currency:"USD"}),D=t?{Authorization:`Bearer ${t}`}:{};g.useEffect(()=>{T()},[]),g.useEffect(()=>{const $=M=>{M.target.closest(".student-search-container")||j(!1)};return document.addEventListener("mousedown",$),()=>{document.removeEventListener("mousedown",$)}},[]);const T=async()=>{try{const $=await de.get(`${ce}/transport/routes?limit=100`,{headers:D});$.data.success&&m($.data.data)}catch($){console.error("Error loading routes:",$)}},R=async $=>{if(!$.trim()){x([]);return}try{try{const F=await de.get(`${ce}/students/${$}`,{headers:D});if(F.data.success){x([F.data.data]);return}}catch{}const M=await de.get(`${ce}/students/search?query=${$}`,{headers:D});M.data.success&&x(M.data.data)}catch(M){console.error("Error searching students:",M),x([])}},E=$=>{const M=$.target.value;p(M),M.trim()?(R(M),j(!0)):(x([]),j(!1),N(null),A(F=>({...F,student_reg_number:""})))},O=$=>{N($),p(`${$.Name} ${$.Surname} (${$.RegNumber})`),A(M=>({...M,student_reg_number:$.RegNumber})),j(!1)},k=$=>{const{name:M,value:F}=$.target;if(A(K=>({...K,[M]:F})),M==="route_id"&&F){const K=u.find(q=>q.id.toString()===F);K&&A(q=>({...q,pickup_point:K.pickup_point||"",dropoff_point:K.dropoff_point||"",weekly_fee:K.weekly_fee||"",currency:K.currency||"USD"}))}},Y=async $=>{$.preventDefault();try{s(!0),i(null);const M={...P,weekly_fee:parseFloat(P.weekly_fee),pickup_point:P.pickup_point.trim()||null,dropoff_point:P.dropoff_point.trim()||null,end_date:P.end_date||null};await de.post(`${ce}/transport/registrations`,M,{headers:D}),d("Student registered for transport successfully"),setTimeout(()=>{r("/dashboard/transport/registrations")},1500)}catch(M){console.error("Error saving registration:",M),i(M.response?.data?.message||"Failed to register student")}finally{s(!1)}};return e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"mb-6",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg font-bold text-gray-900",children:"Register Student for Transport"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Add a new student transport registration"})]})}),e.jsx("div",{className:"bg-white p-6",children:e.jsxs("form",{onSubmit:Y,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"student-search-container relative",children:[e.jsxs("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:[e.jsx(I,{icon:Fs,className:"mr-2"}),"Student Registration Number"]}),e.jsx("input",{type:"text",value:b,onChange:E,placeholder:"Enter student registration number...",className:"w-full px-3 py-2 border border-gray-300 focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500",required:!0}),v&&f.length>0&&e.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-md shadow-lg max-h-60 overflow-y-auto",children:f.map($=>e.jsxs("div",{onClick:()=>O($),className:"px-3 py-2 hover:bg-gray-100 cursor-pointer text-xs",children:[e.jsxs("div",{className:"font-medium",children:[$.Name," ",$.Surname]}),e.jsxs("div",{className:"text-gray-500",children:["Reg: ",$.RegNumber]})]},$.RegNumber))})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:[e.jsx(I,{icon:sg,className:"mr-2"}),"Route"]}),e.jsxs("select",{name:"route_id",value:P.route_id,onChange:k,required:!0,className:"w-full px-3 py-2 border border-gray-300 focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500",children:[e.jsx("option",{value:"",children:"Select Route"}),u.filter($=>$.is_active).map($=>e.jsxs("option",{value:$.id,children:[$.route_name," - ",$.weekly_fee," ",$.currency]},$.id))]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:[e.jsx(I,{icon:vc,className:"mr-2"}),"Pickup Point"]}),e.jsx("input",{type:"text",name:"pickup_point",value:P.pickup_point,onChange:k,required:!0,className:"w-full px-3 py-2 border border-gray-300 focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500",placeholder:"Pickup location"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:[e.jsx(I,{icon:vc,className:"mr-2"}),"Dropoff Point"]}),e.jsx("input",{type:"text",name:"dropoff_point",value:P.dropoff_point,onChange:k,required:!0,className:"w-full px-3 py-2 border border-gray-300 focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500",placeholder:"Dropoff location"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:[e.jsx(I,{icon:yr,className:"mr-2"}),"Start Date"]}),e.jsx("input",{type:"date",name:"start_date",value:P.start_date,onChange:k,required:!0,className:"w-full px-3 py-2 border border-gray-300 focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:[e.jsx(I,{icon:yr,className:"mr-2"}),"End Date (Optional)"]}),e.jsx("input",{type:"date",name:"end_date",value:P.end_date,onChange:k,className:"w-full px-3 py-2 border border-gray-300 focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:[e.jsx(I,{icon:$r,className:"mr-2"}),"Weekly Fee"]}),e.jsx("input",{type:"number",name:"weekly_fee",value:P.weekly_fee,onChange:k,step:"0.01",min:"0",required:!0,className:"w-full px-3 py-2 border border-gray-300 focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500",placeholder:"0.00"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"Currency"}),e.jsxs("select",{name:"currency",value:P.currency,onChange:k,required:!0,className:"w-full px-3 py-2 border border-gray-300 focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500",children:[e.jsx("option",{value:"USD",children:"USD"}),e.jsx("option",{value:"ZWL",children:"ZWL"}),e.jsx("option",{value:"EUR",children:"EUR"}),e.jsx("option",{value:"GBP",children:"GBP"})]})]})]}),e.jsxs("div",{className:"flex gap-3 pt-6 border-t border-gray-200",children:[e.jsx("button",{type:"submit",disabled:a,className:"flex-1 bg-gray-900 hover:bg-gray-800 text-white px-6 py-3 disabled:opacity-50 flex items-center justify-center",children:a?"Registering...":"Register Student"}),e.jsx(Yt,{to:"/dashboard/transport/registrations",className:"px-6 py-3 bg-gray-200 hover:bg-gray-300 text-gray-700 flex items-center justify-center",children:"Cancel"})]})]})}),o&&e.jsx("div",{className:"fixed bottom-4 right-4 bg-green-500 text-white px-6 py-3 z-50",children:o}),n&&e.jsx("div",{className:"fixed bottom-4 right-4 bg-red-500 text-white px-6 py-3 z-50",children:n})]})},ode=()=>{const{token:t}=et(),[r,a]=g.useState(!1),[s,n]=g.useState(null),[i,o]=g.useState(""),[d,u]=g.useState(""),[m,f]=g.useState(""),[x,b]=g.useState({total_items:0,low_stock_items:0,out_of_stock_items:0,total_categories:0,monthly_issues:0,monthly_payments:0}),[p,v]=g.useState([]),[j,w]=g.useState([]),[N,P]=g.useState([]),[A,D]=g.useState({page:1,limit:10,total:0,pages:0}),[T,R]=g.useState(null),[E,O]=g.useState(!1);g.useEffect(()=>{t&&k()},[t]);const k=async(U=1)=>{try{a(!0),n(null);const[V,Z,X,J]=await Promise.all([de.get(`${ce}/inventory/summary`,{headers:{Authorization:`Bearer ${t}`}}),de.get(`${ce}/inventory/items?page=${U}&limit=${A.limit}`,{headers:{Authorization:`Bearer ${t}`}}),de.get(`${ce}/inventory/issues?limit=10`,{headers:{Authorization:`Bearer ${t}`}}),de.get(`${ce}/inventory/categories`,{headers:{Authorization:`Bearer ${t}`}})]);console.log("📊 Summary Response:",V.data),console.log("📦 Items Response:",Z.data),console.log("🎓 Issues Response:",X.data),console.log("📁 Categories Response:",J.data),b(V.data.data),v(Z.data.data),D(Z.data.pagination),w(X.data.data),P(J.data.data)}catch(V){console.error("Error loading inventory data:",V),n("Failed to load inventory data")}finally{a(!1)}},Y=U=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(U),$=U=>{switch(U){case"In Stock":return e.jsxs("span",{className:"inline-flex items-center px-2 py-1 text-xs font-medium bg-green-100 text-green-800",children:[e.jsx(I,{icon:aa,className:"mr-1"}),"In Stock"]});case"Low Stock":return e.jsxs("span",{className:"inline-flex items-center px-2 py-1 text-xs font-medium bg-yellow-100 text-yellow-800",children:[e.jsx(I,{icon:ur,className:"mr-1"}),"Low Stock"]});case"Out of Stock":return e.jsxs("span",{className:"inline-flex items-center px-2 py-1 text-xs font-medium bg-red-100 text-red-800",children:[e.jsx(I,{icon:ur,className:"mr-1"}),"Out of Stock"]});default:return e.jsx("span",{className:"inline-flex items-center px-2 py-1 text-xs font-medium bg-gray-100 text-gray-800",children:"Unknown"})}},M=U=>U===0?"Out of Stock":U<=5?"Low Stock":"In Stock",F=p.filter(U=>{const V=U.name.toLowerCase().includes(i.toLowerCase())||U.reference.toLowerCase().includes(i.toLowerCase()),Z=!d||U.category_id==d,X=M(U.current_stock);return V&&Z&&(!m||X===m)}),K=["In Stock","Low Stock","Out of Stock"],q=U=>{R(U),O(!0)};return r?e.jsx("div",{className:"min-h-screen bg-gray-50 py-6",children:e.jsx("div",{className:"w-full px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin h-12 w-12 border-b-2 border-gray-900 mx-auto mb-4"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Loading inventory data..."})]})})})}):s?e.jsx("div",{className:"min-h-screen bg-gray-50 py-6",children:e.jsx("div",{className:"w-full px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"bg-red-100 p-4 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:e.jsx(I,{icon:ur,className:"text-red-600 text-xl"})}),e.jsx("p",{className:"text-sm text-red-600 mb-4",children:s}),e.jsx("button",{onClick:k,className:"px-4 py-2 bg-gray-900 text-white text-xs hover:bg-gray-800",children:"Try Again"})]})})})}):e.jsx("div",{className:"min-h-screen bg-gray-50 py-2 md:py-6",children:e.jsxs("div",{className:"w-full px-2 md:px-4 lg:px-8",children:[e.jsx("div",{className:"mb-4 md:mb-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg md:text-xl font-bold text-gray-900",children:"Inventory Management"}),e.jsx("p",{className:"text-xs md:text-sm text-gray-600",children:"Manage uniforms, track stock levels, and issue items to students"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:[e.jsxs("button",{onClick:()=>k(A.page),disabled:r,className:"bg-gray-600 text-white px-3 md:px-4 py-2 text-xs hover:bg-gray-700 flex items-center justify-center disabled:opacity-50 w-full sm:w-auto",children:[e.jsx(I,{icon:Vt,className:"mr-2"}),r?"Loading...":"Refresh"]}),e.jsxs(Yt,{to:"/dashboard/inventory/add-item",className:"bg-gray-900 text-white px-3 md:px-4 py-2 text-xs hover:bg-gray-800 flex items-center justify-center w-full sm:w-auto",children:[e.jsx(I,{icon:_t,className:"mr-2"}),"Add Item"]}),e.jsxs(Yt,{to:"/dashboard/inventory/issue-uniform",className:"bg-blue-600 text-white px-3 md:px-4 py-2 text-xs hover:bg-blue-700 flex items-center justify-center w-full sm:w-auto",children:[e.jsx(I,{icon:La,className:"mr-2"}),"Issue Uniform"]})]})]})}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-3 md:gap-4 mb-4 md:mb-6",children:[e.jsx("div",{className:"bg-white border border-gray-200 p-3 md:p-4 shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-gray-600",children:"Total Items"}),e.jsx("p",{className:"text-sm md:text-lg font-semibold text-gray-900",children:x.total_items?.toLocaleString()||0})]}),e.jsx("div",{className:"bg-blue-100 p-2",children:e.jsx(I,{icon:Iu,className:"text-blue-600 text-xs md:text-sm"})})]})}),e.jsx("div",{className:"bg-white border border-gray-200 p-3 md:p-4 shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-gray-600",children:"Low Stock"}),e.jsx("p",{className:"text-sm md:text-lg font-semibold text-yellow-600",children:x.low_stock_items||0})]}),e.jsx("div",{className:"bg-yellow-100 p-2",children:e.jsx(I,{icon:ur,className:"text-yellow-600 text-xs md:text-sm"})})]})}),e.jsx("div",{className:"bg-white border border-gray-200 p-3 md:p-4 shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-gray-600",children:"Out of Stock"}),e.jsx("p",{className:"text-sm md:text-lg font-semibold text-red-600",children:x.out_of_stock_items||0})]}),e.jsx("div",{className:"bg-red-100 p-2",children:e.jsx(I,{icon:ur,className:"text-red-600 text-xs md:text-sm"})})]})}),e.jsx("div",{className:"bg-white border border-gray-200 p-3 md:p-4 shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-gray-600",children:"Monthly Issues"}),e.jsx("p",{className:"text-sm md:text-lg font-semibold text-green-600",children:x.monthly_issues||0})]}),e.jsx("div",{className:"bg-green-100 p-2",children:e.jsx(I,{icon:La,className:"text-green-600 text-xs md:text-sm"})})]})}),e.jsx("div",{className:"bg-white border border-gray-200 p-3 md:p-4 shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-gray-600",children:"Categories"}),e.jsx("p",{className:"text-sm md:text-lg font-semibold text-purple-600",children:x.total_categories||0})]}),e.jsx("div",{className:"bg-purple-100 p-2",children:e.jsx(I,{icon:Iu,className:"text-purple-600 text-xs md:text-sm"})})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 md:gap-4 mb-4 md:mb-6",children:[e.jsx(Yt,{to:"/dashboard/inventory/uniforms",className:"bg-white border border-gray-200 p-3 md:p-4 hover:border-blue-300 hover:shadow-md transition-all",children:e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-3",children:[e.jsx("div",{className:"bg-blue-100 p-2",children:e.jsx(I,{icon:xx,className:"text-blue-600 text-xs md:text-sm"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xs md:text-sm font-medium text-gray-900",children:"Uniforms"}),e.jsx("p",{className:"text-xs text-gray-500",children:"School & sports uniforms"})]})]})}),e.jsx(Yt,{to:"/dashboard/inventory/issue-uniform",className:"bg-white border border-gray-200 p-3 md:p-4 hover:border-green-300 hover:shadow-md transition-all",children:e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-3",children:[e.jsx("div",{className:"bg-green-100 p-2",children:e.jsx(I,{icon:La,className:"text-green-600 text-xs md:text-sm"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xs md:text-sm font-medium text-gray-900",children:"Issue Uniform"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Give uniforms to students"})]})]})}),e.jsx(Yt,{to:"/dashboard/inventory/payments",className:"bg-white border border-gray-200 p-3 md:p-4 hover:border-purple-300 hover:shadow-md transition-all",children:e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-3",children:[e.jsx("div",{className:"bg-purple-100 p-2",children:e.jsx(I,{icon:Pn,className:"text-purple-600 text-xs md:text-sm"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xs md:text-sm font-medium text-gray-900",children:"Payments"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Track uniform payments"})]})]})}),e.jsx(Yt,{to:"/dashboard/inventory/reports",className:"bg-white border border-gray-200 p-3 md:p-4 hover:border-orange-300 hover:shadow-md transition-all",children:e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-3",children:[e.jsx("div",{className:"bg-orange-100 p-2",children:e.jsx(I,{icon:Ao,className:"text-orange-600 text-xs md:text-sm"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xs md:text-sm font-medium text-gray-900",children:"Reports"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Analytics & insights"})]})]})})]}),e.jsx("div",{className:"bg-white border border-gray-200 p-3 md:p-4 mb-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 md:gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(I,{icon:Vt,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 text-xs"}),e.jsx("input",{type:"text",placeholder:"Search items by name or SKU...",value:i,onChange:U=>o(U.target.value),className:"w-full pl-8 md:pl-10 pr-4 py-2 border border-gray-300 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500"})]})}),e.jsxs("select",{value:d,onChange:U=>u(U.target.value),className:"px-3 md:px-4 py-2 border border-gray-300 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500 w-full sm:w-auto",children:[e.jsx("option",{value:"",children:"All Categories"}),N.map(U=>e.jsx("option",{value:U.id,children:U.name},U.id))]}),e.jsxs("select",{value:m,onChange:U=>f(U.target.value),className:"px-3 md:px-4 py-2 border border-gray-300 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500 w-full sm:w-auto",children:[e.jsx("option",{value:"",children:"All Status"}),K.map(U=>e.jsx("option",{value:U,children:U},U))]})]})}),e.jsx("div",{className:"bg-white border border-gray-200 overflow-hidden shadow mb-4",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full divide-y divide-gray-200",style:{minWidth:"400px"},children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-2 md:px-4 py-2 md:py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Item Name"}),e.jsx("th",{className:"px-2 md:px-4 py-2 md:py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stock"}),e.jsx("th",{className:"px-2 md:px-4 py-2 md:py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-2 md:px-4 py-2 md:py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:F.length===0?e.jsx("tr",{children:e.jsxs("td",{colSpan:"4",className:"px-2 md:px-4 py-6 md:py-8 text-center text-gray-500",children:[e.jsx(I,{icon:Iu,className:"text-xl md:text-2xl mb-2"}),e.jsx("p",{className:"text-xs md:text-sm",children:"No inventory items found"}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:p.length===0?"Add your first item to get started":"Try adjusting your search or filter criteria"})]})}):F.map(U=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-2 md:px-4 py-2 md:py-3 whitespace-nowrap",children:e.jsx("div",{className:"text-xs md:text-sm font-medium text-gray-900",children:U.name})}),e.jsx("td",{className:"px-2 md:px-4 py-2 md:py-3 whitespace-nowrap",children:e.jsx("div",{className:"text-xs md:text-sm text-gray-900",children:U.current_stock||0})}),e.jsx("td",{className:"px-2 md:px-4 py-2 md:py-3 whitespace-nowrap",children:$(M(U.current_stock))}),e.jsx("td",{className:"px-2 md:px-4 py-2 md:py-3 whitespace-nowrap text-center",children:e.jsx("button",{onClick:()=>q(U),className:"text-blue-600 hover:text-blue-900 text-xs p-1 rounded hover:bg-blue-50 transition-colors",title:"View Details",children:e.jsx(I,{icon:Fr,className:"h-3 w-3 md:h-4 md:w-4"})})})]},U.id))})]})})}),A.pages>1&&e.jsx("div",{className:"bg-white border border-gray-200 p-3 md:p-4 mb-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[e.jsxs("div",{className:"text-xs md:text-sm text-gray-700 text-center sm:text-left",children:["Showing ",(A.page-1)*A.limit+1," to ",Math.min(A.page*A.limit,A.total)," of ",A.total," items"]}),e.jsxs("div",{className:"flex items-center justify-center space-x-1 md:space-x-2",children:[e.jsx("button",{onClick:()=>k(A.page-1),disabled:A.page<=1,className:"px-2 md:px-3 py-1 text-xs border border-gray-300 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Array.from({length:Math.min(5,A.pages)},(U,V)=>{const Z=Math.max(1,A.page-2)+V;return Z>A.pages?null:e.jsx("button",{onClick:()=>k(Z),className:`px-2 md:px-3 py-1 text-xs border ${Z===A.page?"bg-gray-900 text-white border-gray-900":"border-gray-300 hover:bg-gray-50"}`,children:Z},Z)}),e.jsx("button",{onClick:()=>k(A.page+1),disabled:A.page>=A.pages,className:"px-2 md:px-3 py-1 text-xs border border-gray-300 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})}),E&&T&&e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"relative mx-auto p-4 md:p-6 border w-full max-w-md shadow-lg bg-white",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"text-sm md:text-base font-medium text-gray-900 mb-2",children:"Item Details"}),e.jsx("button",{onClick:()=>O(!1),className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600",children:"×"})]}),e.jsxs("div",{className:"space-y-3 text-xs md:text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Name:"}),e.jsx("span",{className:"ml-2 font-medium text-gray-900",children:T.name})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Reference:"}),e.jsx("span",{className:"ml-2 font-medium text-gray-900",children:T.reference})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Category:"}),e.jsx("span",{className:"ml-2 font-medium text-gray-900",children:T.category_name||"No category"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Description:"}),e.jsx("span",{className:"ml-2 font-medium text-gray-900",children:T.description||"No description"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Current Stock:"}),e.jsx("span",{className:"ml-2 font-medium text-gray-900",children:T.current_stock||0})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Unit Price:"}),e.jsx("span",{className:"ml-2 font-medium text-gray-900",children:Y(T.unit_price||0)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Total Value:"}),e.jsx("span",{className:"ml-2 font-medium text-gray-900",children:Y((T.current_stock||0)*(T.unit_price||0))})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Location:"}),e.jsx("span",{className:"ml-2 font-medium text-gray-900",children:T.location||"No location"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Supplier:"}),e.jsx("span",{className:"ml-2 font-medium text-gray-900",children:T.supplier||"No supplier"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Status:"}),e.jsx("span",{className:"ml-2",children:$(M(T.current_stock))})]})]}),e.jsxs("div",{className:"mt-6 flex flex-col sm:flex-row justify-end gap-2 sm:gap-3",children:[e.jsx("button",{onClick:()=>O(!1),className:"px-4 py-2 text-xs font-medium text-gray-700 bg-white border border-gray-300 hover:bg-gray-50 w-full sm:w-auto",children:"Close"}),e.jsx(Yt,{to:`/dashboard/inventory/issue-uniform?item=${T.id}`,className:"px-4 py-2 text-xs font-medium text-white bg-blue-600 hover:bg-blue-700 text-center w-full sm:w-auto",children:"Issue Item"})]})]})})]})})},cde=()=>{const t=br(),{token:r}=et(),[a,s]=g.useState(!1),[n,i]=g.useState(null),[o,d]=g.useState(null),[u,m]=g.useState({name:"",category:"",reference:"",description:"",unitPrice:"",currentStock:"",location:"",supplier:""}),[f,x]=g.useState([]),[b,p]=g.useState(!1);g.useEffect(()=>{(async()=>{if(r)try{p(!0);const R=await de.get(`${ce}/inventory/categories`,{headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"}});R.data.success&&x(R.data.data)}catch(R){console.error("❌ Error loading categories:",R)}finally{p(!1)}})()},[r]);const v=T=>{const{name:R,value:E}=T.target;m(O=>({...O,[R]:E}))},j=()=>{const T=u.category||"GEN",R=Date.now().toString().slice(-6),E=Math.random().toString(36).substring(2,5).toUpperCase(),O=`${T.substring(0,3).toUpperCase()}-${R}-${E}`;m(k=>({...k,reference:O}))},w=async T=>{T.preventDefault(),console.log("🚀 Form submitted"),console.log("🚀 Token:",r),console.log("🚀 BASE_URL:",ce),console.log("🚀 Form data:",u);try{if(s(!0),i(null),!u.name||!u.category||!u.reference){i("Please fill in all required fields");return}if(parseFloat(u.unitPrice)<0){i("Unit price cannot be negative");return}if(parseInt(u.currentStock)<0){i("Current stock cannot be negative");return}const R={name:u.name.trim(),category_id:parseInt(u.category),reference:u.reference.trim(),description:u.description.trim()||null,unit_price:parseFloat(u.unitPrice),current_stock:parseInt(u.currentStock),location:u.location.trim()||null,supplier:u.supplier.trim()||null};console.log("📦 Submitting item data:",R);const E=await de.post(`${ce}/inventory/items`,R,{headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"}});console.log("✅ Item created successfully:",E.data),d("Item added successfully!"),setTimeout(()=>{m({name:"",category:"",reference:"",description:"",unitPrice:"",currentStock:"",location:"",supplier:""}),d(null)},2e3)}catch(R){console.error("❌ Error adding item:",R),R.response?.data?.message?i(R.response.data.message):R.response?.status===401?i("Authentication failed. Please log in again."):R.response?.status===403?i("You do not have permission to add items."):i("Failed to add item. Please try again.")}finally{s(!1)}},N=T=>T?new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(T):"$0.00",P=()=>{const T=parseFloat(u.currentStock)||0,R=parseFloat(u.unitPrice)||0;return T*R},A=()=>{const T=parseInt(u.currentStock)||0;return T===0?"Out of Stock":T<=5?"Low Stock":"In Stock"},D=T=>{switch(T){case"In Stock":return"text-green-600";case"Low Stock":return"text-yellow-600";case"Out of Stock":return"text-red-600";default:return"text-gray-600"}};return e.jsx("div",{className:"min-h-screen bg-gray-50 py-4",children:e.jsxs("div",{className:"w-full px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg font-bold text-gray-900",children:"Add New Item"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Add uniforms, supplies, and equipment to inventory"})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs("button",{onClick:()=>t("/dashboard/inventory/configurations"),className:"bg-blue-600 text-white px-3 py-2 text-xs hover:bg-blue-700 flex items-center",children:[e.jsx(I,{icon:Iu,className:"mr-2"}),"Manage Categories"]})})]})}),e.jsxs("div",{className:"bg-white border border-gray-200 shadow",children:[e.jsx("div",{className:"px-4 py-3 border-b border-gray-200",children:e.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Item Details"})}),e.jsxs("form",{onSubmit:w,className:"p-4",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Item Name *"}),e.jsx("input",{type:"text",name:"name",value:u.name,onChange:v,required:!0,className:"w-full px-3 py-2 border border-gray-300 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500",placeholder:"e.g., Primary School Uniform - Boys"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Category *"}),e.jsxs("select",{name:"category",value:u.category,onChange:v,required:!0,disabled:b,className:"w-full px-3 py-2 border border-gray-300 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500 disabled:bg-gray-100",children:[e.jsx("option",{value:"",children:b?"Loading categories...":"Select Category"}),f.map(T=>e.jsx("option",{value:T.id,children:T.name},T.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Reference *"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",name:"reference",value:u.reference,onChange:v,required:!0,className:"flex-1 px-3 py-2 border border-gray-300 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500",placeholder:"e.g., UNI-PRI-B-001"}),e.jsx("button",{type:"button",onClick:j,className:"px-3 py-2 bg-gray-100 text-gray-700 text-xs hover:bg-gray-200 border border-gray-300",children:"Auto"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Description"}),e.jsx("textarea",{name:"description",value:u.description,onChange:v,rows:"2",className:"w-full px-3 py-2 border border-gray-300 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500",placeholder:"Brief description of the item..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Unit Price (USD) *"}),e.jsx("input",{type:"number",name:"unitPrice",value:u.unitPrice,onChange:v,required:!0,step:"0.01",min:"0",className:"w-full px-3 py-2 border border-gray-300 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500",placeholder:"0.00"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Current Stock *"}),e.jsx("input",{type:"number",name:"currentStock",value:u.currentStock,onChange:v,required:!0,min:"0",className:"w-full px-3 py-2 border border-gray-300 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500",placeholder:"0"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Storage Location"}),e.jsx("input",{type:"text",name:"location",value:u.location,onChange:v,className:"w-full px-3 py-2 border border-gray-300 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500",placeholder:"e.g., Storage Room A"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Supplier"}),e.jsx("input",{type:"text",name:"supplier",value:u.supplier,onChange:v,className:"w-full px-3 py-2 border border-gray-300 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500",placeholder:"e.g., Uniforms Plus Ltd"})]})]})]}),e.jsxs("div",{className:"mt-6 p-4 bg-gray-50 border border-gray-200",children:[e.jsx("h4",{className:"text-xs font-medium text-gray-900 mb-3",children:"Item Preview"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 text-xs",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Total Value:"}),e.jsx("span",{className:"ml-2 font-medium text-gray-900",children:N(P())})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Stock Status:"}),e.jsx("span",{className:`ml-2 font-medium ${D(A())}`,children:A()})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Category:"}),e.jsx("span",{className:"ml-2 font-medium text-gray-900",children:f.find(T=>T.id===parseInt(u.category))?.name||"Not selected"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Reference:"}),e.jsx("span",{className:"ml-2 font-medium text-gray-900",children:u.reference||"Not generated"})]})]})]}),e.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[e.jsx("button",{type:"button",onClick:()=>t("/dashboard/inventory"),className:"px-4 py-2 text-xs font-medium text-gray-700 bg-white border border-gray-300 hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:a,className:"px-4 py-2 text-xs font-medium text-white bg-gray-900 hover:bg-gray-800 disabled:opacity-50 flex items-center",children:a?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin h-4 w-4 border-b-2 border-white mr-2"}),"Adding..."]}):e.jsxs(e.Fragment,{children:[e.jsx(I,{icon:Dn,className:"mr-2"}),"Add Item"]})})]})]})]}),o&&e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50 flex items-center justify-center",children:e.jsx("div",{className:"relative mx-auto p-6 border w-96 shadow-lg bg-white",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100 mb-4",children:e.jsx("svg",{className:"h-6 w-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),e.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-2",children:"Success!"}),e.jsx("p",{className:"text-xs text-gray-600 mb-4",children:o}),e.jsx("button",{onClick:()=>d(null),className:"px-4 py-2 text-xs font-medium text-white bg-green-600 hover:bg-green-700",children:"OK"})]})})}),n&&e.jsx("div",{className:"fixed bottom-4 right-4 bg-red-500 text-white px-6 py-3 shadow-lg z-50 text-sm",children:n})]})})},dde=()=>{const t=br(),[r]=pk(),{token:a}=et(),[s,n]=g.useState(!1),[i,o]=g.useState(null),[d,u]=g.useState(null),[m,f]=g.useState(""),[x,b]=g.useState(""),[p,v]=g.useState(""),[j,w]=g.useState(!1),[N,P]=g.useState(!1),[A,D]=g.useState(!1),[T,R]=g.useState(!1),[E,O]=g.useState(null),[k,Y]=g.useState(null),[$,M]=g.useState([]),[F,K]=g.useState([]),[q,U]=g.useState({itemId:"",studentId:"",quantity:1,paymentStatus:"pending",paymentMethod:"cash",amount:"",reference:"",notes:"",issueDate:new Date().toISOString().split("T")[0]});g.useEffect(()=>{a&&(V(),Z())},[a]);const V=async()=>{try{D(!0);const xe=await de.get(`${ce}/inventory/items?limit=100`,{headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"}});xe.data.success&&M(xe.data.data)}catch(xe){console.error("❌ Error loading inventory items:",xe)}finally{D(!1)}},Z=async()=>{K([])},X=[{value:"cash",label:"Cash"},{value:"card",label:"Credit/Debit Card"},{value:"bank_transfer",label:"Bank Transfer"},{value:"check",label:"Check"},{value:"mobile_money",label:"Mobile Money"}];g.useEffect(()=>{const xe=r.get("item");if(xe&&$.length>0){const oe=$.find(me=>me.id===parseInt(xe));oe&&(O(oe),U(me=>({...me,itemId:oe.id.toString(),amount:oe.unit_price.toString()})))}},[r,$]);const J=xe=>{const{name:oe,value:me}=xe.target;if(U(tt=>({...tt,[oe]:me})),oe==="quantity"&&E){const tt=(parseFloat(me)*E.unit_price).toFixed(2);U(rt=>({...rt,amount:tt}))}},be=xe=>{const oe=xe.target.value;b(oe),w(oe.length>0)},z=()=>{w(x.length>0)},re=xe=>{const oe=xe.target.value;v(oe),P(oe.length>0)},G=async()=>{if(!p.trim()){K([]),P(!1);return}R(!0);try{console.log("🔍 Searching students with term:",p);try{const oe=await de.get(`${ce}/students/${p.trim()}`,{headers:{Authorization:`Bearer ${a}`}});if(oe.data.success&&oe.data.data){console.log("📊 Exact student match found:",oe.data.data),K([oe.data.data]),P(!0),R(!1);return}}catch{console.log("🔍 No exact match found, trying search...")}const xe=await de.get(`${ce}/students/search?query=${p}`,{headers:{Authorization:`Bearer ${a}`}});console.log("📊 Students search response:",xe.data),K(xe.data.data||[]),P(!0)}catch(xe){console.error("❌ Error searching students:",xe),K([]),P(!1)}finally{R(!1)}};g.useEffect(()=>{const xe=oe=>{oe.target.closest(".search-container")||(w(!1),P(!1))};return document.addEventListener("mousedown",xe),()=>{document.removeEventListener("mousedown",xe)}},[]);const Q=xe=>{O(xe),U(oe=>({...oe,itemId:xe.id.toString(),amount:xe.unit_price.toString()}))},ve=xe=>{Y(xe),U(oe=>({...oe,studentId:xe.RegNumber}))},ye=async xe=>{xe.preventDefault();try{if(n(!0),o(null),!q.itemId||!q.studentId||!q.quantity){o("Please fill in all required fields");return}if(parseInt(q.quantity)<=0){o("Quantity must be greater than 0");return}if(parseInt(q.quantity)>E.current_stock){o(`Cannot issue more than available stock (${E.current_stock})`);return}const oe={item_id:parseInt(q.itemId),student_reg_number:k.RegNumber,quantity:parseInt(q.quantity),amount:parseFloat(q.amount),payment_status:q.paymentStatus,payment_method:q.paymentMethod,reference:q.reference||null,notes:q.notes||null,issue_date:q.issueDate};console.log("🎓 Submitting issue data:",oe);const me=await de.post(`${ce}/inventory/issues`,oe,{headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"}});console.log("✅ Issue created successfully:",me.data),u("Uniform issued successfully!"),setTimeout(()=>{U({itemId:"",studentId:"",quantity:1,paymentStatus:"pending",paymentMethod:"cash",amount:"",reference:"",notes:"",issueDate:new Date().toISOString().split("T")[0]}),O(null),Y(null),u(null),t("/dashboard/inventory")},2e3)}catch(oe){console.error("❌ Error issuing uniform:",oe),oe.response?.data?.message?o(oe.response.data.message):oe.response?.status===401?o("Authentication failed. Please log in again."):oe.response?.status===403?o("You do not have permission to issue uniforms."):o("Failed to issue uniform. Please try again.")}finally{n(!1)}},ne=xe=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(xe),te=xe=>xe===0?"Out of Stock":xe<=5?"Low Stock":"In Stock",Ae=xe=>{switch(xe){case"In Stock":return e.jsxs("span",{className:"inline-flex items-center px-2 py-1 text-xs font-medium bg-green-100 text-green-800",children:[e.jsx(I,{icon:aa,className:"mr-1"}),"In Stock"]});case"Low Stock":return e.jsxs("span",{className:"inline-flex items-center px-2 py-1 text-xs font-medium bg-yellow-100 text-yellow-800",children:[e.jsx(I,{icon:sn,className:"mr-1"}),"Low Stock"]});case"Out of Stock":return e.jsxs("span",{className:"inline-flex items-center px-2 py-1 text-xs font-medium bg-red-100 text-red-800",children:[e.jsx(I,{icon:Br,className:"mr-1"}),"Out of Stock"]});default:return null}},we=$.filter(xe=>{const oe=(xe.name||"").toLowerCase(),me=(xe.reference||"").toLowerCase(),tt=x.toLowerCase();return oe.includes(tt)||me.includes(tt)}),le=F;return e.jsx("div",{className:"min-h-screen bg-gray-50 py-6",children:e.jsxs("div",{className:"w-full px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"mb-6",children:e.jsx("div",{className:"flex justify-between items-center",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg font-bold text-gray-900",children:"Issue Uniform to Student"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Select uniform, student, and record payment"})]})})}),e.jsx("div",{className:"w-full",children:e.jsxs("form",{onSubmit:ye,className:"bg-white border border-gray-200",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Uniform Issue Details"})}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"search-container",children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"Search Uniform *"}),e.jsxs("div",{className:"flex gap-2 mb-3",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(I,{icon:Vt,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",placeholder:A?"Loading items...":"Search uniforms by name or reference...",value:x,onChange:be,disabled:A,className:"w-full pl-10 pr-4 py-2 border border-gray-300 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500 disabled:bg-gray-100"})]}),e.jsx("button",{type:"button",onClick:z,disabled:A||!x.trim(),className:"px-4 py-2 bg-gray-900 text-white text-xs hover:bg-gray-800 disabled:opacity-50 disabled:cursor-not-allowed",children:"Search"})]}),j&&e.jsx("div",{className:"mb-3 max-h-48 overflow-y-auto border border-gray-200 bg-white",children:we.length>0?we.map(xe=>e.jsx("div",{onClick:()=>{Q(xe),w(!1),b("")},className:"p-3 hover:bg-gray-50 cursor-pointer border-b border-gray-100 last:border-b-0",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"bg-blue-100 p-2",children:e.jsx(I,{icon:xx,className:"text-blue-600 text-xs"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-xs font-medium text-gray-900",children:xe.name||"N/A"}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Ref: ",xe.reference||"N/A"]}),e.jsxs("div",{className:"flex items-center justify-between mt-1",children:[e.jsxs("span",{className:"text-xs text-gray-600",children:["Stock: ",xe.current_stock||0]}),Ae(te(xe.current_stock||0))]}),e.jsx("p",{className:"text-xs font-medium text-green-600 mt-1",children:ne(xe.unit_price||0)})]})]})},xe.id)):e.jsxs("div",{className:"p-3 text-center text-gray-500 text-xs",children:['No items found matching "',x,'"']})}),E&&e.jsx("div",{className:"bg-blue-50 border border-blue-200 p-3 mb-3",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"bg-blue-100 p-2",children:e.jsx(I,{icon:xx,className:"text-blue-600 text-xs"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-xs font-medium text-gray-900",children:E.name||"N/A"}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Ref: ",E.reference||"N/A"]}),e.jsxs("div",{className:"flex items-center justify-between mt-1",children:[e.jsxs("span",{className:"text-xs text-gray-600",children:["Stock: ",E.current_stock||0]}),Ae(te(E.current_stock||0))]}),e.jsx("p",{className:"text-xs font-medium text-green-600 mt-1",children:ne(E.unit_price||0)})]})]})})]}),e.jsxs("div",{className:"search-container",children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"Search Student *"}),e.jsxs("div",{className:"flex gap-2 mb-3",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(I,{icon:La,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",placeholder:T?"Loading students...":"Search by name or registration number...",value:p,onChange:re,disabled:T,className:"w-full pl-10 pr-4 py-2 border border-gray-300 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500 disabled:bg-gray-100"})]}),e.jsx("button",{type:"button",onClick:G,disabled:T||!p.trim(),className:"px-4 py-2 bg-gray-900 text-white text-xs hover:bg-gray-800 disabled:opacity-50 disabled:cursor-not-allowed",children:"Search"})]}),N&&e.jsx("div",{className:"mb-3 max-h-48 overflow-y-auto border border-gray-200 bg-white",children:le.length>0?le.map(xe=>e.jsx("div",{onClick:()=>{ve(xe),P(!1),v("")},className:"p-3 hover:bg-gray-50 cursor-pointer border-b border-gray-100 last:border-b-0",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"bg-green-100 p-2",children:e.jsx(I,{icon:La,className:"text-green-600 text-xs"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-900",children:[xe.Name||""," ",xe.Surname||""]}),e.jsxs("p",{className:"text-xs text-gray-500",children:["ID: ",xe.RegNumber||"N/A"]}),e.jsxs("p",{className:"text-xs text-gray-600",children:[xe.Class||"No class"," • ",xe.Gender||"N/A"]})]})]})},xe.RegNumber)):e.jsxs("div",{className:"p-3 text-center text-gray-500 text-xs",children:['No students found matching "',p,'"']})}),k&&e.jsx("div",{className:"bg-green-50 border border-green-200 p-3 mb-3",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"bg-green-100 p-2",children:e.jsx(I,{icon:La,className:"text-green-600 text-xs"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-900",children:[k.Name||""," ",k.Surname||""]}),e.jsxs("p",{className:"text-xs text-gray-500",children:["ID: ",k.RegNumber||"N/A"]}),e.jsxs("p",{className:"text-xs text-gray-600",children:[k.Class||"No class"," • ",k.Gender||"N/A"]})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"Quantity *"}),e.jsx("input",{type:"number",name:"quantity",value:q.quantity,onChange:J,required:!0,min:"1",max:E?.current_stock||1,className:"w-full px-3 py-2 border border-gray-300 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500"}),E&&e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Available: ",E.current_stock]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"Issue Date"}),e.jsx("input",{type:"date",name:"issueDate",value:q.issueDate,onChange:J,className:"w-full px-3 py-2 border border-gray-300 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500"})]})]}),e.jsxs("div",{className:"border-t pt-6",children:[e.jsx("h4",{className:"text-xs font-medium text-gray-900 mb-4",children:"Payment Details"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"Amount (USD) *"}),e.jsx("input",{type:"number",name:"amount",value:q.amount,onChange:J,required:!0,step:"0.01",min:"0",className:"w-full px-3 py-2 border border-gray-300 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500",placeholder:"0.00"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"Payment Method"}),e.jsx("select",{name:"paymentMethod",value:q.paymentMethod,onChange:J,className:"w-full px-3 py-2 border border-gray-300 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500",children:X.map(xe=>e.jsx("option",{value:xe.value,children:xe.label},xe.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"Payment Status"}),e.jsxs("select",{name:"paymentStatus",value:q.paymentStatus,onChange:J,className:"w-full px-3 py-2 border border-gray-300 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500",children:[e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"paid",children:"Paid"}),e.jsx("option",{value:"partial",children:"Partial Payment"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"Reference Number"}),e.jsx("input",{type:"text",name:"reference",value:q.reference,onChange:J,className:"w-full px-3 py-2 border border-gray-300 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500",placeholder:"Enter reference number (optional)"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),e.jsx("textarea",{name:"notes",value:q.notes,onChange:J,rows:"3",className:"w-full px-3 py-2 border border-gray-300 text-sm focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500",placeholder:"Additional notes about the issue..."})]}),E&&k&&e.jsxs("div",{className:"bg-gray-50 p-4 border border-gray-200",children:[e.jsx("h4",{className:"text-xs font-medium text-gray-900 mb-3",children:"Issue Summary"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-xs",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Student:"}),e.jsxs("span",{className:"ml-2 font-medium text-gray-900",children:[k.Name||""," ",k.Surname||""," (",k.RegNumber||"N/A",")"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Uniform:"}),e.jsx("span",{className:"ml-2 font-medium text-gray-900",children:E.name||"N/A"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Total Amount:"}),e.jsx("span",{className:"ml-2 font-medium text-gray-900",children:ne((parseFloat(q.quantity)||0)*(parseFloat(q.amount)||0))})]})]})]})]}),e.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-200 flex justify-end space-x-3",children:[e.jsx("button",{type:"button",onClick:()=>t("/dashboard/inventory"),className:"px-4 py-2 text-xs font-medium text-gray-700 bg-white border border-gray-300 hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:s||!E||!k,className:"px-4 py-2 text-xs font-medium text-white bg-gray-900 hover:bg-gray-800 disabled:opacity-50 flex items-center",children:s?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin h-4 w-4 border-b-2 border-white mr-2"}),"Issuing..."]}):e.jsxs(e.Fragment,{children:[e.jsx(I,{icon:La,className:"mr-2"}),"Issue Uniform"]})})]})]})}),d&&e.jsx("div",{className:"fixed bottom-4 right-4 bg-green-500 text-white px-6 py-3 shadow-lg z-50 text-xs",children:d}),i&&e.jsx("div",{className:"fixed bottom-4 right-4 bg-red-500 text-white px-6 py-3 shadow-lg z-50 text-xs",children:i})]})})},ude=()=>{const{token:t}=et(),[r,a]=g.useState(!1),[s,n]=g.useState(null),[i,o]=g.useState(null),[d,u]=g.useState(!1),[m,f]=g.useState(null),[x,b]=g.useState([]),[p,v]=g.useState({name:"",icon:"faBoxes",color:"blue",description:""}),j=M=>({faBoxes:Iu,faTshirt:xx,faBook:bc,faFlask:N6,faFutbol:Nf,faPalette:j6,faBroom:S6,faLaptop:w6,faUtensils:_6,faBuilding:yn})[M]||Iu,w=M=>({blue:"bg-blue-100 text-blue-800",green:"bg-green-100 text-green-800",purple:"bg-purple-100 text-purple-800",orange:"bg-orange-100 text-orange-800",pink:"bg-pink-100 text-pink-800",gray:"bg-gray-100 text-gray-800",indigo:"bg-indigo-100 text-indigo-800",red:"bg-red-100 text-red-800"})[M]||"bg-gray-100 text-gray-800",N=async()=>{if(!p.name.trim()){n("Category name is required");return}try{a(!0);const M=await E(p);b(F=>[...F,M.data]),v({name:"",icon:"faBoxes",color:"blue",description:""}),u(!1),o("Category added successfully!"),setTimeout(()=>o(null),3e3)}catch(M){n(M.message)}finally{a(!1)}},P=M=>{f(M),v({...M}),u(!0)},A=async()=>{if(!p.name.trim()){n("Category name is required");return}try{a(!0),await O(m.id,p),b(M=>M.map(F=>F.id===m.id?{...F,...p}:F)),f(null),v({name:"",icon:"faBoxes",color:"blue",description:""}),u(!1),o("Category updated successfully!"),setTimeout(()=>o(null),3e3)}catch(M){n(M.message)}finally{a(!1)}},D=async M=>{if(window.confirm("Are you sure you want to delete this category?"))try{a(!0),await k(M),b(F=>F.filter(K=>K.id!==M)),o("Category deleted successfully!"),setTimeout(()=>o(null),3e3)}catch(F){n(F.message)}finally{a(!1)}},T=()=>{v({name:"",icon:"faBoxes",color:"blue",description:""}),f(null),u(!1),n(null)},R=async()=>{try{a(!0);const M=await de.get(`${ce}/inventory/categories`,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});b(M.data.data)}catch(M){console.error("Error fetching categories:",M),n("Failed to fetch categories")}finally{a(!1)}},E=async M=>{try{return(await de.post(`${ce}/inventory/categories`,M,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}})).data}catch(F){throw F}},O=async(M,F)=>{try{return(await de.put(`${ce}/inventory/categories/${M}`,F,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}})).data}catch(K){throw K}},k=async M=>{try{return(await de.delete(`${ce}/inventory/categories/${M}`,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}})).data}catch(F){throw F}};g.useEffect(()=>{t&&R()},[t]);const Y=[{value:"faBoxes",label:"Boxes",icon:Iu},{value:"faTshirt",label:"T-Shirt",icon:xx},{value:"faBook",label:"Book",icon:bc},{value:"faFlask",label:"Flask",icon:N6},{value:"faFutbol",label:"Sports",icon:Nf},{value:"faPalette",label:"Art",icon:j6},{value:"faBroom",label:"Cleaning",icon:S6},{value:"faLaptop",label:"IT",icon:w6},{value:"faUtensils",label:"Kitchen",icon:_6},{value:"faBuilding",label:"Building",icon:yn}],$=[{value:"blue",label:"Blue",class:"bg-blue-100 text-blue-800"},{value:"green",label:"Green",class:"bg-green-100 text-green-800"},{value:"purple",label:"Purple",class:"bg-purple-100 text-purple-800"},{value:"orange",label:"Orange",class:"bg-orange-100 text-orange-800"},{value:"pink",label:"Pink",class:"bg-pink-100 text-pink-800"},{value:"gray",label:"Gray",class:"bg-gray-100 text-gray-800"},{value:"indigo",label:"Indigo",class:"bg-indigo-100 text-indigo-800"},{value:"red",label:"Red",class:"bg-red-100 text-red-800"}];return e.jsx("div",{className:"min-h-screen bg-gray-50 py-4",children:e.jsxs("div",{className:"w-full px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg font-bold text-gray-900",children:"Inventory Categories"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Manage item categories and organization"})]}),e.jsxs("button",{onClick:()=>u(!0),className:"bg-gray-900 text-white px-4 py-2 text-xs hover:bg-gray-800 flex items-center",children:[e.jsx(I,{icon:_t,className:"mr-2"}),"Add Category"]})]})}),e.jsx("div",{className:"bg-white border border-gray-200",children:e.jsx("div",{className:"p-4",children:r?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"animate-spin h-8 w-8 border-b-2 border-gray-900 mx-auto"}),e.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Loading categories..."})]}):x.length===0?e.jsx("div",{className:"text-center py-8",children:e.jsx("p",{className:"text-sm text-gray-600",children:"No categories found. Create your first category to get started."})}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:x.map(M=>e.jsxs("div",{className:"bg-gray-50 border border-gray-200 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:`p-2 ${w(M.color)}`,children:e.jsx(I,{icon:j(M.icon),className:"text-sm"})}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>P(M),className:"text-blue-600 hover:text-blue-900 text-xs",children:e.jsx(I,{icon:lr})}),e.jsx("button",{onClick:()=>D(M.id),className:"text-red-600 hover:text-red-900 text-xs",children:e.jsx(I,{icon:Mt})})]})]}),e.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-1",children:M.name}),e.jsx("p",{className:"text-xs text-gray-600 mb-2",children:M.description}),e.jsxs("span",{className:"text-xs text-gray-500",children:[M.item_count||0," items"]})]},M.id))})})}),d&&e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:e.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:e.jsxs("div",{className:"mt-3",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900",children:m?"Edit Category":"Add New Category"}),e.jsx("button",{onClick:T,className:"text-gray-400 hover:text-gray-600",children:e.jsx(I,{icon:Br})})]}),e.jsxs("form",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Category Name *"}),e.jsx("input",{type:"text",value:p.name,onChange:M=>v(F=>({...F,name:M.target.value})),className:"w-full px-3 py-2 border border-gray-300 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500",placeholder:"e.g., Uniforms"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Icon"}),e.jsx("div",{className:"grid grid-cols-5 gap-2",children:Y.map(M=>e.jsx("button",{type:"button",onClick:()=>v(F=>({...F,icon:M.value})),className:`p-2 border text-xs ${p.icon===M.value?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:e.jsx(I,{icon:M.icon,className:"text-sm"})},M.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Color"}),e.jsx("div",{className:"grid grid-cols-4 gap-2",children:$.map(M=>e.jsx("button",{type:"button",onClick:()=>v(F=>({...F,color:M.value})),className:`p-2 border text-xs ${M.class} ${p.color===M.value?"ring-2 ring-blue-500":"hover:opacity-80"}`,children:M.label},M.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Description"}),e.jsx("textarea",{value:p.description,onChange:M=>v(F=>({...F,description:M.target.value})),rows:"2",className:"w-full px-3 py-2 border border-gray-300 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500",placeholder:"Brief description of the category..."})]}),s&&e.jsx("div",{className:"text-red-600 text-xs",children:s}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:T,className:"px-4 py-2 text-xs font-medium text-gray-700 bg-white border border-gray-300 hover:bg-gray-50",children:"Cancel"}),e.jsxs("button",{type:"button",onClick:m?A:N,className:"px-4 py-2 text-xs font-medium text-white bg-gray-900 hover:bg-gray-800",children:[m?"Update":"Add"," Category"]})]})]})]})})}),i&&e.jsx("div",{className:"fixed bottom-4 right-4 bg-green-500 text-white px-6 py-3 shadow-lg z-50 text-sm",children:i}),s&&e.jsx("div",{className:"fixed bottom-4 right-4 bg-red-500 text-white px-6 py-3 shadow-lg z-50 text-sm",children:s})]})})},mde=()=>{const{token:t}=et(),r=br(),[a,s]=g.useState([]),[n,i]=g.useState(!0),[o,d]=g.useState(null),[u,m]=g.useState(null),[f,x]=g.useState({students:[],employees:[]}),[b,p]=g.useState({current_page:1,total_pages:1,total_items:0,items_per_page:10}),[v,j]=g.useState({type:"",status:"published",target_type:"",priority:"",search:""});g.useEffect(()=>{w(),N()},[v,b.current_page]);const w=async()=>{try{i(!0);const k=new URLSearchParams({page:b.current_page,limit:b.items_per_page,...v}),Y=t?{Authorization:`Bearer ${t}`}:{},$=await de.get(`${ce}/announcements?${k}`,{headers:Y});s($.data.announcements),p($.data.pagination)}catch(k){console.error("Error loading announcements:",k),d("Failed to load announcements")}finally{i(!1)}},N=async()=>{try{const k=t?{Authorization:`Bearer ${t}`}:{},[Y,$]=await Promise.all([de.get(`${ce}/announcements/targets/student`,{headers:k}),de.get(`${ce}/announcements/targets/employee`,{headers:k})]);x({students:Y.data.options,employees:$.data.options})}catch(k){console.error("Error loading target options:",k)}},P=k=>{const{name:Y,value:$}=k.target;j(M=>({...M,[Y]:$})),p(M=>({...M,current_page:1}))},A=k=>{r(`/dashboard/announcements/edit/${k.id}`)},D=async k=>{if(window.confirm("Are you sure you want to delete this announcement?"))try{const Y=t?{Authorization:`Bearer ${t}`}:{};await de.delete(`${ce}/announcements/${k}`,{headers:Y}),w()}catch(Y){console.error("Error deleting announcement:",Y),d("Failed to delete announcement")}},T=k=>{switch(k){case"urgent":return"bg-red-100 text-red-800 border-red-200";case"high":return"bg-orange-100 text-orange-800 border-orange-200";case"medium":return"bg-blue-100 text-blue-800 border-blue-200";case"low":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},R=k=>{switch(k){case"published":return e.jsx(I,{icon:Fr,className:"text-green-500"});case"draft":return e.jsx(I,{icon:lx,className:"text-yellow-500"});case"archived":return e.jsx(I,{icon:Br,className:"text-gray-500"});default:return e.jsx(I,{icon:lx,className:"text-gray-500"})}},E=k=>k?new Date(k).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",O=k=>{p(Y=>({...Y,current_page:k}))};return n&&a.length===0?e.jsx("div",{className:"min-h-screen bg-gray-50 py-4",children:e.jsx("div",{className:"w-full px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})})}):e.jsx("div",{className:"min-h-screen bg-gray-50 py-2 md:py-4",children:e.jsxs("div",{className:"w-full px-2 md:px-4 lg:px-8",children:[e.jsx("div",{className:"mb-4 md:mb-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg md:text-xl font-bold text-gray-900",children:"Announcements"}),e.jsx("p",{className:"text-xs md:text-sm text-gray-600",children:"Manage and publish announcements for students and employees"})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs("button",{onClick:()=>r("/dashboard/announcements/add"),className:"bg-blue-600 text-white px-3 py-2 text-xs md:text-sm hover:bg-blue-700 flex items-center w-full sm:w-auto justify-center",children:[e.jsx(I,{icon:_t,className:"mr-2"}),"Add Announcement"]})})]})}),e.jsxs("div",{className:"bg-white border border-gray-200 shadow mb-4",children:[e.jsx("div",{className:"px-3 md:px-4 py-3 border-b border-gray-200",children:e.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Filters"})}),e.jsx("div",{className:"p-3 md:p-4",children:e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-3 md:gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Search"}),e.jsxs("div",{className:"relative",children:[e.jsx(I,{icon:Vt,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 text-xs"}),e.jsx("input",{type:"text",name:"search",value:v.search,onChange:P,placeholder:"Search announcements...",className:"w-full pl-8 pr-3 py-2 border border-gray-300 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Type"}),e.jsxs("select",{name:"type",value:v.type,onChange:P,className:"w-full px-3 py-2 border border-gray-300 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500",children:[e.jsx("option",{value:"",children:"All Types"}),e.jsx("option",{value:"student",children:"Students"}),e.jsx("option",{value:"employee",children:"Employees"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Status"}),e.jsxs("select",{name:"status",value:v.status,onChange:P,className:"w-full px-3 py-2 border border-gray-300 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500",children:[e.jsx("option",{value:"",children:"All Status"}),e.jsx("option",{value:"draft",children:"Draft"}),e.jsx("option",{value:"published",children:"Published"}),e.jsx("option",{value:"archived",children:"Archived"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Priority"}),e.jsxs("select",{name:"priority",value:v.priority,onChange:P,className:"w-full px-3 py-2 border border-gray-300 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500",children:[e.jsx("option",{value:"",children:"All Priorities"}),e.jsx("option",{value:"urgent",children:"Urgent"}),e.jsx("option",{value:"high",children:"High"}),e.jsx("option",{value:"medium",children:"Medium"}),e.jsx("option",{value:"low",children:"Low"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Target"}),e.jsxs("select",{name:"target_type",value:v.target_type,onChange:P,className:"w-full px-3 py-2 border border-gray-300 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500",children:[e.jsx("option",{value:"",children:"All Targets"}),e.jsx("option",{value:"all",children:"All"}),e.jsx("option",{value:"specific",children:"Specific"})]})]})]})})]}),e.jsxs("div",{className:"bg-white border border-gray-200 shadow",children:[o&&e.jsx("div",{className:"p-4 border-b border-gray-200",children:e.jsx("div",{className:"p-3 bg-red-100 border border-red-200 text-red-700 text-xs",children:o})}),a.length===0?e.jsxs("div",{className:"text-center py-8 md:py-12 px-4",children:[e.jsx(I,{icon:rg,className:"text-gray-300 text-3xl md:text-4xl mb-4"}),e.jsx("h3",{className:"text-sm md:text-base font-medium text-gray-900 mb-2",children:"No announcements found"}),e.jsx("p",{className:"text-gray-500 text-xs md:text-sm mb-4",children:"Create your first announcement to get started"}),e.jsxs("button",{onClick:()=>r("/dashboard/announcements/add"),className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white text-xs md:text-sm font-medium hover:bg-blue-700",children:[e.jsx(I,{icon:_t,className:"text-xs"}),"Create Announcement"]})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"divide-y divide-gray-200",children:a.map(k=>e.jsx("div",{className:"p-3 md:p-4 hover:bg-gray-50 transition-colors",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-3",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 mb-2",children:[e.jsx("h3",{className:"font-semibold text-gray-900 text-sm truncate",children:k.title}),e.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full border ${T(k.priority)}`,children:k.priority}),R(k.status)]})]}),e.jsx("p",{className:"text-gray-600 text-xs mb-3 line-clamp-2",children:k.content}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-4 text-xs text-gray-500",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(I,{icon:k.announcement_type==="student"?px:Ir,className:"text-xs"}),e.jsx("span",{children:k.announcement_type==="student"?"Students":"Employees"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(I,{icon:Fs,className:"text-xs"}),e.jsx("span",{className:"truncate",children:k.target_name})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(I,{icon:yr,className:"text-xs"}),e.jsx("span",{className:"hidden sm:inline",children:E(k.created_at)}),e.jsx("span",{className:"sm:hidden",children:new Date(k.created_at).toLocaleDateString()})]}),e.jsx("div",{className:"flex items-center gap-1",children:e.jsxs("span",{children:["By: ",k.created_by_username]})})]})]}),e.jsxs("div",{className:"flex items-center gap-1 sm:ml-4 flex-shrink-0",children:[e.jsx("button",{onClick:()=>A(k),className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded transition-colors",title:"Edit announcement",children:e.jsx(I,{icon:lr,className:"text-xs"})}),e.jsx("button",{onClick:()=>D(k.id),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded transition-colors",title:"Delete announcement",children:e.jsx(I,{icon:Mt,className:"text-xs"})})]})]})},k.id))}),b.total_pages>1&&e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 px-3 md:px-4 py-3 border-t border-gray-200",children:[e.jsxs("div",{className:"text-xs text-gray-700 text-center sm:text-left",children:["Showing ",(b.current_page-1)*b.items_per_page+1," to ",Math.min(b.current_page*b.items_per_page,b.total_items)," of ",b.total_items," results"]}),e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx("button",{onClick:()=>O(b.current_page-1),disabled:b.current_page===1,className:"px-3 py-1 text-xs border border-gray-300 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),e.jsxs("span",{className:"px-3 py-1 text-xs text-gray-700",children:["Page ",b.current_page," of ",b.total_pages]}),e.jsx("button",{onClick:()=>O(b.current_page+1),disabled:b.current_page===b.total_pages,className:"px-3 py-1 text-xs border border-gray-300 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})]})]})})},fde=()=>{const t=br(),{token:r}=et(),[a,s]=g.useState(!1),[n,i]=g.useState(null),[o,d]=g.useState(null),[u,m]=g.useState({students:[],employees:[]}),[f,x]=g.useState({title:"",content:"",announcement_type:"student",target_type:"all",target_value:"",priority:"medium",status:"draft",start_date:"",end_date:""});g.useEffect(()=>{b()},[]);const b=async()=>{try{const w=r?{Authorization:`Bearer ${r}`}:{},[N,P]=await Promise.all([de.get(`${ce}/announcements/targets/student`,{headers:w}),de.get(`${ce}/announcements/targets/employee`,{headers:w})]);console.log("📢 Students response:",N.data),console.log("📢 Employees response:",P.data),m({students:N.data.options||[],employees:P.data.options||[]})}catch(w){console.error("Error loading target options:",w)}},p=w=>{const{name:N,value:P}=w.target;x(A=>({...A,[N]:P}))},v=async w=>{w.preventDefault();try{s(!0),i(null),d(null);const N=r?{Authorization:`Bearer ${r}`}:{},P={...f,start_date:f.start_date||null,end_date:f.end_date||null,target_value:f.target_value||null};console.log("📢 Frontend submitting data:",P),console.log("📢 Original formData:",f),await de.post(`${ce}/announcements`,P,{headers:N}),d("Announcement created successfully!"),setTimeout(()=>{x({title:"",content:"",announcement_type:"student",target_type:"all",target_value:"",priority:"medium",status:"draft",start_date:"",end_date:""}),d(null),t("/dashboard/announcements")},2e3)}catch(N){console.error("Error creating announcement:",N),N.response?.data?.message?i(N.response.data.message):N.response?.status===401?i("Authentication failed. Please log in again."):N.response?.status===403?i("You do not have permission to create announcements."):i("Failed to create announcement. Please try again.")}finally{s(!1)}},j=()=>{t("/dashboard/announcements")};return e.jsx("div",{className:"min-h-screen bg-gray-50 py-4",children:e.jsxs("div",{className:"w-full px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg font-bold text-gray-900",children:"Add New Announcement"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Create announcements for students or employees"})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs("button",{onClick:()=>t("/dashboard/announcements"),className:"bg-gray-600 text-white px-3 py-2 text-xs hover:bg-gray-700 flex items-center",children:[e.jsx(I,{icon:Br,className:"mr-2"}),"Cancel"]})})]})}),e.jsxs("div",{className:"bg-white border border-gray-200 shadow",children:[e.jsx("div",{className:"px-4 py-3 border-b border-gray-200",children:e.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Announcement Details"})}),e.jsxs("form",{onSubmit:v,className:"p-4",children:[o&&e.jsx("div",{className:"mb-4 p-3 bg-green-100 border border-green-200 text-green-700 text-xs",children:o}),n&&e.jsx("div",{className:"mb-4 p-3 bg-red-100 border border-red-200 text-red-700 text-xs",children:n}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Title *"}),e.jsx("input",{type:"text",name:"title",value:f.title,onChange:p,required:!0,className:"w-full px-3 py-2 border border-gray-300 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500",placeholder:"Enter announcement title"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Target Audience *"}),e.jsxs("select",{name:"announcement_type",value:f.announcement_type,onChange:p,required:!0,className:"w-full px-3 py-2 border border-gray-300 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500",children:[e.jsx("option",{value:"student",children:"Students"}),e.jsx("option",{value:"employee",children:"Employees"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Priority"}),e.jsxs("select",{name:"priority",value:f.priority,onChange:p,className:"w-full px-3 py-2 border border-gray-300 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500",children:[e.jsx("option",{value:"low",children:"Low"}),e.jsx("option",{value:"medium",children:"Medium"}),e.jsx("option",{value:"high",children:"High"}),e.jsx("option",{value:"urgent",children:"Urgent"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Target Type"}),e.jsxs("select",{name:"target_type",value:f.target_type,onChange:p,className:"w-full px-3 py-2 border border-gray-300 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500",children:[e.jsxs("option",{value:"all",children:["All ",f.announcement_type,"s"]}),e.jsxs("option",{value:"specific",children:["Specific ",f.announcement_type==="student"?"Class":"Department"]})]})]}),f.target_type==="specific"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:f.announcement_type==="student"?"Class":"Department"}),e.jsxs("select",{name:"target_value",value:f.target_value,onChange:p,className:"w-full px-3 py-2 border border-gray-300 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500",children:[e.jsxs("option",{value:"",children:["Select ",f.announcement_type==="student"?"Class":"Department"]}),(f.announcement_type==="student"?u.students:u.employees).length>0?(f.announcement_type==="student"?u.students:u.employees).map(w=>e.jsx("option",{value:w.id,children:w.stream_name?`${w.name} (${w.stream_name})`:w.name},w.id)):e.jsxs("option",{value:"",disabled:!0,children:["No ",f.announcement_type==="student"?"classes":"departments"," available"]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Start Date"}),e.jsx("input",{type:"date",name:"start_date",value:f.start_date,onChange:p,className:"w-full px-3 py-2 border border-gray-300 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"End Date"}),e.jsx("input",{type:"date",name:"end_date",value:f.end_date,onChange:p,className:"w-full px-3 py-2 border border-gray-300 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Status"}),e.jsxs("select",{name:"status",value:f.status,onChange:p,className:"w-full px-3 py-2 border border-gray-300 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500",children:[e.jsx("option",{value:"draft",children:"Draft"}),e.jsx("option",{value:"published",children:"Published"}),e.jsx("option",{value:"archived",children:"Archived"})]})]})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Content *"}),e.jsx("textarea",{name:"content",value:f.content,onChange:p,required:!0,rows:"4",className:"w-full px-3 py-2 border border-gray-300 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500",placeholder:"Enter announcement content..."})]}),e.jsxs("div",{className:"flex items-center justify-end gap-3 mt-6 pt-4 border-t border-gray-200",children:[e.jsx("button",{type:"button",onClick:j,className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 text-xs font-medium border border-gray-300",children:"Cancel"}),e.jsxs("button",{type:"submit",disabled:a,className:"px-4 py-2 bg-blue-600 text-white hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed text-xs font-medium flex items-center",children:[a?e.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-b-2 border-white mr-2"}):e.jsx(I,{icon:Dn,className:"mr-2"}),a?"Creating...":"Create Announcement"]})]})]})]})]})})},hde=()=>{const t=br(),{id:r}=On(),{token:a}=et(),[s,n]=g.useState(!1),[i,o]=g.useState(!0),[d,u]=g.useState(null),[m,f]=g.useState(null),[x,b]=g.useState({students:[],employees:[]}),[p,v]=g.useState({title:"",content:"",announcement_type:"student",target_type:"all",target_value:"",priority:"medium",status:"draft",start_date:"",end_date:""});g.useEffect(()=>{j(),w()},[r]);const j=async()=>{try{o(!0);const D=a?{Authorization:`Bearer ${a}`}:{},R=(await de.get(`${ce}/announcements/${r}`,{headers:D})).data;v({title:R.title||"",content:R.content||"",announcement_type:R.announcement_type||"student",target_type:R.target_type||"all",target_value:R.target_value||"",priority:R.priority||"medium",status:R.status||"draft",start_date:R.start_date||"",end_date:R.end_date||""})}catch(D){console.error("Error loading announcement:",D),u("Failed to load announcement data")}finally{o(!1)}},w=async()=>{try{const D=a?{Authorization:`Bearer ${a}`}:{},[T,R]=await Promise.all([de.get(`${ce}/announcements/targets/student`,{headers:D}),de.get(`${ce}/announcements/targets/employee`,{headers:D})]);console.log("📢 Students response:",T.data),console.log("📢 Employees response:",R.data),b({students:T.data.options||[],employees:R.data.options||[]})}catch(D){console.error("Error loading target options:",D)}},N=D=>{const{name:T,value:R}=D.target;v(E=>({...E,[T]:R}))},P=async D=>{D.preventDefault();try{n(!0),u(null),f(null);const T=a?{Authorization:`Bearer ${a}`}:{},R={...p,start_date:p.start_date||null,end_date:p.end_date||null,target_value:p.target_value||null};console.log("📢 Frontend submitting data:",R),console.log("📢 Original formData:",p),await de.put(`${ce}/announcements/${r}`,R,{headers:T}),f("Announcement updated successfully!"),setTimeout(()=>{t("/dashboard/announcements")},2e3)}catch(T){console.error("Error updating announcement:",T),u(T.response?.data?.error||"Failed to update announcement")}finally{n(!1)}},A=()=>{t("/dashboard/announcements")};return i?e.jsx("div",{className:"min-h-screen bg-gray-50 py-4",children:e.jsx("div",{className:"w-full px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),e.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Loading announcement..."})]})})}):e.jsx("div",{className:"min-h-screen bg-gray-50 py-4",children:e.jsxs("div",{className:"w-full px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg font-bold text-gray-900",children:"Edit Announcement"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Update announcement details"})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs("button",{onClick:A,className:"bg-gray-600 text-white px-3 py-2 text-xs hover:bg-gray-700 flex items-center",children:[e.jsx(I,{icon:Br,className:"mr-2"}),"Cancel"]})})]})}),e.jsxs("div",{className:"bg-white border border-gray-200 shadow",children:[e.jsx("div",{className:"px-4 py-3 border-b border-gray-200",children:e.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Announcement Details"})}),e.jsxs("form",{onSubmit:P,className:"p-4",children:[m&&e.jsxs("div",{className:"mb-4 p-3 bg-green-100 border border-green-200 text-green-700 text-xs",children:[e.jsx(I,{icon:ur,className:"mr-2"}),m]}),d&&e.jsxs("div",{className:"mb-4 p-3 bg-red-100 border border-red-200 text-red-700 text-xs",children:[e.jsx(I,{icon:ur,className:"mr-2"}),d]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Title *"}),e.jsx("input",{type:"text",name:"title",value:p.title,onChange:N,required:!0,className:"w-full px-3 py-2 border border-gray-300 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500",placeholder:"Enter announcement title"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Content *"}),e.jsx("textarea",{name:"content",value:p.content,onChange:N,required:!0,rows:6,className:"w-full px-3 py-2 border border-gray-300 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500",placeholder:"Enter announcement content"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Target Audience *"}),e.jsxs("select",{name:"announcement_type",value:p.announcement_type,onChange:N,required:!0,className:"w-full px-3 py-2 border border-gray-300 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500",children:[e.jsx("option",{value:"student",children:"Students"}),e.jsx("option",{value:"employee",children:"Employees"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Target Type"}),e.jsxs("select",{name:"target_type",value:p.target_type,onChange:N,className:"w-full px-3 py-2 border border-gray-300 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500",children:[e.jsxs("option",{value:"all",children:["All ",p.announcement_type==="student"?"Students":"Employees"]}),e.jsxs("option",{value:"specific",children:["Specific ",p.announcement_type==="student"?"Class":"Department"]})]})]}),p.target_type==="specific"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:p.announcement_type==="student"?"Class":"Department"}),e.jsxs("select",{name:"target_value",value:p.target_value,onChange:N,className:"w-full px-3 py-2 border border-gray-300 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500",children:[e.jsxs("option",{value:"",children:["Select ",p.announcement_type==="student"?"Class":"Department"]}),(p.announcement_type==="student"?x.students:x.employees).length>0?(p.announcement_type==="student"?x.students:x.employees).map(D=>e.jsx("option",{value:D.id,children:D.stream_name?`${D.name} (${D.stream_name})`:D.name},D.id)):e.jsxs("option",{value:"",disabled:!0,children:["No ",p.announcement_type==="student"?"classes":"departments"," available"]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Priority"}),e.jsxs("select",{name:"priority",value:p.priority,onChange:N,className:"w-full px-3 py-2 border border-gray-300 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500",children:[e.jsx("option",{value:"low",children:"Low"}),e.jsx("option",{value:"medium",children:"Medium"}),e.jsx("option",{value:"high",children:"High"}),e.jsx("option",{value:"urgent",children:"Urgent"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Status"}),e.jsxs("select",{name:"status",value:p.status,onChange:N,className:"w-full px-3 py-2 border border-gray-300 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500",children:[e.jsx("option",{value:"draft",children:"Draft"}),e.jsx("option",{value:"published",children:"Published"}),e.jsx("option",{value:"archived",children:"Archived"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Start Date"}),e.jsx("input",{type:"date",name:"start_date",value:p.start_date,onChange:N,className:"w-full px-3 py-2 border border-gray-300 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"End Date"}),e.jsx("input",{type:"date",name:"end_date",value:p.end_date,onChange:N,className:"w-full px-3 py-2 border border-gray-300 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-end gap-3 mt-6 pt-4 border-t border-gray-200",children:[e.jsx("button",{type:"button",onClick:A,className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 text-xs font-medium border border-gray-300",children:"Cancel"}),e.jsxs("button",{type:"submit",disabled:s,className:"px-4 py-2 bg-blue-600 text-white hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed text-xs font-medium flex items-center",children:[s?e.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-b-2 border-white mr-2"}):e.jsx(I,{icon:Dn,className:"mr-2"}),s?"Updating...":"Update Announcement"]})]})]})]})]})})},xde=()=>{const{token:t}=et(),[r,a]=g.useState("structures"),[s,n]=g.useState([]),[i,o]=g.useState([]),[d,u]=g.useState(!1),[m,f]=g.useState(!1),[x,b]=g.useState(null),[p,v]=g.useState(!1),[j,w]=g.useState(new Date().getFullYear().toString()),[N,P]=g.useState({fee_name:"",description:"",amount:"",currency_id:"",fee_type:"one_time",academic_year:j});g.useEffect(()=>{A(),D()},[j]),g.useEffect(()=>{P(k=>({...k,academic_year:j}))},[j]);const A=async()=>{try{const Y=await(await fetch(`${ce}/additional-fees/structures?academic_year=${j}`,{headers:{Authorization:`Bearer ${t}`}})).json();Y.success&&n(Y.data)}catch(k){console.error("Error loading fee structures:",k)}},D=async()=>{try{const Y=await(await fetch(`${ce}/accounting/currencies`,{headers:{Authorization:`Bearer ${t}`}})).json();if(Y.success){o(Y.data);const $=Y.data.find(M=>M.code==="USD");$&&P(M=>({...M,currency_id:$.id}))}}catch(k){console.error("Error loading currencies:",k)}},T=k=>{const{name:Y,value:$}=k.target;P(M=>({...M,[Y]:$}))},R=async k=>{k.preventDefault(),v(!0);try{console.log("Creating fee structure with data:",N);const Y=await fetch(`${ce}/additional-fees/structures`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify(N)});console.log("Response status:",Y.status);const $=await Y.json();console.log("Response data:",$),$.success?(alert("Fee structure created successfully"),u(!1),P({fee_name:"",description:"",amount:"",currency_id:"",fee_type:"one_time"}),A()):alert($.message||"Failed to create fee structure")}catch(Y){console.error("Error creating fee structure:",Y),alert("Error creating fee structure: "+Y.message)}finally{v(!1)}},E=k=>{const Y=s.find($=>$.id===k);Y&&(b(Y),f(!0))},O=async()=>{if(x){v(!0),f(!1);try{const k={fee_structure_id:x.id,academic_year:j,due_date:""},$=await(await fetch(`${ce}/additional-fees/assignments/bulk-annual`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify(k)})).json();$.success?(alert(`"${x.fee_name}" generated for ${$.data.assignments_created} students`),A()):alert($.message||"Failed to generate fee assignments")}catch(k){console.error("Error generating fee assignments:",k),alert("Error generating fee assignments")}finally{v(!1),b(null)}}};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"min-h-screen bg-gray-50 py-2 md:py-6",children:e.jsxs("div",{className:"w-full px-2 md:px-4 lg:px-8",children:[e.jsx("div",{className:"mb-4 md:mb-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg md:text-xl font-bold text-gray-900",children:"Additional Fees Management"}),e.jsx("p",{className:"text-xs md:text-sm text-gray-600",children:"Manage textbook, registration, and report book fees"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 items-start sm:items-center",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("label",{className:"text-xs font-medium text-gray-700",children:"Academic Year:"}),e.jsx("input",{type:"text",value:j,onChange:k=>w(k.target.value),placeholder:"e.g., 2025",className:"border border-gray-300 px-2 py-1 text-xs focus:outline-none focus:ring-blue-500 focus:border-blue-500 rounded w-20"})]}),e.jsxs("button",{onClick:()=>{A(),D()},className:"bg-gray-600 text-white px-3 py-2 text-xs hover:bg-gray-700 flex items-center w-full sm:w-auto justify-center",children:[e.jsx(I,{icon:LC,className:"mr-1"}),"Refresh"]})]})]})}),e.jsx("div",{className:"mb-4 md:mb-6",children:e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"-mb-px flex space-x-2 md:space-x-8 overflow-x-auto",children:e.jsxs("button",{onClick:()=>a("structures"),className:`py-2 px-1 border-b-2 font-medium text-xs flex items-center space-x-1 whitespace-nowrap ${r==="structures"?"border-gray-900 text-gray-900":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(I,{icon:tx,className:"text-xs"}),e.jsx("span",{children:"Fee Structures"})]})})})}),e.jsx("div",{className:"grid grid-cols-1 gap-4 md:gap-6",children:r==="structures"&&e.jsxs("div",{className:"bg-white border border-gray-200 overflow-hidden",children:[e.jsxs("div",{className:"px-3 md:px-4 py-3 border-b border-gray-200 flex flex-col sm:flex-row sm:justify-between sm:items-center gap-3",children:[e.jsx("h3",{className:"text-sm md:text-base font-medium text-gray-900",children:"Fee Structures"}),e.jsxs("button",{className:"bg-gray-900 text-white px-3 py-2 text-xs hover:bg-gray-800 flex items-center w-full sm:w-auto justify-center",onClick:()=>u(!0),children:[e.jsx(I,{icon:_t,className:"mr-1"}),"Add Fee Structure"]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-2 md:px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fee Name"}),e.jsx("th",{className:"px-2 md:px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider hidden sm:table-cell",children:"Description"}),e.jsx("th",{className:"px-2 md:px-3 py-2 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),e.jsx("th",{className:"px-2 md:px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider hidden md:table-cell",children:"Type"}),e.jsx("th",{className:"px-2 md:px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider hidden lg:table-cell",children:"Status"}),e.jsx("th",{className:"px-2 md:px-3 py-2 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.map(k=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-2 md:px-3 py-2 whitespace-nowrap text-xs",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(I,{icon:k.fee_type==="annual"?bc:Kn,className:"mr-2 text-gray-400"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:k.fee_name}),e.jsx("div",{className:"text-gray-500 sm:hidden",children:k.description})]})]})}),e.jsx("td",{className:"px-2 md:px-3 py-2 text-xs text-gray-900 hidden sm:table-cell",children:k.description}),e.jsxs("td",{className:"px-2 md:px-3 py-2 text-xs text-right font-medium text-gray-900",children:["$",(parseFloat(k.amount)||0).toFixed(2)]}),e.jsx("td",{className:"px-2 md:px-3 py-2 whitespace-nowrap text-xs hidden md:table-cell",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${k.fee_type==="annual"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}`,children:k.fee_type})}),e.jsx("td",{className:"px-2 md:px-3 py-2 whitespace-nowrap text-xs hidden lg:table-cell",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${k.is_active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:k.is_active?"Active":"Inactive"})}),e.jsx("td",{className:"px-2 md:px-3 py-2 whitespace-nowrap text-xs text-center",children:e.jsxs("div",{className:"flex justify-center space-x-1",children:[e.jsx("button",{className:"text-gray-600 hover:text-gray-900 p-1",title:"Edit",children:e.jsx(I,{icon:lr})}),e.jsx("button",{className:"text-red-600 hover:text-red-900 p-1",title:"Delete",children:e.jsx(I,{icon:Mt})}),k.fee_type==="annual"&&e.jsx("button",{className:"text-blue-600 hover:text-blue-900 p-1",onClick:()=>E(k.id),title:"Generate for all students",children:e.jsx(I,{icon:bc})})]})})]},k.id))})]})})]})})]})}),d&&e.jsx("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white shadow-xl max-w-md w-full mx-4",children:[e.jsxs("div",{className:"px-3 md:px-4 py-3 border-b border-gray-200 flex justify-between items-center",children:[e.jsx("h3",{className:"text-sm md:text-base font-medium text-gray-900",children:"Create Fee Structure"}),e.jsx("button",{type:"button",className:"text-gray-400 hover:text-gray-600",onClick:()=>u(!1),children:e.jsx(I,{icon:Br,className:"text-sm"})})]}),e.jsxs("form",{onSubmit:R,children:[e.jsxs("div",{className:"p-3 md:p-4 space-y-3 md:space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Fee Name"}),e.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500",name:"fee_name",value:N.fee_name,onChange:T,required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Description"}),e.jsx("textarea",{className:"w-full px-3 py-2 border border-gray-300 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500",name:"description",value:N.description,onChange:T,rows:"3"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 md:gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Amount"}),e.jsx("input",{type:"number",className:"w-full px-3 py-2 border border-gray-300 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500",name:"amount",value:N.amount,onChange:T,step:"0.01",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Currency"}),e.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500",name:"currency_id",value:N.currency_id,onChange:T,required:!0,children:[e.jsx("option",{value:"",children:"Select Currency"}),i.map(k=>e.jsxs("option",{value:k.id,children:[k.name," (",k.code,")"]},k.id))]})]}),e.jsxs("div",{className:"sm:col-span-2 lg:col-span-1",children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Fee Type"}),e.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500",name:"fee_type",value:N.fee_type,onChange:T,children:[e.jsx("option",{value:"one_time",children:"One Time"}),e.jsx("option",{value:"annual",children:"Annual"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Academic Year"}),e.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 text-xs focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500",name:"academic_year",value:N.academic_year||j,onChange:T,placeholder:"e.g., 2025",required:!0})]})]}),e.jsxs("div",{className:"px-3 md:px-4 py-3 border-t border-gray-200 flex flex-col sm:flex-row justify-end gap-2",children:[e.jsx("button",{type:"button",className:"px-3 py-2 text-xs font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 w-full sm:w-auto",onClick:()=>u(!1),children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-3 py-2 text-xs font-medium text-white bg-gray-900 hover:bg-gray-800 disabled:opacity-50 w-full sm:w-auto",disabled:p,children:p?"Creating...":"Create Structure"})]})]})]})}),m&&x&&e.jsx("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white shadow-xl max-w-md w-full mx-4",children:[e.jsxs("div",{className:"px-3 md:px-4 py-3 border-b border-gray-200 flex justify-between items-center",children:[e.jsx("h3",{className:"text-sm md:text-base font-medium text-gray-900",children:"Confirm Bulk Generation"}),e.jsx("button",{type:"button",className:"text-gray-400 hover:text-gray-600",onClick:()=>{f(!1),b(null)},children:e.jsx(I,{icon:Br,className:"text-sm"})})]}),e.jsx("div",{className:"p-3 md:p-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(I,{icon:ur,className:"text-yellow-500 text-xl"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:['Generate "',x.fee_name,'" for All Students']}),e.jsxs("div",{className:"text-xs text-gray-600 space-y-2",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Fee Amount:"})," $",(parseFloat(x.amount)||0).toFixed(2)]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Fee Type:"})," ",x.fee_type]}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-2 sm:space-y-0 sm:space-x-2",children:[e.jsx("label",{className:"text-xs font-medium text-gray-700",children:"Academic Year:"}),e.jsx("input",{type:"text",value:j,onChange:k=>w(k.target.value),placeholder:"e.g., 2025",className:"border border-gray-300 px-2 py-1 text-xs focus:outline-none focus:ring-blue-500 focus:border-blue-500 rounded w-20"})]})]}),e.jsx("div",{className:"mt-3 p-3 bg-yellow-50 border border-yellow-200",children:e.jsxs("p",{className:"text-xs text-yellow-800",children:[e.jsx("strong",{children:"Warning:"})," This will create fee assignments for ",e.jsx("strong",{children:"ALL students"})," in the system. This action cannot be undone."]})})]})]})}),e.jsxs("div",{className:"px-3 md:px-4 py-3 border-t border-gray-200 flex flex-col sm:flex-row justify-end gap-2",children:[e.jsx("button",{type:"button",className:"px-3 py-2 text-xs font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 w-full sm:w-auto",onClick:()=>{f(!1),b(null)},children:"Cancel"}),e.jsx("button",{type:"button",className:"px-3 py-2 text-xs font-medium text-white bg-red-600 hover:bg-red-700 disabled:opacity-50 w-full sm:w-auto",onClick:O,disabled:p,children:p?"Generating...":"Yes, Generate for All Students"})]})]})})]})},pde=()=>{const{token:t}=et(),[r,a]=g.useState([]),[s,n]=g.useState(!0),[i,o]=g.useState(""),[d,u]=g.useState(""),[m,f]=g.useState(""),[x,b]=g.useState(!1),[p,v]=g.useState(!1),[j,w]=g.useState(null),N=async()=>{try{if(n(!0),o(""),m&&m.trim()!==""){const $=await de.get(`${ce}/timetables/templates`,{params:{search:m.trim()},headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});a($.data.data||[])}else{const $=await de.get(`${ce}/timetables/templates`,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});a($.data.data||[])}}catch($){console.error("Error fetching templates:",$),o("Failed to fetch timetable templates")}finally{n(!1)}};g.useEffect(()=>{N()},[m]);const P=$=>{$.preventDefault(),f(d)},A=()=>{u(""),f("")},D=()=>{b(!0)},T=$=>{window.location.href=`/dashboard/timetables/template/${$.id}`},R=$=>{window.location.href=`/dashboard/timetables/template/${$.id}/edit`},E=$=>{w($),v(!0)},O=async()=>{if(j)try{await de.put(`${ce}/timetables/templates/${j.id}`,{is_active:!1},{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}}),N(),v(!1),w(null)}catch($){console.error("Error deleting template:",$),o("Failed to delete template. Please try again.")}},k=()=>{v(!1),w(null)},Y=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[e.jsxs("div",{className:"flex-1 max-w-md",children:[e.jsxs("form",{onSubmit:P,className:"flex",children:[e.jsx("input",{type:"text",value:d,onChange:$=>u($.target.value),placeholder:"Search by template name, year, or term...",className:"flex-1 px-2 py-1 border border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 text-xs"}),e.jsx("button",{type:"submit",className:"inline-flex items-center justify-center px-2 py-1 border border-transparent text-xs font-medium text-white bg-gray-700 hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",children:e.jsx(I,{icon:Vt,className:"h-3 w-3"})})]}),m&&e.jsxs("div",{className:"mt-2 text-xs text-gray-600",children:[s?"Searching...":`Found ${r.length} results for "${m}"`,e.jsx("button",{onClick:A,className:"ml-2 text-blue-600 hover:text-blue-800 underline text-xs",children:"Clear search"})]})]}),e.jsx("div",{className:"flex items-center space-x-3",children:e.jsxs("button",{onClick:D,className:"inline-flex items-center px-3 py-1 border border-transparent text-xs font-medium text-white bg-gray-700 hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",children:[e.jsx(I,{icon:_t,className:"mr-1 h-3 w-3"}),"Add New Template"]})})]}),i&&e.jsx("div",{className:"mt-4 bg-red-50 border border-red-200 rounded-md p-3",children:e.jsx("div",{className:"text-xs text-red-600",children:i})}),e.jsx("div",{className:"mt-8 flex flex-col",children:e.jsx("div",{className:"-my-2 -mx-4 overflow-x-auto sm:-mx-6 lg:-mx-8",children:e.jsx("div",{className:"inline-block min-w-full py-2 align-middle md:px-6 lg:px-8",children:e.jsx("div",{className:"overflow-hidden border border-gray-200",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium tracking-wider",children:"Template Name"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium tracking-wider",children:"Academic Year"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium tracking-wider",children:"Term"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium tracking-wider",children:"Days"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium tracking-wider",children:"Entries"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium tracking-wider",children:"Status"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map($=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-xs text-gray-900",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(I,{icon:Xu,className:"h-4 w-4 text-gray-400 mr-2"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:$.name}),$.description&&e.jsx("div",{className:"text-gray-500 text-xs",children:$.description})]})]})}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-xs text-gray-500",children:$.academic_year}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-xs text-gray-500",children:$.term}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-xs text-gray-500",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(I,{icon:sn,className:"h-3 w-3 mr-1"}),$.total_days||0]})}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-xs text-gray-500",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(I,{icon:Ir,className:"h-3 w-3 mr-1"}),$.total_entries||0]})}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-xs",children:$.is_active?e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[e.jsx(I,{icon:aa,className:"h-3 w-3 mr-1"}),"Active"]}):e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:[e.jsx(I,{icon:ur,className:"h-3 w-3 mr-1"}),"Inactive"]})}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-xs text-gray-500",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>T($),className:"text-blue-600 hover:text-blue-900",title:"View Template",children:e.jsx(I,{icon:Fr,className:"h-3 w-3"})}),e.jsx("button",{onClick:()=>R($),className:"text-gray-600 hover:text-gray-900",title:"Edit Template",children:e.jsx(I,{icon:lr,className:"h-3 w-3"})}),e.jsx("button",{onClick:()=>E($),className:"text-red-600 hover:text-red-900",title:"Delete Template",children:e.jsx(I,{icon:Mt,className:"h-3 w-3"})})]})})]},$.id))})]})})})})}),r.length===0&&!s&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(I,{icon:Xu,className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Timetable Templates"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Get started by creating your first timetable template"}),e.jsxs("button",{onClick:D,className:"inline-flex items-center px-4 py-2 bg-gray-700 text-white rounded-lg hover:bg-gray-800 transition-colors",children:[e.jsx(I,{icon:_t,className:"h-4 w-4 mr-2"}),"Create Template"]})]})]});return e.jsxs("div",{className:"",children:[s?e.jsx("div",{className:"text-xs text-gray-500 mb-4",children:"Loading..."}):i?e.jsx("div",{className:"text-xs text-red-600 mb-4",children:i}):Y(),x&&e.jsx(gde,{onClose:()=>b(!1),onSuccess:()=>{b(!1),N()}}),p&&j&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Delete Template"}),e.jsxs("p",{className:"text-gray-600 mb-6",children:['Are you sure you want to delete "',j.name,'"? This action cannot be undone.']}),e.jsxs("div",{className:"flex items-center justify-end space-x-3",children:[e.jsx("button",{onClick:k,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:O,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Delete"})]})]})})]})},gde=({onClose:t,onSuccess:r})=>{const{token:a}=et(),[s,n]=g.useState({name:"",description:"",academic_year:new Date().getFullYear().toString(),term:"Term 1",days:["Monday","Tuesday","Wednesday","Thursday","Friday"]}),[i,o]=g.useState(!1),[d,u]=g.useState(""),m=async b=>{b.preventDefault(),o(!0),u("");try{const p=await de.post(`${ce}/timetables/templates`,s,{headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"}});p.data.success?r():u(p.data.message||"Failed to create template")}catch(p){console.error("Error creating template:",p),u(p.response?.data?.message||"Failed to create template")}finally{o(!1)}},f=b=>{const{name:p,value:v}=b.target;n(j=>({...j,[p]:v}))},x=b=>{n(p=>({...p,days:p.days.includes(b)?p.days.filter(v=>v!==b):[...p.days,b]}))};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Create Timetable Template"}),d&&e.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:d}),e.jsxs("form",{onSubmit:m,children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Template Name *"}),e.jsx("input",{type:"text",name:"name",value:s.name,onChange:f,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Term 1 2025",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),e.jsx("textarea",{name:"description",value:s.description,onChange:f,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",rows:"3",placeholder:"Brief description of this timetable template"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Academic Year *"}),e.jsx("input",{type:"text",name:"academic_year",value:s.academic_year,onChange:f,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Term *"}),e.jsxs("select",{name:"term",value:s.term,onChange:f,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[e.jsx("option",{value:"Term 1",children:"Term 1"}),e.jsx("option",{value:"Term 2",children:"Term 2"}),e.jsx("option",{value:"Term 3",children:"Term 3"}),e.jsx("option",{value:"Semester 1",children:"Semester 1"}),e.jsx("option",{value:"Semester 2",children:"Semester 2"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Days of Week"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"].map(b=>e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:s.days.includes(b),onChange:()=>x(b),className:"mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:b})]},b))})]})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-3 mt-6",children:[e.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:i,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:i?"Creating...":"Create Template"})]})]})]})})},yde=({templateId:t,entries:r,onEntryUpdate:a,onEntryDelete:s})=>{const{token:n}=et(),[i,o]=g.useState({}),[d,u]=g.useState(!0),[m,f]=g.useState(!1),[x,b]=g.useState(null),p=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"];g.useEffect(()=>{(async()=>{try{u(!0);const D={};for(const T of p){const R=await de.get(`${ce}/timetables/templates/${t}/periods/${T}`,{headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"}});R.data.success&&(D[T]=R.data.data||[])}o(D)}catch(D){console.error("Error fetching periods:",D)}finally{u(!1)}})()},[t]);const v=(A,D)=>r.find(T=>T.day_of_week===A&&T.period_id===D),j=A=>(i[A]||[]).sort((T,R)=>T.start_time.localeCompare(R.start_time)),w=(A,D)=>{if(D.is_break)return;const T=v(A,D.id);b({day:A,period:D,entry:T}),f(!0)},N=async A=>{try{x.entry?(await fetch(`${ce}/timetables/entries/${x.entry.id}`,{method:"PUT",headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"},body:JSON.stringify(A)})).ok&&a&&a():(await fetch(`${ce}/timetables/templates/${t}/entries`,{method:"POST",headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"},body:JSON.stringify({...A,day_of_week:x.day,period_id:x.period.id})})).ok&&a&&a(),f(!1),b(null)}catch(D){console.error("Error saving entry:",D)}},P=async A=>{if(window.confirm("Are you sure you want to delete this entry?"))try{(await fetch(`${ce}/timetables/entries/${A}`,{method:"DELETE",headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"}})).ok&&s&&s()}catch(D){console.error("Error deleting entry:",D)}};return d?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"text-gray-500",children:"Loading timetable..."})}):e.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-32",children:"Time"}),p.map(A=>e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-48",children:A},A))]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Object.keys(i).length>0&&j(p[0]).map(A=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 bg-gray-50",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(I,{icon:sn,className:"h-4 w-4 text-gray-400 mr-2"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:A.name}),e.jsxs("div",{className:"text-xs text-gray-500",children:[A.start_time," - ",A.end_time]})]})]})}),p.map(D=>{const T=i[D]?.find(E=>E.id===A.id),R=v(D,A.id);return T?e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:T.is_break?e.jsx("div",{className:"flex items-center justify-center p-3 bg-red-50 border border-red-200 rounded-lg",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-medium text-red-800",children:T.name}),e.jsx("div",{className:"text-xs text-red-600",children:T.period_type})]})}):R?e.jsxs("div",{className:"group relative",children:[e.jsxs("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg hover:bg-blue-100 transition-colors cursor-pointer",children:[e.jsx("div",{className:"font-medium text-blue-900",children:R.subject_name}),e.jsx("div",{className:"text-xs text-blue-700",children:R.teacher_name}),e.jsx("div",{className:"text-xs text-blue-600",children:R.class_name||R.stream_name})]}),e.jsx("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsxs("div",{className:"flex space-x-1",children:[e.jsx("button",{onClick:E=>{E.stopPropagation(),b({day:D,period:T,entry:R}),f(!0)},className:"p-1 bg-white rounded shadow-sm hover:bg-gray-50",title:"Edit Entry",children:e.jsx(I,{icon:lr,className:"h-3 w-3 text-gray-600"})}),e.jsx("button",{onClick:E=>{E.stopPropagation(),P(R.id)},className:"p-1 bg-white rounded shadow-sm hover:bg-red-50",title:"Delete Entry",children:e.jsx(I,{icon:Mt,className:"h-3 w-3 text-red-600"})})]})})]}):e.jsxs("button",{onClick:()=>w(D,T),className:"w-full p-3 border-2 border-dashed border-gray-300 rounded-lg hover:border-blue-400 hover:bg-blue-50 transition-colors text-gray-500 hover:text-blue-600",children:[e.jsx(I,{icon:_t,className:"h-4 w-4 mx-auto mb-1"}),e.jsx("div",{className:"text-xs",children:"Add Class"})]})},D):e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-400 bg-gray-50",children:"-"},D)})]},A.id))})]})}),m&&x&&e.jsx(bde,{selectedCell:x,templateId:t,onClose:()=>{f(!1),b(null)},onSave:N})]})},bde=({selectedCell:t,templateId:r,onClose:a,onSave:s})=>{const{token:n}=et(),[i,o]=g.useState([]),[d,u]=g.useState(!1),[m,f]=g.useState({subject_class_id:t.entry?.subject_class_id||""});g.useEffect(()=>{(async()=>{try{const v=await fetch(`${ce}/timetables/templates/${r}/available-subject-classes`,{headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"}});if(v.ok){const j=await v.json();o(j.data||[])}}catch(v){console.error("Error fetching subject classes:",v)}})()},[r]);const x=async p=>{p.preventDefault(),u(!0),await s(m),u(!1)},b=p=>{const{name:v,value:j}=p.target;f(w=>({...w,[v]:j}))};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:[t.entry?"Edit Entry":"Add Entry"," - ",t.day]}),e.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:[t.period.name," (",t.period.start_time," - ",t.period.end_time,")"]}),e.jsxs("form",{onSubmit:x,children:[e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subject Class *"}),e.jsxs("select",{name:"subject_class_id",value:m.subject_class_id,onChange:b,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[e.jsx("option",{value:"",children:"Select a subject class"}),i.map(p=>e.jsxs("option",{value:p.id,children:[p.subject_name," - ",p.teacher_name," (",p.class_name||p.stream_name,")"]},p.id))]})]})}),e.jsxs("div",{className:"flex items-center justify-end space-x-3 mt-6",children:[e.jsx("button",{type:"button",onClick:a,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:d,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:d?"Saving...":t.entry?"Update":"Add"})]})]})]})})},vde=()=>{const{id:t}=On(),r=br(),{token:a}=et(),[s,n]=g.useState(null),[i,o]=g.useState(!0),[d,u]=g.useState(""),[m,f]=g.useState("overview"),[x,b]=g.useState([]),[p,v]=g.useState([]),[j,w]=g.useState(null),N=async()=>{try{o(!0);const O=await de.get(`${ce}/timetables/templates/${t}`,{headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"}});O.data.success?n(O.data.data):u("Failed to fetch template details")}catch(O){console.error("Error fetching template:",O),u("Failed to fetch template details")}finally{o(!1)}},P=async()=>{try{const O=await de.get(`${ce}/timetables/templates/${t}/entries`,{headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"}});O.data.success&&b(O.data.data||[])}catch(O){console.error("Error fetching entries:",O)}},A=()=>{P()},D=()=>{P()},T=async()=>{try{const O=await fetch(`${ce}/timetable-generation/templates/${t}/conflicts`,{headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"}});if(O.ok){const k=await O.json();v(k.data.conflicts||[])}}catch(O){console.error("Error fetching conflicts:",O)}},R=async()=>{try{const O=await fetch(`${ce}/timetable-generation/templates/${t}/stats`,{headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"}});if(O.ok){const k=await O.json();w(k.data)}}catch(O){console.error("Error fetching stats:",O)}},E=async()=>{try{const O=await fetch(`${ce}/timetable-generation/templates/${t}/generate`,{method:"POST",headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"},body:JSON.stringify({options:{clearExisting:!0,strategy:"balanced"}})});if(O.ok){const k=await O.json();alert(`Timetable generated successfully! ${k.data.generated_entries} entries created.`),P(),T(),R()}else{const k=await O.json();alert(`Failed to generate timetable: ${k.message}`)}}catch(O){console.error("Error generating timetable:",O),alert("Failed to generate timetable")}};return g.useEffect(()=>{N()},[t]),g.useEffect(()=>{s&&(P(),T(),R())},[s]),i?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"text-gray-500",children:"Loading template..."})}):d?e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx(AlertCircle,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-600 mb-4",children:d}),e.jsx("button",{onClick:()=>r("/dashboard/timetables"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Back to Timetables"})]})}):s?e.jsxs("div",{className:"",children:[i?e.jsx("div",{className:"text-xs text-gray-500 mb-4",children:"Loading..."}):d?e.jsx("div",{className:"text-xs text-red-600 mb-4",children:d}):s?e.jsx("div",{className:"mb-6 border-b border-gray-200",children:e.jsxs("div",{className:"px-6 pt-2 pb-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("button",{onClick:()=>r("/dashboard/timetables"),className:"mr-4 p-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(I,{icon:gx,className:"h-4 w-4"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xl text-gray-900 font-semibold mb-1",children:s.name}),e.jsxs("div",{className:"text-sm text-gray-500 mb-4",children:[s.academic_year," - ",s.term]})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("button",{onClick:E,className:"inline-flex items-center px-3 py-1 border border-transparent text-xs font-medium text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:[e.jsx(I,{icon:wf,className:"mr-1 h-3 w-3"}),"Generate Timetable"]}),e.jsxs("button",{onClick:()=>r(`/dashboard/timetables/template/${t}/edit`),className:"inline-flex items-center px-3 py-1 border border-transparent text-xs font-medium text-white bg-gray-700 hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",children:[e.jsx(I,{icon:lr,className:"mr-1 h-3 w-3"}),"Edit Template"]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:space-x-8 text-sm text-gray-700",children:[e.jsxs("div",{className:"flex items-center mb-2 sm:mb-0",children:[e.jsx(I,{icon:Xu,className:"mr-2 h-4 w-4 text-gray-400"}),e.jsx("span",{className:"text-gray-600",children:"Template:"}),e.jsx("span",{className:"ml-1 text-gray-900",children:s.name})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(I,{icon:sn,className:"mr-2 h-4 w-4 text-gray-400"}),e.jsx("span",{className:"text-gray-600",children:"Days:"}),e.jsxs("span",{className:"ml-1 text-gray-900",children:[s.days?.length||0," configured"]})]})]})]})}):null,e.jsx("div",{className:"mb-6 border-b border-gray-200",children:e.jsx("nav",{className:"flex space-x-8 px-6",children:[{id:"overview",name:"Overview",icon:Xu},{id:"timetable",name:"Timetable",icon:sn},{id:"conflicts",name:"Conflicts",icon:ur},{id:"stats",name:"Statistics",icon:Ao}].map(O=>e.jsxs("button",{onClick:()=>f(O.id),className:`py-3 text-sm font-medium border-b-2 transition-colors duration-150 ${m===O.id?"border-gray-700 text-gray-900":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(I,{icon:O.icon,className:"mr-2 h-4 w-4"}),O.name]},O.id))})}),m==="overview"&&e.jsx(jde,{template:s}),m==="timetable"&&e.jsx(Nde,{template:s,entries:x,onEntryUpdate:A,onEntryDelete:D}),m==="conflicts"&&e.jsx(wde,{conflicts:p}),m==="stats"&&e.jsx(Sde,{stats:j})]}):e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Calendar,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Template Not Found"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"The requested timetable template could not be found."}),e.jsx("button",{onClick:()=>r("/dashboard/timetables"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Back to Timetables"})]})})},jde=({template:t})=>e.jsxs("div",{className:"px-6 space-y-4",children:[e.jsxs("div",{className:"bg-white shadow p-4",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Template Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-gray-700",children:"Name"}),e.jsx("p",{className:"text-gray-900 text-xs",children:t.name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-gray-700",children:"Academic Year"}),e.jsx("p",{className:"text-gray-900 text-xs",children:t.academic_year})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-gray-700",children:"Term"}),e.jsx("p",{className:"text-gray-900 text-xs",children:t.term})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-gray-700",children:"Status"}),e.jsx("p",{className:"text-gray-900 text-xs",children:t.is_active?e.jsx("span",{className:"text-green-600",children:"Active"}):e.jsx("span",{className:"text-gray-600",children:"Inactive"})})]})]}),t.description&&e.jsxs("div",{className:"mt-3",children:[e.jsx("label",{className:"text-xs font-medium text-gray-700",children:"Description"}),e.jsx("p",{className:"text-gray-900 text-xs",children:t.description})]})]}),e.jsxs("div",{className:"bg-white shadow p-4",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Days Configuration"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:t.days?.map(r=>e.jsxs("div",{className:"flex items-center p-2 bg-gray-50",children:[e.jsx(I,{icon:Xu,className:"h-4 w-4 text-blue-600 mr-2"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900 text-xs",children:r.day_of_week}),e.jsxs("p",{className:"text-xs text-gray-600",children:[r.total_periods," periods"]})]})]},r.id))})]})]}),Nde=({template:t,entries:r,onEntryUpdate:a,onEntryDelete:s})=>e.jsx("div",{className:"px-6",children:e.jsx(yde,{templateId:t.id,entries:r,onEntryUpdate:a,onEntryDelete:s})}),wde=({conflicts:t})=>e.jsx("div",{className:"px-6",children:e.jsxs("div",{className:"bg-white shadow",children:[e.jsx("div",{className:"px-4 py-3 border-b border-gray-200",children:e.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:"Conflicts"})}),e.jsx("div",{className:"p-4",children:t.length===0?e.jsxs("div",{className:"text-center py-6",children:[e.jsx(I,{icon:aa,className:"h-8 w-8 text-green-500 mx-auto mb-3"}),e.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-2",children:"No Conflicts Found"}),e.jsx("p",{className:"text-gray-600 text-xs",children:"Your timetable is conflict-free!"})]}):e.jsx("div",{className:"space-y-3",children:t.map(r=>e.jsx("div",{className:"p-3 bg-red-50 border border-red-200",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(I,{icon:ur,className:"h-4 w-4 text-red-500 mr-2 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-xs font-medium text-red-800",children:r.conflict_type}),e.jsx("p",{className:"text-xs text-red-700 mt-1",children:r.description}),e.jsxs("p",{className:"text-xs text-red-600 mt-1",children:[r.day_of_week," - ",r.period_name]})]})]})},r.id))})})]})}),Sde=({stats:t})=>t?e.jsxs("div",{className:"px-6 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx("div",{className:"bg-white shadow p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(I,{icon:Ir,className:"h-6 w-6 text-blue-600"}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-xs font-medium text-gray-600",children:"Total Entries"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900",children:t.basic_stats?.total_entries||0})]})]})}),e.jsx("div",{className:"bg-white shadow p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(I,{icon:Xu,className:"h-6 w-6 text-green-600"}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-xs font-medium text-gray-600",children:"Active Days"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900",children:t.basic_stats?.active_days||0})]})]})}),e.jsx("div",{className:"bg-white shadow p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(I,{icon:sn,className:"h-6 w-6 text-purple-600"}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-xs font-medium text-gray-600",children:"Teachers"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900",children:t.basic_stats?.teachers_involved||0})]})]})}),e.jsx("div",{className:"bg-white shadow p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(I,{icon:ur,className:"h-6 w-6 text-red-600"}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-xs font-medium text-gray-600",children:"Conflicts"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900",children:"0"})]})]})})]}),t.teacher_workload&&t.teacher_workload.length>0&&e.jsxs("div",{className:"bg-white shadow p-4",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Teacher Workload"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Teacher"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Periods"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Active Days"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Subjects"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.teacher_workload.map(r=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-xs font-medium text-gray-900",children:r.teacher_name}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-xs text-gray-500",children:r.total_periods}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-xs text-gray-500",children:r.active_days}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-xs text-gray-500",children:r.subjects_taught})]},r.teacher_name))})]})})]})]}):e.jsx("div",{className:"px-6",children:e.jsx("div",{className:"text-center py-8",children:e.jsx("div",{className:"text-gray-500 text-sm",children:"Loading statistics..."})})}),_de=()=>{const{id:t}=On(),r=br(),{token:a}=et(),[s,n]=g.useState(null),[i,o]=g.useState(!0),[d,u]=g.useState(!1),[m,f]=g.useState(""),[x,b]=g.useState("Monday"),[p,v]=g.useState(!1),j=async()=>{try{o(!0);const R=await de.get(`${ce}/timetables/templates/${t}`,{headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"}});R.data.success?(n(R.data.data),R.data.data.days&&R.data.data.days.length>0&&b(R.data.data.days[0].day_of_week)):f("Failed to fetch template details")}catch(R){console.error("Error fetching template:",R),f("Failed to fetch template details")}finally{o(!1)}},w=async R=>{try{u(!0);const E=await de.put(`${ce}/timetables/templates/${t}`,R,{headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"}});E.data.success?r(`/dashboard/timetables/template/${t}`):f(E.data.message||"Failed to update template")}catch(E){console.error("Error updating template:",E),f(E.response?.data?.message||"Failed to update template")}finally{u(!1)}},N=async R=>{try{const E=await fetch(`${ce}/timetables/templates/${t}/periods/${x}`,{method:"POST",headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"},body:JSON.stringify(R)});if(E.ok)j(),v(!1);else{const O=await E.json();f(O.message||"Failed to add period")}}catch(E){console.error("Error adding period:",E),f("Failed to add period")}},P=async(R,E)=>{try{const O=await fetch(`${ce}/timetables/periods/${R}`,{method:"PUT",headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"},body:JSON.stringify(E)});if(O.ok)j();else{const k=await O.json();f(k.message||"Failed to update period")}}catch(O){console.error("Error updating period:",O),f("Failed to update period")}},A=async R=>{if(window.confirm("Are you sure you want to delete this period?"))try{const E=await fetch(`${ce}/timetables/periods/${R}`,{method:"DELETE",headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"}});if(E.ok)j();else{const O=await E.json();f(O.message||"Failed to delete period")}}catch(E){console.error("Error deleting period:",E),f("Failed to delete period")}};if(g.useEffect(()=>{j()},[t]),i)return e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"text-gray-500",children:"Loading template..."})});if(m)return e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx(AlertCircle,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-600 mb-4",children:m}),e.jsx("button",{onClick:()=>r("/dashboard/timetables"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Back to Timetables"})]})});if(!s)return e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Calendar,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Template Not Found"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"The requested timetable template could not be found."}),e.jsx("button",{onClick:()=>r("/dashboard/timetables"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Back to Timetables"})]})});const T=s.days?.find(R=>R.day_of_week===x)?.periods||[];return e.jsxs("div",{className:"",children:[e.jsx("div",{className:"mb-6 border-b border-gray-200",children:e.jsxs("div",{className:"px-6 pt-2 pb-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("button",{onClick:()=>r(`/dashboard/timetables/template/${t}`),className:"mr-4 p-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(I,{icon:gx,className:"h-4 w-4"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xl text-gray-900 font-semibold mb-1",children:"Edit Template"}),e.jsx("div",{className:"text-sm text-gray-500 mb-4",children:s.name})]})]}),e.jsxs("button",{onClick:()=>w({name:s.name,description:s.description,is_active:s.is_active}),disabled:d,className:"inline-flex items-center px-3 py-1 border border-transparent text-xs font-medium text-white bg-gray-700 hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 disabled:opacity-50",children:[e.jsx(I,{icon:Dn,className:"mr-1 h-3 w-3"}),d?"Saving...":"Save Changes"]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:space-x-8 text-sm text-gray-700",children:[e.jsxs("div",{className:"flex items-center mb-2 sm:mb-0",children:[e.jsx(I,{icon:Xu,className:"mr-2 h-4 w-4 text-gray-400"}),e.jsx("span",{className:"text-gray-600",children:"Template:"}),e.jsx("span",{className:"ml-1 text-gray-900",children:s.name})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(I,{icon:sn,className:"mr-2 h-4 w-4 text-gray-400"}),e.jsx("span",{className:"text-gray-600",children:"Days:"}),e.jsxs("span",{className:"ml-1 text-gray-900",children:[s.days?.length||0," configured"]})]})]})]})}),m&&e.jsxs("div",{className:"px-6 mb-4 p-4 bg-red-50 border border-red-200 rounded-lg flex items-center",children:[e.jsx(I,{icon:ur,className:"h-5 w-5 text-red-500 mr-2"}),e.jsx("span",{className:"text-red-700 text-sm",children:m})]}),e.jsxs("div",{className:"px-6 grid grid-cols-1 lg:grid-cols-4 gap-6",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"bg-white shadow p-4",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-4",children:"Days"}),e.jsx("div",{className:"space-y-1",children:s.days?.map(R=>e.jsx("button",{onClick:()=>b(R.day_of_week),className:`w-full text-left px-2 py-1 transition-colors text-xs ${x===R.day_of_week?"bg-gray-100 text-gray-900":"text-gray-700 hover:bg-gray-50"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-medium",children:R.day_of_week}),e.jsxs("span",{className:"text-xs text-gray-500",children:[R.total_periods," periods"]})]})},R.id))})]})}),e.jsx("div",{className:"lg:col-span-3",children:e.jsxs("div",{className:"bg-white shadow",children:[e.jsxs("div",{className:"px-6 py-3 border-b border-gray-200 flex items-center justify-between",children:[e.jsxs("h3",{className:"text-sm font-semibold text-gray-900",children:[x," Periods"]}),e.jsxs("button",{onClick:()=>v(!0),className:"inline-flex items-center px-2 py-1 border border-transparent text-xs font-medium text-white bg-gray-700 hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",children:[e.jsx(I,{icon:_t,className:"mr-1 h-3 w-3"}),"Add Period"]})]}),e.jsx("div",{className:"p-4",children:T.length===0?e.jsxs("div",{className:"text-center py-6",children:[e.jsx(I,{icon:sn,className:"h-8 w-8 text-gray-400 mx-auto mb-3"}),e.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-2",children:"No Periods"}),e.jsxs("p",{className:"text-gray-600 text-xs mb-3",children:["Add periods to configure the ",x," schedule"]}),e.jsxs("button",{onClick:()=>v(!0),className:"inline-flex items-center px-3 py-1 bg-gray-700 text-white hover:bg-gray-800 transition-colors text-xs",children:[e.jsx(I,{icon:_t,className:"mr-1 h-3 w-3"}),"Add First Period"]})]}):e.jsx("div",{className:"space-y-4",children:T.map(R=>e.jsx(Ade,{period:R,onUpdate:E=>P(R.id,E),onDelete:()=>A(R.id)},R.id))})})]})})]}),p&&e.jsx(kde,{onClose:()=>v(!1),onSave:N,dayOfWeek:x})]})},Ade=({period:t,onUpdate:r,onDelete:a})=>{const[s,n]=g.useState(!1),[i,o]=g.useState({name:t.name,start_time:t.start_time,end_time:t.end_time,period_type:t.period_type,is_break:t.is_break,sort_order:t.sort_order}),d=()=>{r(i),n(!1)},u=()=>{o({name:t.name,start_time:t.start_time,end_time:t.end_time,period_type:t.period_type,is_break:t.is_break,sort_order:t.sort_order}),n(!1)},m=f=>{const{name:x,value:b,type:p,checked:v}=f.target;o(j=>({...j,[x]:p==="checkbox"?v:b}))};return e.jsx("div",{className:"border border-gray-200 p-3",children:s?e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Name"}),e.jsx("input",{type:"text",name:"name",value:i.name,onChange:m,className:"w-full border border-gray-300 px-2 py-1 text-xs focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Type"}),e.jsxs("select",{name:"period_type",value:i.period_type,onChange:m,className:"w-full border border-gray-300 px-2 py-1 text-xs focus:outline-none focus:ring-1 focus:ring-blue-500",children:[e.jsx("option",{value:"Teaching",children:"Teaching"}),e.jsx("option",{value:"Break",children:"Break"}),e.jsx("option",{value:"Assembly",children:"Assembly"}),e.jsx("option",{value:"Sports",children:"Sports"}),e.jsx("option",{value:"Chapel",children:"Chapel"}),e.jsx("option",{value:"Lunch",children:"Lunch"}),e.jsx("option",{value:"Other",children:"Other"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Start Time"}),e.jsx("input",{type:"time",name:"start_time",value:i.start_time,onChange:m,className:"w-full border border-gray-300 px-2 py-1 text-xs focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"End Time"}),e.jsx("input",{type:"time",name:"end_time",value:i.end_time,onChange:m,className:"w-full border border-gray-300 px-2 py-1 text-xs focus:outline-none focus:ring-1 focus:ring-blue-500"})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",name:"is_break",checked:i.is_break,onChange:m,className:"mr-2"}),e.jsx("label",{className:"text-xs text-gray-700",children:"Break Period (no classes allowed)"})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[e.jsx("button",{onClick:u,className:"px-3 py-1 text-gray-700 bg-gray-100 hover:bg-gray-200 transition-colors text-xs",children:"Cancel"}),e.jsx("button",{onClick:d,className:"px-3 py-1 bg-gray-700 text-white hover:bg-gray-800 transition-colors text-xs",children:"Save"})]})]}):e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`w-2 h-2 mr-2 ${t.is_break?"bg-red-500":"bg-green-500"}`}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 text-sm",children:t.name}),e.jsxs("p",{className:"text-xs text-gray-600",children:[t.start_time," - ",t.end_time," (",t.period_type,")"]})]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("button",{onClick:()=>n(!0),className:"p-1 text-gray-600 hover:bg-gray-100 transition-colors",title:"Edit Period",children:e.jsx(I,{icon:lr,className:"h-3 w-3"})}),e.jsx("button",{onClick:a,className:"p-1 text-red-600 hover:bg-red-100 transition-colors",title:"Delete Period",children:e.jsx(I,{icon:Mt,className:"h-3 w-3"})})]})]})})},kde=({onClose:t,onSave:r,dayOfWeek:a})=>{const[s,n]=g.useState({name:"",start_time:"",end_time:"",period_type:"Teaching",is_break:!1,sort_order:0}),[i,o]=g.useState(!1),d=async m=>{m.preventDefault(),o(!0),await r(s),o(!1)},u=m=>{const{name:f,value:x,type:b,checked:p}=m.target;n(v=>({...v,[f]:b==="checkbox"?p:x}))};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white p-4 w-full max-w-md",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("h2",{className:"text-sm font-semibold text-gray-900",children:["Add Period - ",a]}),e.jsx("button",{onClick:t,className:"p-1 text-gray-400 hover:text-gray-600 hover:bg-gray-100 transition-colors",children:e.jsx(I,{icon:Br,className:"h-3 w-3"})})]}),e.jsxs("form",{onSubmit:d,children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Name *"}),e.jsx("input",{type:"text",name:"name",value:s.name,onChange:u,className:"w-full border border-gray-300 px-2 py-1 text-xs focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"e.g., Period 1, Break, Assembly",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Start Time *"}),e.jsx("input",{type:"time",name:"start_time",value:s.start_time,onChange:u,className:"w-full border border-gray-300 px-2 py-1 text-xs focus:outline-none focus:ring-1 focus:ring-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"End Time *"}),e.jsx("input",{type:"time",name:"end_time",value:s.end_time,onChange:u,className:"w-full border border-gray-300 px-2 py-1 text-xs focus:outline-none focus:ring-1 focus:ring-blue-500",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Type *"}),e.jsxs("select",{name:"period_type",value:s.period_type,onChange:u,className:"w-full border border-gray-300 px-2 py-1 text-xs focus:outline-none focus:ring-1 focus:ring-blue-500",required:!0,children:[e.jsx("option",{value:"Teaching",children:"Teaching"}),e.jsx("option",{value:"Break",children:"Break"}),e.jsx("option",{value:"Assembly",children:"Assembly"}),e.jsx("option",{value:"Sports",children:"Sports"}),e.jsx("option",{value:"Chapel",children:"Chapel"}),e.jsx("option",{value:"Lunch",children:"Lunch"}),e.jsx("option",{value:"Other",children:"Other"})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",name:"is_break",checked:s.is_break,onChange:u,className:"mr-2"}),e.jsx("label",{className:"text-xs text-gray-700",children:"Break Period (no classes allowed)"})]})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-2 mt-4",children:[e.jsx("button",{type:"button",onClick:t,className:"px-3 py-1 text-gray-700 bg-gray-100 hover:bg-gray-200 transition-colors text-xs",children:"Cancel"}),e.jsxs("button",{type:"submit",disabled:i,className:"inline-flex items-center px-3 py-1 border border-transparent text-xs font-medium text-white bg-gray-700 hover:bg-gray-800 focus:outline-none focus:ring-1 focus:ring-offset-1 focus:ring-gray-500 disabled:opacity-50",children:[e.jsx(I,{icon:Dn,className:"mr-1 h-3 w-3"}),i?"Adding...":"Add Period"]})]})]})]})})},Cde=()=>e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Timetable System Test"}),e.jsx("p",{className:"text-gray-600",children:"Testing the timetable functionality"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(RB,{className:"h-8 w-8 text-blue-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Templates"}),e.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:"0"})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(BB,{className:"h-8 w-8 text-green-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Periods"}),e.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:"0"})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(FC,{className:"h-8 w-8 text-purple-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Entries"}),e.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:"0"})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(FB,{className:"h-8 w-8 text-red-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Conflicts"}),e.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:"0"})]})]})})]}),e.jsxs("div",{className:"mt-8 bg-white rounded-lg shadow p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"System Status"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full mr-3"}),e.jsx("span",{className:"text-gray-700",children:"Database tables created"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full mr-3"}),e.jsx("span",{className:"text-gray-700",children:"API endpoints configured"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full mr-3"}),e.jsx("span",{className:"text-gray-700",children:"Frontend components ready"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded-full mr-3"}),e.jsx("span",{className:"text-gray-700",children:"Sample data needs to be created"})]})]})]}),e.jsxs("div",{className:"mt-8 bg-blue-50 border border-blue-200 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-2",children:"Next Steps"}),e.jsxs("ul",{className:"list-disc list-inside text-blue-800 space-y-1",children:[e.jsxs("li",{children:["Run the database migration: ",e.jsx("code",{className:"bg-blue-100 px-2 py-1 rounded",children:"node run-timetable-migration.js"})]}),e.jsx("li",{children:"Test the API endpoints"}),e.jsx("li",{children:"Create your first timetable template"}),e.jsx("li",{children:"Configure day-specific periods"}),e.jsx("li",{children:"Generate timetables automatically"})]})]})]}),Ede=({isOpen:t,onClose:r,onSuccess:a,editingFixture:s=null})=>{const{token:n}=et(),[i,o]=g.useState(!1),[d,u]=g.useState(null),[m,f]=g.useState([]),[x,b]=g.useState([]),[p,v]=g.useState({title:"",description:"",sport_category_id:"",home_team_id:"",away_team_id:"",home_team_name:"",away_team_name:"",venue:"",fixture_date:"",fixture_time:"",weather_conditions:"",referee_name:"",referee_contact:"",is_home_game:!0});g.useEffect(()=>{if(t)if(j(),s)v({title:s.title||"",description:s.description||"",sport_category_id:s.sport_category_id||"",home_team_id:s.home_team_id||"",away_team_id:s.away_team_id||"",home_team_name:s.home_team_name||"",away_team_name:s.away_team_name||"",venue:s.venue||"",fixture_date:s.fixture_date||"",fixture_time:s.fixture_time||"",weather_conditions:s.weather_conditions||"",referee_name:s.referee_name||"",referee_contact:s.referee_contact||"",is_home_game:s.is_home_game!==void 0?s.is_home_game:!0});else{const A=new Date().toISOString().split("T")[0];v(D=>({...D,fixture_date:A}))}},[t,s]),g.useEffect(()=>{p.sport_category_id&&w(p.sport_category_id)},[p.sport_category_id]);const j=async()=>{try{const A=await de.get(`${ce}/sports/categories`,{headers:{Authorization:`Bearer ${n}`}});f(A.data.data||[])}catch(A){console.error("Error fetching categories:",A)}},w=async A=>{try{const D=await de.get(`${ce}/sports/teams`,{headers:{Authorization:`Bearer ${n}`},params:{sport_category_id:A,limit:100}});b(D.data.data||[])}catch(D){console.error("Error fetching teams:",D)}},N=A=>{const{name:D,value:T,type:R,checked:E}=A.target;v(O=>({...O,[D]:R==="checkbox"?E:T}))},P=async A=>{A.preventDefault(),o(!0),u(null);try{const D={...p};Object.keys(D).forEach(T=>{D[T]===""&&(D[T]=null)}),s?await de.put(`${ce}/sports/fixtures/${s.id}`,D,{headers:{Authorization:`Bearer ${n}`}}):await de.post(`${ce}/sports/fixtures`,D,{headers:{Authorization:`Bearer ${n}`}}),a(),r()}catch(D){console.error("Error saving fixture:",D),u(D.response?.data?.message||"Failed to save fixture")}finally{o(!1)}};return t?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:s?"Edit Fixture":"Create New Fixture"}),e.jsx("button",{onClick:r,className:"p-1.5 text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(I,{icon:Br,className:"h-4 w-4"})})]}),e.jsxs("form",{onSubmit:P,className:"p-4 space-y-4",children:[d&&e.jsx("div",{className:"bg-red-50 border border-red-200 p-3",children:e.jsx("div",{className:"text-sm text-red-700",children:d})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Title *"}),e.jsx("input",{type:"text",name:"title",value:p.title,onChange:N,className:"w-full px-2 py-1.5 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-gray-500 text-sm",placeholder:"e.g., Senior Football vs ABC School",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Sport Category *"}),e.jsxs("select",{name:"sport_category_id",value:p.sport_category_id,onChange:N,className:"w-full px-2 py-1.5 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-gray-500 text-sm",required:!0,children:[e.jsx("option",{value:"",children:"Select Sport Category"}),m.map(A=>e.jsx("option",{value:A.id,children:A.name},A.id))]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),e.jsx("textarea",{name:"description",value:p.description,onChange:N,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Additional details about the fixture..."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Home Team"}),e.jsxs("select",{name:"home_team_id",value:p.home_team_id,onChange:N,className:"w-full px-2 py-1.5 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-gray-500 text-sm",children:[e.jsx("option",{value:"",children:"Select Home Team"}),x.map(A=>e.jsx("option",{value:A.id,children:A.name},A.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Away Team"}),e.jsxs("select",{name:"away_team_id",value:p.away_team_id,onChange:N,className:"w-full px-2 py-1.5 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-gray-500 text-sm",children:[e.jsx("option",{value:"",children:"Select Away Team"}),x.map(A=>e.jsx("option",{value:A.id,children:A.name},A.id))]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Home Team Name (External)"}),e.jsx("input",{type:"text",name:"home_team_name",value:p.home_team_name,onChange:N,className:"w-full px-2 py-1.5 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-gray-500 text-sm",placeholder:"e.g., ABC School"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Away Team Name (External)"}),e.jsx("input",{type:"text",name:"away_team_name",value:p.away_team_name,onChange:N,className:"w-full px-2 py-1.5 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-gray-500 text-sm",placeholder:"e.g., XYZ School"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:[e.jsx(I,{icon:yr,className:"h-4 w-4 mr-2"}),"Fixture Date *"]}),e.jsx("input",{type:"date",name:"fixture_date",value:p.fixture_date,onChange:N,className:"w-full px-2 py-1.5 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-gray-500 text-sm",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:[e.jsx(I,{icon:yr,className:"h-4 w-4 mr-2"}),"Fixture Time *"]}),e.jsx("input",{type:"time",name:"fixture_time",value:p.fixture_time,onChange:N,className:"w-full px-2 py-1.5 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-gray-500 text-sm",required:!0})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(I,{icon:vc,className:"h-4 w-4 mr-2"}),"Venue"]}),e.jsx("input",{type:"text",name:"venue",value:p.venue,onChange:N,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g., School Football Ground"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Referee Name"}),e.jsx("input",{type:"text",name:"referee_name",value:p.referee_name,onChange:N,className:"w-full px-2 py-1.5 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-gray-500 text-sm",placeholder:"e.g., John Smith"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Referee Contact"}),e.jsx("input",{type:"text",name:"referee_contact",value:p.referee_contact,onChange:N,className:"w-full px-2 py-1.5 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-gray-500 text-sm",placeholder:"e.g., 1234567890"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Weather Conditions"}),e.jsx("input",{type:"text",name:"weather_conditions",value:p.weather_conditions,onChange:N,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Sunny, Rainy, Cloudy"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",name:"is_home_game",checked:p.is_home_game,onChange:N,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsx("label",{className:"ml-2 text-sm font-medium text-gray-700",children:"This is a home game"})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-2 pt-4 border-t border-gray-200",children:[e.jsx("button",{type:"button",onClick:r,className:"px-3 py-1.5 text-gray-700 bg-gray-100 text-sm hover:bg-gray-200 transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:i,className:"px-3 py-1.5 bg-gray-700 text-white text-sm hover:bg-gray-800 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:i?e.jsxs("span",{className:"flex items-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Saving..."]}):e.jsxs("span",{className:"flex items-center",children:[e.jsx(I,{icon:Dn,className:"h-4 w-4 mr-2"}),s?"Update Fixture":"Create Fixture"]})})]})]})]})}):null},Pde=({isOpen:t,onClose:r,onSuccess:a,editingTeam:s=null})=>{const{token:n}=et(),[i,o]=g.useState(!1),[d,u]=g.useState(null),[m,f]=g.useState([]),[x,b]=g.useState({name:"",description:"",sport_category_id:"",coach_name:"",coach_contact:"",is_active:!0});g.useEffect(()=>{t&&(p(),s?b({name:s.name||"",description:s.description||"",sport_category_id:s.sport_category_id||"",coach_name:s.coach_name||"",coach_contact:s.coach_contact||"",is_active:s.is_active!==void 0?s.is_active:!0}):v())},[t,s]);const p=async()=>{try{const N=await de.get(`${ce}/sports/categories`,{headers:{Authorization:`Bearer ${n}`}});f(N.data.data||[])}catch(N){console.error("Error fetching categories:",N)}},v=()=>{b({name:"",description:"",sport_category_id:"",coach_name:"",coach_contact:"",is_active:!0}),u(null)},j=N=>{const{name:P,value:A,type:D,checked:T}=N.target;b(R=>({...R,[P]:D==="checkbox"?T:A}))},w=async N=>{N.preventDefault();try{o(!0),u(null);const P=s?`${ce}/sports/teams/${s.id}`:`${ce}/sports/teams`;await de[s?"put":"post"](P,x,{headers:{Authorization:`Bearer ${n}`}}),a(),r(),v()}catch(P){console.error("Error saving team:",P),u(P.response?.data?.message||"Failed to save team")}finally{o(!1)}};return t?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:s?"Edit Team":"Create New Team"}),e.jsx("button",{onClick:r,className:"p-1.5 text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(I,{icon:Br,className:"h-4 w-4"})})]}),e.jsxs("form",{onSubmit:w,className:"p-4 space-y-4",children:[d&&e.jsx("div",{className:"bg-red-50 border border-red-200 p-3",children:e.jsx("div",{className:"text-sm text-red-700",children:d})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Team Name *"}),e.jsx("input",{type:"text",name:"name",value:x.name,onChange:j,className:"w-full px-2 py-1.5 border border-gray-300 focus:outline-none focus:ring-1 focus:ring-gray-500 text-sm",placeholder:"e.g., Senior Football Team",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Sport Category *"}),e.jsxs("select",{name:"sport_category_id",value:x.sport_category_id,onChange:j,className:"w-full px-2 py-1.5 border border-gray-300 focus:outline-none focus:ring-1 focus:ring-gray-500 text-sm",required:!0,children:[e.jsx("option",{value:"",children:"Select Sport Category"}),m.map(N=>e.jsx("option",{value:N.id,children:N.name},N.id))]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Description"}),e.jsx("textarea",{name:"description",value:x.description,onChange:j,rows:3,className:"w-full px-2 py-1.5 border border-gray-300 focus:outline-none focus:ring-1 focus:ring-gray-500 text-sm",placeholder:"Team description..."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Coach Name"}),e.jsx("input",{type:"text",name:"coach_name",value:x.coach_name,onChange:j,className:"w-full px-2 py-1.5 border border-gray-300 focus:outline-none focus:ring-1 focus:ring-gray-500 text-sm",placeholder:"Coach name"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Coach Contact"}),e.jsx("input",{type:"text",name:"coach_contact",value:x.coach_contact,onChange:j,className:"w-full px-2 py-1.5 border border-gray-300 focus:outline-none focus:ring-1 focus:ring-gray-500 text-sm",placeholder:"Phone or email"})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",name:"is_active",checked:x.is_active,onChange:j,className:"h-4 w-4 text-gray-600 focus:ring-gray-500 border-gray-300"}),e.jsx("label",{className:"ml-2 text-xs font-medium text-gray-700",children:"Team is active"})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-2 pt-4 border-t border-gray-200",children:[e.jsx("button",{type:"button",onClick:r,className:"px-3 py-1.5 text-gray-700 bg-gray-100 text-sm hover:bg-gray-200 transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:i,className:"px-3 py-1.5 bg-gray-700 text-white text-sm hover:bg-gray-800 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:i?e.jsxs("span",{className:"flex items-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Saving..."]}):e.jsxs("span",{className:"flex items-center",children:[e.jsx(I,{icon:Dn,className:"h-3 w-3 mr-1"}),s?"Update Team":"Create Team"]})})]})]})]})}):null},Tde=({isOpen:t,onClose:r,onSuccess:a,editingAnnouncement:s=null})=>{const{token:n}=et(),[i,o]=g.useState(!1),[d,u]=g.useState(null),[m,f]=g.useState([]),[x,b]=g.useState([]),[p,v]=g.useState([]),[j,w]=g.useState({title:"",content:"",announcement_type:"general",sport_category_id:"",team_id:"",fixture_id:"",priority:"medium",status:"published",start_date:"",end_date:"",target_audience:"all"});g.useEffect(()=>{t&&(N(),s?w({title:s.title||"",content:s.content||"",announcement_type:s.announcement_type||"general",sport_category_id:s.sport_category_id||"",team_id:s.team_id||"",fixture_id:s.fixture_id||"",priority:s.priority||"medium",status:s.status||"published",start_date:s.start_date||"",end_date:s.end_date||"",target_audience:s.target_audience||"all"}):P())},[t,s]);const N=async()=>{try{const[T,R,E]=await Promise.all([de.get(`${ce}/sports/categories`,{headers:{Authorization:`Bearer ${n}`}}),de.get(`${ce}/sports/teams`,{headers:{Authorization:`Bearer ${n}`}}),de.get(`${ce}/sports/fixtures`,{headers:{Authorization:`Bearer ${n}`}})]);f(T.data.data||[]),b(R.data.data||[]),v(E.data.data||[])}catch(T){console.error("Error fetching data:",T)}},P=()=>{w({title:"",content:"",announcement_type:"general",sport_category_id:"",team_id:"",fixture_id:"",priority:"medium",status:"published",start_date:"",end_date:"",target_audience:"all"}),u(null)},A=T=>{const{name:R,value:E}=T.target;w(O=>({...O,[R]:E}))},D=async T=>{T.preventDefault();try{o(!0),u(null);const R=s?`${ce}/sports/announcements/${s.id}`:`${ce}/sports/announcements`;await de[s?"put":"post"](R,j,{headers:{Authorization:`Bearer ${n}`}}),a(),r(),P()}catch(R){console.error("Error saving announcement:",R),u(R.response?.data?.message||"Failed to save announcement")}finally{o(!1)}};return t?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:s?"Edit Announcement":"Create New Announcement"}),e.jsx("button",{onClick:r,className:"p-1.5 text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(I,{icon:Br,className:"h-4 w-4"})})]}),e.jsxs("form",{onSubmit:D,className:"p-4 space-y-4",children:[d&&e.jsx("div",{className:"bg-red-50 border border-red-200 p-3",children:e.jsx("div",{className:"text-sm text-red-700",children:d})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Title *"}),e.jsx("input",{type:"text",name:"title",value:j.title,onChange:A,className:"w-full px-2 py-1.5 border border-gray-300 focus:outline-none focus:ring-1 focus:ring-gray-500 text-sm",placeholder:"Announcement title",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Type *"}),e.jsxs("select",{name:"announcement_type",value:j.announcement_type,onChange:A,className:"w-full px-2 py-1.5 border border-gray-300 focus:outline-none focus:ring-1 focus:ring-gray-500 text-sm",required:!0,children:[e.jsx("option",{value:"general",children:"General"}),e.jsx("option",{value:"fixture",children:"Fixture"}),e.jsx("option",{value:"result",children:"Result"}),e.jsx("option",{value:"training",children:"Training"}),e.jsx("option",{value:"meeting",children:"Meeting"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Content *"}),e.jsx("textarea",{name:"content",value:j.content,onChange:A,rows:4,className:"w-full px-2 py-1.5 border border-gray-300 focus:outline-none focus:ring-1 focus:ring-gray-500 text-sm",placeholder:"Announcement content...",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Sport Category"}),e.jsxs("select",{name:"sport_category_id",value:j.sport_category_id,onChange:A,className:"w-full px-2 py-1.5 border border-gray-300 focus:outline-none focus:ring-1 focus:ring-gray-500 text-sm",children:[e.jsx("option",{value:"",children:"Select Category"}),m.map(T=>e.jsx("option",{value:T.id,children:T.name},T.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Team"}),e.jsxs("select",{name:"team_id",value:j.team_id,onChange:A,className:"w-full px-2 py-1.5 border border-gray-300 focus:outline-none focus:ring-1 focus:ring-gray-500 text-sm",children:[e.jsx("option",{value:"",children:"Select Team"}),x.map(T=>e.jsx("option",{value:T.id,children:T.name},T.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Fixture"}),e.jsxs("select",{name:"fixture_id",value:j.fixture_id,onChange:A,className:"w-full px-2 py-1.5 border border-gray-300 focus:outline-none focus:ring-1 focus:ring-gray-500 text-sm",children:[e.jsx("option",{value:"",children:"Select Fixture"}),p.map(T=>e.jsx("option",{value:T.id,children:T.title},T.id))]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Priority"}),e.jsxs("select",{name:"priority",value:j.priority,onChange:A,className:"w-full px-2 py-1.5 border border-gray-300 focus:outline-none focus:ring-1 focus:ring-gray-500 text-sm",children:[e.jsx("option",{value:"low",children:"Low"}),e.jsx("option",{value:"medium",children:"Medium"}),e.jsx("option",{value:"high",children:"High"}),e.jsx("option",{value:"urgent",children:"Urgent"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Status"}),e.jsxs("select",{name:"status",value:j.status,onChange:A,className:"w-full px-2 py-1.5 border border-gray-300 focus:outline-none focus:ring-1 focus:ring-gray-500 text-sm",children:[e.jsx("option",{value:"draft",children:"Draft"}),e.jsx("option",{value:"published",children:"Published"}),e.jsx("option",{value:"archived",children:"Archived"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Start Date"}),e.jsx("input",{type:"date",name:"start_date",value:j.start_date,onChange:A,className:"w-full px-2 py-1.5 border border-gray-300 focus:outline-none focus:ring-1 focus:ring-gray-500 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"End Date"}),e.jsx("input",{type:"date",name:"end_date",value:j.end_date,onChange:A,className:"w-full px-2 py-1.5 border border-gray-300 focus:outline-none focus:ring-1 focus:ring-gray-500 text-sm"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Target Audience"}),e.jsxs("select",{name:"target_audience",value:j.target_audience,onChange:A,className:"w-full px-2 py-1.5 border border-gray-300 focus:outline-none focus:ring-1 focus:ring-gray-500 text-sm",children:[e.jsx("option",{value:"all",children:"All"}),e.jsx("option",{value:"students",children:"Students"}),e.jsx("option",{value:"employees",children:"Employees"}),e.jsx("option",{value:"teams",children:"Teams"})]})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-2 pt-4 border-t border-gray-200",children:[e.jsx("button",{type:"button",onClick:r,className:"px-3 py-1.5 text-gray-700 bg-gray-100 text-sm hover:bg-gray-200 transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:i,className:"px-3 py-1.5 bg-gray-700 text-white text-sm hover:bg-gray-800 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:i?e.jsxs("span",{className:"flex items-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Saving..."]}):e.jsxs("span",{className:"flex items-center",children:[e.jsx(I,{icon:Dn,className:"h-3 w-3 mr-1"}),s?"Update Announcement":"Create Announcement"]})})]})]})]})}):null},Ode=()=>{const{token:t}=et(),[r,a]=g.useState(new Date),[s,n]=g.useState([]),[i,o]=g.useState(!0),[d,u]=g.useState(null),[m,f]=g.useState(null),[x,b]=g.useState([]),p=E=>({"fa-futbol":Nf,"fa-basketball-ball":AC,"fa-running":OC,"fa-volleyball-ball":SC,"fa-table-tennis":PC,"fa-swimmer":CC,"fa-baseball":_C,"fa-football-ball":TC,"fa-hockey-puck":kC})[E]||Nf,v=E=>({scheduled:"bg-blue-100 text-blue-800 border-blue-200",ongoing:"bg-yellow-100 text-yellow-800 border-yellow-200",completed:"bg-green-100 text-green-800 border-green-200",cancelled:"bg-red-100 text-red-800 border-red-200",postponed:"bg-gray-100 text-gray-800 border-gray-200"})[E]||"bg-gray-100 text-gray-800 border-gray-200";g.useEffect(()=>{j()},[r]);const j=async()=>{try{o(!0),u(null);const E=new Date(r.getFullYear(),r.getMonth(),1),O=new Date(r.getFullYear(),r.getMonth()+1,0),k=await de.get(`${ce}/sports/fixtures`,{headers:{Authorization:`Bearer ${t}`},params:{date_from:E.toISOString().split("T")[0],date_to:O.toISOString().split("T")[0],limit:100}});n(k.data.data||[])}catch(E){console.error("Error fetching fixtures:",E),u("Failed to load fixtures")}finally{o(!1)}},w=E=>{a(O=>{const k=new Date(O);return E==="prev"?k.setMonth(k.getMonth()-1):k.setMonth(k.getMonth()+1),k})},N=E=>{const O=E.getFullYear(),k=E.getMonth(),Y=new Date(O,k,1),M=new Date(O,k+1,0).getDate(),F=Y.getDay(),K=[];for(let q=0;q<F;q++)K.push(null);for(let q=1;q<=M;q++)K.push(q);return K},P=E=>{if(!E)return[];const O=`${r.getFullYear()}-${String(r.getMonth()+1).padStart(2,"0")}-${String(E).padStart(2,"0")}`;return s.filter(k=>k.fixture_date===O)},A=E=>{E&&(f(E),b(P(E)))},D=E=>{const[O,k]=E.split(":"),Y=parseInt(O),$=Y>=12?"PM":"AM";return`${Y%12||12}:${k} ${$}`},T=N(r),R=["January","February","March","April","May","June","July","August","September","October","November","December"];return i?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"text-gray-500",children:"Loading calendar..."})}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-lg font-semibold text-gray-800",children:"Sports Calendar"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>w("prev"),className:"p-1.5 text-gray-600 hover:bg-gray-100 transition-colors",children:e.jsx(I,{icon:ny,className:"h-3 w-3"})}),e.jsxs("h2",{className:"text-sm font-medium text-gray-800",children:[R[r.getMonth()]," ",r.getFullYear()]}),e.jsx("button",{onClick:()=>w("next"),className:"p-1.5 text-gray-600 hover:bg-gray-100 transition-colors",children:e.jsx(I,{icon:sy,className:"h-3 w-3"})})]})]}),d&&e.jsx("div",{className:"bg-red-50 border border-red-200 p-3",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(I,{icon:yr,className:"h-4 w-4 text-red-400 mr-2"}),e.jsx("span",{className:"text-sm text-red-700",children:d})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[e.jsx("div",{className:"lg:col-span-2 bg-white shadow-sm border border-gray-200",children:e.jsxs("div",{className:"p-4",children:[e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-3",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(E=>e.jsx("div",{className:"text-center text-xs font-medium text-gray-500 py-1",children:E},E))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:T.map((E,O)=>{const k=P(E),Y=E===new Date().getDate()&&r.getMonth()===new Date().getMonth()&&r.getFullYear()===new Date().getFullYear(),$=m===E;return e.jsx("div",{onClick:()=>A(E),className:`
                      min-h-[80px] p-1.5 border border-gray-200 cursor-pointer transition-colors
                      ${E?"bg-white hover:bg-gray-50":"bg-gray-50"}
                      ${Y?"bg-blue-50 border-blue-300":""}
                      ${$?"bg-blue-100 border-blue-400":""}
                    `,children:E&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`text-xs font-medium mb-1 ${Y?"text-blue-600":"text-gray-900"}`,children:E}),e.jsxs("div",{className:"space-y-0.5",children:[k.slice(0,2).map((M,F)=>e.jsxs("div",{className:`text-xs p-1 border ${v(M.status)}`,children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(I,{icon:p(M.sport_category_icon),className:"h-2 w-2"}),e.jsx("span",{className:"truncate text-xs",children:M.title})]}),e.jsx("div",{className:"text-xs opacity-75",children:D(M.fixture_time)})]},F)),k.length>2&&e.jsxs("div",{className:"text-xs text-gray-500 text-center",children:["+",k.length-2," more"]})]})]})},O)})})]})}),e.jsx("div",{className:"bg-white shadow-sm border border-gray-200",children:e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-800 mb-3",children:m?`${R[r.getMonth()]} ${m}`:"Select a date"}),x.length===0?e.jsxs("div",{className:"text-center py-6 text-gray-500",children:[e.jsx(I,{icon:yr,className:"h-8 w-8 mx-auto mb-3 text-gray-300"}),e.jsx("p",{className:"text-sm",children:m?"No fixtures on this date":"No date selected"})]}):e.jsx("div",{className:"space-y-3",children:x.map(E=>e.jsxs("div",{className:"p-3 bg-gray-50",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(I,{icon:p(E.sport_category_icon),className:"h-4 w-4 text-gray-600"}),e.jsx("h4",{className:"text-sm font-medium text-gray-800",children:E.title})]}),e.jsxs("div",{className:"space-y-1 text-xs text-gray-600",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(I,{icon:Ld,className:"h-3 w-3"}),e.jsxs("span",{children:[E.home_team_name," vs ",E.away_team_name]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(I,{icon:yr,className:"h-3 w-3"}),e.jsx("span",{children:D(E.fixture_time)})]}),E.venue&&e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(I,{icon:vc,className:"h-3 w-3"}),e.jsx("span",{children:E.venue})]}),e.jsx("div",{className:"flex items-center space-x-1",children:e.jsx("span",{className:`px-2 py-0.5 text-xs font-medium ${v(E.status)}`,children:E.status})})]}),E.result_home_score!==null&&e.jsxs("div",{className:"mt-2 p-2 bg-white border",children:[e.jsx("div",{className:"text-xs font-medium text-gray-700 mb-1",children:"Result"}),e.jsxs("div",{className:"text-sm font-bold text-gray-900",children:[E.result_home_score," - ",E.result_away_score]}),E.result_notes&&e.jsx("div",{className:"text-xs text-gray-600 mt-1",children:E.result_notes})]})]},E.id))})]})})]})]})},Dde=()=>{const{token:t}=et(),r=br(),[a,s]=g.useState("fixtures"),[n,i]=g.useState(!1),[o,d]=g.useState(!0),[u,m]=g.useState(null),[f,x]=g.useState([]),[b,p]=g.useState([]),[v,j]=g.useState([]),[w,N]=g.useState([]),[P,A]=g.useState({current_page:1,total_pages:1,total_items:0,items_per_page:10}),[D,T]=g.useState({search:"",sport_category_id:"",status:"",team_id:"",announcement_type:"",priority:""}),[R,E]=g.useState(!1),[O,k]=g.useState(!1),[Y,$]=g.useState(null),M=ne=>({"fa-futbol":Nf,"fa-basketball-ball":AC,"fa-running":OC,"fa-volleyball-ball":SC,"fa-table-tennis":PC,"fa-swimmer":CC,"fa-baseball":_C,"fa-football-ball":TC,"fa-hockey-puck":kC})[ne]||Nf;g.useEffect(()=>{F()},[a,P.current_page,D]);const F=async()=>{try{d(!0),m(null);const ne={page:P.current_page,limit:P.items_per_page,...D};let te;switch(a){case"fixtures":te=await de.get(`${ce}/sports/fixtures`,{headers:{Authorization:`Bearer ${t}`},params:ne}),x(te.data.data||[]),A(te.data.pagination||P);break;case"teams":te=await de.get(`${ce}/sports/teams`,{headers:{Authorization:`Bearer ${t}`},params:ne}),p(te.data.data||[]),A(te.data.pagination||P);break;case"announcements":te=await de.get(`${ce}/sports/announcements`,{headers:{Authorization:`Bearer ${t}`},params:ne}),N(te.data.data||[]),A(te.data.pagination||P);break;default:break}}catch(ne){console.error("Error fetching data:",ne),m("Failed to fetch data")}finally{d(!1)}};g.useEffect(()=>{(async()=>{try{const te=await de.get(`${ce}/sports/categories`,{headers:{Authorization:`Bearer ${t}`}});j(te.data.data||[])}catch(te){console.error("Error fetching categories:",te)}})()},[]);const K=(ne,te)=>{T(Ae=>({...Ae,[ne]:te})),A(Ae=>({...Ae,current_page:1}))},q=()=>{A(ne=>({...ne,current_page:1})),F()},U=ne=>{A(te=>({...te,current_page:ne}))},V=()=>{$(null),E(!0)},Z=()=>{F()},X=ne=>{$(ne),k(!0)},J=async(ne,te)=>{if(window.confirm("Are you sure you want to delete this item?"))try{let Ae;switch(te){case"fixture":Ae=`${ce}/sports/fixtures/${ne}`;break;case"team":Ae=`${ce}/sports/teams/${ne}`;break;case"announcement":Ae=`${ce}/sports/announcements/${ne}`;break;default:return}await de.delete(Ae,{headers:{Authorization:`Bearer ${t}`}}),F()}catch(Ae){console.error("Error deleting item:",Ae),m("Failed to delete item")}},be=ne=>({scheduled:"bg-blue-100 text-blue-800",ongoing:"bg-yellow-100 text-yellow-800",completed:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800",postponed:"bg-gray-100 text-gray-800"})[ne]||"bg-gray-100 text-gray-800",z=ne=>({urgent:"bg-red-100 text-red-800",high:"bg-orange-100 text-orange-800",medium:"bg-blue-100 text-blue-800",low:"bg-gray-100 text-gray-800"})[ne]||"bg-gray-100 text-gray-800",re=()=>e.jsx("div",{className:"space-y-3",children:f.map(ne=>e.jsx("div",{className:"bg-white shadow-sm border border-gray-200 p-4 hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(I,{icon:M(ne.sport_category_icon),className:"h-4 w-4 text-gray-600"}),e.jsx("h3",{className:"text-sm font-semibold text-gray-800",children:ne.title}),e.jsx("span",{className:`px-2 py-0.5 text-xs font-medium ${be(ne.status)}`,children:ne.status})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 text-xs text-gray-600",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(I,{icon:yr,className:"h-3 w-3"}),e.jsx("span",{children:new Date(ne.fixture_date).toLocaleDateString()})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(I,{icon:Ir,className:"h-3 w-3"}),e.jsxs("span",{children:[ne.home_team_name," vs ",ne.away_team_name]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(I,{icon:Ld,className:"h-3 w-3"}),e.jsx("span",{children:ne.venue})]})]}),ne.result_home_score!==null&&e.jsxs("div",{className:"mt-2 p-2 bg-gray-50",children:[e.jsx("div",{className:"text-xs font-medium text-gray-700",children:"Result"}),e.jsxs("div",{className:"text-sm font-bold text-gray-900",children:[ne.result_home_score," - ",ne.result_away_score]}),ne.result_notes&&e.jsx("div",{className:"text-xs text-gray-600 mt-1",children:ne.result_notes})]})]}),e.jsxs("div",{className:"flex space-x-1",children:[e.jsx("button",{onClick:()=>X(ne),className:"p-1.5 text-gray-600 hover:bg-gray-100 transition-colors",title:"Edit Fixture",children:e.jsx(I,{icon:lr,className:"h-3 w-3"})}),e.jsx("button",{onClick:()=>J(ne.id,"fixture"),className:"p-1.5 text-red-600 hover:bg-red-50 transition-colors",title:"Delete Fixture",children:e.jsx(I,{icon:Mt,className:"h-3 w-3"})})]})]})},ne.id))}),G=()=>e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:b.map(ne=>e.jsxs("div",{className:"bg-white shadow-sm border border-gray-200 p-4 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[e.jsx(I,{icon:M(ne.sport_category_icon),className:"h-4 w-4 text-gray-600"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-800",children:ne.name}),e.jsx("p",{className:"text-xs text-gray-600",children:ne.sport_category_name})]})]}),ne.description&&e.jsx("p",{className:"text-xs text-gray-600 mb-3",children:ne.description}),e.jsxs("div",{className:"space-y-1 text-xs text-gray-600",children:[ne.coach_name&&e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(I,{icon:Ir,className:"h-3 w-3"}),e.jsxs("span",{children:["Coach: ",ne.coach_name]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(I,{icon:Ir,className:"h-3 w-3"}),e.jsxs("span",{children:[ne.participant_count," members"]})]})]}),e.jsxs("div",{className:"flex space-x-1 mt-3",children:[e.jsx("button",{onClick:()=>r(`/dashboard/sports/teams/${ne.id}`),className:"flex-1 px-2 py-1 text-gray-600 hover:bg-gray-50 transition-colors text-xs font-medium",children:"View Details"}),e.jsx("button",{onClick:()=>X(ne),className:"p-1.5 text-gray-600 hover:bg-gray-100 transition-colors",title:"Edit Team",children:e.jsx(I,{icon:lr,className:"h-3 w-3"})}),e.jsx("button",{onClick:()=>J(ne.id,"team"),className:"p-1.5 text-red-600 hover:bg-red-50 transition-colors",title:"Delete Team",children:e.jsx(I,{icon:Mt,className:"h-3 w-3"})})]})]},ne.id))}),Q=()=>e.jsx("div",{className:"space-y-3",children:w.map(ne=>e.jsx("div",{className:"bg-white shadow-sm border border-gray-200 p-4 hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(I,{icon:rg,className:"h-4 w-4 text-gray-600"}),e.jsx("h3",{className:"text-sm font-semibold text-gray-800",children:ne.title}),e.jsx("span",{className:`px-2 py-0.5 text-xs font-medium ${z(ne.priority)}`,children:ne.priority}),e.jsx("span",{className:`px-2 py-0.5 text-xs font-medium ${be(ne.status)}`,children:ne.status})]}),e.jsx("p",{className:"text-xs text-gray-600 mb-3",children:ne.content}),e.jsxs("div",{className:"flex items-center space-x-3 text-xs text-gray-500",children:[e.jsxs("span",{children:["Type: ",ne.announcement_type]}),ne.sport_category_name&&e.jsxs("span",{children:["Sport: ",ne.sport_category_name]}),ne.team_name&&e.jsxs("span",{children:["Team: ",ne.team_name]}),e.jsxs("span",{children:["Created: ",new Date(ne.created_at).toLocaleDateString()]})]})]}),e.jsxs("div",{className:"flex space-x-1",children:[e.jsx("button",{onClick:()=>X(ne),className:"p-1.5 text-gray-600 hover:bg-gray-100 transition-colors",title:"Edit Announcement",children:e.jsx(I,{icon:lr,className:"h-3 w-3"})}),e.jsx("button",{onClick:()=>J(ne.id,"announcement"),className:"p-1.5 text-red-600 hover:bg-red-50 transition-colors",title:"Delete Announcement",children:e.jsx(I,{icon:Mt,className:"h-3 w-3"})})]})]})},ne.id))}),ve=()=>e.jsx("div",{className:"bg-white shadow-sm border border-gray-200 p-4 mb-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Search"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:D.search,onChange:ne=>K("search",ne.target.value),className:"w-full pl-8 pr-3 py-1.5 border border-gray-300 focus:outline-none focus:ring-1 focus:ring-gray-500 text-sm",placeholder:"Search..."}),e.jsx(I,{icon:Vt,className:"absolute left-2 top-1/2 transform -translate-y-1/2 h-3 w-3 text-gray-400"})]})]}),a==="fixtures"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Sport Category"}),e.jsxs("select",{value:D.sport_category_id,onChange:ne=>K("sport_category_id",ne.target.value),className:"w-full px-2 py-1.5 border border-gray-300 focus:outline-none focus:ring-1 focus:ring-gray-500 text-sm",children:[e.jsx("option",{value:"",children:"All Categories"}),v.map(ne=>e.jsx("option",{value:ne.id,children:ne.name},ne.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Status"}),e.jsxs("select",{value:D.status,onChange:ne=>K("status",ne.target.value),className:"w-full px-2 py-1.5 border border-gray-300 focus:outline-none focus:ring-1 focus:ring-gray-500 text-sm",children:[e.jsx("option",{value:"",children:"All Status"}),e.jsx("option",{value:"scheduled",children:"Scheduled"}),e.jsx("option",{value:"ongoing",children:"Ongoing"}),e.jsx("option",{value:"completed",children:"Completed"}),e.jsx("option",{value:"cancelled",children:"Cancelled"}),e.jsx("option",{value:"postponed",children:"Postponed"})]})]})]}),a==="announcements"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Type"}),e.jsxs("select",{value:D.announcement_type,onChange:ne=>K("announcement_type",ne.target.value),className:"w-full px-2 py-1.5 border border-gray-300 focus:outline-none focus:ring-1 focus:ring-gray-500 text-sm",children:[e.jsx("option",{value:"",children:"All Types"}),e.jsx("option",{value:"fixture",children:"Fixture"}),e.jsx("option",{value:"result",children:"Result"}),e.jsx("option",{value:"general",children:"General"}),e.jsx("option",{value:"training",children:"Training"}),e.jsx("option",{value:"meeting",children:"Meeting"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Priority"}),e.jsxs("select",{value:D.priority,onChange:ne=>K("priority",ne.target.value),className:"w-full px-2 py-1.5 border border-gray-300 focus:outline-none focus:ring-1 focus:ring-gray-500 text-sm",children:[e.jsx("option",{value:"",children:"All Priorities"}),e.jsx("option",{value:"urgent",children:"Urgent"}),e.jsx("option",{value:"high",children:"High"}),e.jsx("option",{value:"medium",children:"Medium"}),e.jsx("option",{value:"low",children:"Low"})]})]})]}),e.jsx("div",{className:"flex items-end",children:e.jsxs("button",{onClick:q,className:"w-full px-3 py-1.5 bg-gray-700 text-white text-sm hover:bg-gray-800 transition-colors",children:[e.jsx(I,{icon:Vt,className:"h-3 w-3 mr-1"}),"Search"]})})]})}),ye=()=>P.total_pages<=1?null:e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("div",{className:"text-xs text-gray-600",children:["Showing ",(P.current_page-1)*P.items_per_page+1," to"," ",Math.min(P.current_page*P.items_per_page,P.total_items)," of"," ",P.total_items," results"]}),e.jsxs("div",{className:"flex space-x-1",children:[e.jsx("button",{onClick:()=>U(P.current_page-1),disabled:!P.has_previous_page,className:"px-2 py-1 border border-gray-300 text-xs hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Array.from({length:P.total_pages},(ne,te)=>te+1).map(ne=>e.jsx("button",{onClick:()=>U(ne),className:`px-2 py-1 border text-xs ${ne===P.current_page?"bg-gray-700 text-white border-gray-700":"border-gray-300 hover:bg-gray-50"}`,children:ne},ne)),e.jsx("button",{onClick:()=>U(P.current_page+1),disabled:!P.has_next_page,className:"px-2 py-1 border border-gray-300 text-xs hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]});return o?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"text-gray-500",children:"Loading sports data..."})}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg font-semibold text-gray-800",children:"Sports Management"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Manage sports fixtures, teams, and announcements"})]}),e.jsxs("button",{onClick:V,className:"px-3 py-1.5 bg-gray-700 text-white text-sm hover:bg-gray-800 transition-colors",children:[e.jsx(I,{icon:_t,className:"h-3 w-3 mr-1"}),"Add ",a==="fixtures"?"Fixture":a==="teams"?"Team":"Announcement"]})]}),e.jsx("div",{className:"border-b border-gray-300",children:e.jsxs("nav",{className:"-mb-px flex space-x-6",children:[[{id:"fixtures",label:"Fixtures",icon:yr},{id:"teams",label:"Teams",icon:Ir},{id:"announcements",label:"Announcements",icon:rg}].map(ne=>e.jsxs("button",{onClick:()=>s(ne.id),className:`py-1.5 px-1 border-b-2 font-medium text-xs ${a===ne.id?"border-gray-600 text-gray-800":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-400"}`,children:[e.jsx(I,{icon:ne.icon,className:"h-3 w-3 mr-1"}),ne.label]},ne.id)),e.jsxs("button",{onClick:()=>i(!n),className:`py-1.5 px-1 border-b-2 font-medium text-xs ${n?"border-gray-600 text-gray-800":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-400"}`,children:[e.jsx(I,{icon:yr,className:"h-3 w-3 mr-1"}),"Calendar"]})]})}),ve(),u&&e.jsx("div",{className:"bg-red-50 border border-red-200 p-3",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(I,{icon:ur,className:"h-4 w-4 text-red-400 mr-2"}),e.jsx("span",{className:"text-sm text-red-700",children:u})]})}),e.jsx("div",{children:n?e.jsx(Ode,{}):e.jsxs(e.Fragment,{children:[a==="fixtures"&&re(),a==="teams"&&G(),a==="announcements"&&Q()]})}),ye(),a==="fixtures"&&e.jsx(Ede,{isOpen:R,onClose:()=>E(!1),onSuccess:Z,editingFixture:Y}),a==="teams"&&e.jsx(Pde,{isOpen:R,onClose:()=>E(!1),onSuccess:Z,editingTeam:Y}),a==="announcements"&&e.jsx(Tde,{isOpen:R,onClose:()=>E(!1),onSuccess:Z,editingAnnouncement:Y})]})};function Lde(){return e.jsx(lR,{children:e.jsx(eR,{children:e.jsx(Mde,{})})})}function Mde(){const{isAuthenticated:t,isLoading:r}=et();return r?e.jsx("div",{className:"flex items-center justify-center h-screen",children:e.jsx("div",{className:"text-gray-500",children:"Loading..."})}):e.jsxs(GM,{children:[e.jsx(st,{path:"/",element:t?e.jsx(iv,{to:"/dashboard",replace:!0}):e.jsx(nz,{})}),e.jsxs(st,{path:"/dashboard",element:t?e.jsx(az,{}):e.jsx(iv,{to:"/",replace:!0}),children:[e.jsx(st,{index:!0,element:e.jsx(iz,{})}),e.jsx(st,{path:"students",element:e.jsx(IU,{})}),e.jsx(st,{path:"students/add",element:e.jsx(FU,{})}),e.jsx(st,{path:"students/edit/:id",element:e.jsx(BU,{})}),e.jsx(st,{path:"students/view/:id",element:e.jsx(zU,{})}),e.jsx(st,{path:"employees",element:e.jsx(WU,{})}),e.jsx(st,{path:"employees/add",element:e.jsx(XU,{})}),e.jsx(st,{path:"employees/edit/:id",element:e.jsx(ZU,{})}),e.jsx(st,{path:"employees/view/:id",element:e.jsx(JU,{})}),e.jsx(st,{path:"classes",element:e.jsx(aq,{})}),e.jsx(st,{path:"classes/gradelevel-classes/add",element:e.jsx(sq,{})}),e.jsx(st,{path:"classes/gradelevel-classes/view/:id",element:e.jsx(lq,{})}),e.jsx(st,{path:"classes/subject-classes/view/:id",element:e.jsx(dq,{})}),e.jsx(st,{path:"classes/class-term-year",element:e.jsx(PY,{})}),e.jsx(st,{path:"classes/configurations",element:e.jsx(TY,{})}),e.jsx(st,{path:"classes/close-to-term",element:e.jsx(oq,{})}),e.jsx(st,{path:"configurations",element:e.jsx(rq,{})}),e.jsx(st,{path:"settings",element:e.jsx(KU,{})}),e.jsx(st,{path:"accounting/chart-of-accounts",element:e.jsx(fq,{})}),e.jsx(st,{path:"accounting/chart-of-accounts/view/:id",element:e.jsx(hq,{})}),e.jsx(st,{path:"accounting/cash-bank",element:e.jsx(xq,{})}),e.jsx(st,{path:"accounting/general-ledger",element:e.jsx($Y,{})}),e.jsx(st,{path:"accounting/bank-reconciliation",element:e.jsx(IY,{})}),e.jsx(st,{path:"accounting/period-closing",element:e.jsx(FY,{})}),e.jsx(st,{path:"expenses/suppliers",element:e.jsx(pq,{})}),e.jsx(st,{path:"expenses/expenses",element:e.jsx(gq,{})}),e.jsx(st,{path:"expenses/expenses/add",element:e.jsx(yq,{})}),e.jsx(st,{path:"expenses/expenses/edit/:id",element:e.jsx(bq,{})}),e.jsx(st,{path:"expenses/accounts-payable",element:e.jsx(vq,{})}),e.jsx(st,{path:"results",element:e.jsx(jq,{})}),e.jsx(st,{path:"results/grading",element:e.jsx(Nq,{})}),e.jsx(st,{path:"results/entry/:classId",element:e.jsx(wq,{})}),e.jsx(st,{path:"results/view/:classId",element:e.jsx(Sq,{})}),e.jsx(st,{path:"results/student/:classId/:studentId",element:e.jsx(_q,{})}),e.jsx(st,{path:"results/coursework",element:e.jsx(Aq,{})}),e.jsx(st,{path:"boarding",element:e.jsx(kq,{})}),e.jsx(st,{path:"boarding/hostel/:id",element:e.jsx(Cq,{})}),e.jsx(st,{path:"enrollments",element:e.jsx(Tq,{})}),e.jsx(st,{path:"fees-payment",element:e.jsx(SY,{})}),e.jsx(st,{path:"all-payments",element:e.jsx(CY,{})}),e.jsx(st,{path:"invoice-structures",element:e.jsx(EY,{})}),e.jsx(st,{path:"students/statement",element:e.jsx(OY,{})}),e.jsx(st,{path:"students/balances",element:e.jsx(DY,{})}),e.jsx(st,{path:"students/manual-balance-update",element:e.jsx(UU,{})}),e.jsx(st,{path:"fees/unified-payment",element:e.jsx(LY,{})}),e.jsx(st,{path:"financial-records",element:e.jsx(RY,{})}),e.jsx(st,{path:"reports/income-statement",element:e.jsx(BY,{})}),e.jsx(st,{path:"reports/balance-sheet",element:e.jsx(zY,{})}),e.jsx(st,{path:"reports/cash-flow",element:e.jsx(UY,{})}),e.jsx(st,{path:"analytics/expense-analysis",element:e.jsx(Gce,{})}),e.jsx(st,{path:"analytics/revenue-analysis",element:e.jsx(Yce,{})}),e.jsx(st,{path:"analytics/student-financial-analytics",element:e.jsx(Vce,{})}),e.jsx(st,{path:"analytics/student-results-analytics",element:e.jsx(Kce,{})}),e.jsx(st,{path:"procurement",element:e.jsx(Wce,{})}),e.jsx(st,{path:"procurement/purchase-requests",element:e.jsx(Xce,{})}),e.jsx(st,{path:"procurement/suppliers",element:e.jsx(Jce,{})}),e.jsx(st,{path:"procurement/purchase-orders",element:e.jsx(Zce,{})}),e.jsx(st,{path:"payroll",element:e.jsx(Qce,{})}),e.jsx(st,{path:"payroll/create",element:e.jsx(tde,{})}),e.jsx(st,{path:"payroll/payslips",element:e.jsx(ede,{})}),e.jsx(st,{path:"transport",element:e.jsx(iv,{to:"/dashboard/transport/routes",replace:!0})}),e.jsx(st,{path:"transport/routes",element:e.jsx(rde,{})}),e.jsx(st,{path:"transport/registrations",element:e.jsx(ade,{})}),e.jsx(st,{path:"transport/registrations/add",element:e.jsx(lde,{})}),e.jsx(st,{path:"transport/fees",element:e.jsx(sde,{})}),e.jsx(st,{path:"transport/schedule",element:e.jsx(nde,{})}),e.jsx(st,{path:"transport/payments",element:e.jsx(ide,{})}),e.jsx(st,{path:"inventory",element:e.jsx(ode,{})}),e.jsx(st,{path:"inventory/add-item",element:e.jsx(cde,{})}),e.jsx(st,{path:"inventory/issue-uniform",element:e.jsx(dde,{})}),e.jsx(st,{path:"inventory/configurations",element:e.jsx(ude,{})}),e.jsx(st,{path:"announcements",element:e.jsx(mde,{})}),e.jsx(st,{path:"announcements/add",element:e.jsx(fde,{})}),e.jsx(st,{path:"announcements/edit/:id",element:e.jsx(hde,{})}),e.jsx(st,{path:"billing/additional-fees",element:e.jsx(xde,{})}),e.jsx(st,{path:"timetables",element:e.jsx(pde,{})}),e.jsx(st,{path:"timetables/template/:id",element:e.jsx(vde,{})}),e.jsx(st,{path:"timetables/template/:id/edit",element:e.jsx(_de,{})}),e.jsx(st,{path:"timetables/test",element:e.jsx(Cde,{})}),e.jsx(st,{path:"sports",element:e.jsx(Dde,{})})]}),e.jsx(st,{path:"*",element:e.jsx(lz,{})})]})}ZL.createRoot(document.getElementById("root")).render(e.jsx(g.StrictMode,{children:e.jsx(Lde,{})}));export{Gr as _,Rde as c,Eo as g};
